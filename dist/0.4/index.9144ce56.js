let e;function t(e,t){if(!e.has(t))throw Error(`Key ${t} not found in map`);return e.get(t)}function n(e,t){return void 0==t&&(t=", "),e.map(e=>null==e?"null":e.toString()).join(t)}function a(e){let t=[];for(let n=0;n<e.length;n++)i(e[n])&&t.push(parseFloat(e[n]));return t}function i(e){return""!==e&&!isNaN(Number(e))}function s(e){let t=document.getElementById(e);null!=t&&t.parentNode?.removeChild(t)}function o({content:e,buttonLabel:t,buttonFontSize:n="",level:a={marginLeft:"",marginTop:"",marginBottom:""},contentDivId:i="",contentDivClassName:s=""}){let o=document.createElement("div");o.id=i,o.className=s;let l=document.createElement("button");return l.id=i+"Button",l.className="collapsible",l.innerText=`${t} \u{25BC}`,l.addEventListener("click",function(){l.innerText=l.innerText.includes("â–¼")?`${t} \u{25B2}`:`${t} \u{25BC}`}),l.style.fontSize=n,Object.assign(l.style,a),o.appendChild(l),o.appendChild(e),o}function l(){this.classList.toggle("active");let e=this.nextElementSibling;"block"===e.style.display?e.style.display="none":e.style.display="block"}function d(e,t,n,a,i,s,o,l,d){let g;let m=((g=r(e,t,n)).onchange=i,g.value=s,void 0!=l&&(g.style.fontSize=l),h(g),g);Object.assign(m.style,n);let c=N(o,n,d);c.htmlFor=t,Object.assign(c.style,n);let u=p(a);return u.appendChild(c),u.appendChild(m),u}function r(e,t,n){let a=document.createElement("input");return a.type=e,a.id=t,Object.assign(a.style,n),a}function g(e,t){let n="<"+t;if(e)for(let[t,a]of e)n+=" "+t+'="'+a+'"';return n+" />"}function h(e,t){void 0==t&&(t=4),e.style.width=e.value.length+t+"ch"}function m(e,t){void 0==t&&(t=6),e.style.width=e.value.length+t+"ch"}function c(e,t,n,a){let i=document.createElement("select");return e.forEach(e=>{i.name=t,i.id=n;let a=document.createElement("option");a.value=e,a.text=e,i.appendChild(a)}),Object.assign(i.style,a),i}function u(e,t){let n=document.createElement("button");return n.textContent=e,Object.assign(n.style,t),n}function p(e){let t=document.createElement("div");return t.style.display="flex",Object.assign(t.style,e),t}function N(e,t,n){let a=document.createElement("label");return Object.assign(a.style,t),a.textContent=e,void 0!=n&&(a.style.fontSize=n),a}function f(e,t){let n=e.getElementsByTagName(t)[0];if(null==n)throw Error(t+" element not found");return n}function x(e){let t=e.childNodes;if(null==t)throw Error("Element has no childNodes");return t[0]}function v(e){let t=e.nodeValue;if(null==t)throw Error("nodeValue is null");return t}function E(e){let t=x(e);return t?v(t).trim():""}class C{constructor(e){this.tagName=e}toXML(e){let t=g(void 0,this.tagName);return e?"\n"+e+t:t}}class b extends C{constructor(e,t){super(t),this.attributes=e}toString(){let e=this.tagName+"(";return this.attributes&&this.attributes.forEach((t,n)=>{e+=`${n}(${t}), `}),e}toXML(e){let t="";for(let[n,a]of(void 0!=e&&(t+="\n"+e),t+="<"+this.tagName,this.attributes))t+=" "+n+'="'+a.toString()+'"';return t+" />"}}class T extends b{constructor(e,t,n){super(e,t),this.value=n}toString(){return super.toString()+`, ${this.value.toString()})`}toXML(e){return _(this.value.trim(),this.tagName,this.attributes,e,!1)}}class S extends b{constructor(e,t,n){super(e,t),this.value=n}toString(){return super.toString()+`, ${this.value.toString()})`}toXML(e){return _(this.value.toString().trim(),this.tagName,this.attributes,e,!1)}}class y extends b{constructor(e,t,n,a){super(e,t),this.delimiter=",",this.values=n,void 0!=a&&(this.delimiter=a)}toString(){return super.toString()+`, ${this.values.toString()})`}setDelimiter(e){this.delimiter=e}toXML(e){return _(this.values.toString().replaceAll(",",this.delimiter),this.tagName,this.attributes,e,!1)}}class w extends b{constructor(e,t){super(e,t),this.nodes=new Map}addNode(e){return this.nodes.set(this.nodes.size,e),this.nodes.size-1}toString(){let e=super.toString();return this.nodes.forEach((t,n)=>{e+=`, ${t.toString()}`}),e+")"}toXML(e,t){let n;void 0!=e&&void 0!=t&&(n=t+e);let a="";if(this.nodes.size>0)return this.nodes.forEach(t=>{t instanceof w?a+=t.toXML(e,n):a+=t.toXML(n)}),_(a,this.tagName,this.attributes,t,!0);{let e=g(this.attributes,this.tagName);return void 0!=t?"\n"+t+e:e}}}function _(e,t,n,a,i){let s;return function(e,t,n){let a="";if(void 0!=n&&(a+="\n"+n),a+="<"+e,t)for(let[e,n]of t)a+=" "+e+'="'+n.toString()+'"';return a+">"}(t,n,a)+e+(s="",i&&void 0!=a&&(s+="\n"+a),s+"</"+t+">")}function M(e){let t=e.getAttributeNames(),n=new Map;return t.forEach(function(t){let a=e.getAttribute(t);null!=a&&n.set(t,a)}),n}function P(e,t){let n=e.getElementsByTagName(t);if(1!=n.length)throw Error("Expecting 1 "+t+" but finding "+n.length);return n[0]}class L extends b{static{this.tagName="atom"}constructor(e){super(e,L.tagName);let t=e.get("elementType");if(void 0==t)throw Error("elementType is undefined");this.elementType=t;let n=e.get("id");void 0==n&&(n=this.elementType),this.id=n}}class z extends w{static{this.tagName="atomArray"}constructor(e,t){super(e,z.tagName),t.forEach(e=>{this.nodes.set(this.nodes.size,e)})}}class R extends b{static{this.tagName="bond"}static{this.s_atomRefs2="atomRefs2"}static{this.s_id="id"}static{this.s_order="order"}constructor(e){super(e,R.tagName);let t=e.get(R.s_atomRefs2);if(void 0==t)throw Error(R.s_atomRefs2+" is undefined!");this.atomRefs2=t}setAtomRefs2(e){this.atomRefs2=e,this.attributes.set(R.s_atomRefs2,e)}getId(){return this.attributes.get(R.s_id)}setId(e){this.attributes.set(R.s_id,e)}getOrder(){let e=this.attributes.get(R.s_order);if(void 0!=e)return parseFloat(e)}setOrder(e){this.attributes.set(R.s_order,e.toString())}}class I extends w{static{this.tagName="bondArray"}constructor(e,t){super(e,I.tagName),this.bonds=t,t.forEach(e=>{this.nodes.set(this.nodes.size,e)})}getBond(e){return this.bonds[e]}getBonds(){return this.bonds}setBond(e,t){this.bonds[e]=t,this.nodes.set(e,t)}addBond(e){this.bonds.push(e),this.nodes.set(this.nodes.size,e)}removeBond(e){this.bonds.splice(e,1),this.nodes.delete(e)}getBondIds(){let e=new Set;return this.bonds.forEach(t=>{e.add(t.getId())}),e}}class B extends S{static{this.tagName="scalar"}static{this.s_units="units"}constructor(e,t){super(e,B.tagName,t)}updateUnits(e){if(e){let t=this.attributes.get(B.s_units);void 0!=t&&t!=e&&this.attributes.set(B.s_units,e)}}}class k extends y{static{this.tagName="array"}static{this.s_units="units"}constructor(e,t,n){super(e,k.tagName,t,n)}updateUnits(e){if(e){let t=this.attributes.get(k.s_units);void 0!=t&&t!=e&&(this.attributes.set(k.s_units,e),console.log("Units changed from "+t+" to "+e))}}}class F extends w{static{this.tagName="property"}static{this.s_dictRef="dictRef"}constructor(e,t){super(e,F.tagName);let n=e.get(F.s_dictRef);if(void 0==n)throw Error(F.s_dictRef+" is undefined!");this.dictRef=n,t&&this.nodes.set(0,t)}getProperty(){return this.nodes.get(0)}setProperty(e){this.nodes.set(0,e)}}class D extends F{static{this.dictRef="me:ZPE"}constructor(e,t){super(e,t)}setUnits(e){this.getProperty().updateUnits(e)}}class H extends F{static{this.dictRef="me:frequenciesScaleFactor"}constructor(e,t){super(e,t)}}class O extends F{static{this.dictRef="me:vibFreqs"}constructor(e,t){super(e,t)}}class G extends F{static{this.dictRef="me:rotConsts"}constructor(e,t){super(e,t)}}class A extends F{static{this.dictRef="me:MW"}constructor(e,t){super(e,t)}}class q extends F{static{this.dictRef="me:imFreqs"}constructor(e,t){super(e,t)}}class U extends w{static{this.tagName="propertyList"}constructor(e,t){super(e,U.tagName),this.index=new Map,void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e),this.index.set(e.dictRef,this.nodes.size-1)})}getProperty(e){let t=this.index.get(e);if(void 0!=t)return this.nodes.get(t);throw Error("Property "+e+" does not exist")}setProperty(e){let t=this.index.get(e.dictRef);void 0==t?(this.nodes.set(this.nodes.size,e),this.index.set(e.dictRef,this.nodes.size-1)):(console.log("Property "+e.dictRef+" already exists, updating..."),this.nodes.set(t,e))}}class j extends S{static{this.tagName="me:deltaEDown"}static{this.s_bathGas="bathGas"}static{this.s_units="units"}static{this.s_lower="lower"}static{this.s_upper="upper"}static{this.s_stepsize="stepsize"}constructor(e,t){super(e,j.tagName,t)}getBathGas(){return this.attributes.get(j.s_bathGas)}setBathGas(e){this.attributes.set(j.s_bathGas,e)}getUnits(){return this.attributes.get(j.s_units)}setUnits(e){this.attributes.set(j.s_units,e)}getLower(){return parseFloat(t(this.attributes,j.s_lower))}setLower(e){this.attributes.set(j.s_lower,e.toString())}getUpper(){return parseFloat(t(this.attributes,j.s_upper))}setUpper(e){this.attributes.set(j.s_upper,e.toString())}getStepsize(){return parseFloat(t(this.attributes,j.s_stepsize))}setStepsize(e){this.attributes.set(j.s_stepsize,e.toString())}setValue(e){this.value=e}}class $ extends w{static{this.tagName="me:energyTransferModel"}constructor(e,t){super(e,$.tagName),void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e)})}getDeltaEDowns(){let e=[];return this.nodes.forEach(t=>{t instanceof j&&e.push(t)}),e}setDeltaEDowns(e){this.nodes.clear(),e.forEach(e=>{this.nodes.set(this.nodes.size,e)})}getDeltaEDown(e){if(e<0||e>=this.nodes.size)throw Error("index out of range");return this.nodes.get(e)}setDeltaEDown(e,t){this.nodes.set(e,t)}addDeltaEDown(e){return this.nodes.set(this.nodes.size,e),this.nodes.size-1}}class X extends b{static{this.tagName="me:DOSCMethod"}static{this.s_xsi_type="xsi:type"}constructor(e){if(super(e,X.tagName),void 0==e.get(X.s_xsi_type)){let t=e.get("name");if(void 0==t)throw Error("Neither xsi:type or name are defined.");e.set(X.s_xsi_type,t)}}getXsiType(){return this.attributes.get(X.s_xsi_type)}setXsiType(e){this.attributes.set(X.s_xsi_type,e)}}class V extends T{static{this.tagName="me:bondRef"}constructor(e,t){super(e,V.tagName,t)}}class W extends b{static{this.tagName="me:PotentialPoint"}static{this.s_angle="angle"}static{this.s_potential="potential"}constructor(e){super(e,W.tagName);let t=e.get(W.s_angle);if(void 0==t)throw Error(W.s_potential+" is undefined!");this.angle=parseFloat(t);let n=e.get(W.s_potential);if(void 0==n)throw Error(W.s_potential+" is undefined!");this.potential=parseFloat(n)}getAngle(){return this.angle}setAngle(e){this.angle=e,this.attributes.set(W.s_angle,e.toString())}getPotential(){return this.potential}setPotential(e){this.potential=e,this.attributes.set(W.s_potential,e.toString())}}class Y extends w{static{this.tagName="me:HinderedRotorPotential"}static{this.formats=["numerical","analytical"]}static{this.units=["kJ/mol","cm-1","Hartree"]}static{this.s_format="format"}static{this.s_units="units"}static{this.s_expansionSize="expansionSize"}static{this.s_useSineTerms="useSineTerms"}constructor(e,t){super(e,Y.tagName);let n=e.get(Y.s_format);if(void 0==n)throw Error(Y.s_format+" is undefined!");this.format=n;let a=e.get(Y.s_units);if(void 0==a)throw Error(Y.s_units+" is undefined!");this.units=a,void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e)});let i=e.get(Y.s_expansionSize);if(void 0==i)throw Error(Y.s_expansionSize+" is undefined!");this.expansionSize=parseFloat(i);let s=e.get(Y.s_useSineTerms);if(void 0==s)throw Error(Y.s_useSineTerms+" is undefined!");this.useSineTerms="yes"==s}getFormat(){return this.format}setFormat(e){this.format=e,this.attributes.set(Y.s_format,e)}getUnits(){return this.units}setUnits(e){this.units=e,this.attributes.set(Y.s_units,e)}getExpansionSize(){return this.expansionSize}setExpansionSize(e){this.expansionSize=e,this.attributes.set(Y.s_expansionSize,e.toString())}getUseSineTerms(){return this.useSineTerms}setUseSineTerms(e){this.useSineTerms=e,this.attributes.set(Y.s_useSineTerms,e?"yes":"no")}getPotentialPoint(e){return this.nodes.get(e)}setPotentialPoint(e,t){this.nodes.set(e,t)}setPotentialPoints(e){this.nodes.clear(),e.forEach(e=>{this.nodes.set(this.nodes.size,e)})}addPotentialPoint(e){return this.nodes.set(this.nodes.size,e),this.nodes.size-1}removePotentialPoint(e){this.nodes.delete(e)}}class J extends S{static{this.tagName="me:periodicity"}constructor(e,t){super(e,J.tagName,t)}}class K extends w{static{this.tagName="me:ExtraDOSCMethod"}constructor(e,t,n,a){super(e,K.tagName),this.index=new Map,t&&(this.nodes.set(this.nodes.size,t),this.index.set(V.tagName,this.nodes.size-1)),n&&(this.nodes.set(this.nodes.size,n),this.index.set(Y.tagName,this.nodes.size-1)),a&&(this.nodes.set(this.nodes.size,a),this.index.set(J.tagName,this.nodes.size-1))}getBondRef(){let e=this.index.get(V.tagName);if(void 0!=e)return this.nodes.get(e)}setBondRef(e){let t=this.index.get(V.tagName);void 0!=t?this.nodes.set(t,e):(this.nodes.set(this.nodes.size,e),this.index.set(V.tagName,this.nodes.size-1))}getHinderedRotorPotential(){let e=this.index.get(Y.tagName);if(void 0!=e)return this.nodes.get(e)}setHinderedRotorPotential(e){let t=this.index.get(Y.tagName);void 0!=t?this.nodes.set(t,e):(this.nodes.set(this.nodes.size,e),this.index.set(Y.tagName,this.nodes.size-1))}getPeriodicity(){let e=this.index.get(J.tagName);if(void 0!=e)return this.nodes.get(e)}setPeriodicity(e){let t=this.index.get(J.tagName);void 0!=t?this.nodes.set(t,e):(this.nodes.set(this.nodes.size,e),this.index.set(J.tagName,this.nodes.size-1))}}class Q extends S{static{this.tagName="me:reservoirSize"}constructor(e,t){super(e,Q.tagName,t)}}class Z extends w{static{this.tagName="molecule"}static{this.s_id="id"}static{this.s_description="description"}static{this.s_active="active"}constructor(e,t,n,a,i,s,o,l){super(e,Z.tagName),this.index=new Map;let d=e.get(Z.s_id);if(void 0==d)throw Error(Z.s_id+" is undefined");this.id=d;let r=0;t&&(this.nodes.set(r,t),t instanceof L?this.index.set(L.tagName,r):this.index.set(z.tagName,r),r++),n&&(this.nodes.set(r,n),this.index.set(I.tagName,r),r++),a&&(this.nodes.set(r,a),this.index.set(U.tagName,r),r++),i&&(this.nodes.set(r,i),this.index.set($.tagName,r),r++),s&&(this.nodes.set(r,s),this.index.set(X.tagName,r)),o&&(this.nodes.set(r,o),this.index.set(K.tagName,r)),l&&(this.nodes.set(r,l),this.index.set(Q.tagName,r))}getDescription(){return this.attributes.get(Z.s_description)}setDescription(e){this.attributes.set(Z.s_description,e)}getActive(){let e=this.attributes.get(Z.s_active);if(void 0!=e)return"true"==e}setActive(e){this.attributes.set(Z.s_active,e.toString())}getLabel(){let e=this.id,t=this.getDescription();return void 0!=t&&(e+=" ("+t+")"),this.getActive()&&(e+=" ("+Z.s_active+")"),e}getAttributesAsString(){return Array.from(this.attributes,([e,t])=>`${e}="${t}"`).join(", ")}getProperties(){let e=this.index.get(U.tagName);if(void 0!=e||void 0!=(e=this.index.get(F.tagName)))return this.nodes.get(e)}setProperties(e){let t=this.index.get(U.tagName);void 0==t?(this.index.set(U.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getProperty(e){let t=this.getProperties();if(void 0!=t)return t instanceof U?t.getProperty(e):t}setProperty(e){let t=this.getProperties();void 0!=t?t instanceof U?t.setProperty(e):this.setProperties(t):this.setProperties(e)}getAtoms(){let e=this.index.get(L.tagName);if(void 0!=e||void 0!=(e=this.index.get(z.tagName)))return this.nodes.get(e)}getBonds(){let e=this.index.get(I.tagName);if(void 0!=e)return this.nodes.get(e)}getEnergyTransferModel(){let e=this.index.get($.tagName);if(void 0!=e)return this.nodes.get(e)}setEnergyTransferModel(e){let t=this.index.get($.tagName);void 0==t?(this.index.set($.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getDOSCMethod(){let e=this.index.get(X.tagName);if(void 0!=e)return this.nodes.get(e)}setDOSCMethod(e){let t=this.index.get(X.tagName);void 0==t?(this.index.set(X.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getExtraDOSCMethod(){let e=this.index.get(K.tagName);if(void 0!=e)return this.nodes.get(e)}setExtraDOSCMethod(e){let t=this.index.get(K.tagName);void 0==t?(this.index.set(K.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getReservoirSize(){let e=this.index.get(Q.tagName);if(void 0!=e)return this.nodes.get(e)}setReservoirSize(e){let t=this.index.get(Q.tagName);void 0==t?(this.index.set(Q.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getEnergy(){let e=this.getProperty(D.dictRef);if(void 0==e)throw console.log(this.toString()),Error(D.dictRef+" property not found!");return e.getProperty().value}}class ee extends b{static{this.tagName="molecule"}constructor(e){super(e,ee.tagName),this.ref=e.get("ref"),this.role=e.get("role")}setRole(e){this.role=e}}class et extends w{static{this.tagName="reactant"}constructor(e,t){super(e,et.tagName),this.addNode(t)}getMolecule(){return this.nodes.get(0)}}class en extends w{static{this.tagName="product"}constructor(e,t){super(e,en.tagName),this.addNode(t)}getMolecule(){return this.nodes.get(0)}}class ea extends w{static{this.tagName="me:transitionState"}constructor(e,t){super(e,ea.tagName),this.addNode(t)}getMolecule(){return this.nodes.get(0)}}class ei extends S{static{this.tagName="me:preExponential"}constructor(e,t){super(e,ei.tagName,t)}}class es extends S{static{this.tagName="me:activationEnergy"}constructor(e,t){super(e,es.tagName,t)}}class eo extends S{static{this.tagName="me:TInfinity"}constructor(e,t){super(e,eo.tagName,t)}}class el extends S{static{this.tagName="me:nInfinity"}constructor(e,t){super(e,el.tagName,t)}}class ed extends w{static{this.tagName="me:MCRCMethod"}constructor(e){super(e,ed.tagName)}}class er extends ed{static{this.xsiType="me:MesmerILT"}static{this.xsiType2="MesmerILT"}constructor(e,t,n,a,i){super(e),this.index=new Map,void 0!=t&&(this.index.set(ei.tagName,this.index.size),this.addNode(t)),void 0!=n&&(this.index.set(es.tagName,this.index.size),this.addNode(n)),void 0!=a&&(this.index.set(eo.tagName,this.index.size),this.addNode(a)),void 0!=i&&(this.index.set(el.tagName,this.index.size),this.addNode(i))}getPreExponential(){let e=this.index.get(ei.tagName);if(void 0!=e)return this.nodes.get(e)}setPreExponential(e){let t=this.index.get(ei.tagName);void 0==t?(this.index.set(ei.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getActivationEnergy(){let e=this.index.get(es.tagName);if(void 0!=e)return this.nodes.get(e)}setActivationEnergy(e){let t=this.index.get(es.tagName);void 0==t?(this.index.set(es.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getTInfinity(){let e=this.index.get(eo.tagName);if(void 0!=e)return this.nodes.get(e)}setTInfinity(e){let t=this.index.get(eo.tagName);void 0==t?(this.index.set(eo.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getNInfinity(){let e=this.index.get(el.tagName);if(void 0!=e)return this.nodes.get(e)}setNInfinity(e){let t=this.index.get(el.tagName);void 0==t?(this.index.set(el.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}}class eg extends b{static{this.tagName="me:tunneling"}static{this.s_name="name"}constructor(e){super(e,eg.tagName)}getName(){return this.attributes.get(eg.s_name)}setName(e){this.attributes.set(eg.s_name,e)}}class eh extends S{static{this.tagName="me:excessReactantConc"}constructor(e,t){super(e,eh.tagName,t)}}class em extends w{static{this.tagName="reaction"}constructor(e,t,n,a,i,s,o){super(e,em.tagName),this.index=new Map,this.reactantsIndex=new Map,this.productsIndex=new Map,this.transitionStatesIndex=new Map;let l=e.get("id");if(void 0==l)throw Error("Reaction id is undefined");this.id=l,void 0!=t&&(t.forEach(e=>{this.reactantsIndex.set(e.getMolecule().ref,this.nodes.size),this.addNode(e)}),this.index.set(et.tagName,this.reactantsIndex)),void 0!=n&&(n.forEach(e=>{this.productsIndex.set(e.getMolecule().ref,this.nodes.size),this.addNode(e)}),this.index.set(en.tagName,this.productsIndex)),void 0!=a&&(this.index.set(eg.tagName,this.nodes.size),this.addNode(a)),void 0!=i&&(i.forEach(e=>{this.transitionStatesIndex.set(e.getMolecule().ref,this.nodes.size),this.addNode(e)}),this.index.set(ea.tagName,this.transitionStatesIndex)),void 0!=s&&(this.index.set(ed.tagName,this.nodes.size),this.addNode(s)),void 0!=o&&(this.index.set(eh.tagName,this.nodes.size),this.addNode(o))}addToIndex(e,t){let n=this.index.get(e);if(void 0==n)this.index.set(e,this.nodes.size);else if(n instanceof Map)n.set(t.tagName,this.nodes.size);else{let a=new Map;a.set(this.nodes.get(n).ref,n),a.set(t.tagName,this.nodes.size),this.index.set(e,a)}}getReactants(){let e=this.index.get(et.tagName);return void 0==e?[]:e instanceof Map?Array.from(e.values()).map(e=>this.nodes.get(e)):[this.nodes.get(e)]}setReactants(e){e.forEach(e=>{this.reactantsIndex.set(e.getMolecule().ref,this.nodes.size),this.addNode(e)}),this.index.set(et.tagName,this.reactantsIndex)}getReactant(e){let t=this.reactantsIndex.get(e);if(void 0==t)throw Error(`Reactant with ref ${e} not found`);return this.nodes.get(t)}addReactant(e){this.reactantsIndex.set(e.getMolecule().ref,this.nodes.size),this.addNode(e)}removeReactant(e){let t=this.reactantsIndex.get(e);if(void 0==t)throw Error(`Reactant with ref ${e} not found`);this.nodes.delete(t),this.reactantsIndex.delete(e)}getProducts(){let e=this.index.get(en.tagName);return void 0==e?[]:e instanceof Map?Array.from(e.values()).map(e=>this.nodes.get(e)):[this.nodes.get(e)]}setProducts(e){e.forEach(e=>{this.productsIndex.set(e.getMolecule().ref,this.nodes.size),this.addNode(e)}),this.index.set(en.tagName,this.productsIndex)}getProduct(e){let t=this.productsIndex.get(e);if(void 0==t)throw Error(`Product with ref ${e} not found`);return this.nodes.get(t)}addProduct(e){this.productsIndex.set(e.getMolecule().ref,this.nodes.size),this.addNode(e)}removeProduct(e){let t=this.productsIndex.get(e);if(void 0==t)throw Error(`Product with ref ${e} not found`);this.nodes.delete(t),this.productsIndex.delete(e)}getTunneling(){let e=this.index.get(eg.tagName);if(void 0!=e)return this.nodes.get(e)}setTunneling(e){let t=this.index.get(eg.tagName);if(void 0==t)this.index.set(eg.tagName,this.nodes.size),this.addNode(e);else{if(t instanceof Map)throw Error("Tunneling is a map and it is assumed there would be only 1!");this.nodes.set(t,e)}}getTransitionStates(){let e=this.index.get(ea.tagName);return void 0==e?[]:e instanceof Map?Array.from(e.values()).map(e=>this.nodes.get(e)):[this.nodes.get(e)]}setTransitionStates(e){e.forEach(e=>{this.transitionStatesIndex.set(e.getMolecule().ref,this.nodes.size),this.addNode(e)}),this.index.set(ea.tagName,this.transitionStatesIndex)}getTransitionState(e){let t=this.transitionStatesIndex.get(e);if(void 0==t)throw Error(`Transition state with ref ${e} not found`);return this.nodes.get(t)}addTransitionState(e){this.transitionStatesIndex.set(e.getMolecule().ref,this.nodes.size),this.addNode(e)}removeTransitionState(e){let t=this.transitionStatesIndex.get(e);if(void 0==t)throw Error(`Transition State with ref ${e} not found`);this.nodes.delete(t),this.transitionStatesIndex.delete(e)}getMCRCMethod(){let e=this.index.get(ed.tagName);if(void 0!=e)return this.nodes.get(e)}setMCRCMethod(e){let t=this.index.get(ed.tagName);if(void 0==t)this.index.set(ed.tagName,this.nodes.size),this.addNode(e);else{if(t instanceof Map)throw Error("MCRCMethod is a map and it is assumed there would be only 1!");this.nodes.set(t,e)}}getExcessReactantConc(){let e=this.index.get(eh.tagName);if(void 0!=e)return this.nodes.get(e)}setExcessReactantConc(e){let t=this.index.get(eh.tagName);if(void 0==t)this.index.set(eh.tagName,this.nodes.size),this.addNode(e);else{if(t instanceof Map)throw Error("ExcessReactantConc is a map and it is assumed there would be only 1!");this.nodes.set(t,e)}}getReactantsLabel(){return this.getReactants().map(e=>e.getMolecule().ref).join(" + ")}getProductsLabel(){return this.getProducts().map(e=>e.getMolecule().ref).join(" + ")}getLabel(){return this.getReactantsLabel()+" -> "+this.getProductsLabel()}getReactantsEnergy(e){return Array.from(this.getReactants()).map(t=>{let n=e.get(t.getMolecule().ref);if(void 0==n)throw Error(`Molecule with ref ${t.getMolecule().ref} not found`);return n.getEnergy()}).reduce((e,t)=>e+t,0)}getProductsEnergy(e){return Array.from(this.getProducts()).map(t=>{let n=e.get(t.getMolecule().ref);if(void 0==n)throw Error(`Molecule with ref ${t.getMolecule().ref} not found`);return n.getEnergy()}).reduce((e,t)=>e+t,0)}get(e,t){if(this.index.has(e)){let n=this.index.get(e);if(void 0!=n){if(!(n instanceof Map))return this.nodes.get(n);{let e=n.get(t);if(void 0!=e)return this.nodes.get(e)}}}}}function ec(e,t,n,a,i,s,o,l,d,r,g){let h=a+(s-a)/2;ep(e,g,l,t,h-eN(e,g,l)/2,o+d),ep(e,r,l,t,h-eN(e,r,l)/2,o+3*d),eu(e,t,n,a,i,s,o)}function eu(e,t,n,a,i,s,o){e.beginPath(),e.strokeStyle=t,e.lineWidth=n,e.moveTo(a,i),e.lineTo(s,o),e.stroke()}function ep(e,t,n,a,i,s){e.save(),e.translate(i,s),e.scale(1,-1),e.font=n,e.fillStyle=a,e.fillText(t,0,0),e.restore()}function eN(e,t,n){return e.font=n,e.measureText(t).width}class ef extends T{static{this.tagName="me:bathGas"}constructor(e,t){super(e,ef.tagName,t)}}class ex extends S{static{this.tagName="me:experimentRate"}static{this.s_ref1="ref1"}static{this.s_ref2="ref2"}static{this.s_refReaction="refReaction"}static{this.s_error="error"}constructor(e,t){super(e,ex.tagName,t)}getRef1(){return this.attributes.get(ex.s_ref1)}setRef1(e){this.attributes.set(ex.s_ref1,e)}getRef2(){return this.attributes.get(ex.s_ref2)}setRef2(e){this.attributes.set(ex.s_ref2,e)}getRefReaction(){return this.attributes.get(ex.s_refReaction)}setRefReaction(e){this.attributes.set(ex.s_refReaction,e)}getError(){let e=this.attributes.get(ex.s_error);if(void 0!=e)return parseFloat(e)}setError(e){this.attributes.set(ex.s_error,e.toString())}}class ev extends S{static{this.tagName="me:experimentalYield"}static{this.s_ref="ref"}static{this.s_error="error"}static{this.s_yieldTime="yieldTime"}constructor(e,t){super(e,ev.tagName,t)}getRef(){return this.attributes.get(ev.s_ref)}setRef(e){this.attributes.set(ev.s_ref,e)}getError(){let e=this.attributes.get(ev.s_error);if(void 0!=e)return parseFloat(e)}setError(e){this.attributes.set(ev.s_error,e.toString())}getYieldTime(){let e=this.attributes.get(ev.s_yieldTime);if(e)return parseFloat(e)}setYieldTime(e){this.attributes.set(ev.s_yieldTime,e.toString())}}class eE extends S{static{this.tagName="me:experimentalEigenvalue"}static{this.s_EigenvalueID="EigenvalueID"}static{this.s_error="error"}constructor(e,t){super(e,eE.tagName,t)}getEigenvalueID(){return this.attributes.get(eE.s_EigenvalueID)}setEigenvalueID(e){this.attributes.set(eE.s_EigenvalueID,e)}getError(){let e=this.attributes.get(eE.s_error);if(void 0!=e)return parseFloat(e)}setError(e){this.attributes.set(eE.s_error,e.toString())}}class eC extends S{static{this.tagName="me:excessReactantConc"}static{this.s_percent="percent"}constructor(e,t){super(e,eC.tagName,t)}getPercent(){return this.attributes.get(eC.s_percent)}setPercent(e){this.attributes.set(eC.s_percent,e)}}class eb extends w{static{this.tagName="me:PTpair"}static{this.precisions=["d","dd","qd","double","double-double","quad-double"]}static{this.s_P="P"}static{this.s_T="T"}static{this.s_precision="precision"}static{this.s_excessReactantConc="excessReactantConc"}static{this.s_percentExcessReactantConc="percentExcessReactantConc"}constructor(e,t,n,a,i){super(e,eb.tagName),this.index=new Map,void 0!=t&&(this.index.set(ef.tagName,this.nodes.size),this.addNode(t)),void 0!=n&&(this.index.set(ex.tagName,this.nodes.size),this.addNode(n)),void 0!=a&&(this.index.set(ev.tagName,this.nodes.size),this.addNode(a)),void 0!=i&&(this.index.set(eE.tagName,this.nodes.size),this.addNode(i))}getP(){let e=this.attributes.get(eb.s_P);return void 0!=e?parseFloat(e):NaN}setP(e){this.attributes.set(eb.s_P,e.toString())}getT(){let e=this.attributes.get(eb.s_T);return void 0!=e?parseFloat(e):NaN}setT(e){this.attributes.set(eb.s_T,e.toString())}getPrecision(){return this.attributes.get(eb.s_precision)}setPrecision(e){this.attributes.set(eb.s_precision,e)}getBathGas(){let e=this.index.get(ef.tagName);return void 0!=e?this.nodes.get(e):void 0}setBathGas(e){let t=this.index.get(ef.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ef.tagName,this.nodes.size),this.addNode(e))}removeBathGas(){let e=this.index.get(ef.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ef.tagName))}getExperimentRate(){let e=this.index.get(ex.tagName);return void 0!=e?this.nodes.get(e):void 0}setExperimentRate(e){let t=this.index.get(ex.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ex.tagName,this.nodes.size),this.addNode(e))}removeExperimentRate(){let e=this.index.get(ex.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ex.tagName))}getExcessReactantConc(){return this.attributes.get(eb.s_excessReactantConc)}setExcessReactantConc(e){this.attributes.set(eb.s_excessReactantConc,e)}getPercentExcessReactantConc(){return this.attributes.get(eb.s_percentExcessReactantConc)}setPercentExcessReactantConc(e){this.attributes.set(eb.s_percentExcessReactantConc,e)}}class eT extends w{static{this.tagName="me:PTs"}constructor(e,t){super(e,eT.tagName),void 0!=t?(t.forEach(e=>{this.addNode(e)}),this.pTpairs=t):this.pTpairs=[]}getPTpair(e){return this.pTpairs[e]}setPTpair(e,t){this.nodes.set(e,t),this.pTpairs[e]=t}addPTpair(e){return this.addNode(e),this.pTpairs.push(e),this.nodes.size-1}setPTpairs(e){this.nodes.clear(),e.forEach(e=>{this.addNode(e),this.pTpairs.push(e)})}removePTpair(e){this.nodes.delete(e),this.pTpairs.splice(e,1)}}class eS extends w{static{this.tagName="me:conditions"}constructor(e,t,n){super(e,eS.tagName),this.index=new Map,this.bathGasesIndex=new Map,this.bathGases=new Set,void 0!=t&&(this.index.set(ef.tagName,this.nodes.size),t.forEach(e=>{this.bathGasesIndex.set(e.value,this.nodes.size),this.addNode(e),this.bathGases.add(e)})),void 0!=n&&(this.index.set(eT.tagName,this.nodes.size),this.addNode(n))}getBathGases(){return this.bathGases}addBathGas(e){this.bathGases.has(e)||(this.bathGases.add(e),this.bathGasesIndex.set(e.value,this.nodes.size),this.addNode(e))}removeBathGas(e){this.bathGases.has(e)?(this.bathGases.delete(e),this.nodes.delete(this.bathGasesIndex.get(e.value))):console.warn("Conditions.removeBathGas: bathGas not found to remove.")}getPTs(){let e=this.index.get(eT.tagName);if(void 0!=e)return this.nodes.get(e)}setPTs(e){let t=this.index.get(eT.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eT.tagName,this.nodes.size),this.addNode(e))}}class ey extends S{static{this.tagName="me:grainSize"}constructor(e,t){super(e,ey.tagName,t)}}class ew extends S{static{this.tagName="me:automaticallySetMaxEne"}constructor(e,t){super(e,ew.tagName,t)}}class e_ extends S{static{this.tagName="me:energyAboveTheTopHill"}constructor(e,t){super(e,e_.tagName,t)}}class eM extends S{static{this.tagName="me:maxTemperature"}constructor(e,t){super(e,eM.tagName,t)}}class eP extends w{static{this.tagName="me:modelParameters"}constructor(e,t,n,a,i){super(e,eP.tagName),this.index=new Map,void 0!=t&&(this.index.set(ey.tagName,this.nodes.size),this.addNode(t)),void 0!=n&&(this.index.set(ew.tagName,this.nodes.size),this.addNode(n)),void 0!=a&&(this.index.set(e_.tagName,this.nodes.size),this.addNode(a)),void 0!=i&&(this.index.set(eM.tagName,this.nodes.size),this.addNode(i))}getGrainSize(){let e=this.index.get(ey.tagName);if(e)return this.nodes.get(e)}setGrainSize(e){let t=this.index.get(ey.tagName);t?this.nodes.set(t,e):(this.index.set(ey.tagName,this.nodes.size),this.addNode(e))}getAutomaticallySetMaxEne(){let e=this.index.get(ew.tagName);if(e)return this.nodes.get(e)}setAutomaticallySetMaxEne(e){let t=this.index.get(ew.tagName);t?this.nodes.set(t,e):(this.index.set(ew.tagName,this.nodes.size),this.addNode(e))}getEnergyAboveTheTopHill(){let e=this.index.get(e_.tagName);if(e)return this.nodes.get(e)}setEnergyAboveTheTopHill(e){let t=this.index.get(e_.tagName);t?this.nodes.set(t,e):(this.index.set(e_.tagName,this.nodes.size),this.addNode(e))}getMaxTemperature(){let e=this.index.get(eM.tagName);if(e)return this.nodes.get(e)}setMaxTemperature(e){let t=this.index.get(eM.tagName);t?this.nodes.set(t,e):(this.index.set(eM.tagName,this.nodes.size),this.addNode(e))}}class eL extends C{static{this.tagName="me:calculateRateCoefficientsOnly"}constructor(){super(eL.tagName)}}class ez extends C{static{this.tagName="me:printCellDOS"}constructor(){super(ez.tagName)}}class eR extends C{static{this.tagName="me:printCellTransitionStateFlux"}constructor(){super(eR.tagName)}}class eI extends C{static{this.tagName="me:printReactionOperatorColumnSums"}constructor(){super(eI.tagName)}}class eB extends C{static{this.tagName="me:printGrainBoltzmann"}constructor(){super(eB.tagName)}}class ek extends C{static{this.tagName="me:printGrainDOS"}constructor(){super(ek.tagName)}}class eF extends C{static{this.tagName="me:printGrainkbE"}constructor(){super(eF.tagName)}}class eD extends C{static{this.tagName="me:printGrainkfE"}constructor(){super(eD.tagName)}}class eH extends C{static{this.tagName="me:printTSsos"}constructor(){super(eH.tagName)}}class eO extends C{static{this.tagName="me:printGrainedSpeciesProfile"}constructor(){super(eO.tagName)}}class eG extends C{static{this.tagName="me:printGrainTransitionStateFlux"}constructor(){super(eG.tagName)}}class eA extends C{static{this.tagName="me:printReactionOperatorSize"}constructor(){super(eA.tagName)}}class eq extends C{static{this.tagName="me:printSpeciesProfile"}constructor(){super(eq.tagName)}}class eU extends C{static{this.tagName="me:printPhenomenologicalEvolution"}constructor(){super(eU.tagName)}}class ej extends C{static{this.tagName="me:printTunnelingCoefficients"}constructor(){super(ej.tagName)}}class e$ extends C{static{this.tagName="me:printCrossingCoefficients"}constructor(){super(e$.tagName)}}class eX extends C{static{this.tagName="me:testDOS"}constructor(){super(eX.tagName)}}class eV extends C{static{this.tagName="me:testRateConstants"}constructor(){super(eV.tagName)}}class eW extends C{static{this.tagName="me:useTheSameCellNumberForAllConditions"}constructor(){super(eW.tagName)}}class eY extends C{static{this.tagName="me:ForceMacroDetailedBalance"}constructor(){super(eY.tagName)}}class eJ extends C{static{this.tagName="me:hideInactive"}constructor(){super(eJ.tagName)}}class eK extends T{static{this.tagName="me:calcMethod"}static{this.options=["simpleCalc","gridSearch","fitting","marquardt","analyticalRepresentation","ThermodynamicTable","sensitivityAnalysis"]}constructor(e,t){super(e,eK.tagName,t)}}class eQ extends S{static{this.tagName="me:eigenvalues"}constructor(e,t){super(e,eQ.tagName,t)}}class eZ extends S{static{this.tagName="me:shortestTimeOfInterest"}constructor(e,t){super(e,eZ.tagName,t)}}class e0 extends S{static{this.tagName="me:MaximumEvolutionTime"}constructor(e,t){super(e,e0.tagName,t)}}class e1 extends S{static{this.tagName="me:automaticallySetMaxEne"}constructor(e,t){super(e,e1.tagName,t)}}class e2 extends S{static{this.tagName="me:diagramEnergyOffset"}constructor(e,t){super(e,e2.tagName,t)}}class e5 extends b{static{this.tagName="me:testMicroRates"}constructor(e){super(e,e5.tagName),this.tMin=parseFloat(e.get("Tmin")),this.tMax=parseFloat(e.get("Tmax")),this.tStep=parseFloat(e.get("Tstep"))}getTmin(){return this.tMin}setTmin(e){this.tMin=e,this.attributes?.set("Tmin",e.toString())}getTmax(){return this.tMax}setTmax(e){this.tMax=e,this.attributes?.set("Tmax",e.toString())}getTstep(){return this.tStep}setTstep(e){this.tStep=e,this.attributes?.set("Tstep",e.toString())}}class e4 extends w{static{this.tagName="me:control"}constructor(e){super(e,e4.tagName),this.index=new Map}getCalculateRateCoefficientsOnly(){let e=this.index.get(eL.tagName);if(void 0!=e)return this.nodes.get(e)}setCalculateRateCoefficientsOnly(e){let t=this.index.get(eL.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eL.tagName,this.nodes.size),this.addNode(e))}removeCalculateRateCoefficientsOnly(){let e=this.index.get(eL.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eL.tagName))}getPrintCellDOS(){let e=this.index.get(ez.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintCellDOS(e){let t=this.index.get(ez.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ez.tagName,this.nodes.size),this.addNode(e))}removePrintCellDOS(){let e=this.index.get(ez.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ez.tagName))}getPrintCellTransitionStateFlux(){let e=this.index.get(eR.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintCellTransitionStateFlux(e){let t=this.index.get(eR.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eR.tagName,this.nodes.size),this.addNode(e))}removePrintCellTransitionStateFlux(){let e=this.index.get(eR.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eR.tagName))}getPrintReactionOperatorColumnSums(){let e=this.index.get(eI.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintReactionOperatorColumnSums(e){let t=this.index.get(eI.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eI.tagName,this.nodes.size),this.addNode(e))}removePrintReactionOperatorColumnSums(){let e=this.index.get(eI.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eI.tagName))}getPrintGrainBoltzmann(){let e=this.index.get(eB.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintGrainBoltzmann(e){let t=this.index.get(eB.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eB.tagName,this.nodes.size),this.addNode(e))}removePrintGrainBoltzmann(){let e=this.index.get(eB.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eB.tagName))}getPrintGrainDOS(){let e=this.index.get(ek.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintGrainDOS(e){let t=this.index.get(ek.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ek.tagName,this.nodes.size),this.addNode(e))}removePrintGrainDOS(){let e=this.index.get(ek.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ek.tagName))}getPrintGrainkbE(){let e=this.index.get(eF.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintGrainkbE(e){let t=this.index.get(eF.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eF.tagName,this.nodes.size),this.addNode(e))}removePrintGrainkbE(){let e=this.index.get(eF.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eF.tagName))}getPrintGrainkfE(){let e=this.index.get(eD.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintGrainkfE(e){let t=this.index.get(eD.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eD.tagName,this.nodes.size),this.addNode(e))}removePrintGrainkfE(){let e=this.index.get(eD.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eD.tagName))}getPrintTSsos(){let e=this.index.get(eH.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintTSsos(e){let t=this.index.get(eH.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eH.tagName,this.nodes.size),this.addNode(e))}removePrintTSsos(){let e=this.index.get(eH.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eH.tagName))}getPrintGrainedSpeciesProfile(){let e=this.index.get(eO.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintGrainedSpeciesProfile(e){let t=this.index.get(eO.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eO.tagName,this.nodes.size),this.addNode(e))}removePrintGrainedSpeciesProfile(){let e=this.index.get(eO.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eO.tagName))}getPrintGrainTransitionStateFlux(){let e=this.index.get(eG.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintGrainTransitionStateFlux(e){let t=this.index.get(eG.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eG.tagName,this.nodes.size),this.addNode(e))}removePrintGrainTransitionStateFlux(){let e=this.index.get(eG.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eG.tagName))}getPrintReactionOperatorSize(){let e=this.index.get(eA.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintReactionOperatorSize(e){let t=this.index.get(eA.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eA.tagName,this.nodes.size),this.addNode(e))}removePrintReactionOperatorSize(){let e=this.index.get(eA.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eA.tagName))}getPrintSpeciesProfile(){let e=this.index.get(eq.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintSpeciesProfile(e){let t=this.index.get(eq.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eq.tagName,this.nodes.size),this.addNode(e))}removePrintSpeciesProfile(){let e=this.index.get(eq.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eq.tagName))}getPrintPhenomenologicalEvolution(){let e=this.index.get(eU.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintPhenomenologicalEvolution(e){let t=this.index.get(eU.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eU.tagName,this.nodes.size),this.addNode(e))}removePrintPhenomenologicalEvolution(){let e=this.index.get(eU.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eU.tagName))}getPrintTunnelingCoefficients(){let e=this.index.get(ej.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintTunnelingCoefficients(e){let t=this.index.get(ej.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ej.tagName,this.nodes.size),this.addNode(e))}removePrintTunnelingCoefficients(){let e=this.index.get(ej.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ej.tagName))}getPrintCrossingCoefficients(){let e=this.index.get(e$.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintCrossingCoefficients(e){let t=this.index.get(e$.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e$.tagName,this.nodes.size),this.addNode(e))}removePrintCrossingCoefficients(){let e=this.index.get(e$.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e$.tagName))}getTestDOS(){let e=this.index.get(eX.tagName);if(void 0!=e)return this.nodes.get(e)}setTestDOS(e){let t=this.index.get(eX.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eX.tagName,this.nodes.size),this.addNode(e))}removeTestDOS(){let e=this.index.get(eX.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eX.tagName))}getTestRateConstants(){let e=this.index.get(eV.tagName);if(void 0!=e)return this.nodes.get(e)}setTestRateConstants(e){let t=this.index.get(eV.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eV.tagName,this.nodes.size),this.addNode(e))}removeTestRateConstants(){let e=this.index.get(eV.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eV.tagName))}getUseTheSameCellNumberForAllConditions(){let e=this.index.get(eW.tagName);if(void 0!=e)return this.nodes.get(e)}setUseTheSameCellNumberForAllConditions(e){let t=this.index.get(eW.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eW.tagName,this.nodes.size),this.addNode(e))}removeUseTheSameCellNumberForAllConditions(){let e=this.index.get(eW.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eW.tagName))}getHideInactive(){let e=this.index.get(eJ.tagName);if(void 0!=e)return this.nodes.get(e)}setHideInactive(e){let t=this.index.get(eJ.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eJ.tagName,this.nodes.size),this.addNode(e))}removeHideInactive(){let e=this.index.get(eJ.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eJ.tagName))}getForceMacroDetailedBalance(){let e=this.index.get(eY.tagName);if(void 0!=e)return this.nodes.get(e)}setForceMacroDetailedBalance(e){let t=this.index.get(eY.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eY.tagName,this.nodes.size),this.addNode(e))}removeForceMacroDetailedBalance(){let e=this.index.get(eY.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eY.tagName))}getCalcMethod(){let e=this.index.get(eK.tagName);if(void 0!=e)return this.nodes.get(e)}setCalcMethod(e){let t=this.index.get(eK.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eK.tagName,this.nodes.size),this.addNode(e))}removeCalcMethod(){let e=this.index.get(eK.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eK.tagName))}getEigenvalues(){let e=this.index.get(eQ.tagName);if(void 0!=e)return this.nodes.get(e)}setEigenvalues(e){let t=this.index.get(eQ.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eQ.tagName,this.nodes.size),this.addNode(e))}removeEigenvalues(){let e=this.index.get(eQ.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eQ.tagName))}getShortestTimeOfInterest(){let e=this.index.get(eZ.tagName);if(void 0!=e)return this.nodes.get(e)}setShortestTimeOfInterest(e){let t=this.index.get(eZ.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eZ.tagName,this.nodes.size),this.addNode(e))}removeShortestTimeOfInterest(){let e=this.index.get(eZ.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eZ.tagName))}getMaximumEvolutionTime(){let e=this.index.get(e0.tagName);if(void 0!=e)return this.nodes.get(e)}setMaximumEvolutionTime(e){let t=this.index.get(e.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e.tagName,this.nodes.size),this.addNode(e))}removeMaximumEvolutionTime(){let e=this.index.get(e0.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e0.tagName))}getAutomaticallySetMaxEne(){let e=this.index.get(e1.tagName);if(void 0!=e)return this.nodes.get(e)}setAutomaticallySetMaxEne(e){let t=this.index.get(e1.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e1.tagName,this.nodes.size),this.addNode(e))}removeAutomaticallySetMaxEne(){let e=this.index.get(e1.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e1.tagName))}getDiagramEnergyOffset(){let e=this.index.get(e2.tagName);if(void 0!=e)return this.nodes.get(e)}setDiagramEnergyOffset(e){let t=this.index.get(e2.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e2.tagName,this.nodes.size),this.addNode(e))}removeDiagramEnergyOffset(){let e=this.index.get(e2.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e2.tagName))}getTestMicroRates(){let e=this.index.get(e5.tagName);if(void 0!=e)return this.nodes.get(e)}setTestMicroRates(e){let t=this.index.get(e5.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e5.tagName,this.nodes.size),this.addNode(e))}removeTestMicroRates(){let e=this.index.get(e5.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e5.tagName))}}class e8 extends T{static{this.tagName="me:title"}constructor(e,t){super(e,e8.tagName,t)}}class e6 extends w{static{this.tagName="moleculeList"}constructor(e,t){super(e,e6.tagName),this.index=new Map,void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1)})}getMolecule(e){let t=this.index.get(e);if(void 0!=t)return this.nodes.get(t)}removeMolecule(e){let t=this.index.get(e);void 0!=t&&(this.nodes.delete(t),this.index.delete(e))}addMolecule(e){let t=this.index.get(e.id);void 0!==t?(this.nodes.set(t,e),console.log("Replaced molecule with id "+e.id)):(this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1))}}class e7 extends w{static{this.tagName="reactionList"}constructor(e,t){super(e,e7.tagName),this.index=new Map,void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1)})}getReaction(e){let t=this.index.get(e);if(void 0!=t)return this.nodes.get(t)}removeReaction(e){let t=this.index.get(e);void 0!=t&&(this.nodes.delete(t),this.index.delete(e))}addReaction(e){let t=this.index.get(e.id);void 0!==t?(this.nodes.set(t,e),console.log("Replaced reaction with id "+e.id)):(this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1))}}class e3 extends w{static{this.tagName="me:mesmer"}static{this.header=`<?xml version="1.0" encoding="utf-8" ?>
<?xml-stylesheet type='text/xsl' href='../../mesmer2.xsl' media='other'?>
<?xml-stylesheet type='text/xsl' href='../../mesmer1.xsl' media='screen'?>`}constructor(e,t,n,a,i,s,o){super(e,e3.tagName),this.index=new Map,void 0!=t&&(this.index.set(e8.tagName,this.nodes.size),this.addNode(t)),void 0!=n&&(this.index.set(e6.tagName,this.nodes.size),this.addNode(n)),void 0!=a&&(this.index.set(e7.tagName,this.nodes.size),this.addNode(a)),void 0!=i&&(this.index.set(eS.tagName,this.nodes.size),this.addNode(i)),void 0!=s&&(this.index.set(eP.tagName,this.nodes.size),this.addNode(s)),void 0!=o&&(this.index.set(e4.tagName,this.nodes.size),this.addNode(o))}getTitle(){let e=this.index.get(e8.tagName);if(void 0!=e)return this.nodes.get(e)}setTitle(e){let t=this.index.get(e8.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e8.tagName,this.nodes.size),this.addNode(e))}getMoleculeList(){let e=this.index.get(e6.tagName);if(void 0!=e)return this.nodes.get(e)}setMoleculeList(e){let t=this.index.get(e6.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e6.tagName,this.nodes.size),this.addNode(e))}getReactionList(){let e=this.index.get(e7.tagName);if(void 0!=e)return this.nodes.get(e)}setReactionList(e){let t=this.index.get(e7.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e7.tagName,this.nodes.size),this.addNode(e))}getConditions(){let e=this.index.get(eS.tagName);if(void 0!=e)return this.nodes.get(e)}setConditions(e){let t=this.index.get(eS.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eS.tagName,this.nodes.size),this.addNode(e))}getModelParameters(){let e=this.index.get(eP.tagName);if(void 0!=e)return this.nodes.get(e)}setModelParameters(e){let t=this.index.get(eP.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eP.tagName,this.nodes.size),this.addNode(e))}getControl(){let e=this.index.get(e4.tagName);if(void 0!=e)return this.nodes.get(e)}setControl(e){let t=this.index.get(e4.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e4.tagName,this.nodes.size),this.addNode(e))}}let e9="1.5em",te="1.25em",tt="1.0em",tn={marginTop:"1px",marginBottom:"1px"},ta={marginLeft:"25px",marginTop:"1px",marginBottom:"1px"},ti={marginLeft:"50px",marginTop:"1px",marginBottom:"1px"},ts={marginLeft:"75px",marginTop:"1px",marginBottom:"1px"},to={marginLeft:"100px",marginTop:"1px",marginBottom:"1px"},tl={marginLeft:"125px",marginTop:"1px",marginBottom:"1px"},td={marginLeft:"1px",marginTop:"1px",marginBottom:"1px",marginRight:"1px"},tr="remove",tg=["kJ/mol","cm-1","kcal/mol","Hartree"],th=["cm-1","GHz"],tm=new Map,tc=-1/0,tu=1/0,tp=new Map;function tN(){let t=document.createElement("input");t.type="file",t.onchange=function(){if(t.files){for(let e=0;e<t.files.length;e++)console.log("inputElement.files["+e+"]="+t.files[e]);let n=t.files[0];console.log(n.name);let a=n.name,g=new FileReader,C=0,b="";g.onload=function(t){if(null==t.target)throw Error("Event target is null");if(b+=t.target.result,null!=n){if(C<n.size){let e=n.slice(C,C+1048576);g.readAsText(e),C+=1048576}else{var T;let t,n,g;T=b=b.trim(),t=document.getElementById("xml"),s("xmlHeading"),(n=document.createElement("h2")).textContent=a,t.appendChild(n),s("xmlParagraph"),(g=document.createElement("pre")).textContent=T,t.appendChild(g),function(t){console.log("parse: "+t);let n=P(t,e3.tagName);e=new e3(M(n));let a=t.getElementsByTagName(e8.tagName);if(1!=a.length)throw Error("Multiple "+e8.tagName+" tags found");{let t=a[0].childNodes[0].nodeValue.trim(),n=new e8(M(a[0]),t),i=document.getElementById("title"),o=n.value;e.setTitle(n);let l="titleId";s(l);let r=d("text",l+"Input",td,tn,e=>{e.target instanceof HTMLInputElement&&(n.value=e.target.value,console.log(n.tagName+" changed to "+n.value),h(e.target))},o,"Title",e9);r.id=l,i.parentNode?.insertBefore(r,i)}let g=document.getElementById("molecules"),C="moleculesDivId";if(s(C),null==g);else{let n=function(e){let t=document.createElement("div"),n=P(e,e6.tagName),a=new Set;if(n.childNodes.forEach(function(e){a.add(e.nodeName)}),1!=a.size&&!(2==a.size&&a.has("#text")))throw console.error("moleculeListTagNames:"),a.forEach(e=>console.error(e)),Error("Additional tag names in moleculeList:");if(!a.has(Z.tagName))throw Error('Expecting tags with "'+Z.tagName+'" tagName but there are none!');let s=n.getElementsByTagName(Z.tagName);console.log("Number of molecules="+s.length);for(let e=0;e<s.length;e++){let n,a,l=document.createElement("div"),g=M(s[e]),u=new Set,f=s[e].childNodes;for(let e=0;e<f.length;e++){let t=f[e];u.has(t.nodeName)?"#text"!=t.nodeName&&console.warn("Another ChildNode with nodeName="+t.nodeName):u.add(t.nodeName)}let C=s[e].getElementsByTagName(z.tagName);if(C.length>1)throw Error("Expecting 1 or 0 "+z.tagName+" but finding "+C.length+"!");if(1==C.length){let e=C[0],t=e.getElementsByTagName(L.tagName);if(t.length<2)throw Error("Expecting 2 or more atoms in "+z.tagName+", but finding "+t.length+"!");let a=[];for(let e=0;e<t.length;e++)a.push(new L(M(t[e])));n=new z(M(e),a),u.delete(z.tagName)}else{let t=s[e].getElementsByTagName(L.tagName);if(1==t.length)n=new L(M(t[0]));else if(t.length>1)throw Error("Expecting 1 "+L.tagName+" but finding "+t.length+". Should these be in an "+z.tagName+"?")}u.delete(L.tagName);let b=s[e].getElementsByTagName(I.tagName);if(b.length>1)throw Error("Expecting 1 or 0 "+I.tagName+" but finding "+b.length+"!");if(1==b.length){let e=b[0],t=e.getElementsByTagName(R.tagName),n=[];for(let e=0;e<t.length;e++)n.push(new R(M(t[e])));a=new I(M(e),n),u.delete(I.tagName)}else{let t=s[e].getElementsByTagName(R.tagName);if(1==t.length)a=new R(M(t[0]));else if(t.length>1)throw Error("Expecting 1 "+R.tagName+" but finding "+t.length+". Should these be in a "+I.tagName+"?")}u.delete(R.tagName);let T=new Z(g,n,a);tm.set(T.id,T);let S=s[e].getElementsByTagName(U.tagName);if(S.length>1)throw Error("Expecting 1 or 0 "+U.tagName+" but finding "+S.length+"!");if(1==S.length){let e=document.createElement("div"),t=T.id+"_"+U.tagName+"_",n=o({content:e,buttonLabel:U.tagName,buttonFontSize:tt,level:ti,contentDivId:t});l.appendChild(n);let a=new U(M(S[0]));T.setProperties(a);let i=S[0].getElementsByTagName(F.tagName);for(let t=0;t<i.length;t++){let n=new F(M(i[t]));a.setProperty(n),T.setProperties(a),n.dictRef==D.dictRef?tf(n,tg,T,i[t],e,td,ts):n.dictRef==G.dictRef?tf(n,th,T,i[t],e,td,ts):tf(n,void 0,T,i[t],e,td,ts)}u.delete(U.tagName)}else{let t=s[e].getElementsByTagName(F.tagName);if(1!=t.length)throw Error("Expecting 1 "+F.tagName+" but finding "+t.length+". Should these be in a "+U.tagName+"?");let n=new F(M(t[0]));T.setProperties(n),n.dictRef==D.dictRef?tf(n,tg,T,t[0],l,td,ti):n.dictRef==G.dictRef?tf(n,th,T,t[0],l,td,ti):tf(n,void 0,T,t[0],l,td,ti),u.delete(F.tagName)}let y=s[e].getElementsByTagName($.tagName);if(y.length>0){if(y.length>1)throw Error("Expecting 1 or 0 "+$.tagName+" but finding "+y.length+"!");(function(e,t,n,a,i){let s=n.getElementsByTagName(j.tagName);if(s.length>0){let n=document.createElement("div"),i=t.id+"_"+$.tagName,l=o({content:n,buttonLabel:$.tagName,buttonFontSize:tt,level:ti,contentDivId:i});a.appendChild(l);let r=[];for(let e=0;e<s.length;e++){let a=E(s[e]),i=parseFloat(a),o=new j(M(s[e]),i);r.push(o);let l=j.tagName,g=t.id+"_"+$.tagName+"_"+j.tagName+"_"+e,m=d("number",g,td,ts,t=>{t.target instanceof HTMLInputElement&&(tE(o,t.target),a=t.target.value,r[e].setValue(parseFloat(a)),console.log("Set "+g+" to "+a),h(t.target))},a,l);n.appendChild(m);let c=document.createElement("label");c.textContent="cm-1",m.appendChild(c)}e.setDeltaEDowns(r),t.setEnergyTransferModel(e)}})(new $(M(y[0])),T,y[0],l,0),u.delete($.tagName)}let w=s[e].getElementsByTagName(X.tagName);if(w.length>0){if(w.length>1)throw Error("Expecting 1 or 0 "+X.tagName+" but finding "+w.length+"!");(function(e,t,n){let a=document.createElement("label");a.textContent=X.tagName+": ";let i=document.createElement("div");i.appendChild(a);let s=c(["ClassicalRotors","me:QMRotors","QMRotors"],"DOSCMethod",t.id+"_Select_DOSCMethod",td);s.value=e.getXsiType(),s.addEventListener("change",t=>{t.target instanceof HTMLSelectElement&&(e.setXsiType(t.target.value),console.log("Set DOSCMethod to "+t.target.value))}),t.setDOSCMethod(e),i.appendChild(s),Object.assign(i.style,ti),n.appendChild(i)})(new X(M(w[0])),T,l),u.delete(X.tagName)}let _=s[e].getElementsByTagName(K.tagName);if(_.length>0){if(1!=_.length)throw Error("Expecting only 1 extra DOSCMethod, but there are "+_.length);let e=new K(M(w[0])),t=document.createElement("div"),n=T.id+"_"+K.tagName+"_",a=o({content:t,buttonLabel:K.tagName,buttonFontSize:tt,level:ti,contentDivId:n});l.appendChild(a);let s=_[0].getElementsByTagName(V.tagName);if(s.length>0){if(1!=s.length)throw Error("Expecting only 1 bondRef, but there are "+s.length);let n=p(ts),a=document.createElement("label");a.textContent=V.tagName+": ",n.appendChild(a);let i=new V(M(s[0]),v(x(s[0])));e.setBondRef(i);let o=c(T.getBonds().getBondIds(),i.value,T.id+"_"+V.tagName,td);o.addEventListener("change",e=>{e.target instanceof HTMLSelectElement&&(i.value=e.target.value,m(e.target))}),m(o),n.appendChild(o),t.appendChild(n)}let g=_[0].getElementsByTagName(Y.tagName);if(g.length>0){if(1!=g.length)throw Error("Expecting only 1 HinderedRotorPotential, but there are "+g.length);let n=M(g[0]),a=new Y(n),s=p(td),l=T.id+"_"+X.tagName+"_"+Y.tagName,d=o({content:s,buttonLabel:Y.tagName,buttonFontSize:tt,level:ts,contentDivId:l});t.appendChild(d);let u=N("Format:",to);s.appendChild(u);let f=c(Y.formats,a.format,T.id+"_"+Y.tagName,td);f.addEventListener("change",e=>{e.target instanceof HTMLSelectElement&&(a.format=e.target.value,m(e.target))}),m(f),s.appendChild(f);let x=N("Units:",td);s.appendChild(x),tx(Y.units,n,s,T.id+"_"+X.tagName+"_"+Y.tagName,Y.tagName,td);let v=N("Expansion size:",td);s.appendChild(v);let E=r("number",T.id+"_"+X.tagName+"_"+Y.tagName+"_expansionSize",td);E.value=a.getExpansionSize().toString(),E.addEventListener("change",e=>{e.target instanceof HTMLInputElement&&(i(e.target.value)?a.setExpansionSize(parseInt(e.target.value)):(alert("Expansion size input is not a number, resetting..."),E.value=a.getExpansionSize().toString()),h(E))}),E.value=a.getExpansionSize().toString(),h(E),s.appendChild(E);let C=N("Use sine terms:",td);s.appendChild(C);let b=r("checkbox",T.id+"_"+X.tagName+"_"+Y.tagName+"_useSineTerms",td);b.checked=a.getUseSineTerms(),b.addEventListener("change",e=>{e.target instanceof HTMLInputElement&&a.setUseSineTerms(e.target.checked)}),s.appendChild(b);let S=document.createElement("div"),y=T.id+"_"+X.tagName+"_"+Y.tagName+"_"+W.tagName,w=o({content:S,buttonLabel:W.tagName,buttonFontSize:tt,level:to,contentDivId:y});s.appendChild(w);let _=[],P=g[0].getElementsByTagName(W.tagName);for(let e=0;e<P.length;e++){let t=new W(M(P[e]));_.push(t);let n=p(tl);w.appendChild(n);let a=N("Angle:",td);n.appendChild(a);let s=r("number",T.id+"_"+W.tagName+"_angle",td);s.addEventListener("change",e=>{e.target instanceof HTMLInputElement&&(i(e.target.value)?(parseFloat(e.target.value),t.setAngle(parseFloat(e.target.value))):(alert("Angle input is not a number, resetting..."),s.value=t.getAngle().toString()),h(s))}),s.value=t.getAngle().toString(),h(s),n.appendChild(s);let o=N("Potential:",td);n.appendChild(o);let l=r("number",T.id+"_"+W.tagName+"_potential",td);l.addEventListener("change",e=>{if(e.target instanceof HTMLInputElement){if(i(e.target.value)){let n=parseFloat(e.target.value);t.setPotential(n),console.log("Set "+W.tagName+" to "+n.toString())}else alert("Potential input is not a number, resetting..."),l.value=t.getPotential().toString();h(l)}}),l.value=t.getPotential().toString(),h(l),n.appendChild(l),S.appendChild(n)}w.appendChild(S),a.setPotentialPoints(_),e.setHinderedRotorPotential(a)}let f=w[0].getElementsByTagName(J.tagName);if(f.length>0){if(1!=f.length)throw Error("Expecting only 1 Periodicity, but there are "+f.length);let n=v(x(f[0])),a=new J(M(f[0]),parseFloat(n));e.setPeriodicity(a);let s=d("number",T.id+"_"+J.tagName,td,ts,t=>{if(t.target instanceof HTMLInputElement){if(i(n=t.target.value)){let t=parseFloat(n);a.value=t,e.getPeriodicity().value=t,console.log("Set "+J.tagName+" to "+t)}else alert("Periodicity input is not a number, resetting..."),t.target.value=a.value.toString()}},n,J.tagName);t.appendChild(s)}T.setExtraDOSCMethod(e),u.delete(K.tagName)}u.delete(Q.tagName);let P=s[e].getElementsByTagName(Q.tagName);if(P.length>0){if(1!=P.length)throw Error("Expecting only 1 reservoirSize, but there are "+P.length);let e=v(x(P[0])),t=parseFloat(e),n=new Q(M(P[0]),t);T.setReservoirSize(n);let a=d("number",T.id+"_"+Q.tagName,td,ti,e=>{e.target instanceof HTMLInputElement&&(n.value=parseFloat(e.target.value),h(e.target))},e,Q.tagName);l.appendChild(a)}u.delete("#text"),u.size>0&&(console.warn("There are additional unexpected moleculeTagNames:"),u.forEach(e=>console.warn(e)));let B=document.createElement("div");B.id=T.id+"_molstar",l.appendChild(B);let k=o({content:l,buttonLabel:T.getLabel(),buttonFontSize:te,level:ta,contentDivId:T.tagName+"_"+T.id});t.appendChild(k)}return t}(t);n.id=C,g.appendChild(o({content:n,buttonLabel:"Molecules",buttonFontSize:e9,level:tn,contentDivId:C})),e.setMoleculeList(new e6(M(n),Array.from(tm.values())))}let b=document.getElementById("reactions"),T="reactionsDivId";if(s(T),null==b);else{let n=function(e){let t=p(td),n=P(e,e7.tagName),a=new Set;if(n.childNodes.forEach(function(e){a.add(e.nodeName)}),1!=a.size&&!(2==a.size&&a.has("#text")))throw console.error("reactionListTagNames:"),a.forEach(e=>console.error(e)),Error("Additional tag names in reactionList:");if(!a.has(em.tagName))throw Error('Expecting tags with "'+em.tagName+'" tagName but there are none!');let i=n.getElementsByTagName(em.tagName);console.log("Number of reactions="+i.length);for(let e=0;e<i.length;e++){let n=document.createElement("div"),a=M(i[e]),s=new Set,l=i[e].childNodes;for(let e=0;e<l.length;e++){let t=l[e];s.has(t.nodeName)?"#text"!=t.nodeName&&console.warn("Another ChildNode with nodeName="+t.nodeName):s.add(t.nodeName)}let r=new em(a);tp.set(r.id,r);let g=i[e].getElementsByTagName(et.tagName);if(s.delete(et.tagName),g.length>0){let e=document.createElement("div"),t=[];for(let n=0;n<g.length;n++){let a=new ee(M(f(g[n],Z.tagName))),i=new et(M(g[n]),a);t.push(i);let s=document.createElement("div"),o=document.createElement("label");o.textContent=a.ref+" role: ",s.appendChild(o);let l=c(["deficientReactant","excessReactant","modelled"],"Role",a.ref+"_Select_Role",td);l.value=a.role,l.addEventListener("change",e=>{e.target instanceof HTMLSelectElement&&(a.setRole(e.target.value),console.log("Set Role to "+e.target.value))}),s.appendChild(l),Object.assign(s.style,ts),e.appendChild(s)}r.setReactants(t);let a=o({content:e,buttonLabel:"Reactants",buttonFontSize:tt,level:ti,contentDivId:r.id+"_"+et.tagName});n.appendChild(a)}let m=i[e].getElementsByTagName(en.tagName);if(s.delete(en.tagName),m.length>0){let e=document.createElement("div"),t=[];for(let n=0;n<m.length;n++){let a=new ee(M(f(m[n],Z.tagName))),i=new en(M(m[n]),a);t.push(i);let s=["modelled","sink"],o=function(e,t,n,a,i){let s=document.createElement("div"),o=N(e,i);s.appendChild(o);let l=document.createElement("select");return s.appendChild(l),t.forEach(e=>{l.name=n,l.id=a;let t=document.createElement("option");t.value=e,t.text=e,l.appendChild(t)}),Object.assign(l.style,i),s}(a.ref+" role:",s,a.ref+"_Select_Role","Role",td),l=o.querySelector("select");l.value=a.role,l.addEventListener("change",e=>{e.target instanceof HTMLSelectElement&&(a.setRole(e.target.value),console.log("Set Role to "+e.target.value))}),Object.assign(o.style,ts),e.appendChild(o)}r.setProducts(t);let a=o({content:e,buttonLabel:"Products",buttonFontSize:tt,level:ti,contentDivId:r.id+"_"+en.tagName});n.appendChild(a)}let u=i[e].getElementsByTagName(eg.tagName);if(u.length>0){if(u.length>1)throw Error("Expecting 1 "+eg.tagName+" but finding "+u.length+"!");let e=new eg(M(u[0]));r.setTunneling(e);let t=document.createElement("div"),a=document.createElement("label");a.textContent=eg.tagName+": ",t.appendChild(a);let i=c(["Eckart","WKB"],"Tunneling",r.id+"_Select_Tunneling",td);i.value=e.getName(),i.addEventListener("change",t=>{t.target instanceof HTMLSelectElement&&(e.setName(t.target.value),console.log("Set Tunneling to "+t.target.value))}),t.appendChild(i),Object.assign(t.style,ti),n.appendChild(t)}let p=i[e].getElementsByTagName(ea.tagName);if(p.length>0){let e=document.createElement("div"),t=[];for(let n=0;n<p.length;n++){let a=new ee(M(f(p[n],Z.tagName))),i=new ea(M(p[n]),a);t.push(i);let s=N(a.ref+" role: transitionState",ts);e.appendChild(s)}r.setTransitionStates(t);let a=o({content:e,buttonLabel:"Transition States",buttonFontSize:tt,level:ti,contentDivId:r.id+"_"+ea.tagName});n.appendChild(a)}let C=i[e].getElementsByTagName(ed.tagName);if(C.length>0){if(C.length>1)throw Error("Expecting 1 "+ed.tagName+" but finding "+C.length+"!");{let e,t=document.createElement("div"),a=M(C[0]),i=a.get("name");if(void 0==i||i==er.xsiType2){let i=a.get("xsi:type");if(e=new er(a),i==er.xsiType||i==er.xsiType2){let a=C[0].getElementsByTagName(ei.tagName);if(null!=a&&null!=a[0]){let n=E(a[0]),i=parseFloat(n),s=M(a[0]),o=new ei(s,i);e.setPreExponential(o);let l=ei.tagName,g=r.id+"_"+er.tagName+"_"+ei.tagName,m=d("number",g,td,ts,e=>{e.target instanceof HTMLInputElement&&tE(o,e.target)},n,l);t.appendChild(m);let c=m.querySelector("input");c.value=n,h(c),c.addEventListener("change",e=>{n=e.target.value,o.value=parseFloat(n),console.log("Set "+g+" to "+n),h(c)}),tx(void 0,s,m,r.id+"_"+er.xsiType+"_"+ei.tagName,ei.tagName,td),t.appendChild(m)}let i=C[0].getElementsByTagName(es.tagName);if(null!=i&&null!=i[0]){let n=E(i[0]),a=parseFloat(n),s=M(i[0]),o=new es(s,a);e.setActivationEnergy(o);let l=es.tagName,g=r.id+"_"+er.tagName+"_"+es.tagName,m=d("number",g,td,ts,e=>{e.target instanceof HTMLInputElement&&tE(o,e.target)},n,l),c=m.querySelector("input");c.value=n,h(c),c.addEventListener("change",e=>{n=e.target.value,o.value=parseFloat(n),console.log("Set "+g+" to "+n),h(c)}),tx(void 0,s,m,r.id+"_"+er.xsiType+"_"+es.tagName,es.tagName,td),t.appendChild(m)}let s=C[0].getElementsByTagName(eo.tagName);if(null!=s&&null!=s[0]){let n=E(s[0]),a=parseFloat(n),i=M(s[0]),o=new eo(i,a);e.setTInfinity(o);let l=eo.tagName,g=r.id+"_"+er.tagName+"_"+eo.tagName,m=d("number",g,td,ts,e=>{e.target instanceof HTMLInputElement&&tE(o,e.target)},n,l),c=m.querySelector("input");c.value=n,h(c),c.addEventListener("change",e=>{n=e.target.value,o.value=parseFloat(n),console.log("Set "+g+" to "+n),h(c)}),tx(void 0,i,m,r.id+"_"+er.xsiType+"_"+eo.tagName,eo.tagName,td),t.appendChild(m)}let l=C[0].getElementsByTagName(el.tagName);if(null!=l&&null!=l[0]){let n=E(l[0]),a=parseFloat(n),i=M(l[0]),s=new el(i,a);e.setNInfinity(s);let o=el.tagName,g=r.id+"_"+er.tagName+"_"+el.tagName,m=d("number",g,td,ts,e=>{e.target instanceof HTMLInputElement&&tE(s,e.target)},n,o);t.appendChild(m);let c=m.querySelector("input");c.value=n,h(c),c.addEventListener("change",e=>{n=e.target.value,s.value=parseFloat(n),console.log("Set "+g+" to "+n),h(c)}),tx(void 0,i,m,r.id+"_"+er.xsiType+"_"+el.tagName,el.tagName,td),t.appendChild(m)}let g=r.id+"_"+ed.tagName,m=o({content:t,buttonLabel:ed.tagName,buttonFontSize:tt,level:ti,contentDivId:g});n.appendChild(m)}else throw Error("Unexpected xsi:type="+i)}else{e=new ed(a);let i=document.createElement("label");i.textContent=ed.tagName+": "+a.get("name"),Object.assign(i.style,ti),t.appendChild(i),n.appendChild(t)}r.setMCRCMethod(e)}}let b=i[e].getElementsByTagName(eh.tagName);if(b.length>0){if(b.length>1)throw Error("Expecting 1 "+eh.tagName+" but finding "+b.length+"!");let e=parseFloat(v(x(b[0]))),t=new eh(M(b[0]),e);r.setExcessReactantConc(t);let a=d("number",r.id+"_"+eh.tagName,td,ti,e=>{e.target instanceof HTMLInputElement&&tE(t,e.target)},e.toString(),eh.tagName);n.appendChild(a)}let T=o({content:n,buttonLabel:r.id+"("+r.getLabel()+")",buttonFontSize:te,level:ta,contentDivId:r.tagName+"_"+r.id});t.appendChild(T)}return t}(t);n.id=T,b.appendChild(o({content:n,buttonLabel:"Reactions",buttonFontSize:e9,level:tn,contentDivId:T})),e.setReactionList(new e7(M(n),Array.from(tp.values())))}t_();let S=document.getElementById("conditions"),y="conditionsDivId";if(s(y),null==S);else{let n=function(t){console.log(eS.tagName);let n=document.createElement("div"),a=P(t,eS.tagName),i=new eS(M(a));e.setConditions(i);let s=document.createElement("div");n.appendChild(s),n.appendChild(o({content:s,buttonLabel:ef.name,buttonFontSize:te,level:ta,contentDivId:ef.tagName}));let l=u("add",ti);s.appendChild(l),l.addEventListener("click",()=>{let e=new ef(new Map,"");i.addBathGas(e);let t=p(ti),n=N(ef.tagName,td);t.appendChild(n);let a=c(Array.from(new Set(tm.keys())),ef.tagName,eS.tagName+"_"+ef.tagName,td);a.value=e.value,a.addEventListener("change",t=>{t.target instanceof HTMLSelectElement&&(e.value=t.target.value,console.log("Added "+t.target.value+" as a "+ef.tagName),m(t.target))}),a.style.marginLeft="2px",m(a),t.appendChild(a);let o=u(tr,td);o.addEventListener("click",()=>{s.removeChild(t),i.removeBathGas(e)}),t.appendChild(o),s.appendChild(t)});let g=Array.from(a.children).filter(e=>e.tagName===ef.tagName);if(g.length>0)for(let e=0;e<g.length;e++){let t=new ef(M(g[e]),v(x(g[e])));console.log("bathGas"+t.toString()),i.addBathGas(t);let n=p(ti),a=N(ef.tagName,td);n.appendChild(a);let o=c(Array.from(new Set(tm.keys())),ef.tagName,eS.tagName+"_"+ef.tagName,td);o.value=t.value,o.addEventListener("change",e=>{e.target instanceof HTMLSelectElement&&(t.value=e.target.value,console.log("Set "+eb.tagName+"_"+ef.tagName+" to "+e.target.value),m(e.target))}),m(o),n.appendChild(o);let l=u(tr,td);l.addEventListener("click",()=>{s.removeChild(n),i.removeBathGas(t)}),n.appendChild(l),s.appendChild(n)}let h=document.createElement("div");n.appendChild(h);let f=new eT(new Map);n.appendChild(o({content:h,buttonLabel:eT.name,buttonFontSize:te,level:ta,contentDivId:ef.tagName}));let E=u("add",ti);h.appendChild(E),E.addEventListener("click",()=>{let e=new Map;e.set("units","Torr");let t=new eb(e),n=f.addPTpair(t),a=p(ti);tC(a,t),tb(a,t),tx(void 0,e,a,eb.tagName,eb.tagName,td);let i=u("add details",td);a.appendChild(i),i.addEventListener("click",()=>{let e,n=document.createElement("div");tT(a,t),tS(a,t),ty(a,t),tw(a,t),(e=u("add "+ex.tagName,td)).addEventListener("click",()=>{let n=document.createElement("div");n.style.marginLeft="5px";let i=new ex(new Map,NaN);t.setExperimentRate(i),d("number",eb.tagName+"_"+ex.tagName,td,ts,e=>{e.target instanceof HTMLInputElement&&tE(i,e.target)},"",ex.tagName),a.insertBefore(n,e),a.removeChild(e)}),a.insertBefore(n,i),a.removeChild(i)});let s=u(tr,td);s.addEventListener("click",()=>{h.removeChild(a),f.removePTpair(n),t.removeBathGas()}),a.appendChild(s),h.appendChild(a)});let C=u("Add from spreadsheet",td);h.appendChild(C),C.addEventListener("click",()=>{let e=p(ti),t=r("text",eT.tagName+"_addFromSpreadsheet",ti);e.appendChild(t),h.insertBefore(e,E),t.addEventListener("change",()=>{if(console.log("inputElement.value="+t.value),console.log("inputElement.value.length="+t.value.length),t.value.length>0){let n=t.value.split(" ");console.log("pTPairsArray.length="+n.length);for(let e=0;e<n.length;e++){let t=new Map;t.set("units","Torr");let a=new eb(t),i=n[e].split("	");if(2==i.length){let e=parseFloat(i[0]),t=parseFloat(i[1]);a.setP(e),a.setT(t),console.log("pTPair="+a)}else console.warn("pTPairArray.length="+i.length);let s=p(ti);tC(s,a),tb(s,a),tx(void 0,t,s,eb.tagName,eb.tagName,td),tT(s,a),tS(s,a),ty(s,a),tw(s,a),console.log(E),console.log(h),h.insertBefore(s,E),f.addPTpair(a)}h.removeChild(e)}})});let b=a.getElementsByTagName(eT.tagName);if(b.length>0){if(b.length>1)throw Error("Expecting 1 "+eT.tagName+" but finding "+b.length+"!");let e=document.createElement("div");n.appendChild(e);let t=M(b[0]),a=b[0].getElementsByTagName(eb.tagName);if(0==a.length)throw Error("Expecting 1 or more "+eb.tagName+" but finding 0!");{let n=new eT(t);for(let t=0;t<a.length;t++){let i=new eb(M(a[t])),s=p(ti);e.appendChild(s);let o=a[t].getElementsByTagName(ef.tagName);if(o.length>0){o.length>1&&console.warn("xml_bathGass.length="+o.length);let e=document.createElement("label");e.textContent=ef.tagName+": ",s.appendChild(e);let t=v(x(o[0])),n=new ef(M(o[0]),t);i.setBathGas(n);let a=c(Array.from(new Set(tm.keys())),ef.tagName,eb.tagName+"_"+ef.tagName,td);a.value=n.value,a.addEventListener("change",e=>{e.target instanceof HTMLSelectElement&&(n.value=e.target.value,console.log("Set "+eb.tagName+"_"+ef.tagName+" to "+e.target.value),m(e.target))}),m(a),s.appendChild(a)}let l=a[t].getElementsByTagName(ex.tagName);if(l.length>0){l.length>1&&console.warn("xml_experimentRates.length="+l.length);let e=v(x(l[0])),t=new ex(M(l[0]),parseFloat(e));i.setExperimentRate(t);let n=d("number",eb.tagName+"_"+ex.tagName,td,tn,e=>{e.target instanceof HTMLInputElement&&tE(t,e.target)},t.value.toString(),ex.tagName);s.appendChild(n)}tC(s,i),tb(s,i),tx(void 0,M(a[t]),s,eb.tagName,eb.tagName,td),tT(s,i),tS(s,i),ty(s,i),tw(s,i),n.addPTpair(i),e.appendChild(s)}i.setPTs(n)}}return n}(t);n.id=y,S.appendChild(o({content:n,buttonLabel:"Conditions",buttonFontSize:e9,level:tn,contentDivId:y}))}let w=document.getElementById("modelParameters"),_="modelParametersDivId";if(s(_),null==w);else{let n=function(t){console.log(eP.tagName);let n=document.createElement("div"),a=P(t,eP.tagName),i=new eP(M(a));e.setModelParameters(i);let s=a.getElementsByTagName(ey.tagName);if(s.length>0){if(s.length>1)throw Error("Expecting 1 "+ey.tagName+" but finding "+s.length+"!");let e=M(s[0]),t=parseFloat(v(x(s[0]))),a=new ey(e,t);i.setGrainSize(a);let o=p(ta),l=d("number",eP.tagName+"_"+ey.tagName,td,ta,e=>{e.target instanceof HTMLInputElement&&(tE(a,e.target),h(e.target))},t.toString(),ey.tagName);h(l.querySelector("input")),o.appendChild(l),tx(void 0,e,o,eP.tagName+"_"+ey.tagName,ey.tagName,td),n.appendChild(o)}let o=a.getElementsByTagName(e1.tagName);if(o.length>0){if(o.length>1)throw Error("Expecting 1 "+e1.tagName+" but finding "+o.length+"!");let e=M(o[0]),t=parseFloat(v(x(o[0]))),a=new e1(e,t);i.setAutomaticallySetMaxEne(a);let s=d("number",eP.tagName+"_"+e1.tagName,td,tn,e=>{e.target instanceof HTMLInputElement&&(tE(a,e.target),h(e.target))},t.toString(),e1.tagName);h(s.querySelector("input")),Object.assign(s.style,ta),n.appendChild(s),tx(void 0,e,n,eP.tagName+"_"+e1.tagName,e1.tagName,td)}let l=a.getElementsByTagName(e_.tagName);if(l.length>0){if(l.length>1)throw Error("Expecting 1 "+e_.tagName+" but finding "+l.length+"!");let e=M(l[0]),t=new e_(e,parseFloat(v(x(l[0]))));i.setEnergyAboveTheTopHill(t);let a=d("number",eP.tagName+"_"+e_.tagName,td,ti,e=>{e.target instanceof HTMLInputElement&&(tE(t,e.target),h(e.target))},t.value.toString(),e_.tagName);h(a.querySelector("input")),n.appendChild(a),tx(void 0,e,n,eP.tagName+"_"+e_.tagName,e_.tagName,td)}let r=a.getElementsByTagName(eM.tagName);if(r.length>0){if(r.length>1)throw Error("Expecting 1 "+eM.tagName+" but finding "+r.length+"!");let e=M(r[0]),t=new eM(e,parseFloat(v(x(r[0]))));i.setMaxTemperature(t);let a=d("number",eP.tagName+"_"+eM.tagName,td,ta,e=>{e.target instanceof HTMLInputElement&&(tE(t,e.target),h(e.target))},t.value.toString(),eM.tagName);h(a.querySelector("input")),n.appendChild(a),tx(void 0,e,n,eP.tagName+"_"+eM.tagName,eM.tagName,td)}return n}(t);n.id=_,w.appendChild(o({content:n,buttonLabel:"Model Parameters",buttonFontSize:e9,level:tn,contentDivId:_}))}let B=document.getElementById("control"),k="controlDivId";if(s(k),null==B);else{let n=function(t){let n,a,s,o,l,r,g,u;console.log(e4.tagName);let N=document.createElement("div"),f=P(t,e4.tagName),E=new e4(M(f));e.setControl(E);let C=p(ta);N.appendChild(C);let b=f.getElementsByTagName(eL.tagName),T=document.createElement("label");C.appendChild(T),T.textContent=eL.tagName;let S=document.createElement("input");C.appendChild(S),S.type="checkbox",S.id=eL.tagName,1==b.length?(S.checked=!0,E.setCalculateRateCoefficientsOnly(new eL)):b.length>1&&console.warn("xml_calculateRateCoefficientsOnly.length="+b.length),S.addEventListener("change",e=>{e.target instanceof HTMLInputElement&&(e.target.checked?E.setCalculateRateCoefficientsOnly(new eL):E.removeCalculateRateCoefficientsOnly())});let y=p(ta);N.appendChild(y);let w=f.getElementsByTagName(ez.tagName),_=document.createElement("label");y.appendChild(_),_.textContent=ez.tagName;let L=document.createElement("input");y.appendChild(L),L.type="checkbox",L.id=ez.tagName,1==w.length?(L.checked=!0,E.setPrintCellDOS(new ez)):w.length>1&&console.warn("xml_printCellDOS.length="+w.length),L.addEventListener("change",e=>{e.target instanceof HTMLInputElement&&(e.target.checked?E.setPrintCellDOS(new ez):E.removePrintCellDOS())});let z=p(ta);N.appendChild(z);let R=f.getElementsByTagName(eR.tagName),I=document.createElement("label");z.appendChild(I),I.textContent=eR.tagName;let B=document.createElement("input");z.appendChild(B),B.type="checkbox",B.id=eR.tagName,1==R.length?(B.checked=!0,E.setPrintCellTransitionStateFlux(new eR)):R.length>1&&console.warn("xml_printCellTransitionStateFlux.length="+R.length),B.addEventListener("change",e=>{e.target instanceof HTMLInputElement&&(e.target.checked?E.setPrintCellTransitionStateFlux(new eR):E.removePrintCellTransitionStateFlux())});let k=p(ta);N.appendChild(k);let F=f.getElementsByTagName(eI.tagName),D=document.createElement("label");k.appendChild(D),D.textContent=eI.tagName;let H=document.createElement("input");k.appendChild(H),H.type="checkbox",H.id=eI.tagName,1==F.length?(H.checked=!0,E.setPrintReactionOperatorColumnSums(new eI)):F.length>1&&console.warn("xml_printReactionOperatorColumnSums.length="+F.length),H.addEventListener("change",e=>{e.target instanceof HTMLInputElement&&(e.target.checked?E.setPrintReactionOperatorColumnSums(new eI):E.removePrintReactionOperatorColumnSums())});let O=p(ta);N.appendChild(O);let G=f.getElementsByTagName(eB.tagName),A=document.createElement("label");O.appendChild(A),A.textContent=eB.tagName;let q=document.createElement("input");O.appendChild(q),q.type="checkbox",q.id=eB.tagName,1==G.length?(q.checked=!0,E.setPrintGrainBoltzmann(new eB)):G.length>1&&console.warn("xml_printGrainBoltzmann.length="+G.length),q.addEventListener("change",e=>{e.target instanceof HTMLInputElement&&(e.target.checked?E.setPrintGrainBoltzmann(new eB):E.removePrintGrainBoltzmann())});let U=p(ta);N.appendChild(U);let j=f.getElementsByTagName(ek.tagName),$=document.createElement("label");U.appendChild($),$.textContent=ek.tagName;let X=document.createElement("input");U.appendChild(X),X.type="checkbox",X.id=ek.tagName,1==j.length?(X.checked=!0,E.setPrintGrainDOS(new ek)):j.length>1&&console.warn("xml_printGrainDOS.length="+j.length),X.addEventListener("change",e=>{e.target instanceof HTMLInputElement&&(e.target.checked?E.setPrintGrainDOS(new ek):E.removePrintGrainDOS())});let V=p(ta);N.appendChild(V);let W=f.getElementsByTagName(eF.tagName),Y=document.createElement("label");V.appendChild(Y),Y.textContent=eF.tagName;let J=document.createElement("input");V.appendChild(J),J.type="checkbox",J.id=eF.tagName,1==W.length?(J.checked=!0,E.setPrintGrainkbE(new eF)):W.length>1&&console.warn("xml_printGrainkbE.length="+W.length),J.addEventListener("change",e=>{e.target instanceof HTMLInputElement&&(e.target.checked?E.setPrintGrainkbE(new eF):E.removePrintGrainkbE())});let K=p(ta);N.appendChild(K);let Q=f.getElementsByTagName(eD.tagName),Z=document.createElement("label");K.appendChild(Z),Z.textContent=eD.tagName;let ee=document.createElement("input");K.appendChild(ee),ee.type="checkbox",ee.id=eD.tagName,1==Q.length?(ee.checked=!0,E.setPrintGrainkfE(new eD)):Q.length>1&&console.warn("xml_printGrainkfE.length="+Q.length),ee.addEventListener("change",e=>{e.target instanceof HTMLInputElement&&(e.target.checked?E.setPrintGrainkfE(new eD):E.removePrintGrainkfE())});let et=p(ta);N.appendChild(et);let en=f.getElementsByTagName(eH.tagName),ea=document.createElement("label");et.appendChild(ea),ea.textContent=eH.tagName;let ei=document.createElement("input");et.appendChild(ei),ei.type="checkbox",ei.id=eH.tagName,1==en.length?(ei.checked=!0,E.setPrintTSsos(new eH)):en.length>1&&console.warn("xml_printTSsos.length="+en.length),ei.addEventListener("change",e=>{e.target instanceof HTMLInputElement&&(e.target.checked?E.setPrintTSsos(new eH):E.removePrintTSsos())});let es=p(ta);N.appendChild(es);let eo=f.getElementsByTagName(eO.tagName),el=document.createElement("label");es.appendChild(el),el.textContent=eO.tagName;let ed=document.createElement("input");es.appendChild(ed),ed.type="checkbox",ed.id=eO.tagName,1==eo.length?(ed.checked=!0,E.setPrintGrainedSpeciesProfile(new eO)):eo.length>1&&console.warn("xml_printGrainedSpeciesProfile.length="+eo.length),ed.addEventListener("change",e=>{e.target instanceof HTMLInputElement&&(e.target.checked?E.setPrintGrainedSpeciesProfile(new eO):E.removePrintGrainedSpeciesProfile())});let er=p(ta);N.appendChild(er);let eg=f.getElementsByTagName(eG.tagName),eh=document.createElement("label");er.appendChild(eh),eh.textContent=eG.tagName;let em=document.createElement("input");er.appendChild(em),em.type="checkbox",em.id=eG.tagName,1==eg.length?(em.checked=!0,E.setPrintGrainTransitionStateFlux(new eG)):eg.length>1&&console.warn("xml_printGrainTransitionStateFlux.length="+eg.length),em.addEventListener("change",e=>{e.target instanceof HTMLInputElement&&(e.target.checked?E.setPrintGrainTransitionStateFlux(new eG):E.removePrintGrainTransitionStateFlux())});let ec=p(ta);N.appendChild(ec);let eu=f.getElementsByTagName(eA.tagName),ep=document.createElement("label");ec.appendChild(ep),ep.textContent=eA.tagName;let eN=document.createElement("input");ec.appendChild(eN),eN.type="checkbox",eN.id=eA.tagName,1==eu.length?(eN.checked=!0,E.setPrintReactionOperatorSize(new eA)):eu.length>1&&console.warn("xml_printReactionOperatorSize.length="+eu.length),eN.addEventListener("change",e=>{e.target instanceof HTMLInputElement&&(e.target.checked?E.setPrintReactionOperatorSize(new eA):E.removePrintReactionOperatorSize())});let ef=p(ta);N.appendChild(ef);let ex=f.getElementsByTagName(eq.tagName),ev=document.createElement("label");ef.appendChild(ev),ev.textContent=eq.tagName;let eE=document.createElement("input");ef.appendChild(eE),eE.type="checkbox",eE.id=eq.tagName,1==ex.length?(eE.checked=!0,E.setPrintSpeciesProfile(new eq)):ex.length>1&&console.warn("xml_printSpeciesProfile.length="+ex.length),eE.addEventListener("change",e=>{e.target instanceof HTMLInputElement&&(e.target.checked?E.setPrintSpeciesProfile(new eq):E.removePrintSpeciesProfile())});let eC=p(ta);N.appendChild(eC);let eb=f.getElementsByTagName(eU.tagName),eT=document.createElement("label");eC.appendChild(eT),eT.textContent=eU.tagName;let eS=document.createElement("input");eC.appendChild(eS),eS.type="checkbox",eS.id=eU.tagName,1==eb.length?(eS.checked=!0,E.setPrintPhenomenologicalEvolution(new eU)):eb.length>1&&console.warn("xml_printPhenomenologicalEvolution.length="+eb.length),eS.addEventListener("change",e=>{e.target instanceof HTMLInputElement&&(e.target.checked?E.setPrintPhenomenologicalEvolution(new eU):E.removePrintPhenomenologicalEvolution())});let ey=p(ta);N.appendChild(ey);let ew=f.getElementsByTagName(ej.tagName),e_=document.createElement("label");ey.appendChild(e_),e_.textContent=ej.tagName;let eM=document.createElement("input");ey.appendChild(eM),eM.type="checkbox",eM.id=ej.tagName,1==ew.length?(eM.checked=!0,E.setPrintTunnelingCoefficients(new ej)):ew.length>1&&console.warn("xml_printTunnelingCoefficients.length="+ew.length),eM.addEventListener("change",e=>{e.target instanceof HTMLInputElement&&(e.target.checked?E.setPrintTunnelingCoefficients(new ej):E.removePrintTunnelingCoefficients())});let eP=p(ta);N.appendChild(eP);let e8=f.getElementsByTagName(e$.tagName),e6=document.createElement("label");eP.appendChild(e6),e6.textContent=e$.tagName;let e7=document.createElement("input");eP.appendChild(e7),e7.type="checkbox",e7.id=e$.tagName,1==e8.length?(e7.checked=!0,E.setPrintCrossingCoefficients(new e$)):e8.length>1&&console.warn("xml_printCrossingCoefficients.length="+e8.length),e7.addEventListener("change",e=>{e.target instanceof HTMLInputElement&&(e.target.checked?E.setPrintCrossingCoefficients(new e$):E.removePrintCrossingCoefficients())});let e3=p(ta);N.appendChild(e3);let e9=f.getElementsByTagName(eX.tagName),te=document.createElement("label");e3.appendChild(te),te.textContent=eX.tagName;let tt=document.createElement("input");e3.appendChild(tt),tt.type="checkbox",tt.id=eX.tagName,1==e9.length?(tt.checked=!0,E.setTestDOS(new eX)):e9.length>1&&console.warn("xml_testDOS.length="+e9.length),tt.addEventListener("change",e=>{e.target instanceof HTMLInputElement&&(e.target.checked?E.setTestDOS(new eX):E.removeTestDOS())});let ti=p(ta);N.appendChild(ti);let ts=f.getElementsByTagName(eV.tagName),to=document.createElement("label");ti.appendChild(to),to.textContent=eV.tagName;let tl=document.createElement("input");ti.appendChild(tl),tl.type="checkbox",tl.id=eV.tagName,1==ts.length?(tl.checked=!0,E.setTestRateConstants(new eV)):ts.length>1&&console.warn("xml_testRateConstants.length="+ts.length),tl.addEventListener("change",e=>{e.target instanceof HTMLInputElement&&(e.target.checked?E.setTestRateConstants(new eV):E.removeTestRateConstants())});let tr=p(ta);N.appendChild(tr);let tg=f.getElementsByTagName(eW.tagName),th=document.createElement("label");tr.appendChild(th),th.textContent=eW.tagName;let tm=document.createElement("input");tr.appendChild(tm),tm.type="checkbox",tm.id=eW.tagName,1==tg.length?(tm.checked=!0,E.setUseTheSameCellNumberForAllConditions(new eW)):tg.length>1&&console.warn("xml_useTheSameCellNumberForAllConditions.length="+tg.length),tm.addEventListener("change",e=>{e.target instanceof HTMLInputElement&&(e.target.checked?E.setUseTheSameCellNumberForAllConditions(new eW):E.removeUseTheSameCellNumberForAllConditions())});let tc=p(ta);N.appendChild(tc);let tu=f.getElementsByTagName(eJ.tagName),tp=document.createElement("label");tc.appendChild(tp),tp.textContent=eJ.tagName;let tN=document.createElement("input");tc.appendChild(tN),tN.type="checkbox",tN.id=eJ.tagName,1==tu.length?(tN.checked=!0,E.setHideInactive(new eJ)):tu.length>1&&console.warn("xml_hideInactive.length="+tu.length),tN.addEventListener("change",e=>{e.target instanceof HTMLInputElement&&(e.target.checked?E.setHideInactive(new eJ):E.removeHideInactive())});let tf=p(ta);N.appendChild(tf);let tx=f.getElementsByTagName(eY.tagName),tv=document.createElement("label");tf.appendChild(tv),tv.textContent=eY.tagName;let tC=document.createElement("input");tf.appendChild(tC),tC.type="checkbox",tC.id=eY.tagName,1==tx.length?(tC.checked=!0,E.setForceMacroDetailedBalance(new eY)):tx.length>1&&console.warn("xml_forceMacroDetailedBalance.length="+tx.length),tC.addEventListener("change",e=>{e.target instanceof HTMLInputElement&&(e.target.checked?E.setForceMacroDetailedBalance(new eY):E.removeForceMacroDetailedBalance())});let tb=p(ta);N.appendChild(tb);let tT=f.getElementsByTagName(e5.tagName),tS=document.createElement("label");tb.appendChild(tS),tS.textContent=e5.tagName;let ty=document.createElement("input");tb.appendChild(ty),ty.type="checkbox",ty.id=e5.tagName,1==tT.length?(ty.checked=!0,a=new e5(n=M(tT[0])),E.setTestMicroRates(a)):((n=new Map).set("Tmax",""),n.set("Tmin",""),n.set("Tstep",""),a=new e5(n)),ty.addEventListener("change",e=>{if(e.target instanceof HTMLInputElement){if(e.target.checked){E.setTestMicroRates(a);let e=e4.tagName+"_"+e5.tagName+"_Tmax",t=document.getElementById(e);null!=t&&t.remove();let n=a.getTmax(),s=d("number",e+"_input",td,tn,e=>{e.target instanceof HTMLInputElement&&(i(e.target.value)?(a.setTmax(parseFloat(e.target.value)),console.log("Set Tmax to "+e.target.value)):(alert("Value is not numeric, resetting..."),e.target.value=n.toString()),h(e.target))},n.toString(),"Tmax");s.id=e,h(s.querySelector("input")),tb.appendChild(s);let o=e4.tagName+"_"+e5.tagName+"_tMin",l=document.getElementById(o);null!=l&&l.remove();let r=d("number",o+"_input",td,tn,e=>{e.target instanceof HTMLInputElement&&(i(e.target.value)?(a.setTmin(parseFloat(e.target.value)),console.log("Set Tmin to "+e.target.value)):(alert("Value is not numeric, resetting..."),e.target.value=n.toString()),h(e.target))},a.getTmin().toString(),"Tmin");r.id=o,h(r.querySelector("input")),tb.appendChild(r);let g=e4.tagName+"_"+e5.tagName+"_tStep",m=document.getElementById(g);null!=m&&m.remove();let c=d("number",g+"_input",td,tn,e=>{e.target instanceof HTMLInputElement&&(i(e.target.value)?(a.setTstep(parseFloat(e.target.value)),console.log("Set Tstep to "+e.target.value)):(alert("Value is not numeric, resetting..."),e.target.value=n.toString()),h(e.target))},a.getTstep().toString(),"Tstep");c.id=g,h(c.querySelector("input")),tb.appendChild(c)}else{E.removeTestMicroRates();let e=e4.tagName+"_"+e5.tagName+"_Tmax",t=document.getElementById(e);null!=t&&t.remove();let n=e4.tagName+"_"+e5.tagName+"_tMin",a=document.getElementById(n);null!=a&&a.remove();let i=e4.tagName+"_"+e5.tagName+"_tStep",s=document.getElementById(i);null!=s&&s.remove()}}});let tw=p(ta);N.appendChild(tw);let t_=f.getElementsByTagName(eK.tagName),tM=document.createElement("label");tw.appendChild(tM),tM.textContent=eK.tagName;let tP=document.createElement("input");tw.appendChild(tP),tP.type="checkbox",tP.id=eK.tagName,1==t_.length?(tP.checked=!0,s=new eK(M(t_[0]),v(x(t_[0]))),E.setCalcMethod(s)):(tP.checked=!1,s=new eK(new Map,"")),tP.addEventListener("change",e=>{if(e.target instanceof HTMLInputElement){if(e.target.checked){E.setCalcMethod(s);let e=e4.tagName+"_"+eK.tagName+"_select",t=document.getElementById(e);null!=t&&t.remove();let n=s.value,a=c(eK.options,n,e,td);a.addEventListener("change",e=>{e.target instanceof HTMLSelectElement&&(s.value=e.target.value,m(e.target))}),m(a),tw.appendChild(a)}else{E.removeCalcMethod();let e=e4.tagName+"_"+eK.tagName+"_select",t=document.getElementById(e);null!=t&&t.remove()}}});let tL=p(ta);N.appendChild(tL);let tz=f.getElementsByTagName(eQ.tagName),tR=document.createElement("label");tL.appendChild(tR),tR.textContent=eQ.tagName;let tI=document.createElement("input");if(tL.appendChild(tI),tI.type="checkbox",tI.id=eQ.tagName,1==tz.length){tI.checked=!0;let e=parseFloat(v(x(tz[0])));o=new eQ(M(tz[0]),e),E.setEigenvalues(o);let t=e4.tagName+"_"+eQ.tagName+"_number",n=d("number",t+"_input",td,tn,e=>{e.target instanceof HTMLInputElement&&(tE(o,e.target),h(e.target))},o.value.toString(),eQ.tagName);h(n.querySelector("input")),n.id=t,tL.appendChild(n)}else tI.checked=!1,o=new eQ(new Map,NaN);tI.addEventListener("change",e=>{if(e.target instanceof HTMLInputElement){if(e.target.checked){E.setEigenvalues(o);let e=e4.tagName+"_"+eQ.tagName+"_number",t=document.getElementById(e);null!=t&&t.remove();let n=d("number",e+"_input",td,tn,e=>{e.target instanceof HTMLInputElement&&(tE(o,e.target),h(e.target))},o.value.toString(),eQ.tagName);h(n.querySelector("input")),n.id=e,tL.appendChild(n)}else{E.removeEigenvalues();let e=e4.tagName+"_"+eQ.tagName+"_number",t=document.getElementById(e);null!=t&&t.remove()}}});let tB=p(ta);N.appendChild(tB);let tk=f.getElementsByTagName(eZ.tagName),tF=document.createElement("label");tB.appendChild(tF),tF.textContent=eZ.tagName;let tD=document.createElement("input");if(tB.appendChild(tD),tD.type="checkbox",tD.id=eZ.tagName,1==tk.length){tD.checked=!0;let e=parseFloat(v(x(tk[0])));l=new eZ(M(tk[0]),e),E.setShortestTimeOfInterest(l);let t=e4.tagName+"_"+eZ.tagName+"_number",n=d("number",t+"_input",td,ta,e=>{e.target instanceof HTMLInputElement&&(tE(l,e.target),h(e.target))},l.value.toString(),eZ.tagName);h(n.querySelector("input")),n.id=t,tB.appendChild(n)}else tD.checked=!1,l=new eZ(new Map,NaN);tD.addEventListener("change",e=>{if(e.target instanceof HTMLInputElement){if(e.target.checked){E.setShortestTimeOfInterest(l);let e=e4.tagName+"_"+eZ.tagName+"_number",t=document.getElementById(e);null!=t&&t.remove();let n=d("number",e+"_input",td,ta,e=>{e.target instanceof HTMLInputElement&&(tE(l,e.target),h(e.target))},l.value.toString(),eZ.tagName);h(n.querySelector("input")),n.id=e,tB.appendChild(n)}else{E.removeShortestTimeOfInterest();let e=e4.tagName+"_"+eZ.tagName+"_number",t=document.getElementById(e);null!=t&&t.remove()}}});let tH=p(ta);N.appendChild(tH);let tO=f.getElementsByTagName(e0.tagName),tG=document.createElement("label");tH.appendChild(tG),tG.textContent=e0.tagName;let tA=document.createElement("input");if(tH.appendChild(tA),tA.type="checkbox",tA.id=e0.tagName,1==tO.length){tA.checked=!0;let e=parseFloat(v(x(tO[0])));r=new e0(M(tO[0]),e),E.setMaximumEvolutionTime(r);let t=e4.tagName+"_"+e0.tagName+"_number",n=d("number",t+"_input",td,ta,e=>{e.target instanceof HTMLInputElement&&(tE(r,e.target),h(e.target))},r.value.toString(),e0.tagName);h(n.querySelector("input")),n.id=t,tH.appendChild(n)}else tA.checked=!1,r=new e0(new Map,NaN);tA.addEventListener("change",e=>{if(e.target instanceof HTMLInputElement){if(e.target.checked){E.setMaximumEvolutionTime(r);let e=e4.tagName+"_"+e0.tagName+"_number",t=document.getElementById(e);null!=t&&t.remove();let n=d("number",e+"_input",td,ta,e=>{e.target instanceof HTMLInputElement&&(tE(r,e.target),h(e.target))},r.value.toString(),e0.tagName);h(n.querySelector("input")),n.id=e,tH.appendChild(n)}else{E.removeMaximumEvolutionTime();let e=e4.tagName+"_"+e0.tagName+"_number",t=document.getElementById(e);null!=t&&t.remove()}}});let tq=p(ta);N.appendChild(tq);let tU=f.getElementsByTagName(e1.tagName),tj=document.createElement("label");tq.appendChild(tj),tj.textContent=e1.tagName;let t$=document.createElement("input");if(tq.appendChild(t$),t$.type="checkbox",t$.id=e1.tagName,1==tU.length){t$.checked=!0;let e=parseFloat(v(x(tU[0])));g=new e1(M(tU[0]),e),E.setAutomaticallySetMaxEne(g)}else t$.checked=!1,g=new e1(new Map,NaN);t$.addEventListener("change",e=>{if(e.target instanceof HTMLInputElement){if(e.target.checked){E.setAutomaticallySetMaxEne(g);let e=e4.tagName+"_"+e1.tagName+"_number",t=document.getElementById(e);null!=t&&t.remove();let n=d("number",e+"_input",td,ta,e=>{e.target instanceof HTMLInputElement&&(tE(g,e.target),h(e.target))},g.value.toString(),e1.tagName);h(n.querySelector("input")),n.id=e,tq.appendChild(n)}else{E.removeAutomaticallySetMaxEne();let e=e4.tagName+"_"+e1.tagName+"_number",t=document.getElementById(e);null!=t&&t.remove()}}});let tX=p(ta);N.appendChild(tX);let tV=f.getElementsByTagName(e2.tagName),tW=document.createElement("label");tX.appendChild(tW),tW.textContent=e2.tagName;let tY=document.createElement("input");if(tX.appendChild(tY),tY.type="checkbox",tY.id=e2.tagName,1==tV.length){tY.checked=!0;let e=parseFloat(v(x(tV[0])));u=new e2(M(tV[0]),e),E.setDiagramEnergyOffset(u);let t=e4.tagName+"_"+e2.tagName+"_number",n=d("number",t+"_input",td,ta,e=>{e.target instanceof HTMLInputElement&&(tE(u,e.target),h(e.target))},u.value.toString(),e2.tagName);h(n.querySelector("input")),n.id=t,tX.appendChild(n)}else tY.checked=!1,u=new e2(new Map,NaN);return tY.addEventListener("change",e=>{if(e.target instanceof HTMLInputElement){if(e.target.checked){E.setDiagramEnergyOffset(u);let e=e4.tagName+"_"+e2.tagName+"_number",t=document.getElementById(e);null!=t&&t.remove();let n=d("number",e+"_input",td,ta,e=>{e.target instanceof HTMLInputElement&&(tE(u,e.target),h(e.target))},u.value.toString(),e2.tagName);h(n.querySelector("input")),n.id=e,tX.appendChild(n)}else{E.removeDiagramEnergyOffset();let e=e4.tagName+"_"+e2.tagName+"_number",t=document.getElementById(e);null!=t&&t.remove()}}}),N}(t);n.id=k,B.appendChild(o({content:n,buttonLabel:"Control",buttonFontSize:e9,level:tn,contentDivId:k}))}!function(){for(var e=document.getElementsByClassName("collapsible"),t=0;t<e.length;t++)e[t].removeEventListener("click",l),e[t].addEventListener("click",l)}()}(new DOMParser().parseFromString(b,"text/xml"))}}};let T=n.slice(C,C+1048576);g.readAsText(T),C+=1048576;let S="saveButtonId";s(S);let y=u("Save",td);y.id=S,y.addEventListener("click",tM),document.getElementById("menu").appendChild(y)}},t.click()}function tf(e,t,n,i,s,o,l){let r=i.getElementsByTagName(B.tagName);if(r.length>0){if(1!=r.length)throw Error("Expecting 1 "+B.tagName+" but finding "+r.length+"!");let a=E(r[0]),i=parseFloat(a),g=M(r[0]),m=new B(g,i);e.setProperty(m);let c=e.dictRef,u=d("number",n.id+"_"+e.dictRef,td,l,e=>{e.target instanceof HTMLInputElement&&tE(m,e.target)},a,c),p=u.querySelector("input");h(p),p.addEventListener("change",t=>{a=t.target.value,(m=e.getProperty()).value=parseFloat(a),console.log("Set "+e.dictRef+" of "+n.id+" to "+a),h(p),e.dictRef==D.dictRef&&(i<tu&&(tu=i),i>tc&&(tc=i),t_())}),tx(t,g,u,n.id+"_"+e.dictRef+"_Select_Units",e.dictRef,o),s.appendChild(u)}else{let r=i.getElementsByTagName(k.tagName);if(r.length>0){if(1!=r.length)throw Error("Expecting 1 "+k.tagName+" but finding "+r.length+"!");let i=E(r[0]),g=a(i.split(/\s+/)),m=M(r[0]),c=new k(m,g);e.setProperty(c);let u=e.dictRef,p=d("text",n.id+"_"+e.dictRef,o,l,e=>{e.target instanceof HTMLInputElement&&tv(c,e.target)},i,u),N=p.querySelector("input");N.value=i,h(N),N.addEventListener("change",t=>{i=t.target.value,c=e.getProperty(),g=a(i.split(/\s+/)),c.values=g,console.log("Set "+e.dictRef+" of "+n.id+" to "+i),h(N)}),tx(t,m,p,n.id+"_"+e.dictRef+"_Select_Units",e.dictRef,o),s.appendChild(p)}else throw Error("Expecting "+B.tagName+" or "+k.tagName)}}function tx(e,t,n,a,i,s){if(void 0!=e){let o=function(e,t,n,a){let i=t.get("units");if(void 0!=i){let s=c(e,"Units",n,td);return s.value=i,m(s),s.addEventListener("change",e=>{e.target instanceof HTMLSelectElement&&(t.set("units",e.target.value),console.log("Set "+a+" units to "+e.target.value)),m(s)}),s}}(e,t,a,i);void 0!=o&&(Object.assign(o.style,s),n.appendChild(o))}else{let e=t.get("units");if(void 0!=e){let t=N(e,s);n.appendChild(t)}}}function tv(e,t){let a=t.value.trim();if(""==a){alert("Empty input resetting..."),t.value=n(e.values," ");return}let s=a.split(/\s+/),o=[],l=!0;if(s.forEach(function(e){i(e)||(l=!1),o.push(parseFloat(e))}),!l){alert("An input is not a number, resetting..."),t.value=n(e.values," ");return}o.length==e.values.length?console.log("Changed "+e.tagName+' from: "'+a+'" to: "'+n(e.values," ")+'"'):(alert("Expecting "+e.values.length+" values for, but finding "+o.length+" resetting..."),t.value=n(e.values," "))}function tE(e,t){if(i(t.value)){let n=parseFloat(t.value);e.value=n,console.log("Value set to "+n)}else alert("Value is not numeric, resetting..."),t.value=e.value.toString()}function tC(e,t){let n=d("number",eb.tagName+"_P",td,tn,e=>{e.target instanceof HTMLInputElement&&(i(e.target.value)?(t.setP(parseFloat(e.target.value)),console.log("Set P to "+e.target.value)):(alert("Value is not numeric, resetting..."),e.target.value=t.getP().toString()),h(e.target))},t.getP().toString(),"P"),a=n.querySelector("input");a.value=t.getP().toString(),h(a),e.appendChild(n)}function tb(e,t){let n=d("number",eb.tagName+"_T",td,tn,e=>{e.target instanceof HTMLInputElement&&(i(e.target.value)?(t.setT(parseFloat(e.target.value)),console.log("Set T to "+e.target.value)):(alert("Value is not numeric, resetting..."),e.target.value=t.getT().toString()),h(e.target))},t.getT().toString(),"T"),a=n.querySelector("input");a.value=t.getT().toString(),h(a),e.appendChild(n)}function tT(e,t){let n=u("add "+eh.tagName,td);e.append(n),n.addEventListener("click",()=>{let a=document.createElement("label");a.textContent="excessReactantConc: ",e.appendChild(a);let i=r("number",eb.tagName+"_"+eh.tagName,td);i.value=NaN.toString(),i.addEventListener("change",e=>{e.target instanceof HTMLInputElement&&(t.setExcessReactantConc(e.target.value),console.log("Set excessReactantConc to "+e.target.value),h(e.target))}),h(i),e.appendChild(i);let s=u("âœ•",td);s.addEventListener("click",()=>{e.removeChild(a),e.removeChild(i),e.removeChild(s),tT(e,t)}),e.appendChild(s),e.removeChild(n)})}function tS(e,t){let n=u("add percentExcessReactantConc",td);e.appendChild(n),n.addEventListener("click",()=>{let n=document.createElement("label");n.textContent="percentExcessReactantConc: ",e.appendChild(n);let a=r("number",eb.tagName+"_percentExcessReactantConc",td);a.value=NaN.toString(),a.addEventListener("change",e=>{e.target instanceof HTMLInputElement&&(t.setPercentExcessReactantConc(e.target.value),console.log("Set percentExcessReactantConc to "+e.target.value),h(e.target))}),h(a),e.appendChild(a)})}function ty(e,t){let n=u("add precision",td);e.appendChild(n),n.addEventListener("click",()=>{let n=document.createElement("label");n.textContent="Precision: ",e.appendChild(n);let a=r("number",eb.tagName+"_precision",td);a.value=NaN.toString(),a.addEventListener("change",e=>{e.target instanceof HTMLInputElement&&(t.setPrecision(e.target.value),console.log("Set Precision to "+e.target.value),h(e.target))}),h(a),e.appendChild(a)})}function tw(e,t){let n=u("add "+ef.tagName,td);e.appendChild(n),n.addEventListener("click",()=>{let a=document.createElement("div"),i=new ef(new Map,"");t.setBathGas(i);let s=document.createElement("label");s.textContent=ef.tagName+": ",a.appendChild(s),e.insertBefore(a,n);let o=c(Array.from(new Set(tm.keys())),ef.tagName,eT.tagName+"_"+ef.tagName,td);o.value=i.value,o.addEventListener("change",e=>{e.target instanceof HTMLSelectElement&&(i.value=e.target.value,console.log("Added "+e.target.value+" as a "+ef.tagName),m(e.target))}),m(o),a.appendChild(o),e.insertBefore(a,n),e.removeChild(n)})}function t_(){if(tp.size>0){let e=document.getElementById("reactions"),n="reactionsDiagram",a=document.getElementById(n);null!=a&&a.remove();let i=document.createElement("canvas");i.id=n,i.width=800,i.height=400,i.style.border="1px solid black",null!=i&&(i.style.display="block",function(e,n,a,i,s){var o;let l,d,r,g;console.log("drawReactionDiagram");let h="black",m=e.getContext("2d"),c=(m.font=a,(o=m.measureText("Aj")).actualBoundingBoxAscent+o.actualBoundingBoxDescent),u=[],p=new Set,N=new Set,f=new Set,x=new Map,v=new Map,E=0,C=Number.MAX_VALUE,b=Number.MIN_VALUE;tp.forEach(function(e,n){let a=e.getTransitionStates(),i=e.getReactantsLabel();if(void 0!=i){u.push(i),p.has(i)&&N.add(i);let t=e.getReactantsEnergy(tm);C=Math.min(C,t),b=Math.max(b,t),v.set(i,t),!x.has(i)&&(x.set(i,E),E++)}let s=e.getProductsLabel();if(void 0!=s){p.add(s);let n=e.getProductsEnergy(tm);if(C=Math.min(C,n),b=Math.max(b,n),v.set(s,n),x.has(s)){E--;let e=t(x,s);x.forEach(function(t,n){t>e&&x.set(n,t-1)}),void 0!=a&&(a.forEach(function(e){let t=e.getMolecule().ref;f.add(t),x.set(t,E),n=tm.get(t)?.getEnergy()??0,C=Math.min(C,n),b=Math.max(b,n),v.set(t,n),E++}),x.set(s,E),E++)}else void 0!=a&&a.forEach(function(e){let t=e.getMolecule().ref;f.add(t),x.set(t,E),n=tm.get(t)?.getEnergy()??0,C=Math.min(C,n),b=Math.max(b,n),v.set(t,n),E++}),x.set(s,E),E++}});let T=b-C,S=[];x.forEach(function(e,t){S[e]=t});let y=0,w=0,_=new Map,M=new Map,P=new Map,L=new Map,z=new Map,R=new Map;S.forEach(function(n){let i=t(v,n),s=(i-C)*e.height/(T+0)+0;g=Math.max(eN(m,i.toString(),a),eN(m,n,a)),d=y+g+5,r=l=s+4,_.set(n,[y,l]),M.set(n,[d,r]),p.has(n)&&(P.set(n,[y,l]),L.set(n,[d,r])),f.has(n)&&(z.set(n,[y,l]),R.set(n,[d,r])),y=d+10,w=d}),e.width=w;let I=e.height+4*c+8,B=e.height;e.height=I,m.transform(1,0,0,-1,0,I),tp.forEach(function(e,n){let a=e.getTransitionStates(),i=e.getReactantsLabel(),s=e.getProductsLabel(),o=t(M,i),l=t(P,s);a.length>0?a.forEach(function(e){let n=e.getMolecule().ref,a=t(z,n);eu(m,h,2,o[0],o[1],a[0],a[1]);let i=t(R,n);eu(m,h,2,i[0],i[1],l[0],l[1])}):eu(m,h,2,o[0],o[1],l[0],l[1])}),u.forEach(function(e){let n=t(v,e),s=(n-C)*B/(T+0)+0,o=t(_,e)[0],l=s+4;ec(m,"blue",i,o,l,t(M,e)[0],l,a,c,e,n.toString())}),p.forEach(function(e){let n=t(v,e),s=(n-C)*B/(T+0)+0,o=t(P,e)[0],l=s+i,d=t(L,e)[0],r=n.toString();N.has(e)?ec(m,"orange",i,o,l,d,l,a,c,e,r):ec(m,"green",i,o,l,d,l,a,c,e,r)}),f.forEach(function(e){let n=t(v,e),s=(n-C)*B/(T+0)+0,o=t(z,e)[0],l=s+i;ec(m,"red",i,o,l,t(R,e)[0],l,a,c,e,n.toString())})}(i,0,"14px Arial",4,2)),e.appendChild(i)}}function tM(){console.log("saveXML");let t=new Blob([e3.header,e.toXML("  ","  ")],{type:"text/plain"}),n=URL.createObjectURL(t),a=document.createElement("a");a.href=n;let i=e.getTitle()?.value;a.download=i.replace(/[^a-z0-9]/gi,"_")+".xml",document.body.appendChild(a),a.click(),document.body.removeChild(a)}document.addEventListener("DOMContentLoaded",()=>{let e=u("Load",td);e.addEventListener("click",tN);let t=document.getElementById("menu");t&&t.appendChild(e),t.style.display="flex"}),window.setNumberArrayNode=tv,window.set=tE;
//# sourceMappingURL=index.9144ce56.js.map
