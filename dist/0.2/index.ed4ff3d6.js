let e,t,n,a,s,i,r,o,l,g,d,h,c,m,u,N,f,p;function E(e,t){if(!e.has(t))throw Error(`Key ${t} not found in map`);return e.get(t)}function x(e,t){return void 0==t&&(t=", "),e.map(e=>null==e?"null":e.toString()).join(t)}function y(e){var t="";for(let n=0;n<e.length;n++)t+="<th>"+e[n]+"</th>";return v(t)}function w(e,t=!1){let n="<td";return t&&(n+=' contenteditable="true"'),n+=">"+e+"</td>"}function v(e){return"<tr>"+e+"</tr>\n"}function T(e,t,n,a,s){let i=document.createElement("input");i.type=e,i.id=t,i.onchange=n,i.value=a;let r=document.createElement("label");r.htmlFor=t,s?r.textContent=s+": ":r.textContent="";let o=document.createElement("div");return o.appendChild(r),o.appendChild(i),o}function b(e,t){let n="<"+t;if(e)for(let[t,a]of e)n+=" "+t+'="'+a+'"';return n+" />"}function M(){for(var e=document.getElementsByClassName("collapsible"),t=0;t<e.length;t++)e[t].removeEventListener("click",S),e[t].addEventListener("click",S)}function S(){this.classList.toggle("active");var e=this.nextElementSibling;"block"===e.style.display?e.style.display="none":e.style.display="block"}function B(e,t){let n=e.getElementsByTagName(t)[0];if(null==n)throw Error(t+" element not found");return n}function P(e){let t=e.childNodes;if(null==t)throw Error("Element has no childNodes");return t[0]}function R(e){let t=e.nodeValue;if(null==t)throw Error("nodeValue is null");return t}class C{constructor(e){this.tagName=e}toXML(e){let t=b(null,this.tagName);return e?"\n"+e+t:t}}class L extends C{constructor(e,t){super(t),this.attributes=e}toString(){let e=this.tagName+"(";return this.attributes.forEach((t,n)=>{e+=`${n}(${t}), `}),e}toXML(e){let t="";if(void 0!=e&&(t+="\n"+e),t+="<"+this.tagName,this.attributes)for(let[e,n]of this.attributes)t+=" "+e+'="'+n.toString()+'"';return t+" />"}}class z extends L{constructor(e,t,n){super(e,t),this.value=n}toString(){return super.toString()+`, ${this.value.toString()})`}toXML(e){return F(this.value.trim(),this.tagName,this.attributes,e,!1)}}class I extends L{constructor(e,t,n){super(e,t),this.value=n}toString(){return super.toString()+`, ${this.value.toString()})`}toXML(e){return F(this.value.toString().trim(),this.tagName,this.attributes,e,!1)}}class A extends L{constructor(e,t,n,a){super(e,t),this.delimiter=",",this.values=n,a&&(this.delimiter=a)}toString(){return super.toString()+`, ${this.values.toString()})`}setDelimiter(e){this.delimiter=e}toXML(e){return F(this.values.toString().replaceAll(",",this.delimiter),this.tagName,this.attributes,e,!1)}}class D extends L{constructor(e,t){super(e,t),this.nodes=new Map}addNode(e){this.nodes.set(this.nodes.size,e)}toString(){let e=super.toString();return this.nodes.forEach((t,n)=>{e+=`, ${t.toString()}`}),e+")"}toXML(e,t){let n;void 0!=e&&void 0!=t&&(n=t+e);let a="";if(this.nodes.size>0)return this.nodes.forEach(t=>{t instanceof D?a+=t.toXML(e,n):a+=t.toXML(n)}),F(a,this.tagName,this.attributes,t,!0);{let e=b(this.attributes,this.tagName);return void 0!=t?"\n"+t+e:e}}}function G(e,t,n){let a="";return n&&void 0!=t&&(a+="\n"+t),a+"</"+e+">"}function F(e,t,n,a,s){return function(e,t,n){let a="";if(void 0!=n&&(a+="\n"+n),a+="<"+e,t)for(let[e,n]of t)a+=" "+e+'="'+n.toString()+'"';return a+">"}(t,n,a)+e+G(t,a,s)}function O(e){let t=e.getAttributeNames(),n=new Map;return t.forEach(function(t){let a=e.getAttribute(t);null!=a&&n.set(t,a)}),n}function _(e,t){let n=e.getElementsByTagName(t);if(1!=n.length)throw Error("Expecting 1 "+t+" but finding "+n.length);return n[0]}class H extends L{static{this.tagName="atom"}constructor(e){super(e,H.tagName),void 0==e.get("id")&&console.warn(H.tagName+" id attribute is undefined"),void 0==e.get("elementType")&&console.warn(H.tagName+" elementType attribute is undefined")}get id(){return this.attributes.get("id")}get elementType(){return this.attributes.get("elementType")}}class k extends D{static{this.tagName="atomArray"}constructor(e,t){super(e,k.tagName),t.forEach(e=>{this.nodes.set(this.nodes.size,e)})}}class X extends L{static{this.tagName="bond"}constructor(e){super(e,X.tagName)}}class $ extends D{static{this.tagName="bondArray"}constructor(e,t){super(e,$.tagName),t.forEach(e=>{this.nodes.set(this.nodes.size,e)})}}class V extends I{static{this.tagName="scalar"}constructor(e,t){super(e,V.tagName,t)}}class U extends A{static{this.tagName="array"}constructor(e,t,n){super(e,U.tagName,t,n)}}class j extends D{static{this.tagName="property"}constructor(e,t){super(e,j.tagName),this.nodes.set(0,t)}getProperty(){return this.nodes.get(0)}}class q extends D{static{this.tagName="propertyList"}constructor(e,t){super(e,q.tagName),this.properties=t,t.forEach(e=>{this.nodes.set(this.nodes.size,e)})}}class K extends I{static{this.tagName="me:deltaEDown"}constructor(e,t){super(e,K.tagName,t)}}class J extends D{static{this.tagName="me:energyTransferModel"}constructor(e,t){super(e,J.tagName),t.forEach(e=>{this.nodes.set(this.nodes.size,e)})}}class W extends L{static{this.tagName="me:DOSCMethod"}constructor(e){super(e,W.tagName)}}class Z extends z{static{this.tagName="me:bondRef"}constructor(e,t){super(e,Z.tagName,t)}}class Q extends L{static{this.tagName="me:PotentialPoint"}constructor(e){super(e,Q.tagName)}}class Y extends D{static{this.tagName="me:HinderedRotorPotential"}constructor(e,t){super(e,Y.tagName),t.forEach(e=>{this.nodes.set(this.nodes.size,e)})}}class ee extends I{static{this.tagName="me:periodicity"}constructor(e,t){super(e,ee.tagName,t)}}class et extends D{static{this.tagName="me:ExtraDOSCMethod"}constructor(e,t,n,a){super(e,et.tagName),t&&this.nodes.set(this.nodes.size,t),n&&this.nodes.set(this.nodes.size,n),a&&this.nodes.set(this.nodes.size,a)}}class en extends I{static{this.tagName="me:reservoirSize"}constructor(e,t){super(e,en.tagName,t)}}class ea extends D{static{this.tagName="molecule"}static{this.energyDictRef="me:ZPE"}static{this.rotConstsDictRef="me:rotConsts"}static{this.vibFreqsDictRef="me:vibFreqs"}constructor(e,t,n,a,s,i,r,o){super(e,ea.tagName),this.index=new Map;let l=this.attributes.get("id");if(void 0==l)throw Error("id is undefined");this.id=l;let g=0;if(t&&(this.nodes.set(g,t),t instanceof H?this.index.set(H.tagName,g):this.index.set(k.tagName,g),g++),n&&(this.nodes.set(g,n),this.index.set($.tagName,g),g++),void 0==a)throw Error("properties is undefined");this.nodes.set(g,a),this.index.set(q.tagName,g),g++,s&&(this.nodes.set(g,s),this.index.set(J.tagName,g),g++),i&&(this.nodes.set(g,i),this.index.set(W.tagName,g)),r&&(this.nodes.set(g,r),this.index.set(et.tagName,g)),o&&(this.nodes.set(g,o),this.index.set(en.tagName,g))}getID(){return this.attributes.get("id")}getDescription(){return this.attributes.get("description")}getActive(){let e=this.attributes.get("active");return void 0!=e||e}getProperties(){let e=this.index.get(q.tagName);if(void 0!=e||void 0!=(e=this.index.get(j.tagName)))return this.nodes.get(e)}getPropertyScalar(e){let t=this.getProperties();if(void 0!=t){if(t instanceof q){let n=t.properties.get(e);if(void 0==n)return;return n.getProperty().value}{let e=t.getProperty();if(void 0==e)return;return e.value}}}getEnergy(){let e=this.getPropertyScalar(ea.energyDictRef);return void 0==e?0:e}setPropertyScalar(e,t,n){let a=this.getProperties();if(void 0==a)this.nodes.set(this.nodes.size,this.createPropertyScalar(e,t,n)),this.index.set(j.tagName,this.nodes.size);else if(a instanceof j){if(a.getProperty().attributes.get(e))a.getProperty().value=t;else{let s=new Map;s.set(e,a),s.set(e,this.createPropertyScalar(e,t,n)),a=new q(new Map,s)}}else{let s=a.properties.get(e);void 0==s?a.properties.set(e,this.createPropertyScalar(e,t,n)):s.getProperty().value=t}}createPropertyScalar(e,t,n){let a=new Map;a.set("dictRef",e);let s=new Map;return n&&s.set("units",n),new j(a,new V(s,t))}setPropertyArray(e,t,n){let a=this.getProperties();if(void 0==a)this.nodes.set(this.nodes.size,this.createPropertyArray(e,t,n)),this.index.set(j.tagName,this.nodes.size);else if(a instanceof j){if(a.getProperty().attributes.get(e))a.getProperty().values=t;else{let s=new Map;s.set(e,a),s.set(e,this.createPropertyArray(e,t,n)),a=new q(new Map,s)}}else{let s=a.properties.get(e);void 0==s?a.properties.set(e,this.createPropertyArray(e,t,n)):s.getProperty().values=t}}createPropertyArray(e,t,n){let a=new Map;a.set("dictRef",e);let s=new Map;return n&&s.set("units",n),new j(a,new U(s,t))}setEnergy(e){this.setPropertyScalar(ea.energyDictRef,e)}setRotConsts(e){this.setPropertyArray(ea.rotConstsDictRef,e)}getPropertyArray(e){let t=this.getProperties();if(void 0!=t){if(t instanceof q){let n=t.properties.get(e);if(void 0==n)return;return n.getProperty().values}if(t.getProperty().tagName==e){let e=t.getProperty();if(void 0==e)return;return e.values}}}getRotConsts(){return this.getPropertyArray(ea.rotConstsDictRef)}getVibFreqs(){return this.getPropertyArray(ea.vibFreqsDictRef)}}class es extends D{constructor(e,t,n,a){super(e,t),this.nodes.set(0,n),this.molecules=a}getMoleculeAbb(){return this.nodes.get(0)}getRef(){let e=this.getMoleculeAbb().attributes.get("ref");if(null==e)throw console.log(this.getMoleculeAbb().toString()),Error('Attribute "ref" is undefined.');return e}getMolecule(){let e=this.getRef(),t=this.molecules.get(e);if(null==t)throw Error(`Molecule with ref ${e} not found in molecules`);return t}}class ei extends es{static{this.tagName="reactant"}constructor(e,t,n){super(e,ei.tagName,t,n)}}class er extends es{static{this.tagName="product"}constructor(e,t,n){super(e,er.tagName,t,n)}}class eo extends es{static{this.tagName="me:transitionState"}constructor(e,t,n){super(e,eo.tagName,t,n)}}class el extends I{static{this.tagName="me:preExponential"}constructor(e,t){super(e,el.tagName,t)}}class eg extends I{static{this.tagName="me:activationEnergy"}constructor(e,t){super(e,eg.tagName,t)}}class ed extends I{static{this.tagName="me:TInfinity"}constructor(e,t){super(e,ed.tagName,t)}}class eh extends I{static{this.tagName="me:nInfinity"}constructor(e,t){super(e,eh.tagName,t)}}class ec extends L{static{this.tagName="me:tunneling"}constructor(e){super(e,ec.tagName)}}class em extends D{static{this.tagName="me:MCRCMethod"}constructor(e){super(e,em.tagName)}}class eu extends em{static{this.xsiType="me:MesmerILT"}static{this.xsiType2="MesmerILT"}constructor(e,t,n,a,s){super(e),this.index=new Map,void 0!=t&&(this.index.set(el.tagName,this.index.size),this.addNode(t)),void 0!=n&&(this.index.set(eg.tagName,this.index.size),this.addNode(n)),void 0!=a&&(this.index.set(ed.tagName,this.index.size),this.addNode(a)),void 0!=s&&(this.index.set(eh.tagName,this.index.size),this.addNode(s))}getPreExponential(){let e=this.index.get(el.tagName);if(void 0!=e)return this.nodes.get(e)}getActivationEnergy(){let e=this.index.get(eg.tagName);if(void 0!=e)return this.nodes.get(e)}getTInfinity(){let e=this.index.get(ed.tagName);if(void 0!=e)return this.nodes.get(e)}getNInfinity(){let e=this.index.get(eh.tagName);if(void 0!=e)return this.nodes.get(e)}}class eN extends I{static{this.tagName="me:excessReactantConc"}constructor(e,t){super(e,eN.tagName,t)}}class ef extends D{static{this.tagName="reaction"}constructor(e,t,n,a,s,i,r,o){super(e,ef.tagName),this.index=new Map,this.reactants=n,n instanceof Map?n.forEach(e=>{this.addToIndex(ei.tagName,e),this.addNode(e)}):void 0!=n&&(this.index.set(ei.tagName,this.nodes.size),this.addNode(n)),this.products=a,a instanceof Map?a.forEach(e=>{this.addToIndex(er.tagName,e),this.addNode(e)}):void 0!=a&&(this.index.set(er.tagName,this.nodes.size),this.addNode(a)),s&&(this.index.set(ec.tagName,this.nodes.size),this.addNode(s)),this.transitionStates=i,i instanceof Map?i.forEach(e=>{this.addToIndex(eo.tagName,e),this.addNode(e)}):void 0!=i&&(this.index.set(eo.tagName,this.nodes.size),this.addNode(i)),void 0!=r&&(this.index.set(em.tagName,this.nodes.size),this.addNode(r)),o&&(this.index.set(eN.tagName,this.nodes.size),this.addNode(o))}addToIndex(e,t){let n=this.index.get(e);if(void 0==n)this.index.set(e,this.nodes.size);else if(n instanceof Map)n.set(t.getRef(),this.nodes.size);else{let a=new Map;a.set(this.nodes.get(n).getRef(),n),a.set(t.getRef(),this.nodes.size),this.index.set(e,a)}}getID(){return this.attributes.get("id")}getMCRCMethod(){let e=this.index.get(em.tagName);if(void 0!=e)return this.nodes.get(e)}getTunneling(){let e=this.index.get(ec.tagName);if(void 0!=e)return this.nodes.get(e)}getExcessReactantConc(){let e=this.index.get(eN.tagName);if(void 0!=e)return this.nodes.get(e)}getReactantsLabel(){return void 0==this.reactants?void 0:this.reactants instanceof Map?Array.from(this.reactants.keys()).join(" + "):this.reactants.getRef()}getReactantsEnergy(){return this.reactants instanceof Map?Array.from(this.reactants.values()).map(e=>e.getMolecule().getEnergy()).reduce((e,t)=>e+t,0):0}getProductsLabel(){return void 0==this.products?void 0:this.products instanceof Map?Array.from(this.products.keys()).join(" + "):this.products.getRef()}getProductsEnergy(){return this.products instanceof Map?Array.from(this.products.values()).map(e=>e.getMolecule().getEnergy()).reduce((e,t)=>e+t,0):0}getLabel(){return this.getReactantsLabel()+" -> "+this.getProductsLabel()}}function ep(e,t,n,a,s,i,r,o,l,g,d){let h=a+(i-a)/2;ex(e,d,o,t,h-ey(e,d,o)/2,r+l),ex(e,g,o,t,h-ey(e,g,o)/2,r+3*l),eE(e,t,n,a,s,i,r)}function eE(e,t,n,a,s,i,r){e.beginPath(),e.strokeStyle=t,e.lineWidth=n,e.moveTo(a,s),e.lineTo(i,r),e.stroke()}function ex(e,t,n,a,s,i){e.save(),e.translate(s,i),e.scale(1,-1),e.font=n,e.fillStyle=a,e.fillText(t,0,0),e.restore()}function ey(e,t,n){return e.font=n,e.measureText(t).width}class ew extends z{static{this.tagName="me:bathGas"}constructor(e,t,n){super(e,ew.tagName,t),this.molecules=n}getMolecule(){return this.molecules.get(this.value)}}class ev extends I{static{this.tagName="me:experimentRate"}constructor(e,t){super(e,ev.tagName,t)}}class eT extends D{static{this.tagName="me:PTpair"}constructor(e,t,n){super(e,eT.tagName),this.index=new Map,t&&(this.index.set(ew.tagName,this.nodes.size),this.addNode(t)),n&&(this.index.set(ev.tagName,this.nodes.size),this.addNode(n))}getP(){let e=this.attributes.get("P");if(e)return parseFloat(e);throw Error("P is undefined")}setP(e){this.attributes.set("P",e.toString())}getT(){let e=this.attributes.get("T");if(e)return parseFloat(e);throw Error("T is undefined")}setT(e){this.attributes.set("T",e.toString())}getBathGas(){let e=this.index.get(ew.tagName);return e?this.nodes.get(e):void 0}getExperimentRate(){let e=this.index.get(ev.tagName);return e?this.nodes.get(e):void 0}}class eb extends D{static{this.tagName="me:PTs"}constructor(e,t){super(e,eb.tagName),t.forEach(e=>{this.addNode(e)}),this.pTpairs=t}}class eM extends D{static{this.tagName="me:conditions"}constructor(e,t,n){super(e,eM.tagName),this.addNode(t),this.addNode(n)}getBathGas(){return this.nodes.get(0)}getPTs(){return this.nodes.get(1)}}class eS extends I{static{this.tagName="me:grainSize"}constructor(e,t){super(e,eS.tagName,t)}toString(){return`GrainSize(${super.toString()})`}}class eB extends I{static{this.tagName="me:energyAboveTheTopHill"}constructor(e,t){super(e,eB.tagName,t)}}class eP extends D{static{this.tagName="me:modelParameters"}constructor(e,t){super(new Map,eP.tagName),this.addNode(e),this.addNode(t)}getGrainSize(){return this.nodes.get(0)}getEnergyAboveTheTopHill(){return this.nodes.get(1)}}class eR extends C{static{this.tagName="me:testDOS"}constructor(){super(eR.tagName)}}class eC extends C{static{this.tagName="me:printSpeciesProfile"}constructor(){super(eC.tagName)}}class eL extends C{static{this.tagName="me:testMicroRates"}constructor(){super(eL.tagName)}}class ez extends C{static{this.tagName="me:testRateConstant"}constructor(){super(ez.tagName)}}class eI extends C{static{this.tagName="me:printGrainDOS"}constructor(){super(eI.tagName)}}class eA extends C{static{this.tagName="me:printCellDOS"}constructor(){super(eA.tagName)}}class eD extends C{static{this.tagName="me:printReactionOperatorColumnSums"}constructor(){super(eD.tagName)}}class eG extends C{static{this.tagName="me:printTunnellingCoefficients"}constructor(){super(eG.tagName)}}class eF extends C{static{this.tagName="me:printGrainkfE"}constructor(){super(eF.tagName)}}class eO extends C{static{this.tagName="me:printGrainBoltzmann"}constructor(){super(eO.tagName)}}class e_ extends C{static{this.tagName="me:printGrainkbE"}constructor(){super(e_.tagName)}}class eH extends I{static{this.tagName="me:eigenvalues"}constructor(e,t){super(e,eH.tagName,t)}}class ek extends C{static{this.tagName="me:hideInactive"}constructor(){super(ek.tagName)}}class eX extends I{static{this.tagName="me:diagramEnergyOffset"}constructor(e,t){super(e,eX.tagName,t)}}class e$ extends D{static{this.tagName="me:control"}constructor(e,t,n,a,s,i,r,o,l,g,d,h,c,m,u){super(e,e$.tagName),this.index=new Map,void 0!=t&&(this.addNode(t),this.index.set(eR.tagName,this.index.size)),void 0!=n&&(this.addNode(n),this.index.set(eC.tagName,this.index.size)),void 0!=a&&(this.addNode(a),this.index.set(eL.tagName,this.index.size)),void 0!=s&&(this.addNode(s),this.index.set(ez.tagName,this.index.size)),void 0!=i&&(this.addNode(i),this.index.set(eI.tagName,this.index.size)),void 0!=r&&(this.addNode(r),this.index.set(eA.tagName,this.index.size)),void 0!=o&&(this.addNode(o),this.index.set(eD.tagName,this.index.size)),void 0!=l&&(this.addNode(l),this.index.set(eG.tagName,this.index.size)),void 0!=g&&(this.addNode(g),this.index.set(eF.tagName,this.index.size)),void 0!=d&&(this.addNode(d),this.index.set(eO.tagName,this.index.size)),void 0!=h&&(this.addNode(h),this.index.set(e_.tagName,this.index.size)),void 0!=c&&(this.addNode(c),this.index.set(eH.tagName,this.index.size)),void 0!=m&&(this.addNode(m),this.index.set(ek.tagName,this.index.size)),void 0!=u&&(this.addNode(u),this.index.set(eX.tagName,this.index.size))}getTestDOS(){let e=this.index.get(eR.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getPrintSpeciesProfile(){let e=this.index.get(eC.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getTestMicroRates(){let e=this.index.get(eL.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getTestRateConstant(){let e=this.index.get(ez.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getPrintGrainDOS(){let e=this.index.get(eI.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getPrintCellDOS(){let e=this.index.get(eA.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getPrintReactionOperatorColumnSums(){let e=this.index.get(eD.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getPrintTunnellingCoefficients(){let e=this.index.get(eG.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getPrintGrainkfE(){let e=this.index.get(eF.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getPrintGrainBoltzmann(){let e=this.index.get(eO.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getPrintGrainkbE(){let e=this.index.get(e_.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getEigenvalues(){let e=this.index.get(eH.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getHideInactive(){let e=this.index.get(ek.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getDiagramEnergyOffset(){let e=this.index.get(eX.tagName)??-1;if(-1!==e)return this.nodes.get(e)}}let eV="me:title",eU=new Map,ej=new Map;const eq=`<?xml version="1.0" encoding="utf-8" ?>
<?xml-stylesheet type='text/xsl' href='../../mesmer2.xsl' media='other'?>
<?xml-stylesheet type='text/xsl' href='../../mesmer1.xsl' media='screen'?>`;function eK(e){let t=O(e),n=e.children;if(1!=n.length)throw Error("Expecting 1 child but finding "+n.length);let a=O(n[0]),s=n[0].nodeName,i=n[0].textContent;if(null==i)throw console.error("nodeName"),Error("textContent is null");if(i=i.trim(),null==t.get("dictRef"))throw Error("dictRef is null");if(s==V.tagName)return new j(t,new V(a,parseFloat(i)));if(s==U.tagName)return new j(t,new U(a,function(e){let t=[];for(let n=0;n<e.length;n++)t.push(parseFloat(e[n]));return t}(i.split(/\s+/))," "));throw Error("Unexpected nodeName: "+s)}function eJ(e){let t=e.id,n=t.split("_")[0],a=eU.get(n);if(a){let s=parseFloat(e.value);isNaN(s)?(alert("Energy input for "+n+" is not a number"),document.getElementById(t).value=a.getEnergy().toString()):(a.setEnergy(s),console.log("Energy of "+n+" set to "+s))}}function eW(e){let t=e.id,n=t.split("_")[0],a=eU.get(n);if(a){let s=e.value,i=s.split(/\s+/),r=a.getRotConsts();if(r){let e=r.length,o=!0;if(i.forEach(function(e){isNaN(parseFloat(e))?console.log("value="+e):o=!1}),!o){alert("A rotation constant for "+n+" is not a number, resetting..."),document.getElementById(t).value=x(r," ");return}if(i.length==e){let e=s.split(" ").map(Number);a.setRotConsts(e),console.log("Rotation constants of "+n+" changed from: "+r+" to: "+e)}else alert("Expecting "+e+" rotation constants for "+n+" but finding "+i.length+" resetting..."),document.getElementById(t).value=x(r," ")}}}document.addEventListener("DOMContentLoaded",b=>{m=document.getElementById("xml_title"),u=document.getElementById("xml_text"),window.loadXML=function(){!function b(){let S=document.createElement("input");S.type="file",S.onchange=function(){if(S.files){for(let e=0;e<S.files.length;e++)console.log("inputElement.files["+e+"]="+S.files[e]);let s=S.files[0];if(console.log(s.name),a=s.name,null!=u){let i=new FileReader,b=0,S="";i.onload=function(C){if(!C.target)throw Error("Event target is null");if(S+=C.target.result,null!=s){if(b<s.size){let e=s.slice(b,b+1048576);i.readAsText(e),b+=1048576}else{var z;z=S=S.trim(),null!=m&&(m.innerHTML=a),null!=u&&(u.innerHTML=z.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/  /g,"&nbsp;&nbsp;")),function(a){let s,i,m,u,b,S,C,z,I,A,D,F,V,U,es,ex;t="\n";let eq=a.documentElement;if(null==eq)throw Error("Document element not found");{let e=eq.tagName;t+="<"+e,console.log(e),n=G(e,"",!0);let a=!0,s=" ".repeat(e.length+2);eq.getAttributeNames().forEach(function(e){let n=eq.getAttribute(e),i=`${e}="${n}"`;a?(a=!1,t+=" "+i):t+="\n"+s+i}),t+=">"}(function(t){if(null==(r=t.getElementsByTagName(eV)))throw Error(eV+" not found");if(1!=r.length)throw Error("Multiple "+eV+" elements found");{console.log("Title="+(e=(e=r[0].childNodes[0].nodeValue).trim()));let t=document.getElementById("title");null!=t&&(t.innerHTML=e)}})(a),function(e){let t="moleculeList";console.log("Read and store "+t);let n=_(e,t);null!=(o=document.getElementById("molecules_title"))&&(o.innerHTML="Molecules");let a=new Set;if(n.childNodes.forEach(function(e){a.add(e.nodeName)}),1!=a.size&&!(2==a.size&&a.has("#text")))throw console.error("moleculeListTagNames:"),a.forEach(e=>console.error(e)),Error("Additional tag names in moleculeList:");if(!a.has(ea.tagName))throw Error('Expecting tags with "'+ea.tagName+'" tagName but there are none!');let s=n.getElementsByTagName(ea.tagName);console.log("Number of molecules="+s.length);for(let e=0;e<s.length;e++){let t,n,a,i,r,o,l,g,d=O(s[e]),h=new Set,c=s[e].childNodes;for(let e=0;e<c.length;e++){let t=c[e];h.has(t.nodeName)?"#text"!=t.nodeName&&console.warn("Another ChildNode with nodeName="+t.nodeName):h.add(t.nodeName)}let m=s[e].getElementsByTagName(k.tagName);if(m.length>1)throw Error("Expecting 1 or 0 "+k.tagName+" but finding "+m.length+"!");if(1==m.length){let e=m[0],t=e.getElementsByTagName(H.tagName);if(t.length<2)throw Error("Expecting 2 or more atoms in "+k.tagName+", but finding "+t.length+"!");let n=[];for(let e=0;e<t.length;e++)n.push(new H(O(t[e])));i=new k(O(e),n),h.delete(k.tagName)}else{let t=s[e].getElementsByTagName(H.tagName);if(1==t.length)i=new H(O(t[0]));else if(t.length>1)throw Error("Expecting 1 "+H.tagName+" but finding "+t.length+". Should these be in an "+k.tagName+"?")}h.delete(H.tagName);let u=s[e].getElementsByTagName($.tagName);if(u.length>1)throw Error("Expecting 1 or 0 "+$.tagName+" but finding "+u.length+"!");if(1==u.length){let e=u[0],t=e.getElementsByTagName(X.tagName),n=[];for(let e=0;e<t.length;e++)n.push(new X(O(t[e])));r=new $(O(e),n),h.delete($.tagName)}else{let t=s[e].getElementsByTagName(X.tagName);if(1==t.length)r=new X(O(t[0]));else if(t.length>1)throw Error("Expecting 1 "+X.tagName+" but finding "+t.length+". Should these be in a "+$.tagName+"?")}h.delete(X.tagName);let N=s[e].getElementsByTagName(q.tagName);if(N.length>1)throw Error("Expecting 1 or 0 "+q.tagName+" but finding "+N.length+"!");if(1==N.length){let e=N[0],t=e.getElementsByTagName(j.tagName);if(t.length<2)throw Error("Expecting 2 or more "+j.tagName+" in "+q.tagName+", but finding "+t.length+"!");let n=new Map;for(let e=0;e<t.length;e++){let a=eK(t[e]),s=a.attributes.get("dictRef");n.set(s,a)}o=new q(O(e),n),h.delete(q.tagName)}else{let t=s[e].getElementsByTagName(j.tagName);if(t.length>1)throw Error("Expecting 1 "+j.tagName+" but finding "+t.length+". Should these be in a "+q.tagName+"?");o=eK(t[0])}if(h.delete(j.tagName),h.delete(J.tagName),null!=(l=s[e].getElementsByTagName(J.tagName))&&l.length>0){if(1!=l.length)throw Error("energyTransferModel length="+l.length);let e=l[0].getElementsByTagName(K.tagName);if(null!=e){let n=[];for(let t=0;t<e.length;t++){let a=parseFloat(R(P(e[t]))),s=new K(O(e[t]),a);n.push(s)}t=new J(O(l[0]),n)}}if(h.delete(W.tagName),null!=(l=s[e].getElementsByTagName(W.tagName))){let e=l[0];null!=e&&(n=new W(O(e)))}if(h.delete(et.tagName),(l=s[e].getElementsByTagName(et.tagName)).length>0){let e,t,n;if(1!=l.length)throw Error("Expecting only 1 extra DOSCMethod, but there are "+l.length);let s=l[0].getElementsByTagName(Z.tagName);if(s.length>0){if(1!=s.length)throw Error("Expecting only 1 bondRef, but there are "+s.length);e=new Z(O(s[0]),R(P(s[0])))}let i=l[0].getElementsByTagName(Y.tagName);if(i.length>0){if(1!=i.length)throw Error("Expecting only 1 HinderedRotorPotential, but there are "+i.length);let e=[],n=i[0].getElementsByTagName(Q.tagName);for(let t=0;t<n.length;t++)e.push(new Q(O(n[t])));t=new Y(O(i[0]),e)}let r=l[0].getElementsByTagName(ee.tagName);if(r.length>0){if(1!=r.length)throw Error("Expecting only 1 Periodicity, but there are "+r.length);n=new ee(O(r[0]),parseFloat(R(P(r[0]))))}a=new et(O(l[0]),e,t,n)}if(h.delete(en.tagName),(l=s[e].getElementsByTagName(en.tagName)).length>0){if(1!=l.length)throw Error("Expecting only 1 reservoirSize, but there are "+l.length);g=new en(O(l[0]),parseFloat(R(P(l[0]))))}h.delete("#text"),h.size>0&&(console.warn("There are additional unexpected moleculeTagNames:"),h.forEach(e=>console.warn(e)));let f=new ea(d,i,r,o,t,n,a,g);eU.set(f.id,f)}}(a),0!=eU.size&&(eU.forEach(function(e,t){var n,a;let s,i,r,o=e.getEnergy();r=null==o?"":o.toString();let l="",g=e.getRotConsts();void 0!=g&&(l=x(g," "));let d=e.getVibFreqs();void 0!=d&&x(d," ");let h=T("number",t+"_energy",e=>{e.target instanceof HTMLInputElement&&eJ(e.target)},r,"Energy"),c=T("text",t+"_rotConst",e=>{e.target instanceof HTMLInputElement&&eW(e.target)},l,"Rotation Constants"),m=document.createElement("div");m.appendChild(h),m.appendChild(c);let u=(n=t+"_details",a="collapsible",s=document.createElement("div"),a&&(s.id=a),(i=document.createElement("button")).className="collapsible",n?i.innerText=n:i.innerText="Show/Hide Details",s.appendChild(i),s.appendChild(m),M(),s);if(u.appendChild(m),null!==document.getElementById("moleculesList")){let e=document.getElementById("molecules");e&&e.appendChild(u)}}),M()),eU.forEach(function(e,t){let n=document.getElementById(t+"_energy");n&&n.addEventListener("change",n=>{let a=n.target.value;e.setEnergy(parseFloat(a)),console.log("Set energy of "+t+" to "+a+" kJ/mol")});let a=document.getElementById(t+"_rotConsts");a&&a.addEventListener("change",n=>{let a=n.target.value,s=[];a.split(/\s+/).forEach(function(e){s.push(parseFloat(e))}),e.setRotConsts(s),console.log("Set rotConsts of "+t+" to "+a)})}),function(e){let t="reactionList";console.log(t);let n=_(e,t).getElementsByTagName(ef.tagName),a=n.length;if(console.log("Number of reactions="+a),0==a)throw Error("No reactions: There should be at least 1!");null!=(l=document.getElementById("reactions_title"))&&(l.innerHTML="Reactions");for(let e=0;e<a;e++){let t=O(n[e]),a=t.get("id");if(null==a)throw Error("reactionID is null");if(null!=a){let s,i,r,o,l,g;console.log("id="+a);let d=n[e].getElementsByTagName(ei.tagName);if(d.length>0){if(d.length<2){let e=new L(O(B(d[0],ea.tagName)),ea.tagName);s=new ei(O(d[0]),e,eU)}else{s=new Map;for(let e=0;e<d.length;e++){let t=new L(O(B(d[e],ea.tagName)),ea.tagName),n=new ei(O(d[e]),t,eU);s.set(n.getRef(),n)}}}let h=n[e].getElementsByTagName(er.tagName);if(h.length>0){if(h.length<2){let e=new L(O(B(h[0],ea.tagName)),ea.tagName);i=new er(O(h[0]),e,eU)}else{i=new Map;for(let e=0;e<h.length;e++){let t=new L(O(B(h[e],ea.tagName)),ea.tagName),n=new er(O(h[e]),t,eU);i.set(n.getRef(),n)}}}let c=n[e].getElementsByTagName(eo.tagName);if(c.length>0){if(c.length<2){let e=new L(O(c[0].getElementsByTagName(ea.tagName)[0]),ea.tagName);r=new eo(O(c[0]),e,eU)}else{r=new Map;for(let e=0;e<c.length;e++){let t=new L(O(c[e].getElementsByTagName(ea.tagName)[0]),ea.tagName),n=new eo(O(c[e]),t,eU);r.set(n.getRef(),n)}}}let m=n[e].getElementsByTagName(ec.tagName);if(m.length>0){if(m.length>1)throw Error("Expecting 1 "+ec.tagName+" but finding "+m.length+"!");o=new ec(O(m[0]))}let u=n[e].getElementsByTagName(em.tagName);if(u.length>0){if(u.length>1)throw Error("Expecting 1 "+em.tagName+" but finding "+u.length+"!");{let e=O(u[0]),t=e.get("name");if(void 0==t||t==eu.xsiType2){let t=e.get("xsi:type");if(void 0!=t&&(t==eu.xsiType||t==eu.xsiType2)){let t,n,a,s;let i=u[0].getElementsByTagName(el.tagName);if(null!=i&&null!=i[0]){let e=parseFloat(R(P(i[0])));t=new el(O(i[0]),e)}let r=u[0].getElementsByTagName(eg.tagName);if(null!=r&&null!=r[0]){let e=parseFloat(R(P(r[0])));n=new eg(O(r[0]),e)}let o=u[0].getElementsByTagName(ed.tagName);if(null!=o&&null!=o[0]){let e=parseFloat(R(P(o[0])));a=new eh(O(o[0]),e)}let g=u[0].getElementsByTagName(eh.tagName);if(null!=g&&null!=g[0]){let e=parseFloat(R(P(g[0])));s=new eh(O(g[0]),e)}l=new eu(e,t,n,a,s)}}else l=new em(e)}}let N=n[e].getElementsByTagName(eN.tagName);if(N.length>0){if(N.length>1)throw Error("Expecting 1 "+eN.tagName+" but finding "+N.length+"!");let e=parseFloat(R(P(N[0])));g=new eN(O(N[0]),e)}let f=new ef(t,a,s,i,o,r,l,g);ej.set(a,f)}}}(a),function(){if(0==ej.size)return;let e=y(["ID","Reactants","Products","Transition State","PreExponential","Activation Energy","TInfinity","NInfinity"]);ej.forEach(function(t,n){let a=t.getReactantsLabel()||"",s=t.getProductsLabel()||"",i="",r="",o="",l="",d="",h=t.transitionStates;if(void 0!=h){if(h instanceof Map)h.forEach(function(e){let t=e.getRef();null!=t&&(i=t+" ")});else{let e=h.getRef();null!=e&&(i=e)}}let c=t.getMCRCMethod();if(void 0!=c){if(c instanceof eu){let e=c.getPreExponential();void 0!=e&&(r=e.value.toString()+" "+e.attributes.get("units"));let t=c.getActivationEnergy();void 0!=t&&(o=t.value.toString()+" "+t.attributes.get("units"));let n=c.getTInfinity();void 0!=n&&(l=n.value.toString());let a=c.getNInfinity();void 0!=a&&(d=a.value.toString())}else if("RRKM"==c.attributes.get("name"));else throw console.log("Unexpected mCRCMethod: "+c),Error("Unexpected mCRCMethod: "+c)}e+=v(w(n)+w(a)+w(s)+w(i)+w(r,!0)+w(o,!0)+w(l,!0)+w(d,!0)),null!==(g=document.getElementById("reactions_table"))&&(g.innerHTML=e)})}(),function(){if(ej.size>1){null!=(d=document.getElementById("reactions_diagram_title"))&&(d.innerHTML="Diagram");let e=document.getElementById("reactions_diagram");null!=e&&(e.style.display="block",function(e,t,n,a,s,i,r){var o;let l,g,d,h;console.log("drawReactionDiagram");let c="black",m=e.getContext("2d"),u=(m.font=s,(o=m.measureText("Aj")).actualBoundingBoxAscent+o.actualBoundingBoxDescent),N=new Set,f=new Set,p=new Set,x=new Set,y=new Map,w=new Map,v=0,T=Number.MAX_VALUE,b=Number.MIN_VALUE;n.forEach(function(e,t){let n=e.transitionStates,a=e.getReactantsLabel();if(void 0!=a){N.add(a),f.has(a)&&p.add(a);let t=e.getReactantsEnergy();T=Math.min(T,t),b=Math.max(b,t),w.set(a,t),!y.has(a)&&(y.set(a,v),v++)}let s=e.getProductsLabel();if(void 0!=s){f.add(s);let t=e.getProductsEnergy();if(T=Math.min(T,t),b=Math.max(b,t),w.set(s,t),y.has(s)){v--;let e=E(y,s);if(y.forEach(function(t,n){t>e&&y.set(n,t-1)}),void 0!=n){if(n instanceof Map)n.forEach(function(e,n){let a=e.getRef();x.add(a),y.set(a,v),t=e.getMolecule().getEnergy(),T=Math.min(T,t),b=Math.max(b,t),w.set(a,t),v++});else{let e=n.getRef();x.add(e),y.set(e,v),t=n.getMolecule().getEnergy(),T=Math.min(T,t),b=Math.max(b,t),w.set(e,t),v++}y.set(s,v),v++}}else{if(void 0!=n){if(n instanceof Map)n.forEach(function(e,n){let a=e.getRef();x.add(a),y.set(a,v),t=e.getMolecule().getEnergy(),T=Math.min(T,t),b=Math.max(b,t),w.set(a,t),v++});else{let e=n.getRef();x.add(e),y.set(e,v),t=n.getMolecule().getEnergy(),T=Math.min(T,t),b=Math.max(b,t),w.set(e,t),v++}}y.set(s,v),v++}}});let M=b-T,S=[];y.forEach(function(e,t){S[e]=t});let B=0,P=0,R=new Map,C=new Map,L=new Map,z=new Map,I=new Map,A=new Map;S.forEach(function(t){let n=E(w,t),a=(n-T)*e.height/(M+0)+0;h=Math.max(ey(m,n.toString(),s),ey(m,t,s)),g=B+h+5,d=l=a+4,R.set(t,[B,l]),C.set(t,[g,d]),f.has(t)&&(L.set(t,[B,l]),z.set(t,[g,d])),x.has(t)&&(I.set(t,[B,l]),A.set(t,[g,d])),B=g+10,P=g}),e.width=P;let D=e.height+4*u+8,G=e.height;e.height=D,m.transform(1,0,0,-1,0,D),n.forEach(function(e,t){let n=e.transitionStates,a=e.getReactantsLabel(),s=e.getProductsLabel(),i=E(C,a),o=E(L,s);if(void 0!=n){if(n instanceof Map)n.forEach(function(e,t){let n=e.getRef(),a=E(I,n);eE(m,c,2,i[0],i[1],a[0],a[1]);let s=E(A,n);eE(m,c,2,s[0],s[1],o[0],o[1])});else{let e=n.getRef(),t=E(I,e);eE(m,c,2,i[0],i[1],t[0],t[1]);let a=E(A,e);eE(m,c,r,a[0],a[1],o[0],o[1])}}else eE(m,c,r,i[0],i[1],o[0],o[1])}),N.forEach(function(e){let t=E(w,e),n=(t-T)*G/(M+0)+0,a=E(R,e)[0],r=n+4;ep(m,"blue",i,a,r,E(C,e)[0],r,s,u,e,t.toString())}),f.forEach(function(e){let t=E(w,e),n=(t-T)*G/(M+0)+0,a=E(L,e)[0],r=n+i,o=E(z,e)[0],l=t.toString();p.has(e)?ep(m,"orange",i,a,r,o,r,s,u,e,l):ep(m,"green",i,a,r,o,r,s,u,e,l)}),x.forEach(function(e){let t=E(w,e),n=(t-T)*G/(M+0)+0,a=E(I,e)[0],r=n+i;ep(m,"red",i,a,r,E(A,e)[0],r,s,u,e,t.toString())})}(e,0,ej,0,"14px Arial",4,2))}}(),function(e){console.log(eM.tagName);let t=_(e,eM.tagName);null!=(h=document.getElementById("conditions_title"))&&(h.innerHTML="Conditions");let n=B(t,ew.tagName),a=new ew(O(n),R(P(n)),eU),s=_(t,"me:PTs"),i=s.getElementsByTagName(eT.tagName),r=[];for(let e=0;e<i.length;e++){let t,n,a=i[e].getElementsByTagName(ew.tagName);a.length>0&&(a.length>1&&console.warn("xml_bathGass.length="+a.length),console.log("pTBathGas"+(t=new ew(O(a[0]),R(P(a[0])),eU)).toString()));let s=i[e].getElementsByTagName(ev.tagName);s.length>0&&(s.length>1&&console.warn("xml_experimentRates.length="+s.length),console.log("experimentRate"+(n=new ev(O(s[0]),parseFloat(R(P(s[0]))))).toString())),r.push(new eT(O(i[e]),t,n))}N=new eM(O(t),a,new eb(O(s),r))}(a),null!=(s=document.getElementById("bathGas"))&&(s.innerHTML="Bath Gas "+N.getBathGas().value),i=document.getElementById("PT_table"),m=["P","T"],(u=N.getPTs().pTpairs.some(e=>void 0!=e.getBathGas()))&&m.push("BathGas"),(b=N.getPTs().pTpairs.some(e=>void 0!=e.getExperimentRate()))&&m.push("ExperimentRate"),S=y(m),null!=i&&(N.getPTs().pTpairs.forEach(function(e){S+=v(w(e.getP().toString())+w(e.getT().toString())),u&&(S+=w(e.getBathGas()?.toString()??"")),b&&(S+=w(e.getExperimentRate()?.toString()??""))}),i.innerHTML=S),console.log(eP.tagName),C=_(a,eP.tagName),null!=(c=document.getElementById("modelParameters_title"))&&(c.innerHTML="Model Parameters"),z=_(C,eS.tagName),I=new eS(O(z),parseFloat(R(P(z)))),A=_(C,eB.tagName),f=new eP(I,new eB(O(A),parseFloat(R(P(A))))),D=document.getElementById("modelParameters_table"),F=y(["Parameter","Value"])+(v(w("Grain Size")+w(f.getGrainSize().value.toString()))+v(w("Energy Above The Top Hill")+w(f.getEnergyAboveTheTopHill().value.toString()))),null!=D&&(D.innerHTML=F),function(e){let t,n,a,s,i,r,o,l,g,d,h,c,m,u;console.log(e$.tagName);let N=_(e,e$.tagName),f=document.getElementById("control_title");null!=f&&(f.innerHTML="Control");let E=N.getElementsByTagName(eR.tagName);1==E.length?t=new eR:E.length>1&&console.warn("testDOS.length="+E.length);let x=N.getElementsByTagName(eC.tagName);1==x.length?n=new eC:x.length>1&&console.warn("printSpeciesProfile.length="+x.length);let y=N.getElementsByTagName(eL.tagName);1==y.length?a=new eL:y.length>1&&console.warn("testMicroRates.length="+y.length);let w=N.getElementsByTagName(ez.tagName);1==w.length?s=new ez:w.length>1&&console.warn("testRateConstant.length="+w.length);let v=N.getElementsByTagName(eI.tagName);1==v.length?i=new eI:v.length>1&&console.warn("printGrainDOS.length="+v.length);let T=N.getElementsByTagName(eA.tagName);1==T.length?r=new eA:T.length>1&&console.warn("printCellDOS.length="+T.length);let b=N.getElementsByTagName(eD.tagName);1==b.length?o=new eD:b.length>1&&console.warn("printReactionOperatorColumnSums.length="+b.length);let M=N.getElementsByTagName(eG.tagName);1==M.length?l=new eG:M.length>1&&console.warn("printTunnellingCoefficients.length="+M.length);let S=N.getElementsByTagName(eF.tagName);1==S.length?g=new eF:S.length>1&&console.warn("printGrainkfE.length="+S.length);let B=N.getElementsByTagName(eO.tagName);1==B.length?d=new eO:B.length>1&&console.warn("printGrainBoltzmann.length="+B.length);let C=N.getElementsByTagName(e_.tagName);1==C.length?h=new e_:C.length>1&&console.warn("printGrainkbE.length="+C.length);let L=N.getElementsByTagName(eH.tagName);1==L.length?c=new eH(O(L[0]),parseFloat(R(P(L[0])))):console.warn("eigenvalues.length="+L.length);let z=N.getElementsByTagName(ek.tagName);1==z.length?m=new ek:console.warn("hideInactive.length="+z.length);let I=N.getElementsByTagName(eX.tagName);if(1==I.length){let e=parseFloat(R(P(I[0])));u=new eX(O(I[0]),e)}else console.warn("diagramEnergyOffset.length="+I.length);p=new e$(O(N),t,n,a,s,i,r,o,l,g,d,h,c,m,u)}(a),V=document.getElementById("control_table"),U=y(["Control","Value"]),void 0!=p.getTestDOS()&&(U+=v(w(eR.tagName)+w(""))),void 0!=p.getPrintSpeciesProfile()&&(U+=v(w(eC.tagName)+w(""))),void 0!=p.getTestMicroRates()&&(U+=v(w(eL.tagName)+w(""))),void 0!=p.getTestRateConstant()&&(U+=v(w(ez.tagName)+w(""))),void 0!=p.getPrintGrainDOS()&&(U+=v(w(eI.tagName)+w(""))),void 0!=p.getPrintCellDOS()&&(U+=v(w(eA.tagName)+w(""))),void 0!=p.getPrintReactionOperatorColumnSums()&&(U+=v(w(eD.tagName)+w(""))),void 0!=p.getPrintTunnellingCoefficients()&&(U+=v(w(eG.tagName)+w(""))),void 0!=p.getPrintGrainkfE()&&(U+=v(w(eF.tagName)+w(""))),void 0!=p.getPrintGrainBoltzmann()&&(U+=v(w(eO.tagName)+w(""))),void 0!=p.getPrintGrainkbE()&&(U+=v(w(e_.tagName)+w(""))),void 0!=(es=p.getEigenvalues())&&(U+=v(w(eH.tagName)+w(es.value.toString()))),void 0!=p.getHideInactive()&&(U+=v(w(ek.tagName)+w(""))),void 0!=(ex=p.getDiagramEnergyOffset())&&(U+=v(w(eX.tagName)+w(ex.value.toString()))),null!=V&&(V.innerHTML=U)}(new DOMParser().parseFromString(S,"text/xml"))}}};let C=s.slice(b,b+1048576);i.readAsText(C),b+=1048576}}},S.click(),null!=(s=document.getElementById("load_button"))&&s.addEventListener("click",b),null!=(i=document.getElementById("saveButton"))&&(i.style.display="inline")}()}}),window.setEnergy=eJ,window.setRotConst=eW,window.saveXML=function(){console.log("saveXML");let s="  ".repeat(2),i="\n  "+F(e,"me:title"),r="";eU.forEach(function(e,t){r+=e.toXML("  ",s)}),r=F(r,"moleculeList",void 0,"  ",!0);let o="";ej.forEach(function(e,t){o+=e.toXML("  ",s)}),o=F(o,"reactionList",void 0,"  ",!0);let l=N.toXML("  ","  "),g=f.toXML("  ","  "),d=p.toXML("  ","  "),h=new Blob([eq,t,i,r,o,l,g,d,n],{type:"text/plain"}),c=URL.createObjectURL(h),m=document.createElement("a");m.href=c,m.download=a,document.body.appendChild(m),m.click(),document.body.removeChild(m)};
//# sourceMappingURL=index.ed4ff3d6.js.map
