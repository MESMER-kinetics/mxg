let e,t,n,a,s,i,r,o,l,g,d,h,c,m,u,N,f,p,E;function x(e,t){if(!e.has(t))throw Error(`Key ${t} not found in map`);return e.get(t)}function y(e,t){return void 0==t&&(t=", "),e.map(e=>null==e?"null":e.toString()).join(t)}function w(e){var t="";for(let n=0;n<e.length;n++)t+="<th>"+e[n]+"</th>";return T(t)}function v(e,t=!1){let n="<td";return t&&(n+=' contenteditable="true"'),n+=">"+e+"</td>"}function T(e){return"<tr>"+e+"</tr>\n"}function b(e,t,n,a,s){let i=document.createElement("input");i.type=e,i.id=t,i.onchange=n,i.value=a;let r=document.createElement("label");r.htmlFor=t,s?r.textContent=s+": ":r.textContent="";let o=document.createElement("div");return o.appendChild(r),o.appendChild(i),o}function M(e,t){let n="<"+t;if(e)for(let[t,a]of e)n+=" "+t+'="'+a+'"';return n+" />"}function S(){for(var e=document.getElementsByClassName("collapsible"),t=0;t<e.length;t++)e[t].removeEventListener("click",P),e[t].addEventListener("click",P)}function P(){this.classList.toggle("active");var e=this.nextElementSibling;"block"===e.style.display?e.style.display="none":e.style.display="block"}function B(e,t){let n=e.getElementsByTagName(t)[0];if(null==n)throw Error(t+" element not found");return n}function R(e){let t=e.childNodes;if(null==t)throw Error("Element has no childNodes");return t[0]}function C(e){let t=e.nodeValue;if(null==t)throw Error("nodeValue is null");return t}class L{constructor(e){this.tagName=e}toXML(e){let t=M(null,this.tagName);return e?"\n"+e+t:t}}class z extends L{constructor(e,t){super(t),this.attributes=e}toString(){let e=this.tagName+"(";return this.attributes.forEach((t,n)=>{e+=`${n}(${t}), `}),e}toXML(e){let t="";if(void 0!=e&&(t+="\n"+e),t+="<"+this.tagName,this.attributes)for(let[e,n]of this.attributes)t+=" "+e+'="'+n.toString()+'"';return t+" />"}}class I extends z{constructor(e,t,n){super(e,t),this.value=n}toString(){return super.toString()+`, ${this.value.toString()})`}toXML(e){return O(this.value.trim(),this.tagName,this.attributes,e,!1)}}class A extends z{constructor(e,t,n){super(e,t),this.value=n}toString(){return super.toString()+`, ${this.value.toString()})`}toXML(e){return O(this.value.toString().trim(),this.tagName,this.attributes,e,!1)}}class D extends z{constructor(e,t,n,a){super(e,t),this.delimiter=",",this.values=n,a&&(this.delimiter=a)}toString(){return super.toString()+`, ${this.values.toString()})`}setDelimiter(e){this.delimiter=e}toXML(e){return O(this.values.toString().replaceAll(",",this.delimiter),this.tagName,this.attributes,e,!1)}}class G extends z{constructor(e,t){super(e,t),this.nodes=new Map}addNode(e){this.nodes.set(this.nodes.size,e)}toString(){let e=super.toString();return this.nodes.forEach((t,n)=>{e+=`, ${t.toString()}`}),e+")"}toXML(e,t){let n;void 0!=e&&void 0!=t&&(n=t+e);let a="";if(this.nodes.size>0)return this.nodes.forEach(t=>{t instanceof G?a+=t.toXML(e,n):a+=t.toXML(n)}),O(a,this.tagName,this.attributes,t,!0);{let e=M(this.attributes,this.tagName);return void 0!=t?"\n"+t+e:e}}}function F(e,t,n){let a="";return n&&void 0!=t&&(a+="\n"+t),a+"</"+e+">"}function O(e,t,n,a,s){return function(e,t,n){let a="";if(void 0!=n&&(a+="\n"+n),a+="<"+e,t)for(let[e,n]of t)a+=" "+e+'="'+n.toString()+'"';return a+">"}(t,n,a)+e+F(t,a,s)}function _(e){let t=e.getAttributeNames(),n=new Map;return t.forEach(function(t){let a=e.getAttribute(t);null!=a&&n.set(t,a)}),n}function H(e,t){let n=e.getElementsByTagName(t);if(1!=n.length)throw Error("Expecting 1 "+t+" but finding "+n.length);return n[0]}class k extends z{static{this.tagName="atom"}constructor(e){super(e,k.tagName),void 0==e.get("id")&&console.warn(k.tagName+" id attribute is undefined"),void 0==e.get("elementType")&&console.warn(k.tagName+" elementType attribute is undefined")}get id(){return this.attributes.get("id")}get elementType(){return this.attributes.get("elementType")}}class X extends G{static{this.tagName="atomArray"}constructor(e,t){super(e,X.tagName),t.forEach(e=>{this.nodes.set(this.nodes.size,e)})}}class $ extends z{static{this.tagName="bond"}constructor(e){super(e,$.tagName)}}class V extends G{static{this.tagName="bondArray"}constructor(e,t){super(e,V.tagName),t.forEach(e=>{this.nodes.set(this.nodes.size,e)})}}class U extends A{static{this.tagName="scalar"}constructor(e,t){super(e,U.tagName,t)}}class j extends D{static{this.tagName="array"}constructor(e,t,n){super(e,j.tagName,t,n)}}class q extends G{static{this.tagName="property"}constructor(e,t){super(e,q.tagName),this.nodes.set(0,t)}getProperty(){return this.nodes.get(0)}}class K extends G{static{this.tagName="propertyList"}constructor(e,t){super(e,K.tagName),this.properties=t,t.forEach(e=>{this.nodes.set(this.nodes.size,e)})}}class J extends A{static{this.tagName="me:deltaEDown"}constructor(e,t){super(e,J.tagName,t)}}class W extends G{static{this.tagName="me:energyTransferModel"}constructor(e,t){super(e,W.tagName),t.forEach(e=>{this.nodes.set(this.nodes.size,e)})}}class Z extends z{static{this.tagName="me:DOSCMethod"}constructor(e){super(e,Z.tagName)}}class Q extends I{static{this.tagName="me:bondRef"}constructor(e,t){super(e,Q.tagName,t)}}class Y extends z{static{this.tagName="me:PotentialPoint"}constructor(e){super(e,Y.tagName)}}class ee extends G{static{this.tagName="me:HinderedRotorPotential"}constructor(e,t){super(e,ee.tagName),t.forEach(e=>{this.nodes.set(this.nodes.size,e)})}}class et extends A{static{this.tagName="me:periodicity"}constructor(e,t){super(e,et.tagName,t)}}class en extends G{static{this.tagName="me:ExtraDOSCMethod"}constructor(e,t,n,a){super(e,en.tagName),t&&this.nodes.set(this.nodes.size,t),n&&this.nodes.set(this.nodes.size,n),a&&this.nodes.set(this.nodes.size,a)}}class ea extends A{static{this.tagName="me:reservoirSize"}constructor(e,t){super(e,ea.tagName,t)}}class es extends G{static{this.tagName="molecule"}static{this.energyDictRef="me:ZPE"}static{this.rotConstsDictRef="me:rotConsts"}static{this.vibFreqsDictRef="me:vibFreqs"}constructor(e,t,n,a,s,i,r,o){super(e,es.tagName),this.index=new Map;let l=this.attributes.get("id");if(void 0==l)throw Error("id is undefined");this.id=l;let g=0;if(t&&(this.nodes.set(g,t),t instanceof k?this.index.set(k.tagName,g):this.index.set(X.tagName,g),g++),n&&(this.nodes.set(g,n),this.index.set(V.tagName,g),g++),void 0==a)throw Error("properties is undefined");this.nodes.set(g,a),this.index.set(K.tagName,g),g++,s&&(this.nodes.set(g,s),this.index.set(W.tagName,g),g++),i&&(this.nodes.set(g,i),this.index.set(Z.tagName,g)),r&&(this.nodes.set(g,r),this.index.set(en.tagName,g)),o&&(this.nodes.set(g,o),this.index.set(ea.tagName,g))}getID(){return this.attributes.get("id")}getDescription(){return this.attributes.get("description")}getActive(){let e=this.attributes.get("active");return void 0!=e||e}getProperties(){let e=this.index.get(K.tagName);if(void 0!=e||void 0!=(e=this.index.get(q.tagName)))return this.nodes.get(e)}getPropertyScalar(e){let t=this.getProperties();if(void 0!=t){if(t instanceof K){let n=t.properties.get(e);if(void 0==n)return;return n.getProperty().value}{let e=t.getProperty();if(void 0==e)return;return e.value}}}getEnergy(){let e=this.getPropertyScalar(es.energyDictRef);return void 0==e?0:e}setPropertyScalar(e,t,n){let a=this.getProperties();if(void 0==a)this.nodes.set(this.nodes.size,this.createPropertyScalar(e,t,n)),this.index.set(q.tagName,this.nodes.size);else if(a instanceof q){if(a.getProperty().attributes.get(e))a.getProperty().value=t;else{let s=new Map;s.set(e,a),s.set(e,this.createPropertyScalar(e,t,n)),a=new K(new Map,s)}}else{let s=a.properties.get(e);void 0==s?a.properties.set(e,this.createPropertyScalar(e,t,n)):s.getProperty().value=t}}createPropertyScalar(e,t,n){let a=new Map;a.set("dictRef",e);let s=new Map;return n&&s.set("units",n),new q(a,new U(s,t))}setPropertyArray(e,t,n){let a=this.getProperties();if(void 0==a)this.nodes.set(this.nodes.size,this.createPropertyArray(e,t,n)),this.index.set(q.tagName,this.nodes.size);else if(a instanceof q){if(a.getProperty().attributes.get(e))a.getProperty().values=t;else{let s=new Map;s.set(e,a),s.set(e,this.createPropertyArray(e,t,n)),a=new K(new Map,s)}}else{let s=a.properties.get(e);void 0==s?a.properties.set(e,this.createPropertyArray(e,t,n)):s.getProperty().values=t}}createPropertyArray(e,t,n){let a=new Map;a.set("dictRef",e);let s=new Map;return n&&s.set("units",n),new q(a,new j(s,t))}setEnergy(e){this.setPropertyScalar(es.energyDictRef,e)}setRotConsts(e){this.setPropertyArray(es.rotConstsDictRef,e)}getPropertyArray(e){let t=this.getProperties();if(void 0!=t){if(t instanceof K){let n=t.properties.get(e);if(void 0==n)return;return n.getProperty().values}if(t.getProperty().tagName==e){let e=t.getProperty();if(void 0==e)return;return e.values}}}getRotConsts(){return this.getPropertyArray(es.rotConstsDictRef)}getVibFreqs(){return this.getPropertyArray(es.vibFreqsDictRef)}}class ei extends G{constructor(e,t,n,a){super(e,t),this.nodes.set(0,n),this.molecules=a}getMoleculeAbb(){return this.nodes.get(0)}getRef(){let e=this.getMoleculeAbb().attributes.get("ref");if(null==e)throw console.log(this.getMoleculeAbb().toString()),Error('Attribute "ref" is undefined.');return e}getMolecule(){let e=this.getRef(),t=this.molecules.get(e);if(null==t)throw Error(`Molecule with ref ${e} not found in molecules`);return t}}class er extends ei{static{this.tagName="reactant"}constructor(e,t,n){super(e,er.tagName,t,n)}}class eo extends ei{static{this.tagName="product"}constructor(e,t,n){super(e,eo.tagName,t,n)}}class el extends ei{static{this.tagName="me:transitionState"}constructor(e,t,n){super(e,el.tagName,t,n)}}class eg extends A{static{this.tagName="me:preExponential"}constructor(e,t){super(e,eg.tagName,t)}}class ed extends A{static{this.tagName="me:activationEnergy"}constructor(e,t){super(e,ed.tagName,t)}}class eh extends A{static{this.tagName="me:TInfinity"}constructor(e,t){super(e,eh.tagName,t)}}class ec extends A{static{this.tagName="me:nInfinity"}constructor(e,t){super(e,ec.tagName,t)}}class em extends z{static{this.tagName="me:tunneling"}constructor(e){super(e,em.tagName)}}class eu extends G{static{this.tagName="me:MCRCMethod"}constructor(e){super(e,eu.tagName)}}class eN extends eu{static{this.xsiType="me:MesmerILT"}static{this.xsiType2="MesmerILT"}constructor(e,t,n,a,s){super(e),this.index=new Map,void 0!=t&&(this.index.set(eg.tagName,this.index.size),this.addNode(t)),void 0!=n&&(this.index.set(ed.tagName,this.index.size),this.addNode(n)),void 0!=a&&(this.index.set(eh.tagName,this.index.size),this.addNode(a)),void 0!=s&&(this.index.set(ec.tagName,this.index.size),this.addNode(s))}getPreExponential(){let e=this.index.get(eg.tagName);if(void 0!=e)return this.nodes.get(e)}getActivationEnergy(){let e=this.index.get(ed.tagName);if(void 0!=e)return this.nodes.get(e)}getTInfinity(){let e=this.index.get(eh.tagName);if(void 0!=e)return this.nodes.get(e)}getNInfinity(){let e=this.index.get(ec.tagName);if(void 0!=e)return this.nodes.get(e)}}class ef extends A{static{this.tagName="me:excessReactantConc"}constructor(e,t){super(e,ef.tagName,t)}}class ep extends G{static{this.tagName="reaction"}constructor(e,t,n,a,s,i,r,o){super(e,ep.tagName),this.index=new Map,this.reactants=n,n instanceof Map?n.forEach(e=>{this.addToIndex(er.tagName,e),this.addNode(e)}):void 0!=n&&(this.index.set(er.tagName,this.nodes.size),this.addNode(n)),this.products=a,a instanceof Map?a.forEach(e=>{this.addToIndex(eo.tagName,e),this.addNode(e)}):void 0!=a&&(this.index.set(eo.tagName,this.nodes.size),this.addNode(a)),s&&(this.index.set(em.tagName,this.nodes.size),this.addNode(s)),this.transitionStates=i,i instanceof Map?i.forEach(e=>{this.addToIndex(el.tagName,e),this.addNode(e)}):void 0!=i&&(this.index.set(el.tagName,this.nodes.size),this.addNode(i)),void 0!=r&&(this.index.set(eu.tagName,this.nodes.size),this.addNode(r)),o&&(this.index.set(ef.tagName,this.nodes.size),this.addNode(o))}addToIndex(e,t){let n=this.index.get(e);if(void 0==n)this.index.set(e,this.nodes.size);else if(n instanceof Map)n.set(t.getRef(),this.nodes.size);else{let a=new Map;a.set(this.nodes.get(n).getRef(),n),a.set(t.getRef(),this.nodes.size),this.index.set(e,a)}}getID(){return this.attributes.get("id")}getMCRCMethod(){let e=this.index.get(eu.tagName);if(void 0!=e)return this.nodes.get(e)}getTunneling(){let e=this.index.get(em.tagName);if(void 0!=e)return this.nodes.get(e)}getExcessReactantConc(){let e=this.index.get(ef.tagName);if(void 0!=e)return this.nodes.get(e)}getReactantsLabel(){return void 0==this.reactants?void 0:this.reactants instanceof Map?Array.from(this.reactants.keys()).join(" + "):this.reactants.getRef()}getReactantsEnergy(){return this.reactants instanceof Map?Array.from(this.reactants.values()).map(e=>e.getMolecule().getEnergy()).reduce((e,t)=>e+t,0):0}getProductsLabel(){return void 0==this.products?void 0:this.products instanceof Map?Array.from(this.products.keys()).join(" + "):this.products.getRef()}getProductsEnergy(){return this.products instanceof Map?Array.from(this.products.values()).map(e=>e.getMolecule().getEnergy()).reduce((e,t)=>e+t,0):0}getLabel(){return this.getReactantsLabel()+" -> "+this.getProductsLabel()}}function eE(e,t,n,a,s,i,r,o,l,g,d){let h=a+(i-a)/2;ey(e,d,o,t,h-ew(e,d,o)/2,r+l),ey(e,g,o,t,h-ew(e,g,o)/2,r+3*l),ex(e,t,n,a,s,i,r)}function ex(e,t,n,a,s,i,r){e.beginPath(),e.strokeStyle=t,e.lineWidth=n,e.moveTo(a,s),e.lineTo(i,r),e.stroke()}function ey(e,t,n,a,s,i){e.save(),e.translate(s,i),e.scale(1,-1),e.font=n,e.fillStyle=a,e.fillText(t,0,0),e.restore()}function ew(e,t,n){return e.font=n,e.measureText(t).width}class ev extends I{static{this.tagName="me:bathGas"}constructor(e,t,n){super(e,ev.tagName,t),this.molecules=n}getMolecule(){return this.molecules.get(this.value)}}class eT extends A{static{this.tagName="me:experimentRate"}constructor(e,t){super(e,eT.tagName,t)}}class eb extends G{static{this.tagName="me:PTpair"}constructor(e,t,n){super(e,eb.tagName),this.index=new Map,t&&(this.index.set(ev.tagName,this.nodes.size),this.addNode(t)),n&&(this.index.set(eT.tagName,this.nodes.size),this.addNode(n))}getP(){let e=this.attributes.get("P");if(e)return parseFloat(e);throw Error("P is undefined")}setP(e){this.attributes.set("P",e.toString())}getT(){let e=this.attributes.get("T");if(e)return parseFloat(e);throw Error("T is undefined")}setT(e){this.attributes.set("T",e.toString())}getBathGas(){let e=this.index.get(ev.tagName);return e?this.nodes.get(e):void 0}getExperimentRate(){let e=this.index.get(eT.tagName);return e?this.nodes.get(e):void 0}}class eM extends G{static{this.tagName="me:PTs"}constructor(e,t){super(e,eM.tagName),t.forEach(e=>{this.addNode(e)}),this.pTpairs=t}}class eS extends G{static{this.tagName="me:conditions"}constructor(e,t,n){super(e,eS.tagName),this.addNode(t),this.addNode(n)}getBathGas(){return this.nodes.get(0)}getPTs(){return this.nodes.get(1)}}class eP extends A{static{this.tagName="me:grainSize"}constructor(e,t){super(e,eP.tagName,t)}toString(){return`GrainSize(${super.toString()})`}}class eB extends A{static{this.tagName="me:energyAboveTheTopHill"}constructor(e,t){super(e,eB.tagName,t)}}class eR extends G{static{this.tagName="me:modelParameters"}constructor(e,t){super(new Map,eR.tagName),this.addNode(e),this.addNode(t)}getGrainSize(){return this.nodes.get(0)}getEnergyAboveTheTopHill(){return this.nodes.get(1)}}class eC extends L{static{this.tagName="me:testDOS"}constructor(){super(eC.tagName)}}class eL extends L{static{this.tagName="me:printSpeciesProfile"}constructor(){super(eL.tagName)}}class ez extends L{static{this.tagName="me:testMicroRates"}constructor(){super(ez.tagName)}}class eI extends L{static{this.tagName="me:testRateConstant"}constructor(){super(eI.tagName)}}class eA extends L{static{this.tagName="me:printGrainDOS"}constructor(){super(eA.tagName)}}class eD extends L{static{this.tagName="me:printCellDOS"}constructor(){super(eD.tagName)}}class eG extends L{static{this.tagName="me:printReactionOperatorColumnSums"}constructor(){super(eG.tagName)}}class eF extends L{static{this.tagName="me:printTunnellingCoefficients"}constructor(){super(eF.tagName)}}class eO extends L{static{this.tagName="me:printGrainkfE"}constructor(){super(eO.tagName)}}class e_ extends L{static{this.tagName="me:printGrainBoltzmann"}constructor(){super(e_.tagName)}}class eH extends L{static{this.tagName="me:printGrainkbE"}constructor(){super(eH.tagName)}}class ek extends A{static{this.tagName="me:eigenvalues"}constructor(e,t){super(e,ek.tagName,t)}}class eX extends L{static{this.tagName="me:hideInactive"}constructor(){super(eX.tagName)}}class e$ extends A{static{this.tagName="me:diagramEnergyOffset"}constructor(e,t){super(e,e$.tagName,t)}}class eV extends G{static{this.tagName="me:control"}constructor(e,t,n,a,s,i,r,o,l,g,d,h,c,m,u){super(e,eV.tagName),this.index=new Map,void 0!=t&&(this.addNode(t),this.index.set(eC.tagName,this.index.size)),void 0!=n&&(this.addNode(n),this.index.set(eL.tagName,this.index.size)),void 0!=a&&(this.addNode(a),this.index.set(ez.tagName,this.index.size)),void 0!=s&&(this.addNode(s),this.index.set(eI.tagName,this.index.size)),void 0!=i&&(this.addNode(i),this.index.set(eA.tagName,this.index.size)),void 0!=r&&(this.addNode(r),this.index.set(eD.tagName,this.index.size)),void 0!=o&&(this.addNode(o),this.index.set(eG.tagName,this.index.size)),void 0!=l&&(this.addNode(l),this.index.set(eF.tagName,this.index.size)),void 0!=g&&(this.addNode(g),this.index.set(eO.tagName,this.index.size)),void 0!=d&&(this.addNode(d),this.index.set(e_.tagName,this.index.size)),void 0!=h&&(this.addNode(h),this.index.set(eH.tagName,this.index.size)),void 0!=c&&(this.addNode(c),this.index.set(ek.tagName,this.index.size)),void 0!=m&&(this.addNode(m),this.index.set(eX.tagName,this.index.size)),void 0!=u&&(this.addNode(u),this.index.set(e$.tagName,this.index.size))}getTestDOS(){let e=this.index.get(eC.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getPrintSpeciesProfile(){let e=this.index.get(eL.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getTestMicroRates(){let e=this.index.get(ez.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getTestRateConstant(){let e=this.index.get(eI.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getPrintGrainDOS(){let e=this.index.get(eA.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getPrintCellDOS(){let e=this.index.get(eD.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getPrintReactionOperatorColumnSums(){let e=this.index.get(eG.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getPrintTunnellingCoefficients(){let e=this.index.get(eF.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getPrintGrainkfE(){let e=this.index.get(eO.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getPrintGrainBoltzmann(){let e=this.index.get(e_.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getPrintGrainkbE(){let e=this.index.get(eH.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getEigenvalues(){let e=this.index.get(ek.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getHideInactive(){let e=this.index.get(eX.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getDiagramEnergyOffset(){let e=this.index.get(e$.tagName)??-1;if(-1!==e)return this.nodes.get(e)}}let eU="me:title",ej=new Map,eq=new Map;const eK=`<?xml version="1.0" encoding="utf-8" ?>
<?xml-stylesheet type='text/xsl' href='../../mesmer2.xsl' media='other'?>
<?xml-stylesheet type='text/xsl' href='../../mesmer1.xsl' media='screen'?>`;function eJ(e){let t=_(e),n=e.children;if(1!=n.length)throw Error("Expecting 1 child but finding "+n.length);let a=_(n[0]),s=n[0].nodeName,i=n[0].textContent;if(null==i)throw console.error("nodeName"),Error("textContent is null");if(i=i.trim(),null==t.get("dictRef"))throw Error("dictRef is null");if(s==U.tagName)return new q(t,new U(a,parseFloat(i)));if(s==j.tagName)return new q(t,new j(a,function(e){let t=[];for(let n=0;n<e.length;n++)t.push(parseFloat(e[n]));return t}(i.split(/\s+/))," "));throw Error("Unexpected nodeName: "+s)}function eW(e){let t=e.id.split("_")[0],n=ej.get(t);if(n){let a=parseFloat(e.value);isNaN(a)?(alert("Energy input for "+t+" is not a number"),N.value=e.value):(n.setEnergy(a),console.log("Energy of "+t+" set to "+a))}}function eZ(e){let t=e.id.split("_")[0],n=ej.get(t);if(n){let a=e.value,s=a.split(/\s+/),i=n.getRotConsts();if(i){let e=i.length,r=!0;if(s.forEach(function(e){isNaN(parseFloat(e))&&(alert("A rotation constant for "+t+" is not a number, resetting..."),N.value=a,r=!1)}),r){if(s.length==e){let e=a.split(" ").map(Number);n.setRotConsts(e),console.log("Rotation constants of "+t+" changed from: "+i+" to: "+e)}else alert("Expecting "+e+" rotation constants for "+t+" but finding "+s.length+" resetting..."),N.value=a}}}}document.addEventListener("DOMContentLoaded",M=>{m=document.getElementById("xml_title"),u=document.getElementById("xml_text"),window.loadXML=function(){!function M(){(N=document.createElement("input")).type="file",N.onchange=function(){if(N.files){for(let e=0;e<N.files.length;e++)console.log("inputElement.files["+e+"]="+N.files[e]);let s=N.files[0];if(console.log(s.name),a=s.name,null!=u){let i=new FileReader,N=0,M="";i.onload=function(P){if(!P.target)throw Error("Event target is null");if(M+=P.target.result,null!=s){if(N<s.size){let e=s.slice(N,N+1048576);i.readAsText(e),N+=1048576}else{var L;L=M=M.trim(),null!=m&&(m.innerHTML=a),null!=u&&(u.innerHTML=L.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/  /g,"&nbsp;&nbsp;")),function(a){let s,i,m,u,N,M,P,L,I,A,D,G,O,U,j,ei;t="\n";let ey=a.documentElement;if(null==ey)throw Error("Document element not found");{let e=ey.tagName;t+="<"+e,console.log(e),n=F(e,"",!0);let a=!0,s=" ".repeat(e.length+2);ey.getAttributeNames().forEach(function(e){let n=ey.getAttribute(e),i=`${e}="${n}"`;a?(a=!1,t+=" "+i):t+="\n"+s+i}),t+=">"}(function(t){if(null==(r=t.getElementsByTagName(eU)))throw Error(eU+" not found");if(1!=r.length)throw Error("Multiple "+eU+" elements found");{console.log("Title="+(e=(e=r[0].childNodes[0].nodeValue).trim()));let t=document.getElementById("title");null!=t&&(t.innerHTML=e)}})(a),function(e){let t="moleculeList";console.log("Read and store "+t);let n=H(e,t);null!=(o=document.getElementById("molecules_title"))&&(o.innerHTML="Molecules");let a=new Set;if(n.childNodes.forEach(function(e){a.add(e.nodeName)}),1!=a.size&&!(2==a.size&&a.has("#text")))throw console.error("moleculeListTagNames:"),a.forEach(e=>console.error(e)),Error("Additional tag names in moleculeList:");if(!a.has(es.tagName))throw Error('Expecting tags with "'+es.tagName+'" tagName but there are none!');let s=n.getElementsByTagName(es.tagName);console.log("Number of molecules="+s.length);for(let e=0;e<s.length;e++){let t,n,a,i,r,o,l,g,d=_(s[e]),h=new Set,c=s[e].childNodes;for(let e=0;e<c.length;e++){let t=c[e];h.has(t.nodeName)?"#text"!=t.nodeName&&console.warn("Another ChildNode with nodeName="+t.nodeName):h.add(t.nodeName)}let m=s[e].getElementsByTagName(X.tagName);if(m.length>1)throw Error("Expecting 1 or 0 "+X.tagName+" but finding "+m.length+"!");if(1==m.length){let e=m[0],t=e.getElementsByTagName(k.tagName);if(t.length<2)throw Error("Expecting 2 or more atoms in "+X.tagName+", but finding "+t.length+"!");let n=[];for(let e=0;e<t.length;e++)n.push(new k(_(t[e])));i=new X(_(e),n),h.delete(X.tagName)}else{let t=s[e].getElementsByTagName(k.tagName);if(1==t.length)i=new k(_(t[0]));else if(t.length>1)throw Error("Expecting 1 "+k.tagName+" but finding "+t.length+". Should these be in an "+X.tagName+"?")}h.delete(k.tagName);let u=s[e].getElementsByTagName(V.tagName);if(u.length>1)throw Error("Expecting 1 or 0 "+V.tagName+" but finding "+u.length+"!");if(1==u.length){let e=u[0],t=e.getElementsByTagName($.tagName),n=[];for(let e=0;e<t.length;e++)n.push(new $(_(t[e])));r=new V(_(e),n),h.delete(V.tagName)}else{let t=s[e].getElementsByTagName($.tagName);if(1==t.length)r=new $(_(t[0]));else if(t.length>1)throw Error("Expecting 1 "+$.tagName+" but finding "+t.length+". Should these be in a "+V.tagName+"?")}h.delete($.tagName);let N=s[e].getElementsByTagName(K.tagName);if(N.length>1)throw Error("Expecting 1 or 0 "+K.tagName+" but finding "+N.length+"!");if(1==N.length){let e=N[0],t=e.getElementsByTagName(q.tagName);if(t.length<2)throw Error("Expecting 2 or more "+q.tagName+" in "+K.tagName+", but finding "+t.length+"!");let n=new Map;for(let e=0;e<t.length;e++){let a=eJ(t[e]),s=a.attributes.get("dictRef");n.set(s,a)}o=new K(_(e),n),h.delete(K.tagName)}else{let t=s[e].getElementsByTagName(q.tagName);if(t.length>1)throw Error("Expecting 1 "+q.tagName+" but finding "+t.length+". Should these be in a "+K.tagName+"?");o=eJ(t[0])}if(h.delete(q.tagName),h.delete(W.tagName),null!=(l=s[e].getElementsByTagName(W.tagName))&&l.length>0){if(1!=l.length)throw Error("energyTransferModel length="+l.length);let e=l[0].getElementsByTagName(J.tagName);if(null!=e){let n=[];for(let t=0;t<e.length;t++){let a=parseFloat(C(R(e[t]))),s=new J(_(e[t]),a);n.push(s)}t=new W(_(l[0]),n)}}if(h.delete(Z.tagName),null!=(l=s[e].getElementsByTagName(Z.tagName))){let e=l[0];null!=e&&(n=new Z(_(e)))}if(h.delete(en.tagName),(l=s[e].getElementsByTagName(en.tagName)).length>0){let e,t,n;if(1!=l.length)throw Error("Expecting only 1 extra DOSCMethod, but there are "+l.length);let s=l[0].getElementsByTagName(Q.tagName);if(s.length>0){if(1!=s.length)throw Error("Expecting only 1 bondRef, but there are "+s.length);e=new Q(_(s[0]),C(R(s[0])))}let i=l[0].getElementsByTagName(ee.tagName);if(i.length>0){if(1!=i.length)throw Error("Expecting only 1 HinderedRotorPotential, but there are "+i.length);let e=[],n=i[0].getElementsByTagName(Y.tagName);for(let t=0;t<n.length;t++)e.push(new Y(_(n[t])));t=new ee(_(i[0]),e)}let r=l[0].getElementsByTagName(et.tagName);if(r.length>0){if(1!=r.length)throw Error("Expecting only 1 Periodicity, but there are "+r.length);n=new et(_(r[0]),parseFloat(C(R(r[0]))))}a=new en(_(l[0]),e,t,n)}if(h.delete(ea.tagName),(l=s[e].getElementsByTagName(ea.tagName)).length>0){if(1!=l.length)throw Error("Expecting only 1 reservoirSize, but there are "+l.length);g=new ea(_(l[0]),parseFloat(C(R(l[0]))))}h.delete("#text"),h.size>0&&(console.warn("There are additional unexpected moleculeTagNames:"),h.forEach(e=>console.warn(e)));let f=new es(d,i,r,o,t,n,a,g);ej.set(f.id,f)}}(a),0!=ej.size&&(ej.forEach(function(e,t){var n,a;let s,i,r,o=e.getEnergy();r=null==o?"":o.toString();let l="",g=e.getRotConsts();void 0!=g&&(l=y(g," "));let d=e.getVibFreqs();void 0!=d&&y(d," ");let h=b("number",t+"_energy",e=>{e.target instanceof HTMLInputElement&&eW(e.target)},r,"Energy"),c=b("text",t+"_rotConst",e=>{e.target instanceof HTMLInputElement&&eZ(e.target)},l,"Rotation Constants"),m=document.createElement("div");m.appendChild(h),m.appendChild(c);let u=(n=t+"_details",a="collapsible",s=document.createElement("div"),a&&(s.id=a),(i=document.createElement("button")).className="collapsible",n?i.innerText=n:i.innerText="Show/Hide Details",s.appendChild(i),s.appendChild(m),S(),s);if(u.appendChild(m),null!==document.getElementById("moleculesList")){let e=document.getElementById("molecules");e&&e.appendChild(u)}}),S()),ej.forEach(function(e,t){let n=document.getElementById(t+"_energy");n&&n.addEventListener("change",n=>{let a=n.target.value;e.setEnergy(parseFloat(a)),console.log("Set energy of "+t+" to "+a+" kJ/mol")});let a=document.getElementById(t+"_rotConsts");a&&a.addEventListener("change",n=>{let a=n.target.value,s=[];a.split(/\s+/).forEach(function(e){s.push(parseFloat(e))}),e.setRotConsts(s),console.log("Set rotConsts of "+t+" to "+a)})}),function(e){let t="reactionList";console.log(t);let n=H(e,t).getElementsByTagName(ep.tagName),a=n.length;if(console.log("Number of reactions="+a),0==a)throw Error("No reactions: There should be at least 1!");null!=(l=document.getElementById("reactions_title"))&&(l.innerHTML="Reactions");for(let e=0;e<a;e++){let t=_(n[e]),a=t.get("id");if(null==a)throw Error("reactionID is null");if(null!=a){let s,i,r,o,l,g;console.log("id="+a);let d=n[e].getElementsByTagName(er.tagName);if(d.length>0){if(d.length<2){let e=new z(_(B(d[0],es.tagName)),es.tagName);s=new er(_(d[0]),e,ej)}else{s=new Map;for(let e=0;e<d.length;e++){let t=new z(_(B(d[e],es.tagName)),es.tagName),n=new er(_(d[e]),t,ej);s.set(n.getRef(),n)}}}let h=n[e].getElementsByTagName(eo.tagName);if(h.length>0){if(h.length<2){let e=new z(_(B(h[0],es.tagName)),es.tagName);i=new eo(_(h[0]),e,ej)}else{i=new Map;for(let e=0;e<h.length;e++){let t=new z(_(B(h[e],es.tagName)),es.tagName),n=new eo(_(h[e]),t,ej);i.set(n.getRef(),n)}}}let c=n[e].getElementsByTagName(el.tagName);if(c.length>0){if(c.length<2){let e=new z(_(c[0].getElementsByTagName(es.tagName)[0]),es.tagName);r=new el(_(c[0]),e,ej)}else{r=new Map;for(let e=0;e<c.length;e++){let t=new z(_(c[e].getElementsByTagName(es.tagName)[0]),es.tagName),n=new el(_(c[e]),t,ej);r.set(n.getRef(),n)}}}let m=n[e].getElementsByTagName(em.tagName);if(m.length>0){if(m.length>1)throw Error("Expecting 1 "+em.tagName+" but finding "+m.length+"!");o=new em(_(m[0]))}let u=n[e].getElementsByTagName(eu.tagName);if(u.length>0){if(u.length>1)throw Error("Expecting 1 "+eu.tagName+" but finding "+u.length+"!");{let e=_(u[0]),t=e.get("name");if(void 0==t||t==eN.xsiType2){let t=e.get("xsi:type");if(void 0!=t&&(t==eN.xsiType||t==eN.xsiType2)){let t,n,a,s;let i=u[0].getElementsByTagName(eg.tagName);if(null!=i&&null!=i[0]){let e=parseFloat(C(R(i[0])));t=new eg(_(i[0]),e)}let r=u[0].getElementsByTagName(ed.tagName);if(null!=r&&null!=r[0]){let e=parseFloat(C(R(r[0])));n=new ed(_(r[0]),e)}let o=u[0].getElementsByTagName(eh.tagName);if(null!=o&&null!=o[0]){let e=parseFloat(C(R(o[0])));a=new ec(_(o[0]),e)}let g=u[0].getElementsByTagName(ec.tagName);if(null!=g&&null!=g[0]){let e=parseFloat(C(R(g[0])));s=new ec(_(g[0]),e)}l=new eN(e,t,n,a,s)}}else l=new eu(e)}}let N=n[e].getElementsByTagName(ef.tagName);if(N.length>0){if(N.length>1)throw Error("Expecting 1 "+ef.tagName+" but finding "+N.length+"!");let e=parseFloat(C(R(N[0])));g=new ef(_(N[0]),e)}let f=new ep(t,a,s,i,o,r,l,g);eq.set(a,f)}}}(a),function(){if(0==eq.size)return;let e=w(["ID","Reactants","Products","Transition State","PreExponential","Activation Energy","TInfinity","NInfinity"]);eq.forEach(function(t,n){let a=t.getReactantsLabel()||"",s=t.getProductsLabel()||"",i="",r="",o="",l="",d="",h=t.transitionStates;if(void 0!=h){if(h instanceof Map)h.forEach(function(e){let t=e.getRef();null!=t&&(i=t+" ")});else{let e=h.getRef();null!=e&&(i=e)}}let c=t.getMCRCMethod();if(void 0!=c){if(c instanceof eN){let e=c.getPreExponential();void 0!=e&&(r=e.value.toString()+" "+e.attributes.get("units"));let t=c.getActivationEnergy();void 0!=t&&(o=t.value.toString()+" "+t.attributes.get("units"));let n=c.getTInfinity();void 0!=n&&(l=n.value.toString());let a=c.getNInfinity();void 0!=a&&(d=a.value.toString())}else if("RRKM"==c.attributes.get("name"));else throw console.log("Unexpected mCRCMethod: "+c),Error("Unexpected mCRCMethod: "+c)}e+=T(v(n)+v(a)+v(s)+v(i)+v(r,!0)+v(o,!0)+v(l,!0)+v(d,!0)),null!==(g=document.getElementById("reactions_table"))&&(g.innerHTML=e)})}(),function(){if(eq.size>1){null!=(d=document.getElementById("reactions_diagram_title"))&&(d.innerHTML="Diagram");let e=document.getElementById("reactions_diagram");null!=e&&(e.style.display="block",function(e,t,n,a,s,i,r){var o;let l,g,d,h;console.log("drawReactionDiagram");let c="black",m=e.getContext("2d"),u=(m.font=s,(o=m.measureText("Aj")).actualBoundingBoxAscent+o.actualBoundingBoxDescent),N=new Set,f=new Set,p=new Set,E=new Set,y=new Map,w=new Map,v=0,T=Number.MAX_VALUE,b=Number.MIN_VALUE;n.forEach(function(e,t){let n=e.transitionStates,a=e.getReactantsLabel();if(void 0!=a){N.add(a),f.has(a)&&p.add(a);let t=e.getReactantsEnergy();T=Math.min(T,t),b=Math.max(b,t),w.set(a,t),!y.has(a)&&(y.set(a,v),v++)}let s=e.getProductsLabel();if(void 0!=s){f.add(s);let t=e.getProductsEnergy();if(T=Math.min(T,t),b=Math.max(b,t),w.set(s,t),y.has(s)){v--;let e=x(y,s);if(y.forEach(function(t,n){t>e&&y.set(n,t-1)}),void 0!=n){if(n instanceof Map)n.forEach(function(e,n){let a=e.getRef();E.add(a),y.set(a,v),t=e.getMolecule().getEnergy(),T=Math.min(T,t),b=Math.max(b,t),w.set(a,t),v++});else{let e=n.getRef();E.add(e),y.set(e,v),t=n.getMolecule().getEnergy(),T=Math.min(T,t),b=Math.max(b,t),w.set(e,t),v++}y.set(s,v),v++}}else{if(void 0!=n){if(n instanceof Map)n.forEach(function(e,n){let a=e.getRef();E.add(a),y.set(a,v),t=e.getMolecule().getEnergy(),T=Math.min(T,t),b=Math.max(b,t),w.set(a,t),v++});else{let e=n.getRef();E.add(e),y.set(e,v),t=n.getMolecule().getEnergy(),T=Math.min(T,t),b=Math.max(b,t),w.set(e,t),v++}}y.set(s,v),v++}}});let M=b-T,S=[];y.forEach(function(e,t){S[e]=t});let P=0,B=0,R=new Map,C=new Map,L=new Map,z=new Map,I=new Map,A=new Map;S.forEach(function(t){let n=x(w,t),a=(n-T)*e.height/(M+0)+0;h=Math.max(ew(m,n.toString(),s),ew(m,t,s)),g=P+h+5,d=l=a+4,R.set(t,[P,l]),C.set(t,[g,d]),f.has(t)&&(L.set(t,[P,l]),z.set(t,[g,d])),E.has(t)&&(I.set(t,[P,l]),A.set(t,[g,d])),P=g+10,B=g}),e.width=B;let D=e.height+4*u+8,G=e.height;e.height=D,m.transform(1,0,0,-1,0,D),n.forEach(function(e,t){let n=e.transitionStates,a=e.getReactantsLabel(),s=e.getProductsLabel(),i=x(C,a),o=x(L,s);if(void 0!=n){if(n instanceof Map)n.forEach(function(e,t){let n=e.getRef(),a=x(I,n);ex(m,c,2,i[0],i[1],a[0],a[1]);let s=x(A,n);ex(m,c,2,s[0],s[1],o[0],o[1])});else{let e=n.getRef(),t=x(I,e);ex(m,c,2,i[0],i[1],t[0],t[1]);let a=x(A,e);ex(m,c,r,a[0],a[1],o[0],o[1])}}else ex(m,c,r,i[0],i[1],o[0],o[1])}),N.forEach(function(e){let t=x(w,e),n=(t-T)*G/(M+0)+0,a=x(R,e)[0],r=n+4;eE(m,"blue",i,a,r,x(C,e)[0],r,s,u,e,t.toString())}),f.forEach(function(e){let t=x(w,e),n=(t-T)*G/(M+0)+0,a=x(L,e)[0],r=n+i,o=x(z,e)[0],l=t.toString();p.has(e)?eE(m,"orange",i,a,r,o,r,s,u,e,l):eE(m,"green",i,a,r,o,r,s,u,e,l)}),E.forEach(function(e){let t=x(w,e),n=(t-T)*G/(M+0)+0,a=x(I,e)[0],r=n+i;eE(m,"red",i,a,r,x(A,e)[0],r,s,u,e,t.toString())})}(e,0,eq,0,"14px Arial",4,2))}}(),function(e){console.log(eS.tagName);let t=H(e,eS.tagName);null!=(h=document.getElementById("conditions_title"))&&(h.innerHTML="Conditions");let n=B(t,ev.tagName),a=new ev(_(n),C(R(n)),ej),s=H(t,"me:PTs"),i=s.getElementsByTagName(eb.tagName),r=[];for(let e=0;e<i.length;e++){let t,n,a=i[e].getElementsByTagName(ev.tagName);a.length>0&&(a.length>1&&console.warn("xml_bathGass.length="+a.length),console.log("pTBathGas"+(t=new ev(_(a[0]),C(R(a[0])),ej)).toString()));let s=i[e].getElementsByTagName(eT.tagName);s.length>0&&(s.length>1&&console.warn("xml_experimentRates.length="+s.length),console.log("experimentRate"+(n=new eT(_(s[0]),parseFloat(C(R(s[0]))))).toString())),r.push(new eb(_(i[e]),t,n))}f=new eS(_(t),a,new eM(_(s),r))}(a),null!=(s=document.getElementById("bathGas"))&&(s.innerHTML="Bath Gas "+f.getBathGas().value),i=document.getElementById("PT_table"),m=["P","T"],(u=f.getPTs().pTpairs.some(e=>void 0!=e.getBathGas()))&&m.push("BathGas"),(N=f.getPTs().pTpairs.some(e=>void 0!=e.getExperimentRate()))&&m.push("ExperimentRate"),M=w(m),null!=i&&(f.getPTs().pTpairs.forEach(function(e){M+=T(v(e.getP().toString())+v(e.getT().toString())),u&&(M+=v(e.getBathGas()?.toString()??"")),N&&(M+=v(e.getExperimentRate()?.toString()??""))}),i.innerHTML=M),console.log(eR.tagName),P=H(a,eR.tagName),null!=(c=document.getElementById("modelParameters_title"))&&(c.innerHTML="Model Parameters"),L=H(P,eP.tagName),I=new eP(_(L),parseFloat(C(R(L)))),A=H(P,eB.tagName),p=new eR(I,new eB(_(A),parseFloat(C(R(A))))),D=document.getElementById("modelParameters_table"),G=w(["Parameter","Value"])+(T(v("Grain Size")+v(p.getGrainSize().value.toString()))+T(v("Energy Above The Top Hill")+v(p.getEnergyAboveTheTopHill().value.toString()))),null!=D&&(D.innerHTML=G),function(e){let t,n,a,s,i,r,o,l,g,d,h,c,m,u;console.log(eV.tagName);let N=H(e,eV.tagName),f=document.getElementById("control_title");null!=f&&(f.innerHTML="Control");let p=N.getElementsByTagName(eC.tagName);1==p.length?t=new eC:p.length>1&&console.warn("testDOS.length="+p.length);let x=N.getElementsByTagName(eL.tagName);1==x.length?n=new eL:x.length>1&&console.warn("printSpeciesProfile.length="+x.length);let y=N.getElementsByTagName(ez.tagName);1==y.length?a=new ez:y.length>1&&console.warn("testMicroRates.length="+y.length);let w=N.getElementsByTagName(eI.tagName);1==w.length?s=new eI:w.length>1&&console.warn("testRateConstant.length="+w.length);let v=N.getElementsByTagName(eA.tagName);1==v.length?i=new eA:v.length>1&&console.warn("printGrainDOS.length="+v.length);let T=N.getElementsByTagName(eD.tagName);1==T.length?r=new eD:T.length>1&&console.warn("printCellDOS.length="+T.length);let b=N.getElementsByTagName(eG.tagName);1==b.length?o=new eG:b.length>1&&console.warn("printReactionOperatorColumnSums.length="+b.length);let M=N.getElementsByTagName(eF.tagName);1==M.length?l=new eF:M.length>1&&console.warn("printTunnellingCoefficients.length="+M.length);let S=N.getElementsByTagName(eO.tagName);1==S.length?g=new eO:S.length>1&&console.warn("printGrainkfE.length="+S.length);let P=N.getElementsByTagName(e_.tagName);1==P.length?d=new e_:P.length>1&&console.warn("printGrainBoltzmann.length="+P.length);let B=N.getElementsByTagName(eH.tagName);1==B.length?h=new eH:B.length>1&&console.warn("printGrainkbE.length="+B.length);let L=N.getElementsByTagName(ek.tagName);1==L.length?c=new ek(_(L[0]),parseFloat(C(R(L[0])))):console.warn("eigenvalues.length="+L.length);let z=N.getElementsByTagName(eX.tagName);1==z.length?m=new eX:console.warn("hideInactive.length="+z.length);let I=N.getElementsByTagName(e$.tagName);if(1==I.length){let e=parseFloat(C(R(I[0])));u=new e$(_(I[0]),e)}else console.warn("diagramEnergyOffset.length="+I.length);E=new eV(_(N),t,n,a,s,i,r,o,l,g,d,h,c,m,u)}(a),O=document.getElementById("control_table"),U=w(["Control","Value"]),void 0!=E.getTestDOS()&&(U+=T(v(eC.tagName)+v(""))),void 0!=E.getPrintSpeciesProfile()&&(U+=T(v(eL.tagName)+v(""))),void 0!=E.getTestMicroRates()&&(U+=T(v(ez.tagName)+v(""))),void 0!=E.getTestRateConstant()&&(U+=T(v(eI.tagName)+v(""))),void 0!=E.getPrintGrainDOS()&&(U+=T(v(eA.tagName)+v(""))),void 0!=E.getPrintCellDOS()&&(U+=T(v(eD.tagName)+v(""))),void 0!=E.getPrintReactionOperatorColumnSums()&&(U+=T(v(eG.tagName)+v(""))),void 0!=E.getPrintTunnellingCoefficients()&&(U+=T(v(eF.tagName)+v(""))),void 0!=E.getPrintGrainkfE()&&(U+=T(v(eO.tagName)+v(""))),void 0!=E.getPrintGrainBoltzmann()&&(U+=T(v(e_.tagName)+v(""))),void 0!=E.getPrintGrainkbE()&&(U+=T(v(eH.tagName)+v(""))),void 0!=(j=E.getEigenvalues())&&(U+=T(v(ek.tagName)+v(j.value.toString()))),void 0!=E.getHideInactive()&&(U+=T(v(eX.tagName)+v(""))),void 0!=(ei=E.getDiagramEnergyOffset())&&(U+=T(v(e$.tagName)+v(ei.value.toString()))),null!=O&&(O.innerHTML=U)}(new DOMParser().parseFromString(M,"text/xml"))}}};let P=s.slice(N,N+1048576);i.readAsText(P),N+=1048576}}},N.click(),null!=(s=document.getElementById("load_button"))&&s.addEventListener("click",M),null!=(i=document.getElementById("saveButton"))&&(i.style.display="inline")}()}}),window.setEnergy=eW,window.setRotConst=eZ,window.saveXML=function(){console.log("saveXML");let s="  ".repeat(2),i="\n  "+O(e,"me:title"),r="";ej.forEach(function(e,t){r+=e.toXML("  ",s)}),r=O(r,"moleculeList",void 0,"  ",!0);let o="";eq.forEach(function(e,t){o+=e.toXML("  ",s)}),o=O(o,"reactionList",void 0,"  ",!0);let l=f.toXML("  ","  "),g=p.toXML("  ","  "),d=E.toXML("  ","  "),h=new Blob([eK,t,i,r,o,l,g,d,n],{type:"text/plain"}),c=URL.createObjectURL(h),m=document.createElement("a");m.href=c,m.download=a,document.body.appendChild(m),m.click(),document.body.removeChild(m)};
//# sourceMappingURL=index.3b49291d.js.map
