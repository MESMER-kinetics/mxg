let e,t,s,i,n,a,r,o;function d(e,t){if(!e.has(t))throw Error(`Key ${t} not found in map`);return e.get(t)}function g(e,t){return void 0==t&&(t=", "),e.map(e=>null==e?"null":e.toString()).join(t)}function h(e){let t=[];for(let s=0;s<e.length;s++)l(e[s])&&t.push(parseFloat(e[s]));return t}function l(e){return""!==e&&!isNaN(Number(e))}function c(e,t,s,i,n){let a=document.createElement("div");a.id=i,void 0!=n&&(a.className=n);let r=document.createElement("button");return r.id=e,r.className="collapsible",r.innerText=t,a.appendChild(r),a.appendChild(s),a}function u(){this.classList.toggle("active");let e=this.nextElementSibling;"block"===e.style.display?e.style.display="none":e.style.display="block"}function m(e,t,s,i,n){let a=document.createElement("input");a.type=e,a.id=t,a.onchange=s,a.value=i;let r=document.createElement("label");r.htmlFor=t,n?r.textContent=n+": ":r.textContent="";let o=document.createElement("div");return o.appendChild(r),o.appendChild(a),o}function N(e,t){let s="<"+t;if(e)for(let[t,i]of e)s+=" "+t+'="'+i+'"';return s+" />"}function f(e,t){void 0==t&&(t=4),e.style.width=e.value.length+t+"ch"}function p(e){let t=e.childNodes;if(null==t)throw Error("Element has no childNodes");return t[0]}function x(e){let t=e.nodeValue;if(null==t)throw Error("nodeValue is null");return t}class v{constructor(e){this.tagName=e}toXML(e){let t=N(void 0,this.tagName);return e?"\n"+e+t:t}}class E extends v{constructor(e,t){super(t),this.attributes=e}toString(){let e=this.tagName+"(";return this.attributes&&this.attributes.forEach((t,s)=>{e+=`${s}(${t}), `}),e}toXML(e){let t="";if(void 0!=e&&(t+="\n"+e),t+="<"+this.tagName,this.attributes)for(let[e,s]of this.attributes)t+=" "+e+'="'+s.toString()+'"';return t+" />"}}class y extends E{constructor(e,t,s){super(e,t),this.value=s}toString(){return super.toString()+`, ${this.value.toString()})`}toXML(e){return z(this.value.trim(),this.tagName,this.attributes,e,!1)}}class b extends E{constructor(e,t,s){super(e,t),this.value=s}toString(){return super.toString()+`, ${this.value.toString()})`}toXML(e){return z(this.value.toString().trim(),this.tagName,this.attributes,e,!1)}}class w extends E{constructor(e,t,s,i){super(e,t),this.delimiter=",",this.values=s,void 0!=i&&(this.delimiter=i)}toString(){return super.toString()+`, ${this.values.toString()})`}setDelimiter(e){this.delimiter=e}toXML(e){return z(this.values.toString().replaceAll(",",this.delimiter),this.tagName,this.attributes,e,!1)}}class M extends E{constructor(e,t){super(e,t),this.nodes=new Map}addNode(e){return this.nodes.set(this.nodes.size,e),this.nodes.size-1}toString(){let e=super.toString();return this.nodes.forEach((t,s)=>{e+=`, ${t.toString()}`}),e+")"}toXML(e,t){let s;void 0!=e&&void 0!=t&&(s=t+e);let i="";if(this.nodes.size>0)return this.nodes.forEach(t=>{t instanceof M?i+=t.toXML(e,s):i+=t.toXML(s)}),z(i,this.tagName,this.attributes,t,!0);{let e=N(this.attributes,this.tagName);return void 0!=t?"\n"+t+e:e}}}function z(e,t,s,i,n){let a;return function(e,t,s){let i="";if(void 0!=s&&(i+="\n"+s),i+="<"+e,t)for(let[e,s]of t)i+=" "+e+'="'+s.toString()+'"';return i+">"}(t,s,i)+e+(a="",n&&void 0!=i&&(a+="\n"+i),a+"</"+t+">")}function P(e){let t=e.getAttributeNames(),s=new Map;return t.forEach(function(t){let i=e.getAttribute(t);null!=i&&s.set(t,i)}),s}class T extends E{static{this.tagName="atom"}constructor(e){super(e,T.tagName);let t=e.get("elementType");if(void 0==t)throw Error("elementType is undefined");this.elementType=t;let s=e.get("id");void 0==s&&(s=this.elementType),this.id=s}}class S extends M{static{this.tagName="atomArray"}constructor(e,t){super(e,S.tagName),t.forEach(e=>{this.nodes.set(this.nodes.size,e)})}}class R extends E{static{this.tagName="bond"}constructor(e){super(e,R.tagName);let t=e.get("atomRefs2");if(void 0==t)throw Error("atomRefs2 is undefined");this.atomRefs2=t}}class L extends M{static{this.tagName="bondArray"}constructor(e,t){super(e,L.tagName),t.forEach(e=>{this.nodes.set(this.nodes.size,e)})}}class C extends b{static{this.tagName="scalar"}constructor(e,t){super(e,C.tagName,t)}updateUnits(e){if(e&&void 0!=this.attributes){let t=this.attributes.get("units");void 0!=t&&t!=e&&this.attributes.set("units",e)}}}class B extends w{static{this.tagName="array"}constructor(e,t,s){super(e,B.tagName,t,s)}updateUnits(e){if(e&&void 0!=this.attributes){let t=this.attributes.get("units");void 0!=t&&t!=e&&this.attributes.set("units",e)}}}class I extends M{static{this.tagName="property"}constructor(e,t){super(e,I.tagName);let s=e.get("dictRef");if(void 0==s)throw Error("dictRef is undefined");this.dictRef=s,t&&this.nodes.set(0,t)}getProperty(){return this.nodes.get(0)}setProperty(e){this.nodes.set(0,e)}}class D extends I{static{this.dictRef="me:ZPE"}constructor(e,t){super(e,t)}}class A extends I{static{this.dictRef="me:frequenciesScaleFactor"}constructor(e,t){super(e,t)}}class O extends I{static{this.dictRef="me:vibFreqs"}constructor(e,t){super(e,t)}}class F extends I{static{this.dictRef="me:rotConsts"}constructor(e,t){super(e,t)}}class G extends I{static{this.dictRef="me:MW"}constructor(e,t){super(e,t)}}class X extends I{static{this.dictRef="me:imFreqs"}constructor(e,t){super(e,t)}}class $ extends M{static{this.tagName="propertyList"}constructor(e,t){super(e,$.tagName),this.index=new Map,t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e),this.index.set(e.dictRef,this.nodes.size-1)})}getProperty(e){let t=this.index.get(e);if(void 0!=t)return this.nodes.get(t);throw Error("Property "+e+" does not exist")}setProperty(e){let t=this.index.get(e.dictRef);void 0==t?(this.nodes.set(this.nodes.size,e),this.index.set(e.dictRef,this.nodes.size-1)):(console.log("Property "+e.dictRef+" already exists, updating..."),this.nodes.set(t,e))}}class H extends b{static{this.tagName="me:deltaEDown"}constructor(e,t){super(e,H.tagName,t)}getBathGas(){if(void 0!=this.attributes)return this.attributes.get("bathGas")}setBathGas(e){void 0!=this.attributes&&this.attributes.set("bathGas",e)}getUnits(){if(void 0!=this.attributes)return this.attributes.get("units")}getLower(){if(void 0!=this.attributes)return parseFloat(d(this.attributes,"lower"))}setLower(e){void 0!=this.attributes&&this.attributes.set("lower",e.toString())}getUpper(){if(void 0!=this.attributes)return parseFloat(d(this.attributes,"upper"))}setUpper(e){void 0!=this.attributes&&this.attributes.set("upper",e.toString())}getStepsize(){if(void 0!=this.attributes)return parseFloat(d(this.attributes,"stepsize"))}setStepsize(e){void 0!=this.attributes&&this.attributes.set("stepsize",e.toString())}setValue(e){this.value=e}}class k extends M{static{this.tagName="me:energyTransferModel"}constructor(e,t){super(e,k.tagName),t.forEach(e=>{this.nodes.set(this.nodes.size,e)})}getDeltaEDown(e){if(e<0||e>=this.nodes.size)throw Error("index out of range");return this.nodes.get(e)}setDeltaEDown(e,t){this.nodes.set(e,t)}addDeltaEDown(e){return this.nodes.set(this.nodes.size,e),this.nodes.size-1}}class _ extends E{static{this.tagName="me:DOSCMethod"}constructor(e){super(e,_.tagName)}}class U extends y{static{this.tagName="me:bondRef"}constructor(e,t){super(e,U.tagName,t)}}class j extends E{static{this.tagName="me:PotentialPoint"}constructor(e){super(e,j.tagName)}}class q extends M{static{this.tagName="me:HinderedRotorPotential"}constructor(e,t){super(e,q.tagName),t.forEach(e=>{this.nodes.set(this.nodes.size,e)})}getPotentialPoint(e){return this.nodes.get(e)}setPotentialPoints(e,t){this.nodes.set(e,t)}addPotentialPoint(e){return this.nodes.set(this.nodes.size,e),this.nodes.size-1}}class V extends b{static{this.tagName="me:periodicity"}constructor(e,t){super(e,V.tagName,t)}}class Z extends M{static{this.tagName="me:ExtraDOSCMethod"}constructor(e,t,s,i){super(e,Z.tagName),t&&this.nodes.set(this.nodes.size,t),s&&this.nodes.set(this.nodes.size,s),i&&this.nodes.set(this.nodes.size,i)}getBondRef(){return this.nodes.get(0)}setBondRef(e){this.nodes.set(0,e)}getHinderedRotorPotential(){return this.nodes.get(1)}setHinderedRotorPotential(e){this.nodes.set(1,e)}getPeriodicity(){return this.nodes.get(2)}setPeriodicity(e){this.nodes.set(2,e)}}class K extends b{static{this.tagName="me:reservoirSize"}constructor(e,t){super(e,K.tagName,t)}}class W extends M{static{this.tagName="molecule"}constructor(e,t,s,i,n,a,r,o){super(e,W.tagName),this.index=new Map;let d=e.get("id");if(void 0==d)throw Error("id is undefined");this.id=d;let g=0;t&&(this.nodes.set(g,t),t instanceof T?this.index.set(T.tagName,g):this.index.set(S.tagName,g),g++),s&&(this.nodes.set(g,s),this.index.set(L.tagName,g),g++),i&&(this.nodes.set(g,i),this.index.set($.tagName,g),g++),n&&(this.nodes.set(g,n),this.index.set(k.tagName,g),g++),a&&(this.nodes.set(g,a),this.index.set(_.tagName,g)),r&&(this.nodes.set(g,r),this.index.set(Z.tagName,g)),o&&(this.nodes.set(g,o),this.index.set(K.tagName,g))}getDescription(){if(void 0!=this.attributes)return this.attributes.get("description")}setDescription(e){void 0!=this.attributes&&this.attributes.set("description",e)}getActive(){if(void 0!=this.attributes){let e=this.attributes.get("active");if(void 0!=e)return"true"==e}}setActive(e){void 0!=this.attributes&&this.attributes.set("active",e.toString())}getLabel(){let e=this.id,t=this.getDescription();return void 0!=t&&(e+=" ("+t+")"),this.getActive()&&(e+=" (active)"),e}getAttributesAsString(){return void 0==this.attributes?"":Array.from(this.attributes,([e,t])=>`${e}="${t}"`).join(", ")}getProperties(){let e=this.index.get($.tagName);if(void 0!=e||void 0!=(e=this.index.get(I.tagName)))return this.nodes.get(e)}setProperties(e){let t=this.index.get($.tagName);void 0==t?(this.index.set($.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getProperty(e){let t=this.getProperties();if(void 0!=t)return t instanceof $?t.getProperty(e):t}setProperty(e){let t=this.getProperties();void 0!=t?t instanceof $?t.setProperty(e):this.setProperties(t):this.setProperties(e)}getAtoms(){let e=this.index.get(T.tagName);if(void 0!=e||void 0!=(e=this.index.get(S.tagName)))return this.nodes.get(e)}getBonds(){let e=this.index.get(L.tagName);if(void 0!=e)return this.nodes.get(e)}getEnergyTransferModel(){let e=this.index.get(k.tagName);if(void 0!=e)return this.nodes.get(e)}setEnergyTransferModel(e){let t=this.index.get(k.tagName);void 0==t?(this.index.set(k.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getDOSCMethod(){let e=this.index.get(_.tagName);if(void 0!=e)return this.nodes.get(e)}setDOSCMethod(e){let t=this.index.get(_.tagName);void 0==t?(this.index.set(_.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getExtraDOSCMethod(){let e=this.index.get(Z.tagName);if(void 0!=e)return this.nodes.get(e)}setExtraDOSCMethod(e){let t=this.index.get(Z.tagName);void 0==t?(this.index.set(Z.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getReservoirSize(){let e=this.index.get(K.tagName);if(void 0!=e)return this.nodes.get(e)}setReservoirSize(e){let t=this.index.get(K.tagName);void 0==t?(this.index.set(K.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getEnergy(){let e=this.getProperty(D.dictRef);if(void 0==e)throw console.log(this.toString()),Error("ZPE property not found");return e.getProperty().value}}class J extends E{static{this.tagName="molecule"}constructor(e){super(e,J.tagName),this.ref=e.get("ref")}}class Q extends M{static{this.tagName="reactant"}constructor(e,t){super(e,Q.tagName),this.addNode(t)}getMolecule(){return this.nodes.get(0)}}class Y extends M{static{this.tagName="product"}constructor(e,t){super(e,Y.tagName),this.addNode(t)}getMolecule(){return this.nodes.get(0)}}class ee extends M{static{this.tagName="me:transitionState"}constructor(e,t){super(e,ee.tagName),this.addNode(t)}getMolecule(){return this.nodes.get(0)}}class et extends b{static{this.tagName="me:preExponential"}constructor(e,t){super(e,et.tagName,t)}}class es extends b{static{this.tagName="me:activationEnergy"}constructor(e,t){super(e,es.tagName,t)}}class ei extends b{static{this.tagName="me:TInfinity"}constructor(e,t){super(e,ei.tagName,t)}}class en extends b{static{this.tagName="me:nInfinity"}constructor(e,t){super(e,en.tagName,t)}}class ea extends M{static{this.tagName="me:MCRCMethod"}constructor(e){super(e,ea.tagName)}}class er extends ea{static{this.xsiType="me:MesmerILT"}static{this.xsiType2="MesmerILT"}constructor(e,t,s,i,n){super(e),this.index=new Map,void 0!=t&&(this.index.set(et.tagName,this.index.size),this.addNode(t)),void 0!=s&&(this.index.set(es.tagName,this.index.size),this.addNode(s)),void 0!=i&&(this.index.set(ei.tagName,this.index.size),this.addNode(i)),void 0!=n&&(this.index.set(en.tagName,this.index.size),this.addNode(n))}getPreExponential(){let e=this.index.get(et.tagName);if(void 0!=e)return this.nodes.get(e)}getActivationEnergy(){let e=this.index.get(es.tagName);if(void 0!=e)return this.nodes.get(e)}getTInfinity(){let e=this.index.get(ei.tagName);if(void 0!=e)return this.nodes.get(e)}getNInfinity(){let e=this.index.get(en.tagName);if(void 0!=e)return this.nodes.get(e)}}class eo extends E{static{this.tagName="me:tunneling"}constructor(e){super(e,eo.tagName)}}class ed extends b{static{this.tagName="me:excessReactantConc"}constructor(e,t){super(e,ed.tagName,t)}}class eg extends M{static{this.tagName="reaction"}constructor(e,t,s,i,n,a,r,o){super(e,eg.tagName),this.index=new Map,this.id=t,this.reactantsIndex=new Map,s.forEach(e=>{this.addNode(e),this.addToIndex(Q.tagName,e),this.reactantsIndex.set(e.getMolecule().ref,this.nodes.size-1)}),this.productsIndex=new Map,i.forEach(e=>{this.addToIndex(Y.tagName,e),this.addNode(e),this.productsIndex.set(e.getMolecule().ref,this.nodes.size-1)}),void 0!=n&&(this.index.set(eo.tagName,this.nodes.size),this.addNode(n)),void 0!=a&&a.forEach(e=>{this.addToIndex(Y.tagName,e),this.addNode(e)}),void 0!=r&&(this.index.set(ea.tagName,this.nodes.size),this.addNode(r)),void 0!=o&&(this.index.set(ed.tagName,this.nodes.size),this.addNode(o))}addToIndex(e,t){let s=this.index.get(e);if(void 0==s)this.index.set(e,this.nodes.size);else if(s instanceof Map)s.set(t.tagName,this.nodes.size);else{let i=new Map;i.set(this.nodes.get(s).ref,s),i.set(t.tagName,this.nodes.size),this.index.set(e,i)}}getReactants(){let e=this.index.get(Q.tagName);return void 0==e?[]:e instanceof Map?Array.from(e.values()).map(e=>this.nodes.get(e)):[this.nodes.get(e)]}getReactant(e){let t=this.reactantsIndex.get(e);if(void 0==t)throw Error(`Reactant with ref ${e} not found`);return this.nodes.get(t)}getProducts(){let e=this.index.get(Y.tagName);return void 0==e?[]:e instanceof Map?Array.from(e.values()).map(e=>this.nodes.get(e)):[this.nodes.get(e)]}getProduct(e){let t=this.productsIndex.get(e);if(void 0==t)throw Error(`Product with ref ${e} not found`);return this.nodes.get(t)}getTunneling(){let e=this.index.get(eo.tagName);if(void 0!=e)return this.nodes.get(e)}setTunneling(e){let t=this.index.get(eo.tagName);if(void 0==t)this.index.set(eo.tagName,this.nodes.size),this.addNode(e);else{if(t instanceof Map)throw Error("Tunneling is a map and it is assumed there would be only 1!");this.nodes.set(t,e)}}getTransitionStates(){let e=this.index.get(ee.tagName);return void 0==e?[]:e instanceof Map?Array.from(e.values()).map(e=>this.nodes.get(e)):[this.nodes.get(e)]}getMCRCMethod(){let e=this.index.get(ea.tagName);if(void 0!=e)return this.nodes.get(e)}setMCRCMethod(e){let t=this.index.get(ea.tagName);if(void 0==t)this.index.set(ea.tagName,this.nodes.size),this.addNode(e);else{if(t instanceof Map)throw Error("MCRCMethod is a map and it is assumed there would be only 1!");this.nodes.set(t,e)}}getExcessReactantConc(){let e=this.index.get(ed.tagName);if(void 0!=e)return this.nodes.get(e)}getReactantsLabel(){return this.getReactants().map(e=>e.getMolecule().ref).join(" + ")}getProductsLabel(){return this.getProducts().map(e=>e.getMolecule().ref).join(" + ")}getLabel(){return this.getReactantsLabel()+" -> "+this.getProductsLabel()}getReactantsEnergy(e){return Array.from(this.getReactants()).map(t=>{let s=e.get(t.getMolecule().ref);if(void 0==s)throw Error(`Molecule with ref ${t.getMolecule().ref} not found`);return s.getEnergy()}).reduce((e,t)=>e+t,0)}getProductsEnergy(e){return Array.from(this.getProducts()).map(t=>{let s=e.get(t.getMolecule().ref);if(void 0==s)throw Error(`Molecule with ref ${t.getMolecule().ref} not found`);return s.getEnergy()}).reduce((e,t)=>e+t,0)}get(e,t){if(this.index.has(e)){let s=this.index.get(e);if(void 0!=s){if(!(s instanceof Map))return this.nodes.get(s);{let e=s.get(t);if(void 0!=e)return this.nodes.get(e)}}}}}class eh extends y{static{this.tagName="me:bathGas"}constructor(e,t,s){super(e,eh.tagName,t),this.molecules=s}getMolecule(){return this.molecules.get(this.value)}}class el extends b{static{this.tagName="me:experimentRate"}constructor(e,t){super(e,el.tagName,t)}}class ec extends M{static{this.tagName="me:PTpair"}constructor(e,t,s){super(e,ec.tagName),this.index=new Map,t&&(this.index.set(eh.tagName,this.nodes.size),this.addNode(t)),s&&(this.index.set(el.tagName,this.nodes.size),this.addNode(s))}getP(){if(void 0!=this.attributes){let e=this.attributes.get("P");if(e)return parseFloat(e);throw Error("P is undefined")}return NaN}setP(e){void 0!=this.attributes&&this.attributes.set("P",e.toString())}getT(){if(void 0!=this.attributes){let e=this.attributes.get("T");if(e)return parseFloat(e);throw Error("T is undefined")}return NaN}setT(e){void 0!=this.attributes&&this.attributes.set("T",e.toString())}getBathGas(){let e=this.index.get(eh.tagName);return e?this.nodes.get(e):void 0}setBathGas(e){let t=this.index.get(eh.tagName);t?this.nodes.set(t,e):(this.index.set(eh.tagName,this.nodes.size),this.addNode(e))}getExperimentRate(){let e=this.index.get(el.tagName);return e?this.nodes.get(e):void 0}setExperimentRate(e){let t=this.index.get(el.tagName);t?this.nodes.set(t,e):(this.index.set(el.tagName,this.nodes.size),this.addNode(e))}}class eu extends M{static{this.tagName="me:PTs"}constructor(e,t){super(e,eu.tagName),t.forEach(e=>{this.addNode(e)})}getPTpair(e){return this.nodes.get(e)}setPTpair(e,t){this.nodes.set(e,t)}addPTpair(e){return this.addNode(e)}}class em extends M{static{this.tagName="me:conditions"}constructor(e,t,s){super(e,em.tagName),this.addNode(t),this.addNode(s)}getBathGas(){return this.nodes.get(0)}getPTs(){return this.nodes.get(1)}}class eN extends b{static{this.tagName="me:grainSize"}constructor(e,t){super(e,eN.tagName,t)}toString(){return`GrainSize(${super.toString()})`}}class ef extends b{static{this.tagName="me:energyAboveTheTopHill"}constructor(e,t){super(e,ef.tagName,t)}}class ep extends M{static{this.tagName="me:modelParameters"}constructor(e,t){super(new Map,ep.tagName),this.addNode(e),this.addNode(t)}getGrainSize(){return this.nodes.get(0)}getEnergyAboveTheTopHill(){return this.nodes.get(1)}}class ex extends v{static{this.tagName="me:testDOS"}constructor(){super(ex.tagName)}}class ev extends v{static{this.tagName="me:printSpeciesProfile"}constructor(){super(ev.tagName)}}class eE extends v{static{this.tagName="me:testMicroRates"}constructor(){super(eE.tagName)}}class ey extends v{static{this.tagName="me:testRateConstant"}constructor(){super(ey.tagName)}}class eb extends v{static{this.tagName="me:printGrainDOS"}constructor(){super(eb.tagName)}}class ew extends v{static{this.tagName="me:printCellDOS"}constructor(){super(ew.tagName)}}class eM extends v{static{this.tagName="me:printReactionOperatorColumnSums"}constructor(){super(eM.tagName)}}class ez extends v{static{this.tagName="me:printTunnellingCoefficients"}constructor(){super(ez.tagName)}}class eP extends v{static{this.tagName="me:printGrainkfE"}constructor(){super(eP.tagName)}}class eT extends v{static{this.tagName="me:printGrainBoltzmann"}constructor(){super(eT.tagName)}}class eS extends v{static{this.tagName="me:printGrainkbE"}constructor(){super(eS.tagName)}}class eR extends b{static{this.tagName="me:eigenvalues"}constructor(e,t){super(e,eR.tagName,t)}}class eL extends v{static{this.tagName="me:hideInactive"}constructor(){super(eL.tagName)}}class eC extends b{static{this.tagName="me:diagramEnergyOffset"}constructor(e,t){super(e,eC.tagName,t)}}class eB extends M{static{this.tagName="me:control"}constructor(e,t,s,i,n,a,r,o,d,g,h,l,c,u,m){super(e,eB.tagName),this.index=new Map,void 0!=t&&(this.addNode(t),this.index.set(ex.tagName,this.index.size)),void 0!=s&&(this.addNode(s),this.index.set(ev.tagName,this.index.size)),void 0!=i&&(this.addNode(i),this.index.set(eE.tagName,this.index.size)),void 0!=n&&(this.addNode(n),this.index.set(ey.tagName,this.index.size)),void 0!=a&&(this.addNode(a),this.index.set(eb.tagName,this.index.size)),void 0!=r&&(this.addNode(r),this.index.set(ew.tagName,this.index.size)),void 0!=o&&(this.addNode(o),this.index.set(eM.tagName,this.index.size)),void 0!=d&&(this.addNode(d),this.index.set(ez.tagName,this.index.size)),void 0!=g&&(this.addNode(g),this.index.set(eP.tagName,this.index.size)),void 0!=h&&(this.addNode(h),this.index.set(eT.tagName,this.index.size)),void 0!=l&&(this.addNode(l),this.index.set(eS.tagName,this.index.size)),void 0!=c&&(this.addNode(c),this.index.set(eR.tagName,this.index.size)),void 0!=u&&(this.addNode(u),this.index.set(eL.tagName,this.index.size)),void 0!=m&&(this.addNode(m),this.index.set(eC.tagName,this.index.size))}getTestDOS(){let e=this.index.get(ex.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getPrintSpeciesProfile(){let e=this.index.get(ev.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getTestMicroRates(){let e=this.index.get(eE.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getTestRateConstant(){let e=this.index.get(ey.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getPrintGrainDOS(){let e=this.index.get(eb.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getPrintCellDOS(){let e=this.index.get(ew.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getPrintReactionOperatorColumnSums(){let e=this.index.get(eM.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getPrintTunnellingCoefficients(){let e=this.index.get(ez.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getPrintGrainkfE(){let e=this.index.get(eP.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getPrintGrainBoltzmann(){let e=this.index.get(eT.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getPrintGrainkbE(){let e=this.index.get(eS.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getEigenvalues(){let e=this.index.get(eR.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getHideInactive(){let e=this.index.get(eL.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getDiagramEnergyOffset(){let e=this.index.get(eC.tagName)??-1;if(-1!==e)return this.nodes.get(e)}}class eI extends y{static{this.tagName="me:title"}constructor(e,t){super(e,eI.tagName,t)}}class eD extends M{static{this.tagName="moleculeList"}constructor(e,t){super(e,eD.tagName),this.index=new Map,void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1)})}getMolecule(e){let t=this.index.get(e);if(void 0!=t)return this.nodes.get(t)}removeMolecule(e){let t=this.index.get(e);void 0!=t&&(this.nodes.delete(t),this.index.delete(e))}addMolecule(e){let t=this.index.get(e.id);void 0!==t?(this.nodes.set(t,e),console.log("Replaced molecule with id "+e.id)):(this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1))}}class eA extends M{static{this.tagName="reactionList"}constructor(e,t){super(e,eA.tagName),this.index=new Map,void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1)})}getReaction(e){let t=this.index.get(e);if(void 0!=t)return this.nodes.get(t)}removeReaction(e){let t=this.index.get(e);void 0!=t&&(this.nodes.delete(t),this.index.delete(e))}addReaction(e){let t=this.index.get(e.id);void 0!==t?(this.nodes.set(t,e),console.log("Replaced reaction with id "+e.id)):(this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1))}}class eO extends M{static{this.tagName="me:mesmer"}constructor(e,t,s,i,n,a){super(e,eO.tagName),this.index=new Map,void 0!=t&&(this.index.set(eD.tagName,this.nodes.size),this.addNode(t)),void 0!=s&&(this.index.set(eA.tagName,this.nodes.size),this.addNode(s)),void 0!=i&&(this.index.set(em.tagName,this.nodes.size),this.addNode(i)),void 0!=n&&(this.index.set(ep.tagName,this.nodes.size),this.addNode(n)),void 0!=a&&(this.index.set(eB.tagName,this.nodes.size),this.addNode(a))}getMoleculeList(){let e=this.index.get(eD.tagName);if(void 0!=e)return this.nodes.get(e)}setMoleculeList(e){let t=this.index.get(eD.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eD.tagName,this.nodes.size),this.addNode(e))}getReactionList(){let e=this.index.get(eA.tagName);if(void 0!=e)return this.nodes.get(e)}setReactionList(e){let t=this.index.get(eA.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eA.tagName,this.nodes.size),this.addNode(e))}getConditions(){let e=this.index.get(em.tagName);if(void 0!=e)return this.nodes.get(e)}setConditions(e){let t=this.index.get(em.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(em.tagName,this.nodes.size),this.addNode(e))}getModelParameters(){let e=this.index.get(ep.tagName);if(void 0!=e)return this.nodes.get(e)}setModelParameters(e){let t=this.index.get(ep.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ep.tagName,this.nodes.size),this.addNode(e))}getControl(){let e=this.index.get(eB.tagName);if(void 0!=e)return this.nodes.get(e)}setControl(e){let t=this.index.get(eB.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eB.tagName,this.nodes.size),this.addNode(e))}}let eF=new Map,eG=new Map;function eX(e,t){let s=t.id,i=s.split("_")[0],n=eF.get(i);if(n){let a=t.value,r=a.split(/\s+/),o=n.getProperty(e).getProperty(),d=o.values,h=d.length,c=!0;if(r.forEach(function(e){l(e)||(c=!1)}),!c){alert(e+" input for "+i+" is not a number, resetting..."),document.getElementById(s).value=g(d," ");return}if(r.length==h){let t=a.split(" ").map(Number);o.values=t,console.log("Changed "+e+" input for "+i+" from: "+a+" to: "+g(t," "))}else alert("Expecting "+h+" "+e+" values for "+i+" but finding "+r.length+" resetting..."),document.getElementById(s).value=g(d," ")}}function e$(e,t){let s=t.id,i=s.split("_")[0],n=eF.get(i);if(void 0!=n){let a=n.getProperty(e).getProperty();if(l(t.value)){let s=parseFloat(t.value);a.value=s,console.log(e+" of "+i+" set to "+s)}else{alert(e+" input for "+i+" is not numeric, resetting...");let t=document.getElementById(s),n=a.value;void 0!=n&&(t.value=n.toString())}}}window.setPropertyArray=eX,window.setProperty=e$,document.addEventListener("DOMContentLoaded",a=>{i=document.getElementById("xml_title"),n=document.getElementById("xml_text"),window.loadXML=function(){!function a(){let r=document.createElement("input");r.type="file",r.onchange=function(){if(r.files){for(let e=0;e<r.files.length;e++)console.log("inputElement.files["+e+"]="+r.files[e]);let t=r.files[0];if(console.log(t.name),e=t.name,null!=n){let s=new FileReader,a=0,r="";s.onload=function(o){if(null==o.target)throw Error("Event target is null");if(r+=o.target.result,null!=t){if(a<t.size){let e=t.slice(a,a+1048576);s.readAsText(e),a+=1048576}else{var d;d=r=r.trim(),null!=i&&(i.innerHTML=e),null!=n&&(n.innerHTML=d.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/  /g,"&nbsp;&nbsp;")),function(e){let t=e.getElementsByTagName(eI.tagName);if(1!=t.length)throw Error("Multiple "+eI.tagName+" tags found");{let s=t[0].childNodes[0].nodeValue.trim(),i=new eI(P(t[0]),s),n=document.getElementById("title"),a=document.createElement("input");a.type="text",a.value=s;let r=document.createTextNode("Title: ");n.parentNode?.insertBefore(r,n),f(a,0),n.parentNode?.replaceChild(a,n),console.log("inputElement.value="+a.value),a.addEventListener("change",function(){a.value!=s&&(i.value=a.value),f(a,0)});let o=document.getElementById("molecules");document.createElement("p").innerHTML="Moleculesvfdafdfdsfds";let d=function(e){let t=document.createElement("moleculesList"),s=function(e,t){let s=e.getElementsByTagName(t);if(1!=s.length)throw Error("Expecting 1 "+t+" but finding "+s.length);return s[0]}(e,eD.tagName),i=new Set;if(s.childNodes.forEach(function(e){i.add(e.nodeName)}),1!=i.size&&!(2==i.size&&i.has("#text")))throw console.error("moleculeListTagNames:"),i.forEach(e=>console.error(e)),Error("Additional tag names in moleculeList:");if(!i.has(W.tagName))throw Error('Expecting tags with "'+W.tagName+'" tagName but there are none!');let n=s.getElementsByTagName(W.tagName);console.log("Number of molecules="+n.length);for(let e=0;e<n.length;e++){let s,i,a,r=document.createElement("moleculeDiv"),o=P(n[e]),d=new Set,g=n[e].childNodes;for(let e=0;e<g.length;e++){let t=g[e];d.has(t.nodeName)?"#text"!=t.nodeName&&console.warn("Another ChildNode with nodeName="+t.nodeName):d.add(t.nodeName)}let l=n[e].getElementsByTagName(S.tagName);if(l.length>1)throw Error("Expecting 1 or 0 "+S.tagName+" but finding "+l.length+"!");if(1==l.length){let e=l[0],t=e.getElementsByTagName(T.tagName);if(t.length<2)throw Error("Expecting 2 or more atoms in "+S.tagName+", but finding "+t.length+"!");let i=[];for(let e=0;e<t.length;e++)i.push(new T(P(t[e])));s=new S(P(e),i),d.delete(S.tagName)}else{let t=n[e].getElementsByTagName(T.tagName);if(1==t.length)s=new T(P(t[0]));else if(t.length>1)throw Error("Expecting 1 "+T.tagName+" but finding "+t.length+". Should these be in an "+S.tagName+"?")}d.delete(T.tagName);let u=n[e].getElementsByTagName(L.tagName);if(u.length>1)throw Error("Expecting 1 or 0 "+L.tagName+" but finding "+u.length+"!");if(1==u.length){let e=u[0],t=e.getElementsByTagName(R.tagName),s=[];for(let e=0;e<t.length;e++)s.push(new R(P(t[e])));i=new L(P(e),s),d.delete(L.tagName)}else{let t=n[e].getElementsByTagName(R.tagName);if(1==t.length)i=new R(P(t[0]));else if(t.length>1)throw Error("Expecting 1 "+R.tagName+" but finding "+t.length+". Should these be in a "+L.tagName+"?")}d.delete(R.tagName);let N=new W(o,s,i);eF.set(N.id,N);let v=n[e].getElementsByTagName($.tagName);if(v.length>1)throw Error("Expecting 1 or 0 "+$.tagName+" but finding "+v.length+"!");if(1==v.length){let e=new $(P(v[0])),t=v[0].getElementsByTagName(I.tagName);for(let s=0;s<t.length;s++){let i=new I(P(t[s]));e.setProperty(i),N.setProperties(e);let n=t[s].getElementsByTagName(C.tagName);if(n.length>0){let e;if(1!=n.length)throw Error("Expecting 1 "+C.tagName+" but finding "+n.length+"!");let t=p(n[0]),s=parseFloat(e=t?x(t).trim():""),a=new C(P(n[0]),s);i.setProperty(a);let o=i.dictRef,d=m("number",N.id+"_"+i.dictRef,e=>{e.target instanceof HTMLInputElement&&e$(i.dictRef,e.target)},i.toString(),o);r.appendChild(d);let g=d.querySelector("input");g.value=e,f(g),g.addEventListener("change",t=>{e=t.target.value,(a=i.getProperty()).value=parseFloat(e),console.log("Set "+i.dictRef+" of "+N.id+" to "+e),f(g)})}else{let e=t[s].getElementsByTagName(B.tagName);if(e.length>0){let t;if(1!=e.length)throw Error("Expecting 1 "+B.tagName+" but finding "+e.length+"!");let s=p(e[0]),n=h((t=s?x(s).trim():"").split(/\s+/)),a=new B(P(e[0]),n);i.setProperty(a);let o=i.dictRef,d=m("number",N.id+"_"+i.dictRef,e=>{e.target instanceof HTMLInputElement&&eX(i.dictRef,e.target)},i.toString(),o);r.appendChild(d);let g=d.querySelector("input");g.value=t,f(g),g.addEventListener("change",e=>{t=e.target.value,a=i.getProperty(),n=h(t.split(/\s+/)),a.values=n,console.log("Set "+i.dictRef+" of "+N.id+" to "+t),f(g)})}else throw Error("Expecting "+C.tagName+" or "+B.tagName)}}d.delete($.tagName)}else{let t=n[e].getElementsByTagName(I.tagName);if(t.length>1)throw Error("Expecting 1 "+I.tagName+" but finding "+t.length+". Should these be in a "+$.tagName+"?")}if(d.delete(I.tagName),d.delete(k.tagName),null!=(a=n[e].getElementsByTagName(k.tagName))&&a.length>0){if(1!=a.length)throw Error("energyTransferModel length="+a.length);let e=a[0].getElementsByTagName(H.tagName);if(null!=e){let t=[];for(let s=0;s<e.length;s++){let i=parseFloat(x(p(e[s]))),n=new H(P(e[s]),i);t.push(n)}let s=new k(P(a[0]),t);N.setEnergyTransferModel(s)}}if(d.delete(_.tagName),null!=(a=n[e].getElementsByTagName(_.tagName))){let e=a[0];null!=e&&N.setDOSCMethod(new _(P(e)))}if(d.delete(Z.tagName),(a=n[e].getElementsByTagName(Z.tagName)).length>0){let e,t,s;if(1!=a.length)throw Error("Expecting only 1 extra DOSCMethod, but there are "+a.length);let i=a[0].getElementsByTagName(U.tagName);if(i.length>0){if(1!=i.length)throw Error("Expecting only 1 bondRef, but there are "+i.length);e=new U(P(i[0]),x(p(i[0])))}let n=a[0].getElementsByTagName(q.tagName);if(n.length>0){if(1!=n.length)throw Error("Expecting only 1 HinderedRotorPotential, but there are "+n.length);let e=[],s=n[0].getElementsByTagName(j.tagName);for(let t=0;t<s.length;t++)e.push(new j(P(s[t])));t=new q(P(n[0]),e)}let r=a[0].getElementsByTagName(V.tagName);if(r.length>0){if(1!=r.length)throw Error("Expecting only 1 Periodicity, but there are "+r.length);s=new V(P(r[0]),parseFloat(x(p(r[0]))))}N.setExtraDOSCMethod(new Z(P(a[0]),e,t,s))}if(d.delete(K.tagName),(a=n[e].getElementsByTagName(K.tagName)).length>0){if(1!=a.length)throw Error("Expecting only 1 reservoirSize, but there are "+a.length);N.setReservoirSize(new K(P(a[0]),parseFloat(x(p(a[0])))))}d.delete("#text"),d.size>0&&(console.warn("There are additional unexpected moleculeTagNames:"),d.forEach(e=>console.warn(e)));let E=c("buttonId",N.getLabel(),r,N.tagName+"_"+N.id);t.appendChild(E)}return t}(e),g=c("buttonId","Molecules",d,"moleculesList");o.appendChild(g),function(){for(var e=document.getElementsByClassName("collapsible"),t=0;t<e.length;t++)e[t].removeEventListener("click",u),e[t].addEventListener("click",u)}()}}(new DOMParser().parseFromString(r,"text/xml"))}}};let o=t.slice(a,a+1048576);s.readAsText(o),a+=1048576}}},r.click(),null!=(t=document.getElementById("load_button"))&&t.addEventListener("click",a),null!=(s=document.getElementById("saveButton"))&&(s.style.display="inline")}()}}),window.saveXML=function(){console.log("saveXML");let t="  ".repeat(2),s="";eF.forEach(function(e,i){s+=e.toXML("  ",t)}),s=z(s,"moleculeList",void 0,"  ",!0);let i="";eG.forEach(function(e,s){i+=e.toXML("  ",t)}),i=z(i,"reactionList",void 0,"  ",!0);let n=a.toXML("  ","  "),d=r.toXML("  ","  "),g=o.toXML("  ","  "),h=new Blob([s,i,n,d,g],{type:"text/plain"}),l=URL.createObjectURL(h),c=document.createElement("a");c.href=l,c.download=e,document.body.appendChild(c),c.click(),document.body.removeChild(c)};
//# sourceMappingURL=index.69dfe0d1.js.map
