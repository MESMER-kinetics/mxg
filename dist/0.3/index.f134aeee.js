let e,t,s,i,a,n,o,r;function d(e,t){if(!e.has(t))throw Error(`Key ${t} not found in map`);return e.get(t)}function g(e,t,s,i,a){let n=document.createElement("div");n.id=i,void 0!=a&&(n.className=a);let o=document.createElement("button");return o.id=e,o.className="collapsible",o.innerText=t,n.appendChild(o),n.appendChild(s),n}function h(){this.classList.toggle("active");let e=this.nextElementSibling;"block"===e.style.display?e.style.display="none":e.style.display="block"}function l(e,t,s,i,a){let n=document.createElement("input");n.type=e,n.id=t,n.onchange=s,n.value=i;let o=document.createElement("label");o.htmlFor=t,a?o.textContent=a+": ":o.textContent="";let r=document.createElement("div");return r.appendChild(o),r.appendChild(n),r}function c(e,t){let s="<"+t;if(e)for(let[t,i]of e)s+=" "+t+'="'+i+'"';return s+" />"}function u(e,t){void 0==t&&(t=4),e.style.width=e.value.length+t+"ch"}function m(e){let t=e.childNodes;if(null==t)throw Error("Element has no childNodes");return t[0]}function N(e){let t=e.nodeValue;if(null==t)throw Error("nodeValue is null");return t}class f{constructor(e){this.tagName=e}toXML(e){let t=c(void 0,this.tagName);return e?"\n"+e+t:t}}class p extends f{constructor(e,t){super(t),this.attributes=e}toString(){let e=this.tagName+"(";return this.attributes&&this.attributes.forEach((t,s)=>{e+=`${s}(${t}), `}),e}toXML(e){let t="";if(void 0!=e&&(t+="\n"+e),t+="<"+this.tagName,this.attributes)for(let[e,s]of this.attributes)t+=" "+e+'="'+s.toString()+'"';return t+" />"}}class x extends p{constructor(e,t,s){super(e,t),this.value=s}toString(){return super.toString()+`, ${this.value.toString()})`}toXML(e){return y(this.value.trim(),this.tagName,this.attributes,e,!1)}}class v extends p{constructor(e,t,s){super(e,t),this.value=s}toString(){return super.toString()+`, ${this.value.toString()})`}toXML(e){return y(this.value.toString().trim(),this.tagName,this.attributes,e,!1)}}class E extends p{constructor(e,t,s,i){super(e,t),this.delimiter=",",this.values=s,void 0!=i&&(this.delimiter=i)}toString(){return super.toString()+`, ${this.values.toString()})`}setDelimiter(e){this.delimiter=e}toXML(e){return y(this.values.toString().replaceAll(",",this.delimiter),this.tagName,this.attributes,e,!1)}}class b extends p{constructor(e,t){super(e,t),this.nodes=new Map}addNode(e){return this.nodes.set(this.nodes.size,e),this.nodes.size-1}toString(){let e=super.toString();return this.nodes.forEach((t,s)=>{e+=`, ${t.toString()}`}),e+")"}toXML(e,t){let s;void 0!=e&&void 0!=t&&(s=t+e);let i="";if(this.nodes.size>0)return this.nodes.forEach(t=>{t instanceof b?i+=t.toXML(e,s):i+=t.toXML(s)}),y(i,this.tagName,this.attributes,t,!0);{let e=c(this.attributes,this.tagName);return void 0!=t?"\n"+t+e:e}}}function y(e,t,s,i,a){let n;return function(e,t,s){let i="";if(void 0!=s&&(i+="\n"+s),i+="<"+e,t)for(let[e,s]of t)i+=" "+e+'="'+s.toString()+'"';return i+">"}(t,s,i)+e+(n="",a&&void 0!=i&&(n+="\n"+i),n+"</"+t+">")}function w(e){let t=e.getAttributeNames(),s=new Map;return t.forEach(function(t){let i=e.getAttribute(t);null!=i&&s.set(t,i)}),s}class M extends p{static{this.tagName="atom"}constructor(e){super(e,M.tagName);let t=e.get("elementType");if(void 0==t)throw Error("elementType is undefined");this.elementType=t;let s=e.get("id");void 0==s&&(s=this.elementType),this.id=s}}class z extends b{static{this.tagName="atomArray"}constructor(e,t){super(e,z.tagName),t.forEach(e=>{this.nodes.set(this.nodes.size,e)})}}class T extends p{static{this.tagName="bond"}constructor(e){super(e,T.tagName);let t=e.get("atomRefs2");if(void 0==t)throw Error("atomRefs2 is undefined");this.atomRefs2=t}}class P extends b{static{this.tagName="bondArray"}constructor(e,t){super(e,P.tagName),t.forEach(e=>{this.nodes.set(this.nodes.size,e)})}}class S extends v{static{this.tagName="scalar"}constructor(e,t){super(e,S.tagName,t)}updateUnits(e){if(e&&void 0!=this.attributes){let t=this.attributes.get("units");void 0!=t&&t!=e&&this.attributes.set("units",e)}}}class R extends E{static{this.tagName="array"}constructor(e,t,s){super(e,R.tagName,t,s)}updateUnits(e){if(e&&void 0!=this.attributes){let t=this.attributes.get("units");void 0!=t&&t!=e&&this.attributes.set("units",e)}}}class L extends b{static{this.tagName="property"}constructor(e,t){super(e,L.tagName);let s=e.get("dictRef");if(void 0==s)throw Error("dictRef is undefined");this.dictRef=s,t&&this.nodes.set(0,t)}getProperty(){return this.nodes.get(0)}setProperty(e){this.nodes.set(0,e)}}class C extends L{static{this.dictRef="me:ZPE"}constructor(e,t){super(e,t)}}class B extends L{static{this.dictRef="me:frequenciesScaleFactor"}constructor(e,t){super(e,t)}}class D extends L{static{this.dictRef="me:vibFreqs"}constructor(e,t){super(e,t)}}class I extends L{static{this.dictRef="me:rotConsts"}constructor(e,t){super(e,t)}}class A extends L{static{this.dictRef="me:MW"}constructor(e,t){super(e,t)}}class O extends L{static{this.dictRef="me:imFreqs"}constructor(e,t){super(e,t)}}class F extends b{static{this.tagName="propertyList"}constructor(e,t){super(e,F.tagName),this.index=new Map,t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e),this.index.set(e.dictRef,this.nodes.size-1)})}getProperty(e){let t=this.index.get(e);if(void 0!=t)return this.nodes.get(t);throw Error("Property "+e+" does not exist")}setProperty(e){let t=this.index.get(e.dictRef);void 0==t?(this.nodes.set(this.nodes.size,e),this.index.set(e.dictRef,this.nodes.size-1)):(console.log("Property "+e.dictRef+" already exists, updating..."),this.nodes.set(t,e))}}class G extends v{static{this.tagName="me:deltaEDown"}constructor(e,t){super(e,G.tagName,t)}getBathGas(){if(void 0!=this.attributes)return this.attributes.get("bathGas")}setBathGas(e){void 0!=this.attributes&&this.attributes.set("bathGas",e)}getUnits(){if(void 0!=this.attributes)return this.attributes.get("units")}getLower(){if(void 0!=this.attributes)return parseFloat(d(this.attributes,"lower"))}setLower(e){void 0!=this.attributes&&this.attributes.set("lower",e.toString())}getUpper(){if(void 0!=this.attributes)return parseFloat(d(this.attributes,"upper"))}setUpper(e){void 0!=this.attributes&&this.attributes.set("upper",e.toString())}getStepsize(){if(void 0!=this.attributes)return parseFloat(d(this.attributes,"stepsize"))}setStepsize(e){void 0!=this.attributes&&this.attributes.set("stepsize",e.toString())}setValue(e){this.value=e}}class X extends b{static{this.tagName="me:energyTransferModel"}constructor(e,t){super(e,X.tagName),t.forEach(e=>{this.nodes.set(this.nodes.size,e)})}getDeltaEDown(e){if(e<0||e>=this.nodes.size)throw Error("index out of range");return this.nodes.get(e)}setDeltaEDown(e,t){this.nodes.set(e,t)}addDeltaEDown(e){return this.nodes.set(this.nodes.size,e),this.nodes.size-1}}class $ extends p{static{this.tagName="me:DOSCMethod"}constructor(e){super(e,$.tagName)}}class H extends x{static{this.tagName="me:bondRef"}constructor(e,t){super(e,H.tagName,t)}}class k extends p{static{this.tagName="me:PotentialPoint"}constructor(e){super(e,k.tagName)}}class U extends b{static{this.tagName="me:HinderedRotorPotential"}constructor(e,t){super(e,U.tagName),t.forEach(e=>{this.nodes.set(this.nodes.size,e)})}getPotentialPoint(e){return this.nodes.get(e)}setPotentialPoints(e,t){this.nodes.set(e,t)}addPotentialPoint(e){return this.nodes.set(this.nodes.size,e),this.nodes.size-1}}class _ extends v{static{this.tagName="me:periodicity"}constructor(e,t){super(e,_.tagName,t)}}class q extends b{static{this.tagName="me:ExtraDOSCMethod"}constructor(e,t,s,i){super(e,q.tagName),t&&this.nodes.set(this.nodes.size,t),s&&this.nodes.set(this.nodes.size,s),i&&this.nodes.set(this.nodes.size,i)}getBondRef(){return this.nodes.get(0)}setBondRef(e){this.nodes.set(0,e)}getHinderedRotorPotential(){return this.nodes.get(1)}setHinderedRotorPotential(e){this.nodes.set(1,e)}getPeriodicity(){return this.nodes.get(2)}setPeriodicity(e){this.nodes.set(2,e)}}class j extends v{static{this.tagName="me:reservoirSize"}constructor(e,t){super(e,j.tagName,t)}}class V extends b{static{this.tagName="molecule"}constructor(e,t,s,i,a,n,o,r){super(e,V.tagName),this.index=new Map;let d=e.get("id");if(void 0==d)throw Error("id is undefined");this.id=d;let g=0;t&&(this.nodes.set(g,t),t instanceof M?this.index.set(M.tagName,g):this.index.set(z.tagName,g),g++),s&&(this.nodes.set(g,s),this.index.set(P.tagName,g),g++),i&&(this.nodes.set(g,i),this.index.set(F.tagName,g),g++),a&&(this.nodes.set(g,a),this.index.set(X.tagName,g),g++),n&&(this.nodes.set(g,n),this.index.set($.tagName,g)),o&&(this.nodes.set(g,o),this.index.set(q.tagName,g)),r&&(this.nodes.set(g,r),this.index.set(j.tagName,g))}getDescription(){if(void 0!=this.attributes)return this.attributes.get("description")}setDescription(e){void 0!=this.attributes&&this.attributes.set("description",e)}getActive(){if(void 0!=this.attributes){let e=this.attributes.get("active");if(void 0!=e)return"true"==e}}setActive(e){void 0!=this.attributes&&this.attributes.set("active",e.toString())}getLabel(){let e=this.id,t=this.getDescription();return void 0!=t&&(e+=" ("+t+")"),this.getActive()&&(e+=" (active)"),e}getAttributesAsString(){return void 0==this.attributes?"":Array.from(this.attributes,([e,t])=>`${e}="${t}"`).join(", ")}getProperties(){let e=this.index.get(F.tagName);if(void 0!=e||void 0!=(e=this.index.get(L.tagName)))return this.nodes.get(e)}setProperties(e){let t=this.index.get(F.tagName);void 0==t?(this.index.set(F.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getProperty(e){let t=this.getProperties();if(void 0!=t)return t instanceof F?t.getProperty(e):t}setProperty(e){let t=this.getProperties();void 0!=t?t instanceof F?t.setProperty(e):this.setProperties(t):this.setProperties(e)}getAtoms(){let e=this.index.get(M.tagName);if(void 0!=e||void 0!=(e=this.index.get(z.tagName)))return this.nodes.get(e)}getBonds(){let e=this.index.get(P.tagName);if(void 0!=e)return this.nodes.get(e)}getEnergyTransferModel(){let e=this.index.get(X.tagName);if(void 0!=e)return this.nodes.get(e)}setEnergyTransferModel(e){let t=this.index.get(X.tagName);void 0==t?(this.index.set(X.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getDOSCMethod(){let e=this.index.get($.tagName);if(void 0!=e)return this.nodes.get(e)}setDOSCMethod(e){let t=this.index.get($.tagName);void 0==t?(this.index.set($.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getExtraDOSCMethod(){let e=this.index.get(q.tagName);if(void 0!=e)return this.nodes.get(e)}setExtraDOSCMethod(e){let t=this.index.get(q.tagName);void 0==t?(this.index.set(q.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getReservoirSize(){let e=this.index.get(j.tagName);if(void 0!=e)return this.nodes.get(e)}setReservoirSize(e){let t=this.index.get(j.tagName);void 0==t?(this.index.set(j.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getEnergy(){let e=this.getProperty(C.dictRef);if(void 0==e)throw console.log(this.toString()),Error("ZPE property not found");return e.getProperty().value}}class Z extends p{static{this.tagName="molecule"}constructor(e){super(e,Z.tagName),this.ref=e.get("ref")}}class K extends b{static{this.tagName="reactant"}constructor(e,t){super(e,K.tagName),this.addNode(t)}getMolecule(){return this.nodes.get(0)}}class W extends b{static{this.tagName="product"}constructor(e,t){super(e,W.tagName),this.addNode(t)}getMolecule(){return this.nodes.get(0)}}class J extends b{static{this.tagName="me:transitionState"}constructor(e,t){super(e,J.tagName),this.addNode(t)}getMolecule(){return this.nodes.get(0)}}class Q extends v{static{this.tagName="me:preExponential"}constructor(e,t){super(e,Q.tagName,t)}}class Y extends v{static{this.tagName="me:activationEnergy"}constructor(e,t){super(e,Y.tagName,t)}}class ee extends v{static{this.tagName="me:TInfinity"}constructor(e,t){super(e,ee.tagName,t)}}class et extends v{static{this.tagName="me:nInfinity"}constructor(e,t){super(e,et.tagName,t)}}class es extends b{static{this.tagName="me:MCRCMethod"}constructor(e){super(e,es.tagName)}}class ei extends es{static{this.xsiType="me:MesmerILT"}static{this.xsiType2="MesmerILT"}constructor(e,t,s,i,a){super(e),this.index=new Map,void 0!=t&&(this.index.set(Q.tagName,this.index.size),this.addNode(t)),void 0!=s&&(this.index.set(Y.tagName,this.index.size),this.addNode(s)),void 0!=i&&(this.index.set(ee.tagName,this.index.size),this.addNode(i)),void 0!=a&&(this.index.set(et.tagName,this.index.size),this.addNode(a))}getPreExponential(){let e=this.index.get(Q.tagName);if(void 0!=e)return this.nodes.get(e)}getActivationEnergy(){let e=this.index.get(Y.tagName);if(void 0!=e)return this.nodes.get(e)}getTInfinity(){let e=this.index.get(ee.tagName);if(void 0!=e)return this.nodes.get(e)}getNInfinity(){let e=this.index.get(et.tagName);if(void 0!=e)return this.nodes.get(e)}}class ea extends p{static{this.tagName="me:tunneling"}constructor(e){super(e,ea.tagName)}}class en extends v{static{this.tagName="me:excessReactantConc"}constructor(e,t){super(e,en.tagName,t)}}class eo extends b{static{this.tagName="reaction"}constructor(e,t,s,i,a,n,o,r){super(e,eo.tagName),this.index=new Map,this.id=t,this.reactantsIndex=new Map,s.forEach(e=>{this.addNode(e),this.addToIndex(K.tagName,e),this.reactantsIndex.set(e.getMolecule().ref,this.nodes.size-1)}),this.productsIndex=new Map,i.forEach(e=>{this.addToIndex(W.tagName,e),this.addNode(e),this.productsIndex.set(e.getMolecule().ref,this.nodes.size-1)}),void 0!=a&&(this.index.set(ea.tagName,this.nodes.size),this.addNode(a)),void 0!=n&&n.forEach(e=>{this.addToIndex(W.tagName,e),this.addNode(e)}),void 0!=o&&(this.index.set(es.tagName,this.nodes.size),this.addNode(o)),void 0!=r&&(this.index.set(en.tagName,this.nodes.size),this.addNode(r))}addToIndex(e,t){let s=this.index.get(e);if(void 0==s)this.index.set(e,this.nodes.size);else if(s instanceof Map)s.set(t.tagName,this.nodes.size);else{let i=new Map;i.set(this.nodes.get(s).ref,s),i.set(t.tagName,this.nodes.size),this.index.set(e,i)}}getReactants(){let e=this.index.get(K.tagName);return void 0==e?[]:e instanceof Map?Array.from(e.values()).map(e=>this.nodes.get(e)):[this.nodes.get(e)]}getReactant(e){let t=this.reactantsIndex.get(e);if(void 0==t)throw Error(`Reactant with ref ${e} not found`);return this.nodes.get(t)}getProducts(){let e=this.index.get(W.tagName);return void 0==e?[]:e instanceof Map?Array.from(e.values()).map(e=>this.nodes.get(e)):[this.nodes.get(e)]}getProduct(e){let t=this.productsIndex.get(e);if(void 0==t)throw Error(`Product with ref ${e} not found`);return this.nodes.get(t)}getTunneling(){let e=this.index.get(ea.tagName);if(void 0!=e)return this.nodes.get(e)}setTunneling(e){let t=this.index.get(ea.tagName);if(void 0==t)this.index.set(ea.tagName,this.nodes.size),this.addNode(e);else{if(t instanceof Map)throw Error("Tunneling is a map and it is assumed there would be only 1!");this.nodes.set(t,e)}}getTransitionStates(){let e=this.index.get(J.tagName);return void 0==e?[]:e instanceof Map?Array.from(e.values()).map(e=>this.nodes.get(e)):[this.nodes.get(e)]}getMCRCMethod(){let e=this.index.get(es.tagName);if(void 0!=e)return this.nodes.get(e)}setMCRCMethod(e){let t=this.index.get(es.tagName);if(void 0==t)this.index.set(es.tagName,this.nodes.size),this.addNode(e);else{if(t instanceof Map)throw Error("MCRCMethod is a map and it is assumed there would be only 1!");this.nodes.set(t,e)}}getExcessReactantConc(){let e=this.index.get(en.tagName);if(void 0!=e)return this.nodes.get(e)}getReactantsLabel(){return this.getReactants().map(e=>e.getMolecule().ref).join(" + ")}getProductsLabel(){return this.getProducts().map(e=>e.getMolecule().ref).join(" + ")}getLabel(){return this.getReactantsLabel()+" -> "+this.getProductsLabel()}getReactantsEnergy(e){return Array.from(this.getReactants()).map(t=>{let s=e.get(t.getMolecule().ref);if(void 0==s)throw Error(`Molecule with ref ${t.getMolecule().ref} not found`);return s.getEnergy()}).reduce((e,t)=>e+t,0)}getProductsEnergy(e){return Array.from(this.getProducts()).map(t=>{let s=e.get(t.getMolecule().ref);if(void 0==s)throw Error(`Molecule with ref ${t.getMolecule().ref} not found`);return s.getEnergy()}).reduce((e,t)=>e+t,0)}get(e,t){if(this.index.has(e)){let s=this.index.get(e);if(void 0!=s){if(!(s instanceof Map))return this.nodes.get(s);{let e=s.get(t);if(void 0!=e)return this.nodes.get(e)}}}}}class er extends x{static{this.tagName="me:bathGas"}constructor(e,t,s){super(e,er.tagName,t),this.molecules=s}getMolecule(){return this.molecules.get(this.value)}}class ed extends v{static{this.tagName="me:experimentRate"}constructor(e,t){super(e,ed.tagName,t)}}class eg extends b{static{this.tagName="me:PTpair"}constructor(e,t,s){super(e,eg.tagName),this.index=new Map,t&&(this.index.set(er.tagName,this.nodes.size),this.addNode(t)),s&&(this.index.set(ed.tagName,this.nodes.size),this.addNode(s))}getP(){if(void 0!=this.attributes){let e=this.attributes.get("P");if(e)return parseFloat(e);throw Error("P is undefined")}return NaN}setP(e){void 0!=this.attributes&&this.attributes.set("P",e.toString())}getT(){if(void 0!=this.attributes){let e=this.attributes.get("T");if(e)return parseFloat(e);throw Error("T is undefined")}return NaN}setT(e){void 0!=this.attributes&&this.attributes.set("T",e.toString())}getBathGas(){let e=this.index.get(er.tagName);return e?this.nodes.get(e):void 0}setBathGas(e){let t=this.index.get(er.tagName);t?this.nodes.set(t,e):(this.index.set(er.tagName,this.nodes.size),this.addNode(e))}getExperimentRate(){let e=this.index.get(ed.tagName);return e?this.nodes.get(e):void 0}setExperimentRate(e){let t=this.index.get(ed.tagName);t?this.nodes.set(t,e):(this.index.set(ed.tagName,this.nodes.size),this.addNode(e))}}class eh extends b{static{this.tagName="me:PTs"}constructor(e,t){super(e,eh.tagName),t.forEach(e=>{this.addNode(e)})}getPTpair(e){return this.nodes.get(e)}setPTpair(e,t){this.nodes.set(e,t)}addPTpair(e){return this.addNode(e)}}class el extends b{static{this.tagName="me:conditions"}constructor(e,t,s){super(e,el.tagName),this.addNode(t),this.addNode(s)}getBathGas(){return this.nodes.get(0)}getPTs(){return this.nodes.get(1)}}class ec extends v{static{this.tagName="me:grainSize"}constructor(e,t){super(e,ec.tagName,t)}toString(){return`GrainSize(${super.toString()})`}}class eu extends v{static{this.tagName="me:energyAboveTheTopHill"}constructor(e,t){super(e,eu.tagName,t)}}class em extends b{static{this.tagName="me:modelParameters"}constructor(e,t){super(new Map,em.tagName),this.addNode(e),this.addNode(t)}getGrainSize(){return this.nodes.get(0)}getEnergyAboveTheTopHill(){return this.nodes.get(1)}}class eN extends f{static{this.tagName="me:testDOS"}constructor(){super(eN.tagName)}}class ef extends f{static{this.tagName="me:printSpeciesProfile"}constructor(){super(ef.tagName)}}class ep extends f{static{this.tagName="me:testMicroRates"}constructor(){super(ep.tagName)}}class ex extends f{static{this.tagName="me:testRateConstant"}constructor(){super(ex.tagName)}}class ev extends f{static{this.tagName="me:printGrainDOS"}constructor(){super(ev.tagName)}}class eE extends f{static{this.tagName="me:printCellDOS"}constructor(){super(eE.tagName)}}class eb extends f{static{this.tagName="me:printReactionOperatorColumnSums"}constructor(){super(eb.tagName)}}class ey extends f{static{this.tagName="me:printTunnellingCoefficients"}constructor(){super(ey.tagName)}}class ew extends f{static{this.tagName="me:printGrainkfE"}constructor(){super(ew.tagName)}}class eM extends f{static{this.tagName="me:printGrainBoltzmann"}constructor(){super(eM.tagName)}}class ez extends f{static{this.tagName="me:printGrainkbE"}constructor(){super(ez.tagName)}}class eT extends v{static{this.tagName="me:eigenvalues"}constructor(e,t){super(e,eT.tagName,t)}}class eP extends f{static{this.tagName="me:hideInactive"}constructor(){super(eP.tagName)}}class eS extends v{static{this.tagName="me:diagramEnergyOffset"}constructor(e,t){super(e,eS.tagName,t)}}class eR extends b{static{this.tagName="me:control"}constructor(e,t,s,i,a,n,o,r,d,g,h,l,c,u,m){super(e,eR.tagName),this.index=new Map,void 0!=t&&(this.addNode(t),this.index.set(eN.tagName,this.index.size)),void 0!=s&&(this.addNode(s),this.index.set(ef.tagName,this.index.size)),void 0!=i&&(this.addNode(i),this.index.set(ep.tagName,this.index.size)),void 0!=a&&(this.addNode(a),this.index.set(ex.tagName,this.index.size)),void 0!=n&&(this.addNode(n),this.index.set(ev.tagName,this.index.size)),void 0!=o&&(this.addNode(o),this.index.set(eE.tagName,this.index.size)),void 0!=r&&(this.addNode(r),this.index.set(eb.tagName,this.index.size)),void 0!=d&&(this.addNode(d),this.index.set(ey.tagName,this.index.size)),void 0!=g&&(this.addNode(g),this.index.set(ew.tagName,this.index.size)),void 0!=h&&(this.addNode(h),this.index.set(eM.tagName,this.index.size)),void 0!=l&&(this.addNode(l),this.index.set(ez.tagName,this.index.size)),void 0!=c&&(this.addNode(c),this.index.set(eT.tagName,this.index.size)),void 0!=u&&(this.addNode(u),this.index.set(eP.tagName,this.index.size)),void 0!=m&&(this.addNode(m),this.index.set(eS.tagName,this.index.size))}getTestDOS(){let e=this.index.get(eN.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getPrintSpeciesProfile(){let e=this.index.get(ef.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getTestMicroRates(){let e=this.index.get(ep.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getTestRateConstant(){let e=this.index.get(ex.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getPrintGrainDOS(){let e=this.index.get(ev.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getPrintCellDOS(){let e=this.index.get(eE.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getPrintReactionOperatorColumnSums(){let e=this.index.get(eb.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getPrintTunnellingCoefficients(){let e=this.index.get(ey.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getPrintGrainkfE(){let e=this.index.get(ew.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getPrintGrainBoltzmann(){let e=this.index.get(eM.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getPrintGrainkbE(){let e=this.index.get(ez.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getEigenvalues(){let e=this.index.get(eT.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getHideInactive(){let e=this.index.get(eP.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getDiagramEnergyOffset(){let e=this.index.get(eS.tagName)??-1;if(-1!==e)return this.nodes.get(e)}}class eL extends x{static{this.tagName="me:title"}constructor(e,t){super(e,eL.tagName,t)}}class eC extends b{static{this.tagName="moleculeList"}constructor(e,t){super(e,eC.tagName),this.index=new Map,void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1)})}getMolecule(e){let t=this.index.get(e);if(void 0!=t)return this.nodes.get(t)}removeMolecule(e){let t=this.index.get(e);void 0!=t&&(this.nodes.delete(t),this.index.delete(e))}addMolecule(e){let t=this.index.get(e.id);void 0!==t?(this.nodes.set(t,e),console.log("Replaced molecule with id "+e.id)):(this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1))}}class eB extends b{static{this.tagName="reactionList"}constructor(e,t){super(e,eB.tagName),this.index=new Map,void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1)})}getReaction(e){let t=this.index.get(e);if(void 0!=t)return this.nodes.get(t)}removeReaction(e){let t=this.index.get(e);void 0!=t&&(this.nodes.delete(t),this.index.delete(e))}addReaction(e){let t=this.index.get(e.id);void 0!==t?(this.nodes.set(t,e),console.log("Replaced reaction with id "+e.id)):(this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1))}}class eD extends b{static{this.tagName="me:mesmer"}constructor(e,t,s,i,a,n){super(e,eD.tagName),this.index=new Map,void 0!=t&&(this.index.set(eC.tagName,this.nodes.size),this.addNode(t)),void 0!=s&&(this.index.set(eB.tagName,this.nodes.size),this.addNode(s)),void 0!=i&&(this.index.set(el.tagName,this.nodes.size),this.addNode(i)),void 0!=a&&(this.index.set(em.tagName,this.nodes.size),this.addNode(a)),void 0!=n&&(this.index.set(eR.tagName,this.nodes.size),this.addNode(n))}getMoleculeList(){let e=this.index.get(eC.tagName);if(void 0!=e)return this.nodes.get(e)}setMoleculeList(e){let t=this.index.get(eC.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eC.tagName,this.nodes.size),this.addNode(e))}getReactionList(){let e=this.index.get(eB.tagName);if(void 0!=e)return this.nodes.get(e)}setReactionList(e){let t=this.index.get(eB.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eB.tagName,this.nodes.size),this.addNode(e))}getConditions(){let e=this.index.get(el.tagName);if(void 0!=e)return this.nodes.get(e)}setConditions(e){let t=this.index.get(el.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(el.tagName,this.nodes.size),this.addNode(e))}getModelParameters(){let e=this.index.get(em.tagName);if(void 0!=e)return this.nodes.get(e)}setModelParameters(e){let t=this.index.get(em.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(em.tagName,this.nodes.size),this.addNode(e))}getControl(){let e=this.index.get(eR.tagName);if(void 0!=e)return this.nodes.get(e)}setControl(e){let t=this.index.get(eR.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eR.tagName,this.nodes.size),this.addNode(e))}}let eI=new Map,eA=new Map;function eO(e,t){let s=t.id,i=s.split("_")[0],a=eI.get(i);if(void 0!=a){var n;let o=a.getProperty(e).getProperty();if(""===(n=t.value)?1:isNaN(Number(n))){alert(e+" input for "+i+" is not numeric, resetting...");let t=document.getElementById(s),a=o.value;void 0!=a&&(t.value=a.toString())}else{let s=parseFloat(t.value);o.value=s,console.log(e+" of "+i+" set to "+s)}}}window.setProperty=eO,document.addEventListener("DOMContentLoaded",n=>{i=document.getElementById("xml_title"),a=document.getElementById("xml_text"),window.loadXML=function(){!function n(){let o=document.createElement("input");o.type="file",o.onchange=function(){if(o.files){for(let e=0;e<o.files.length;e++)console.log("inputElement.files["+e+"]="+o.files[e]);let t=o.files[0];if(console.log(t.name),e=t.name,null!=a){let s=new FileReader,n=0,o="";s.onload=function(r){if(null==r.target)throw Error("Event target is null");if(o+=r.target.result,null!=t){if(n<t.size){let e=t.slice(n,n+1048576);s.readAsText(e),n+=1048576}else{var d;d=o=o.trim(),null!=i&&(i.innerHTML=e),null!=a&&(a.innerHTML=d.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/  /g,"&nbsp;&nbsp;")),function(e){let t=e.getElementsByTagName(eL.tagName);if(1!=t.length)throw Error("Multiple "+eL.tagName+" tags found");{let s=t[0].childNodes[0].nodeValue.trim(),i=new eL(w(t[0]),s),a=document.getElementById("title"),n=document.createElement("input");n.type="text",n.value=s;let o=document.createTextNode("Title: ");a.parentNode?.insertBefore(o,a),u(n,0),a.parentNode?.replaceChild(n,a),console.log("inputElement.value="+n.value),n.addEventListener("change",function(){n.value!=s&&(i.value=n.value),u(n,0)});let r=document.getElementById("molecules");document.createElement("p").innerHTML="Moleculesvfdafdfdsfds";let d=function(e){let t=document.createElement("moleculesList"),s=function(e,t){let s=e.getElementsByTagName(t);if(1!=s.length)throw Error("Expecting 1 "+t+" but finding "+s.length);return s[0]}(e,eC.tagName),i=new Set;if(s.childNodes.forEach(function(e){i.add(e.nodeName)}),1!=i.size&&!(2==i.size&&i.has("#text")))throw console.error("moleculeListTagNames:"),i.forEach(e=>console.error(e)),Error("Additional tag names in moleculeList:");if(!i.has(V.tagName))throw Error('Expecting tags with "'+V.tagName+'" tagName but there are none!');let a=s.getElementsByTagName(V.tagName);console.log("Number of molecules="+a.length);for(let e=0;e<a.length;e++){let s,i,n,o=document.createElement("moleculeDiv"),r=w(a[e]),d=new Set,h=a[e].childNodes;for(let e=0;e<h.length;e++){let t=h[e];d.has(t.nodeName)?"#text"!=t.nodeName&&console.warn("Another ChildNode with nodeName="+t.nodeName):d.add(t.nodeName)}let c=a[e].getElementsByTagName(z.tagName);if(c.length>1)throw Error("Expecting 1 or 0 "+z.tagName+" but finding "+c.length+"!");if(1==c.length){let e=c[0],t=e.getElementsByTagName(M.tagName);if(t.length<2)throw Error("Expecting 2 or more atoms in "+z.tagName+", but finding "+t.length+"!");let i=[];for(let e=0;e<t.length;e++)i.push(new M(w(t[e])));s=new z(w(e),i),d.delete(z.tagName)}else{let t=a[e].getElementsByTagName(M.tagName);if(1==t.length)s=new M(w(t[0]));else if(t.length>1)throw Error("Expecting 1 "+M.tagName+" but finding "+t.length+". Should these be in an "+z.tagName+"?")}d.delete(M.tagName);let f=a[e].getElementsByTagName(P.tagName);if(f.length>1)throw Error("Expecting 1 or 0 "+P.tagName+" but finding "+f.length+"!");if(1==f.length){let e=f[0],t=e.getElementsByTagName(T.tagName),s=[];for(let e=0;e<t.length;e++)s.push(new T(w(t[e])));i=new P(w(e),s),d.delete(P.tagName)}else{let t=a[e].getElementsByTagName(T.tagName);if(1==t.length)i=new T(w(t[0]));else if(t.length>1)throw Error("Expecting 1 "+T.tagName+" but finding "+t.length+". Should these be in a "+P.tagName+"?")}d.delete(T.tagName);let p=new V(r,s,i);eI.set(p.id,p);let x=a[e].getElementsByTagName(F.tagName);if(x.length>1)throw Error("Expecting 1 or 0 "+F.tagName+" but finding "+x.length+"!");if(1==x.length){let e=new F(w(x[0])),t=x[0].getElementsByTagName(L.tagName);for(let s=0;s<t.length;s++){let i=new L(w(t[s]));e.setProperty(i),p.setProperties(e);let a=t[s].getElementsByTagName(S.tagName);if(a.length>0){if(1!=a.length)throw Error("Expecting 1 "+S.tagName+" but finding "+a.length+"!");let e=N(m(a[0])).trim(),t=parseFloat(e);i.setProperty(new S(w(a[0]),t));let s=i.dictRef,n=l("number",p.id+"_"+i.dictRef,e=>{e.target instanceof HTMLInputElement&&eO(i.dictRef,e.target)},i.toString(),s);o.appendChild(n);let r=n.querySelector("input");r.value=e,u(r),r.addEventListener("change",e=>{let t=e.target.value;i.getProperty().value=parseFloat(t),console.log("Set "+i.dictRef+" of "+p.id+" to "+t),u(r)})}else{let e=t[s].getElementsByTagName(R.tagName);if(e.length>0){if(1!=e.length)throw Error("Expecting 1 "+R.tagName+" but finding "+e.length+"!");let t=N(m(a[0])).trim(),s=parseFloat(t);i.setProperty(new S(w(a[0]),s));let n=i.dictRef,r=l("number",p.id+"_"+i.dictRef,e=>{e.target instanceof HTMLInputElement&&eO(i.dictRef,e.target)},i.toString(),n);o.appendChild(r);let d=r.querySelector("input");d.value=t,u(d),d.addEventListener("change",e=>{let t=e.target.value,s=i.getProperty(),a=t.split(/\s+/).map(parseFloat);s.values=a,console.log("Set "+i.dictRef+" of "+p.id+" to "+t),u(d)})}else throw Error("Expecting "+S.tagName+" or "+R.tagName)}}d.delete(F.tagName)}else{let t=a[e].getElementsByTagName(L.tagName);if(t.length>1)throw Error("Expecting 1 "+L.tagName+" but finding "+t.length+". Should these be in a "+F.tagName+"?")}if(d.delete(L.tagName),d.delete(X.tagName),null!=(n=a[e].getElementsByTagName(X.tagName))&&n.length>0){if(1!=n.length)throw Error("energyTransferModel length="+n.length);let e=n[0].getElementsByTagName(G.tagName);if(null!=e){let t=[];for(let s=0;s<e.length;s++){let i=parseFloat(N(m(e[s]))),a=new G(w(e[s]),i);t.push(a)}let s=new X(w(n[0]),t);p.setEnergyTransferModel(s)}}if(d.delete($.tagName),null!=(n=a[e].getElementsByTagName($.tagName))){let e=n[0];null!=e&&p.setDOSCMethod(new $(w(e)))}if(d.delete(q.tagName),(n=a[e].getElementsByTagName(q.tagName)).length>0){let e,t,s;if(1!=n.length)throw Error("Expecting only 1 extra DOSCMethod, but there are "+n.length);let i=n[0].getElementsByTagName(H.tagName);if(i.length>0){if(1!=i.length)throw Error("Expecting only 1 bondRef, but there are "+i.length);e=new H(w(i[0]),N(m(i[0])))}let a=n[0].getElementsByTagName(U.tagName);if(a.length>0){if(1!=a.length)throw Error("Expecting only 1 HinderedRotorPotential, but there are "+a.length);let e=[],s=a[0].getElementsByTagName(k.tagName);for(let t=0;t<s.length;t++)e.push(new k(w(s[t])));t=new U(w(a[0]),e)}let o=n[0].getElementsByTagName(_.tagName);if(o.length>0){if(1!=o.length)throw Error("Expecting only 1 Periodicity, but there are "+o.length);s=new _(w(o[0]),parseFloat(N(m(o[0]))))}p.setExtraDOSCMethod(new q(w(n[0]),e,t,s))}if(d.delete(j.tagName),(n=a[e].getElementsByTagName(j.tagName)).length>0){if(1!=n.length)throw Error("Expecting only 1 reservoirSize, but there are "+n.length);p.setReservoirSize(new j(w(n[0]),parseFloat(N(m(n[0])))))}d.delete("#text"),d.size>0&&(console.warn("There are additional unexpected moleculeTagNames:"),d.forEach(e=>console.warn(e)));let v=g("buttonId",p.getLabel(),o,p.tagName+"_"+p.id);t.appendChild(v)}return t}(e),c=g("buttonId","Molecules",d,"moleculesList");r.appendChild(c),function(){for(var e=document.getElementsByClassName("collapsible"),t=0;t<e.length;t++)e[t].removeEventListener("click",h),e[t].addEventListener("click",h)}()}}(new DOMParser().parseFromString(o,"text/xml"))}}};let r=t.slice(n,n+1048576);s.readAsText(r),n+=1048576}}},o.click(),null!=(t=document.getElementById("load_button"))&&t.addEventListener("click",n),null!=(s=document.getElementById("saveButton"))&&(s.style.display="inline")}()}}),window.saveXML=function(){console.log("saveXML");let t="  ".repeat(2),s="";eI.forEach(function(e,i){s+=e.toXML("  ",t)}),s=y(s,"moleculeList",void 0,"  ",!0);let i="";eA.forEach(function(e,s){i+=e.toXML("  ",t)}),i=y(i,"reactionList",void 0,"  ",!0);let a=n.toXML("  ","  "),d=o.toXML("  ","  "),g=r.toXML("  ","  "),h=new Blob([s,i,a,d,g],{type:"text/plain"}),l=URL.createObjectURL(h),c=document.createElement("a");c.href=l,c.download=e,document.body.appendChild(c),c.click(),document.body.removeChild(c)};
//# sourceMappingURL=index.f134aeee.js.map
