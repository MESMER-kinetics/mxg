let e,t,s,i,a;function n(e,t){if(!e.has(t))throw Error(`Key ${t} not found in map`);return e.get(t)}function o(e,t){return void 0==t&&(t=", "),e.map(e=>null==e?"null":e.toString()).join(t)}function r(e){let t=[];for(let s=0;s<e.length;s++)d(e[s])&&t.push(parseFloat(e[s]));return t}function d(e){return""!==e&&!isNaN(Number(e))}function l(e,t,s,i,a,n,o,r,d){let l=document.createElement("div");void 0!=r&&(l.id=r),void 0!=d&&(l.className=d);let g=document.createElement("button");return void 0!=s&&(g.id=s),g.className="collapsible",g.innerText=t,void 0!=i&&(g.style.fontSize=i),void 0!=a&&(g.style.marginLeft=a),void 0!=n&&(g.style.marginTop=n),void 0!=o&&(g.style.marginBottom=o),l.appendChild(g),l.appendChild(e),l}function g(){this.classList.toggle("active");let e=this.nextElementSibling;"block"===e.style.display?e.style.display="none":e.style.display="block"}function h(e,t,s,i,a){let n=document.createElement("input");n.type=e,n.id=t,n.onchange=s,n.value=i;let o=document.createElement("label");o.htmlFor=t,a?o.textContent=a+": ":o.textContent="";let r=document.createElement("div");return r.appendChild(o),r.appendChild(n),r}function c(e,t){let s="<"+t;if(e)for(let[t,i]of e)s+=" "+t+'="'+i+'"';return s+" />"}function m(e,t){void 0==t&&(t=4),e.style.width=e.value.length+t+"ch"}function u(e,t,s){let i=document.createElement("select");return e.forEach(e=>{i.name=t,i.id=s;let a=document.createElement("option");a.value=e,a.text=e,i.appendChild(a)}),i}function N(e,t){let s=e.getElementsByTagName(t)[0];if(null==s)throw Error(t+" element not found");return s}function p(e){let t=e.childNodes;if(null==t)throw Error("Element has no childNodes");return t[0]}function f(e){let t=e.nodeValue;if(null==t)throw Error("nodeValue is null");return t}function x(e){let t=p(e);return t?f(t).trim():""}class v{constructor(e){this.tagName=e}toXML(e){let t=c(void 0,this.tagName);return e?"\n"+e+t:t}}class E extends v{constructor(e,t){super(t),this.attributes=e}toString(){let e=this.tagName+"(";return this.attributes&&this.attributes.forEach((t,s)=>{e+=`${s}(${t}), `}),e}toXML(e){let t="";if(void 0!=e&&(t+="\n"+e),t+="<"+this.tagName,this.attributes)for(let[e,s]of this.attributes)t+=" "+e+'="'+s.toString()+'"';return t+" />"}}class y extends E{constructor(e,t,s){super(e,t),this.value=s}toString(){return super.toString()+`, ${this.value.toString()})`}toXML(e){return S(this.value.trim(),this.tagName,this.attributes,e,!1)}}class w extends E{constructor(e,t,s){super(e,t),this.value=s}toString(){return super.toString()+`, ${this.value.toString()})`}toXML(e){return S(this.value.toString().trim(),this.tagName,this.attributes,e,!1)}}class b extends E{constructor(e,t,s,i){super(e,t),this.delimiter=",",this.values=s,void 0!=i&&(this.delimiter=i)}toString(){return super.toString()+`, ${this.values.toString()})`}setDelimiter(e){this.delimiter=e}toXML(e){return S(this.values.toString().replaceAll(",",this.delimiter),this.tagName,this.attributes,e,!1)}}class T extends E{constructor(e,t){super(e,t),this.nodes=new Map}addNode(e){return this.nodes.set(this.nodes.size,e),this.nodes.size-1}toString(){let e=super.toString();return this.nodes.forEach((t,s)=>{e+=`, ${t.toString()}`}),e+")"}toXML(e,t){let s;void 0!=e&&void 0!=t&&(s=t+e);let i="";if(this.nodes.size>0)return this.nodes.forEach(t=>{t instanceof T?i+=t.toXML(e,s):i+=t.toXML(s)}),S(i,this.tagName,this.attributes,t,!0);{let e=c(this.attributes,this.tagName);return void 0!=t?"\n"+t+e:e}}}function S(e,t,s,i,a){let n;return function(e,t,s){let i="";if(void 0!=s&&(i+="\n"+s),i+="<"+e,t)for(let[e,s]of t)i+=" "+e+'="'+s.toString()+'"';return i+">"}(t,s,i)+e+(n="",a&&void 0!=i&&(n+="\n"+i),n+"</"+t+">")}function M(e){let t=e.getAttributeNames(),s=new Map;return t.forEach(function(t){let i=e.getAttribute(t);null!=i&&s.set(t,i)}),s}function z(e,t){let s=e.getElementsByTagName(t);if(1!=s.length)throw Error("Expecting 1 "+t+" but finding "+s.length);return s[0]}class R extends E{static{this.tagName="atom"}constructor(e){super(e,R.tagName);let t=e.get("elementType");if(void 0==t)throw Error("elementType is undefined");this.elementType=t;let s=e.get("id");void 0==s&&(s=this.elementType),this.id=s}}class C extends T{static{this.tagName="atomArray"}constructor(e,t){super(e,C.tagName),t.forEach(e=>{this.nodes.set(this.nodes.size,e)})}}class P extends E{static{this.tagName="bond"}constructor(e){super(e,P.tagName);let t=e.get("atomRefs2");if(void 0==t)throw Error("atomRefs2 is undefined");this.atomRefs2=t}}class L extends T{static{this.tagName="bondArray"}constructor(e,t){super(e,L.tagName),t.forEach(e=>{this.nodes.set(this.nodes.size,e)})}}class B extends w{static{this.tagName="scalar"}constructor(e,t){super(e,B.tagName,t)}updateUnits(e){if(e&&void 0!=this.attributes){let t=this.attributes.get("units");void 0!=t&&t!=e&&this.attributes.set("units",e)}}}class I extends b{static{this.tagName="array"}constructor(e,t,s){super(e,I.tagName,t,s)}updateUnits(e){if(e&&void 0!=this.attributes){let t=this.attributes.get("units");void 0!=t&&t!=e&&this.attributes.set("units",e)}}}class _ extends T{static{this.tagName="property"}constructor(e,t){super(e,_.tagName);let s=e.get("dictRef");if(void 0==s)throw Error("dictRef is undefined");this.dictRef=s,t&&this.nodes.set(0,t)}getProperty(){return this.nodes.get(0)}setProperty(e){this.nodes.set(0,e)}}class D extends _{static{this.dictRef="me:ZPE"}constructor(e,t){super(e,t)}setUnits(e){this.getProperty().updateUnits(e)}}class A extends _{static{this.dictRef="me:frequenciesScaleFactor"}constructor(e,t){super(e,t)}}class F extends _{static{this.dictRef="me:vibFreqs"}constructor(e,t){super(e,t)}}class O extends _{static{this.dictRef="me:rotConsts"}constructor(e,t){super(e,t)}}class H extends _{static{this.dictRef="me:MW"}constructor(e,t){super(e,t)}}class G extends _{static{this.dictRef="me:imFreqs"}constructor(e,t){super(e,t)}}class k extends T{static{this.tagName="propertyList"}constructor(e,t){super(e,k.tagName),this.index=new Map,t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e),this.index.set(e.dictRef,this.nodes.size-1)})}getProperty(e){let t=this.index.get(e);if(void 0!=t)return this.nodes.get(t);throw Error("Property "+e+" does not exist")}setProperty(e){let t=this.index.get(e.dictRef);void 0==t?(this.nodes.set(this.nodes.size,e),this.index.set(e.dictRef,this.nodes.size-1)):(console.log("Property "+e.dictRef+" already exists, updating..."),this.nodes.set(t,e))}}class X extends w{static{this.tagName="me:deltaEDown"}constructor(e,t){super(e,X.tagName,t)}getBathGas(){if(void 0!=this.attributes)return this.attributes.get("bathGas")}setBathGas(e){void 0!=this.attributes&&this.attributes.set("bathGas",e)}getUnits(){if(void 0!=this.attributes)return this.attributes.get("units")}getLower(){if(void 0!=this.attributes)return parseFloat(n(this.attributes,"lower"))}setLower(e){void 0!=this.attributes&&this.attributes.set("lower",e.toString())}getUpper(){if(void 0!=this.attributes)return parseFloat(n(this.attributes,"upper"))}setUpper(e){void 0!=this.attributes&&this.attributes.set("upper",e.toString())}getStepsize(){if(void 0!=this.attributes)return parseFloat(n(this.attributes,"stepsize"))}setStepsize(e){void 0!=this.attributes&&this.attributes.set("stepsize",e.toString())}setValue(e){this.value=e}}class $ extends T{static{this.tagName="me:energyTransferModel"}constructor(e,t){super(e,$.tagName),void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e)})}getDeltaEDowns(){let e=[];return this.nodes.forEach(t=>{t instanceof X&&e.push(t)}),e}setDeltaEDowns(e){this.nodes.clear(),e.forEach(e=>{this.nodes.set(this.nodes.size,e)})}getDeltaEDown(e){if(e<0||e>=this.nodes.size)throw Error("index out of range");return this.nodes.get(e)}setDeltaEDown(e,t){this.nodes.set(e,t)}addDeltaEDown(e){return this.nodes.set(this.nodes.size,e),this.nodes.size-1}}class U extends E{static{this.tagName="me:DOSCMethod"}constructor(e){if(super(e,U.tagName),void 0==e.get("xsi:type"))throw Error("xsi:type is undefined")}getXsiType(){if(void 0==this.attributes)throw Error("attributes is undefined");return this.attributes.get("xsi:type")}setXsiType(e){if(void 0==this.attributes)throw Error("attributes is undefined");this.attributes.set("xsi:type",e)}}class V extends y{static{this.tagName="me:bondRef"}constructor(e,t){super(e,V.tagName,t)}}class q extends E{static{this.tagName="me:PotentialPoint"}constructor(e){super(e,q.tagName)}}class j extends T{static{this.tagName="me:HinderedRotorPotential"}constructor(e,t){super(e,j.tagName),t.forEach(e=>{this.nodes.set(this.nodes.size,e)})}getPotentialPoint(e){return this.nodes.get(e)}setPotentialPoints(e,t){this.nodes.set(e,t)}addPotentialPoint(e){return this.nodes.set(this.nodes.size,e),this.nodes.size-1}}class K extends w{static{this.tagName="me:periodicity"}constructor(e,t){super(e,K.tagName,t)}}class W extends T{static{this.tagName="me:ExtraDOSCMethod"}constructor(e,t,s,i){super(e,W.tagName),t&&this.nodes.set(this.nodes.size,t),s&&this.nodes.set(this.nodes.size,s),i&&this.nodes.set(this.nodes.size,i)}getBondRef(){return this.nodes.get(0)}setBondRef(e){this.nodes.set(0,e)}getHinderedRotorPotential(){return this.nodes.get(1)}setHinderedRotorPotential(e){this.nodes.set(1,e)}getPeriodicity(){return this.nodes.get(2)}setPeriodicity(e){this.nodes.set(2,e)}}class Z extends w{static{this.tagName="me:reservoirSize"}constructor(e,t){super(e,Z.tagName,t)}}class J extends T{static{this.tagName="molecule"}constructor(e,t,s,i,a,n,o,r){super(e,J.tagName),this.index=new Map;let d=e.get("id");if(void 0==d)throw Error("id is undefined");this.id=d;let l=0;t&&(this.nodes.set(l,t),t instanceof R?this.index.set(R.tagName,l):this.index.set(C.tagName,l),l++),s&&(this.nodes.set(l,s),this.index.set(L.tagName,l),l++),i&&(this.nodes.set(l,i),this.index.set(k.tagName,l),l++),a&&(this.nodes.set(l,a),this.index.set($.tagName,l),l++),n&&(this.nodes.set(l,n),this.index.set(U.tagName,l)),o&&(this.nodes.set(l,o),this.index.set(W.tagName,l)),r&&(this.nodes.set(l,r),this.index.set(Z.tagName,l))}getDescription(){if(void 0!=this.attributes)return this.attributes.get("description")}setDescription(e){void 0!=this.attributes&&this.attributes.set("description",e)}getActive(){if(void 0!=this.attributes){let e=this.attributes.get("active");if(void 0!=e)return"true"==e}}setActive(e){void 0!=this.attributes&&this.attributes.set("active",e.toString())}getLabel(){let e=this.id,t=this.getDescription();return void 0!=t&&(e+=" ("+t+")"),this.getActive()&&(e+=" (active)"),e}getAttributesAsString(){return void 0==this.attributes?"":Array.from(this.attributes,([e,t])=>`${e}="${t}"`).join(", ")}getProperties(){let e=this.index.get(k.tagName);if(void 0!=e||void 0!=(e=this.index.get(_.tagName)))return this.nodes.get(e)}setProperties(e){let t=this.index.get(k.tagName);void 0==t?(this.index.set(k.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getProperty(e){let t=this.getProperties();if(void 0!=t)return t instanceof k?t.getProperty(e):t}setProperty(e){let t=this.getProperties();void 0!=t?t instanceof k?t.setProperty(e):this.setProperties(t):this.setProperties(e)}getAtoms(){let e=this.index.get(R.tagName);if(void 0!=e||void 0!=(e=this.index.get(C.tagName)))return this.nodes.get(e)}getBonds(){let e=this.index.get(L.tagName);if(void 0!=e)return this.nodes.get(e)}getEnergyTransferModel(){let e=this.index.get($.tagName);if(void 0!=e)return this.nodes.get(e)}setEnergyTransferModel(e){let t=this.index.get($.tagName);void 0==t?(this.index.set($.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getDOSCMethod(){let e=this.index.get(U.tagName);if(void 0!=e)return this.nodes.get(e)}setDOSCMethod(e){let t=this.index.get(U.tagName);void 0==t?(this.index.set(U.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getExtraDOSCMethod(){let e=this.index.get(W.tagName);if(void 0!=e)return this.nodes.get(e)}setExtraDOSCMethod(e){let t=this.index.get(W.tagName);void 0==t?(this.index.set(W.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getReservoirSize(){let e=this.index.get(Z.tagName);if(void 0!=e)return this.nodes.get(e)}setReservoirSize(e){let t=this.index.get(Z.tagName);void 0==t?(this.index.set(Z.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getEnergy(){let e=this.getProperty(D.dictRef);if(void 0==e)throw console.log(this.toString()),Error("ZPE property not found");return e.getProperty().value}}class Q extends E{static{this.tagName="molecule"}constructor(e){super(e,Q.tagName),this.ref=e.get("ref"),this.role=e.get("role")}setRole(e){this.role=e}}class Y extends T{static{this.tagName="reactant"}constructor(e,t){super(e,Y.tagName),this.addNode(t)}getMolecule(){return this.nodes.get(0)}}class ee extends T{static{this.tagName="product"}constructor(e,t){super(e,ee.tagName),this.addNode(t)}getMolecule(){return this.nodes.get(0)}}class et extends T{static{this.tagName="me:transitionState"}constructor(e,t){super(e,et.tagName),this.addNode(t)}getMolecule(){return this.nodes.get(0)}}class es extends w{static{this.tagName="me:preExponential"}constructor(e,t){super(e,es.tagName,t)}}class ei extends w{static{this.tagName="me:activationEnergy"}constructor(e,t){super(e,ei.tagName,t)}}class ea extends w{static{this.tagName="me:TInfinity"}constructor(e,t){super(e,ea.tagName,t)}}class en extends w{static{this.tagName="me:nInfinity"}constructor(e,t){super(e,en.tagName,t)}}class eo extends T{static{this.tagName="me:MCRCMethod"}constructor(e){super(e,eo.tagName)}}class er extends eo{static{this.xsiType="me:MesmerILT"}static{this.xsiType2="MesmerILT"}constructor(e,t,s,i,a){super(e),this.index=new Map,void 0!=t&&(this.index.set(es.tagName,this.index.size),this.addNode(t)),void 0!=s&&(this.index.set(ei.tagName,this.index.size),this.addNode(s)),void 0!=i&&(this.index.set(ea.tagName,this.index.size),this.addNode(i)),void 0!=a&&(this.index.set(en.tagName,this.index.size),this.addNode(a))}getPreExponential(){let e=this.index.get(es.tagName);if(void 0!=e)return this.nodes.get(e)}getActivationEnergy(){let e=this.index.get(ei.tagName);if(void 0!=e)return this.nodes.get(e)}getTInfinity(){let e=this.index.get(ea.tagName);if(void 0!=e)return this.nodes.get(e)}getNInfinity(){let e=this.index.get(en.tagName);if(void 0!=e)return this.nodes.get(e)}}class ed extends E{static{this.tagName="me:tunneling"}constructor(e){super(e,ed.tagName)}getName(){return void 0!=this.attributes?this.attributes.get("name"):""}setName(e){void 0!=this.attributes&&this.attributes.set("name",e)}}class el extends w{static{this.tagName="me:excessReactantConc"}constructor(e,t){super(e,el.tagName,t)}}class eg extends T{static{this.tagName="reaction"}constructor(e,t,s,i,a,n,o){super(e,eg.tagName),this.index=new Map,this.reactantsIndex=new Map,this.productsIndex=new Map,this.transitionStatesIndex=new Map;let r=e.get("id");if(void 0==r)throw Error("Reaction id is undefined");this.id=r,void 0!=t&&t.forEach(e=>{this.addNode(e),this.addToIndex(Y.tagName,e),this.reactantsIndex.set(e.getMolecule().ref,this.nodes.size-1)}),void 0!=s&&s.forEach(e=>{this.addToIndex(ee.tagName,e),this.addNode(e),this.productsIndex.set(e.getMolecule().ref,this.nodes.size-1)}),void 0!=i&&(this.index.set(ed.tagName,this.nodes.size),this.addNode(i)),void 0!=a&&a.forEach(e=>{this.addToIndex(ee.tagName,e),this.addNode(e),this.transitionStatesIndex.set(e.getMolecule().ref,this.nodes.size-1)}),void 0!=n&&(this.index.set(eo.tagName,this.nodes.size),this.addNode(n)),void 0!=o&&(this.index.set(el.tagName,this.nodes.size),this.addNode(o))}addToIndex(e,t){let s=this.index.get(e);if(void 0==s)this.index.set(e,this.nodes.size);else if(s instanceof Map)s.set(t.tagName,this.nodes.size);else{let i=new Map;i.set(this.nodes.get(s).ref,s),i.set(t.tagName,this.nodes.size),this.index.set(e,i)}}getReactants(){let e=this.index.get(Y.tagName);return void 0==e?[]:e instanceof Map?Array.from(e.values()).map(e=>this.nodes.get(e)):[this.nodes.get(e)]}setReactants(e){e.forEach(e=>{this.addNode(e),this.addToIndex(Y.tagName,e),this.reactantsIndex.set(e.getMolecule().ref,this.nodes.size-1)})}getReactant(e){let t=this.reactantsIndex.get(e);if(void 0==t)throw Error(`Reactant with ref ${e} not found`);return this.nodes.get(t)}addReactant(e){this.addNode(e),this.addToIndex(Y.tagName,e),this.reactantsIndex.set(e.getMolecule().ref,this.nodes.size-1)}removeReactant(e){let t=this.reactantsIndex.get(e);void 0!=t&&(this.nodes.delete(t),this.reactantsIndex.delete(e))}getProducts(){let e=this.index.get(ee.tagName);return void 0==e?[]:e instanceof Map?Array.from(e.values()).map(e=>this.nodes.get(e)):[this.nodes.get(e)]}setProducts(e){e.forEach(e=>{this.addToIndex(ee.tagName,e),this.addNode(e),this.productsIndex.set(e.getMolecule().ref,this.nodes.size-1)})}getProduct(e){let t=this.productsIndex.get(e);if(void 0==t)throw Error(`Product with ref ${e} not found`);return this.nodes.get(t)}addProduct(e){this.addNode(e),this.addToIndex(ee.tagName,e),this.productsIndex.set(e.getMolecule().ref,this.nodes.size-1)}removeProduct(e){let t=this.productsIndex.get(e);void 0!=t&&(this.nodes.delete(t),this.productsIndex.delete(e))}getTunneling(){let e=this.index.get(ed.tagName);if(void 0!=e)return this.nodes.get(e)}setTunneling(e){let t=this.index.get(ed.tagName);if(void 0==t)this.index.set(ed.tagName,this.nodes.size),this.addNode(e);else{if(t instanceof Map)throw Error("Tunneling is a map and it is assumed there would be only 1!");this.nodes.set(t,e)}}getTransitionStates(){let e=this.index.get(et.tagName);return void 0==e?[]:e instanceof Map?Array.from(e.values()).map(e=>this.nodes.get(e)):[this.nodes.get(e)]}setTransitionStates(e){e.forEach(e=>{this.addToIndex(et.tagName,e),this.addNode(e),this.transitionStatesIndex.set(e.getMolecule().ref,this.nodes.size-1)})}getTransitionState(e){let t=this.transitionStatesIndex.get(e);if(void 0==t)throw Error(`Transition state with ref ${e} not found`);return this.nodes.get(t)}addTransitionState(e){this.addNode(e),this.addToIndex(et.tagName,e),this.transitionStatesIndex.set(e.getMolecule().ref,this.nodes.size-1)}removeTransitionState(e){let t=this.transitionStatesIndex.get(e);void 0!=t&&(this.nodes.delete(t),this.transitionStatesIndex.delete(e))}getMCRCMethod(){let e=this.index.get(eo.tagName);if(void 0!=e)return this.nodes.get(e)}setMCRCMethod(e){let t=this.index.get(eo.tagName);if(void 0==t)this.index.set(eo.tagName,this.nodes.size),this.addNode(e);else{if(t instanceof Map)throw Error("MCRCMethod is a map and it is assumed there would be only 1!");this.nodes.set(t,e)}}getExcessReactantConc(){let e=this.index.get(el.tagName);if(void 0!=e)return this.nodes.get(e)}setExcessReactantConc(e){let t=this.index.get(el.tagName);if(void 0==t)this.index.set(el.tagName,this.nodes.size),this.addNode(e);else{if(t instanceof Map)throw Error("ExcessReactantConc is a map and it is assumed there would be only 1!");this.nodes.set(t,e)}}getReactantsLabel(){return this.getReactants().map(e=>e.getMolecule().ref).join(" + ")}getProductsLabel(){return this.getProducts().map(e=>e.getMolecule().ref).join(" + ")}getLabel(){return this.getReactantsLabel()+" -> "+this.getProductsLabel()}getReactantsEnergy(e){return Array.from(this.getReactants()).map(t=>{let s=e.get(t.getMolecule().ref);if(void 0==s)throw Error(`Molecule with ref ${t.getMolecule().ref} not found`);return s.getEnergy()}).reduce((e,t)=>e+t,0)}getProductsEnergy(e){return Array.from(this.getProducts()).map(t=>{let s=e.get(t.getMolecule().ref);if(void 0==s)throw Error(`Molecule with ref ${t.getMolecule().ref} not found`);return s.getEnergy()}).reduce((e,t)=>e+t,0)}get(e,t){if(this.index.has(e)){let s=this.index.get(e);if(void 0!=s){if(!(s instanceof Map))return this.nodes.get(s);{let e=s.get(t);if(void 0!=e)return this.nodes.get(e)}}}}}class eh extends y{static{this.tagName="me:bathGas"}constructor(e,t,s){super(e,eh.tagName,t),this.molecules=s}getMolecule(){return this.molecules.get(this.value)}}class ec extends w{static{this.tagName="me:experimentRate"}constructor(e,t){super(e,ec.tagName,t)}}class em extends T{static{this.tagName="me:PTpair"}constructor(e,t,s){super(e,em.tagName),this.index=new Map,t&&(this.index.set(eh.tagName,this.nodes.size),this.addNode(t)),s&&(this.index.set(ec.tagName,this.nodes.size),this.addNode(s))}getP(){if(void 0!=this.attributes){let e=this.attributes.get("P");if(e)return parseFloat(e);throw Error("P is undefined")}return NaN}setP(e){void 0!=this.attributes&&this.attributes.set("P",e.toString())}getT(){if(void 0!=this.attributes){let e=this.attributes.get("T");if(e)return parseFloat(e);throw Error("T is undefined")}return NaN}setT(e){void 0!=this.attributes&&this.attributes.set("T",e.toString())}getBathGas(){let e=this.index.get(eh.tagName);return e?this.nodes.get(e):void 0}setBathGas(e){let t=this.index.get(eh.tagName);t?this.nodes.set(t,e):(this.index.set(eh.tagName,this.nodes.size),this.addNode(e))}getExperimentRate(){let e=this.index.get(ec.tagName);return e?this.nodes.get(e):void 0}setExperimentRate(e){let t=this.index.get(ec.tagName);t?this.nodes.set(t,e):(this.index.set(ec.tagName,this.nodes.size),this.addNode(e))}}class eu extends T{static{this.tagName="me:PTs"}constructor(e,t){super(e,eu.tagName),t.forEach(e=>{this.addNode(e)})}getPTpair(e){return this.nodes.get(e)}setPTpair(e,t){this.nodes.set(e,t)}addPTpair(e){return this.addNode(e)}}class eN extends T{static{this.tagName="me:conditions"}constructor(e,t,s){super(e,eN.tagName),this.addNode(t),this.addNode(s)}getBathGas(){return this.nodes.get(0)}getPTs(){return this.nodes.get(1)}}class ep extends w{static{this.tagName="me:grainSize"}constructor(e,t){super(e,ep.tagName,t)}toString(){return`GrainSize(${super.toString()})`}}class ef extends w{static{this.tagName="me:energyAboveTheTopHill"}constructor(e,t){super(e,ef.tagName,t)}}class ex extends T{static{this.tagName="me:modelParameters"}constructor(e,t){super(new Map,ex.tagName),this.addNode(e),this.addNode(t)}getGrainSize(){return this.nodes.get(0)}getEnergyAboveTheTopHill(){return this.nodes.get(1)}}class ev extends v{static{this.tagName="me:testDOS"}constructor(){super(ev.tagName)}}class eE extends v{static{this.tagName="me:printSpeciesProfile"}constructor(){super(eE.tagName)}}class ey extends v{static{this.tagName="me:testMicroRates"}constructor(){super(ey.tagName)}}class ew extends v{static{this.tagName="me:testRateConstant"}constructor(){super(ew.tagName)}}class eb extends v{static{this.tagName="me:printGrainDOS"}constructor(){super(eb.tagName)}}class eT extends v{static{this.tagName="me:printCellDOS"}constructor(){super(eT.tagName)}}class eS extends v{static{this.tagName="me:printReactionOperatorColumnSums"}constructor(){super(eS.tagName)}}class eM extends v{static{this.tagName="me:printTunnellingCoefficients"}constructor(){super(eM.tagName)}}class ez extends v{static{this.tagName="me:printGrainkfE"}constructor(){super(ez.tagName)}}class eR extends v{static{this.tagName="me:printGrainBoltzmann"}constructor(){super(eR.tagName)}}class eC extends v{static{this.tagName="me:printGrainkbE"}constructor(){super(eC.tagName)}}class eP extends w{static{this.tagName="me:eigenvalues"}constructor(e,t){super(e,eP.tagName,t)}}class eL extends v{static{this.tagName="me:hideInactive"}constructor(){super(eL.tagName)}}class eB extends w{static{this.tagName="me:diagramEnergyOffset"}constructor(e,t){super(e,eB.tagName,t)}}class eI extends T{static{this.tagName="me:control"}constructor(e,t,s,i,a,n,o,r,d,l,g,h,c,m,u){super(e,eI.tagName),this.index=new Map,void 0!=t&&(this.addNode(t),this.index.set(ev.tagName,this.index.size)),void 0!=s&&(this.addNode(s),this.index.set(eE.tagName,this.index.size)),void 0!=i&&(this.addNode(i),this.index.set(ey.tagName,this.index.size)),void 0!=a&&(this.addNode(a),this.index.set(ew.tagName,this.index.size)),void 0!=n&&(this.addNode(n),this.index.set(eb.tagName,this.index.size)),void 0!=o&&(this.addNode(o),this.index.set(eT.tagName,this.index.size)),void 0!=r&&(this.addNode(r),this.index.set(eS.tagName,this.index.size)),void 0!=d&&(this.addNode(d),this.index.set(eM.tagName,this.index.size)),void 0!=l&&(this.addNode(l),this.index.set(ez.tagName,this.index.size)),void 0!=g&&(this.addNode(g),this.index.set(eR.tagName,this.index.size)),void 0!=h&&(this.addNode(h),this.index.set(eC.tagName,this.index.size)),void 0!=c&&(this.addNode(c),this.index.set(eP.tagName,this.index.size)),void 0!=m&&(this.addNode(m),this.index.set(eL.tagName,this.index.size)),void 0!=u&&(this.addNode(u),this.index.set(eB.tagName,this.index.size))}getTestDOS(){let e=this.index.get(ev.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getPrintSpeciesProfile(){let e=this.index.get(eE.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getTestMicroRates(){let e=this.index.get(ey.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getTestRateConstant(){let e=this.index.get(ew.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getPrintGrainDOS(){let e=this.index.get(eb.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getPrintCellDOS(){let e=this.index.get(eT.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getPrintReactionOperatorColumnSums(){let e=this.index.get(eS.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getPrintTunnellingCoefficients(){let e=this.index.get(eM.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getPrintGrainkfE(){let e=this.index.get(ez.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getPrintGrainBoltzmann(){let e=this.index.get(eR.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getPrintGrainkbE(){let e=this.index.get(eC.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getEigenvalues(){let e=this.index.get(eP.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getHideInactive(){let e=this.index.get(eL.tagName)??-1;if(-1!==e)return this.nodes.get(e)}getDiagramEnergyOffset(){let e=this.index.get(eB.tagName)??-1;if(-1!==e)return this.nodes.get(e)}}class e_ extends y{static{this.tagName="me:title"}constructor(e,t){super(e,e_.tagName,t)}}class eD extends T{static{this.tagName="moleculeList"}constructor(e,t){super(e,eD.tagName),this.index=new Map,void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1)})}getMolecule(e){let t=this.index.get(e);if(void 0!=t)return this.nodes.get(t)}removeMolecule(e){let t=this.index.get(e);void 0!=t&&(this.nodes.delete(t),this.index.delete(e))}addMolecule(e){let t=this.index.get(e.id);void 0!==t?(this.nodes.set(t,e),console.log("Replaced molecule with id "+e.id)):(this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1))}}class eA extends T{static{this.tagName="reactionList"}constructor(e,t){super(e,eA.tagName),this.index=new Map,void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1)})}getReaction(e){let t=this.index.get(e);if(void 0!=t)return this.nodes.get(t)}removeReaction(e){let t=this.index.get(e);void 0!=t&&(this.nodes.delete(t),this.index.delete(e))}addReaction(e){let t=this.index.get(e.id);void 0!==t?(this.nodes.set(t,e),console.log("Replaced reaction with id "+e.id)):(this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1))}}class eF extends T{static{this.tagName="me:mesmer"}constructor(e,t,s,i,a,n){super(e,eF.tagName),this.index=new Map,void 0!=t&&(this.index.set(eD.tagName,this.nodes.size),this.addNode(t)),void 0!=s&&(this.index.set(eA.tagName,this.nodes.size),this.addNode(s)),void 0!=i&&(this.index.set(eN.tagName,this.nodes.size),this.addNode(i)),void 0!=a&&(this.index.set(ex.tagName,this.nodes.size),this.addNode(a)),void 0!=n&&(this.index.set(eI.tagName,this.nodes.size),this.addNode(n))}getMoleculeList(){let e=this.index.get(eD.tagName);if(void 0!=e)return this.nodes.get(e)}setMoleculeList(e){let t=this.index.get(eD.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eD.tagName,this.nodes.size),this.addNode(e))}getReactionList(){let e=this.index.get(eA.tagName);if(void 0!=e)return this.nodes.get(e)}setReactionList(e){let t=this.index.get(eA.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eA.tagName,this.nodes.size),this.addNode(e))}getConditions(){let e=this.index.get(eN.tagName);if(void 0!=e)return this.nodes.get(e)}setConditions(e){let t=this.index.get(eN.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eN.tagName,this.nodes.size),this.addNode(e))}getModelParameters(){let e=this.index.get(ex.tagName);if(void 0!=e)return this.nodes.get(e)}setModelParameters(e){let t=this.index.get(ex.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ex.tagName,this.nodes.size),this.addNode(e))}getControl(){let e=this.index.get(eI.tagName);if(void 0!=e)return this.nodes.get(e)}setControl(e){let t=this.index.get(eI.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eI.tagName,this.nodes.size),this.addNode(e))}}let eO="1.5em",eH="1.25em",eG="1.0em",ek="25px",eX="50px",e$="75px",eU=new Map,eV=new Map;function eq(e,t,s,i,a){let n=s.getElementsByTagName(B.tagName);if(n.length>0){if(1!=n.length)throw Error("Expecting 1 "+B.tagName+" but finding "+n.length+"!");let s=x(n[0]),o=parseFloat(s),r=M(n[0]),d=new B(r,o);e.setProperty(d);let l=document.createElement("div");l.style.marginLeft=a;let g=r.get("units");if(void 0!=g){let s=u(["kJ/mol","cm-1","wavenumber","kcal/mol","Hartree","au"],"Units",t.id+"_"+e.dictRef+"_Select_Units");s.value=g,s.addEventListener("change",t=>{t.target instanceof HTMLSelectElement&&(r.set("units",t.target.value),console.log("Set "+e.dictRef+" units to "+t.target.value))}),l.appendChild(s)}let c=e.dictRef,N=h("number",t.id+"_"+e.dictRef,e=>{e.target instanceof HTMLInputElement&&eK(d,e.target)},s,c);N.style.marginLeft=a,l.appendChild(N),i.appendChild(l);let p=N.querySelector("input");p.value=s,m(p),p.addEventListener("change",i=>{s=i.target.value,(d=e.getProperty()).value=parseFloat(s),console.log("Set "+e.dictRef+" of "+t.id+" to "+s),m(p)})}else{let n=s.getElementsByTagName(I.tagName);if(n.length>0){if(1!=n.length)throw Error("Expecting 1 "+I.tagName+" but finding "+n.length+"!");let s=x(n[0]),o=r(s.split(/\s+/)),d=new I(M(n[0]),o);e.setProperty(d);let l=e.dictRef,g=h("text",t.id+"_"+e.dictRef,e=>{e.target instanceof HTMLInputElement&&ej(d,e.target)},s,l);g.style.marginLeft=a,i.appendChild(g);let c=g.querySelector("input");c.value=s,m(c),c.addEventListener("change",i=>{s=i.target.value,d=e.getProperty(),o=r(s.split(/\s+/)),d.values=o,console.log("Set "+e.dictRef+" of "+t.id+" to "+s),m(c)})}else throw Error("Expecting "+B.tagName+" or "+I.tagName)}}function ej(e,t){let s=t.id,i=t.value.trim();if(""==i){alert("Empty input resetting..."),document.getElementById(s).value=o(e.values," ");return}let a=i.split(/\s+/),n=[],r=!0;if(a.forEach(function(e){d(e)||(r=!1),n.push(parseFloat(e))}),!r){alert("An input is not a number, resetting..."),document.getElementById(s).value=o(e.values," ");return}n.length==e.values.length?console.log("Changed "+e.tagName+' from: "'+i+'" to: "'+o(e.values," ")+'"'):(alert("Expecting "+e.values.length+" values for, but finding "+n.length+" resetting..."),document.getElementById(s).value=o(e.values," "))}function eK(e,t){let s=t.id;if(d(t.value)){let s=parseFloat(t.value);e.value=s,console.log("Value set to "+s)}else alert("Value is not numeric, resetting..."),document.getElementById(s).value=e.value.toString()}document.addEventListener("DOMContentLoaded",n=>{i=document.getElementById("xml_title"),a=document.getElementById("xml_text"),window.loadXML=function(){!function n(){let o=document.createElement("input");o.type="file",o.onchange=function(){if(o.files){for(let e=0;e<o.files.length;e++)console.log("inputElement.files["+e+"]="+o.files[e]);let t=o.files[0];if(console.log(t.name),e=t.name,null!=a){let s=new FileReader,n=0,o="";s.onload=function(r){if(null==r.target)throw Error("Event target is null");if(o+=r.target.result,null!=t){if(n<t.size){let e=t.slice(n,n+1048576);s.readAsText(e),n+=1048576}else{var d;d=o=o.trim(),null!=i&&(i.innerHTML=e),null!=a&&(a.innerHTML=d.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/  /g,"&nbsp;&nbsp;")),function(e){let t=e.getElementsByTagName(e_.tagName);if(1!=t.length)throw Error("Multiple "+e_.tagName+" tags found");{let s=t[0].childNodes[0].nodeValue.trim(),i=new e_(M(t[0]),s),a=document.getElementById("title"),n=document.createElement("div");n.style.marginTop="1px",n.style.marginBottom="1px";let o=document.createTextNode("Title: ");n.appendChild(o);let r=document.createElement("input");r.type="text",r.value=s,r.style.fontSize=eO,n.appendChild(r),a.parentNode?.insertBefore(n,a),a.parentNode?.removeChild(a),m(r,0),console.log("inputElement.value="+r.value),r.addEventListener("change",function(){r.value!=s&&(i.value=r.value),m(r,0)});let d=document.getElementById("molecules"),c=function(e){let t=document.createElement("div"),s=z(e,eD.tagName),i=new Set;if(s.childNodes.forEach(function(e){i.add(e.nodeName)}),1!=i.size&&!(2==i.size&&i.has("#text")))throw console.error("moleculeListTagNames:"),i.forEach(e=>console.error(e)),Error("Additional tag names in moleculeList:");if(!i.has(J.tagName))throw Error('Expecting tags with "'+J.tagName+'" tagName but there are none!');let a=s.getElementsByTagName(J.tagName);console.log("Number of molecules="+a.length);for(let e=0;e<a.length;e++){let s,i,n=document.createElement("div"),o=M(a[e]),r=new Set,d=a[e].childNodes;for(let e=0;e<d.length;e++){let t=d[e];r.has(t.nodeName)?"#text"!=t.nodeName&&console.warn("Another ChildNode with nodeName="+t.nodeName):r.add(t.nodeName)}let g=a[e].getElementsByTagName(C.tagName);if(g.length>1)throw Error("Expecting 1 or 0 "+C.tagName+" but finding "+g.length+"!");if(1==g.length){let e=g[0],t=e.getElementsByTagName(R.tagName);if(t.length<2)throw Error("Expecting 2 or more atoms in "+C.tagName+", but finding "+t.length+"!");let i=[];for(let e=0;e<t.length;e++)i.push(new R(M(t[e])));s=new C(M(e),i),r.delete(C.tagName)}else{let t=a[e].getElementsByTagName(R.tagName);if(1==t.length)s=new R(M(t[0]));else if(t.length>1)throw Error("Expecting 1 "+R.tagName+" but finding "+t.length+". Should these be in an "+C.tagName+"?")}r.delete(R.tagName);let c=a[e].getElementsByTagName(L.tagName);if(c.length>1)throw Error("Expecting 1 or 0 "+L.tagName+" but finding "+c.length+"!");if(1==c.length){let e=c[0],t=e.getElementsByTagName(P.tagName),s=[];for(let e=0;e<t.length;e++)s.push(new P(M(t[e])));i=new L(M(e),s),r.delete(L.tagName)}else{let t=a[e].getElementsByTagName(P.tagName);if(1==t.length)i=new P(M(t[0]));else if(t.length>1)throw Error("Expecting 1 "+P.tagName+" but finding "+t.length+". Should these be in a "+L.tagName+"?")}r.delete(P.tagName);let N=new J(o,s,i);eU.set(N.id,N);let v=a[e].getElementsByTagName(k.tagName);if(v.length>1)throw Error("Expecting 1 or 0 "+k.tagName+" but finding "+v.length+"!");if(1==v.length){let e=document.createElement("div"),t=N.id+"_"+k.tagName,s=N.id+"_"+k.tagName+"_",i=l(e,k.tagName,t,eG,eX,"1px","1px",s);n.appendChild(i);let a=new k(M(v[0]));N.setProperties(a);let o=v[0].getElementsByTagName(_.tagName);for(let t=0;t<o.length;t++){let s=new _(M(o[t]));a.setProperty(s),N.setProperties(a),eq(s,N,o[t],e,e$)}r.delete(k.tagName)}else{let t=a[e].getElementsByTagName(_.tagName);if(1!=t.length)throw Error("Expecting 1 "+_.tagName+" but finding "+t.length+". Should these be in a "+k.tagName+"?");let s=new _(M(t[0]));N.setProperties(s),eq(s,N,t[0],n,e$)}r.delete(_.tagName),r.delete($.tagName);let E=a[e].getElementsByTagName($.tagName);if(E.length>0){if(E.length>1)throw Error("Expecting 1 or 0 "+$.tagName+" but finding "+E.length+"!");(function(e,t,s,i,a){let n=s.getElementsByTagName(X.tagName);if(n.length>0){let s=document.createElement("div"),o=t.id+"_"+$.tagName,r=t.id+"_"+$.tagName+"_",d=l(s,$.tagName,o,eG,eX,"1px","1px",r);i.appendChild(d);let g=[];for(let e=0;e<n.length;e++){let i=x(n[e]),o=parseFloat(i),r=new X(M(n[e]),o);g.push(r);let d=X.tagName,l=t.id+"_"+$.tagName+"_"+X.tagName+"_"+e,c=h("number",l,e=>{e.target instanceof HTMLInputElement&&eK(r,e.target)},i,d);c.style.marginLeft=a,s.appendChild(c);let u=c.querySelector("input");u.value=i,m(u),u.addEventListener("change",t=>{i=t.target.value,g[e].setValue(parseFloat(i)),console.log("Set "+l+" to "+i),m(u)})}e.setDeltaEDowns(g),t.setEnergyTransferModel(e)}})(new $(M(E[0])),N,E[0],n,e$)}r.delete(U.tagName);let y=a[e].getElementsByTagName(U.tagName);if(y.length>0){if(y.length>1)throw Error("Expecting 1 or 0 "+U.tagName+" but finding "+y.length+"!");(function(e,t,s,i){let a=document.createElement("label");a.textContent=U.tagName+": ";let n=document.createElement("div");n.appendChild(a);let o=u(["ClassicalRotors","QMRotors"],"DOSCMethod",t.id+"_Select_DOSCMethod");o.value=e.getXsiType(),o.addEventListener("change",t=>{t.target instanceof HTMLSelectElement&&(e.setXsiType(t.target.value),console.log("Set DOSCMethod to "+t.target.value))}),t.setDOSCMethod(e),n.appendChild(o),n.style.marginLeft=s,i.appendChild(n)})(new U(M(y[0])),N,eX,n)}r.delete(W.tagName);let w=a[e].getElementsByTagName(W.tagName);if(w.length>0){let e,t,s;if(1!=w.length)throw Error("Expecting only 1 extra DOSCMethod, but there are "+w.length);let i=w[0].getElementsByTagName(V.tagName);if(i.length>0){if(1!=i.length)throw Error("Expecting only 1 bondRef, but there are "+i.length);e=new V(M(i[0]),f(p(i[0])))}let a=w[0].getElementsByTagName(j.tagName);if(a.length>0){if(1!=a.length)throw Error("Expecting only 1 HinderedRotorPotential, but there are "+a.length);let e=[],s=a[0].getElementsByTagName(q.tagName);for(let t=0;t<s.length;t++)e.push(new q(M(s[t])));t=new j(M(a[0]),e)}let n=y[0].getElementsByTagName(K.tagName);if(n.length>0){if(1!=n.length)throw Error("Expecting only 1 Periodicity, but there are "+n.length);s=new K(M(n[0]),parseFloat(f(p(n[0]))))}N.setExtraDOSCMethod(new W(M(y[0]),e,t,s))}if(r.delete(Z.tagName),(y=a[e].getElementsByTagName(Z.tagName)).length>0){if(1!=y.length)throw Error("Expecting only 1 reservoirSize, but there are "+y.length);N.setReservoirSize(new Z(M(y[0]),parseFloat(f(p(y[0])))))}r.delete("#text"),r.size>0&&(console.warn("There are additional unexpected moleculeTagNames:"),r.forEach(e=>console.warn(e)));let b=l(n,N.getLabel(),N.tagName+"_"+N.id+"_button",eH,ek,"1px","1px",N.tagName+"_"+N.id);t.appendChild(b)}return t}(e);d.appendChild(l(c,"Molecules","molecules_button",eO,"0px","1px","1px","moleculesList"));let v=document.getElementById("reactions"),E=function(e){let t=document.createElement("div");t.style.marginTop="1px",t.style.marginBottom="1px";let s=z(e,eA.tagName),i=new Set;if(s.childNodes.forEach(function(e){i.add(e.nodeName)}),1!=i.size&&!(2==i.size&&i.has("#text")))throw console.error("reactionListTagNames:"),i.forEach(e=>console.error(e)),Error("Additional tag names in reactionList:");if(!i.has(eg.tagName))throw Error('Expecting tags with "'+eg.tagName+'" tagName but there are none!');let a=s.getElementsByTagName(eg.tagName);console.log("Number of reactions="+a.length);for(let e=0;e<a.length;e++){let s=document.createElement("div"),i=M(a[e]),n=new Set,o=a[e].childNodes;for(let e=0;e<o.length;e++){let t=o[e];n.has(t.nodeName)?"#text"!=t.nodeName&&console.warn("Another ChildNode with nodeName="+t.nodeName):n.add(t.nodeName)}let r=new eg(i);eV.set(r.id,r);let d=a[e].getElementsByTagName(Y.tagName);if(n.delete(Y.tagName),d.length>0){let e=document.createElement("div"),t=[];for(let s=0;s<d.length;s++){let i=new Q(M(N(d[s],J.tagName))),a=new Y(M(d[s]),i);t.push(a);let n=document.createElement("div"),o=document.createElement("label");o.textContent=i.ref+" role: ",n.appendChild(o);let r=u(["deficientReactant","excessReactant","modelled","transitionState","sink"],"Role",i.ref+"_Select_Role");r.value=i.role,r.addEventListener("change",e=>{e.target instanceof HTMLSelectElement&&(i.setRole(e.target.value),console.log("Set Role to "+e.target.value))}),n.appendChild(r),n.style.marginLeft=e$,e.appendChild(n)}r.setReactants(t);let i=l(e,"Reactants",r.id+"_"+Y.tagName,eG,eX,"1px","1px",r.id+"_"+Y.tagName+"_");s.appendChild(i)}let g=a[e].getElementsByTagName(ee.tagName);if(n.delete(ee.tagName),g.length>0){let e=document.createElement("div"),t=[];for(let s=0;s<g.length;s++){let i=new Q(M(N(g[s],J.tagName))),a=new ee(M(g[s]),i);t.push(a);let n=document.createElement("div"),o=document.createElement("label");o.textContent=i.ref+" role: ",n.appendChild(o);let r=u(["deficientReactant","excessReactant","modelled","transitionState","sink"],"Role",i.ref+"_Select_Role");r.value=i.role,r.addEventListener("change",e=>{e.target instanceof HTMLSelectElement&&(i.setRole(e.target.value),console.log("Set Role to "+e.target.value))}),n.appendChild(r),n.style.marginLeft=e$,e.appendChild(n)}r.setProducts(t);let i=l(e,"Products",r.id+"_"+ee.tagName,eG,eX,"1px","1px",r.id+"_"+ee.tagName+"_");s.appendChild(i)}let h=a[e].getElementsByTagName(ed.tagName);if(h.length>0){if(h.length>1)throw Error("Expecting 1 "+ed.tagName+" but finding "+h.length+"!");let e=new ed(M(h[0]));r.setTunneling(e);let t=document.createElement("div"),i=document.createElement("label");i.textContent=ed.tagName+": ",t.appendChild(i);let a=u(["Eckart","WKB"],"Tunneling",r.id+"_Select_Tunneling");a.value=e.getName(),a.addEventListener("change",t=>{t.target instanceof HTMLSelectElement&&(e.setName(t.target.value),console.log("Set Tunneling to "+t.target.value))}),t.appendChild(a),t.style.marginLeft=eX,s.appendChild(t)}let c=a[e].getElementsByTagName(et.tagName);if(c.length>0){let e=document.createElement("div"),t=[];for(let s=0;s<c.length;s++){let i=new Q(M(N(c[s],J.tagName))),a=new et(M(c[s]),i);t.push(a);let n=document.createElement("div"),o=document.createElement("label");o.textContent=i.ref+" role: ",n.appendChild(o);let r=u(["deficientReactant","excessReactant","modelled","transitionState","sink"],"Role",i.ref+"_Select_Role");r.value=i.role,r.addEventListener("change",e=>{e.target instanceof HTMLSelectElement&&(i.setRole(e.target.value),console.log("Set Role to "+e.target.value))}),n.appendChild(r),n.style.marginLeft=e$,e.appendChild(n)}r.setTransitionStates(t);let i=l(e,"Transition States",r.id+"_"+et.tagName,eG,eX,"1px","1px",r.id+"_"+et.tagName+"_");s.appendChild(i)}let m=a[e].getElementsByTagName(eo.tagName);if(m.length>0){if(m.length>1)throw Error("Expecting 1 "+eo.tagName+" but finding "+m.length+"!");{let e,t=document.createElement("div"),i=M(m[0]),a=i.get("name");if(void 0==a||a==er.xsiType2){let a=i.get("xsi:type");if(a==er.xsiType||a==er.xsiType2){let a,n,o,d;let g=m[0].getElementsByTagName(es.tagName);if(null!=g&&null!=g[0]){let e=parseFloat(f(p(g[0])));a=new es(M(g[0]),e)}let h=m[0].getElementsByTagName(ei.tagName);if(null!=h&&null!=h[0]){let e=parseFloat(f(p(h[0])));n=new ei(M(h[0]),e)}let c=m[0].getElementsByTagName(ea.tagName);if(null!=c&&null!=c[0]){let e=parseFloat(f(p(c[0])));o=new en(M(c[0]),e)}let u=m[0].getElementsByTagName(en.tagName);if(null!=u&&null!=u[0]){let e=parseFloat(f(p(u[0])));d=new en(M(u[0]),e)}e=new er(i,a,n,o,d);let N=r.id+"_"+eo.tagName,x=r.id+"_"+eo.tagName+"_",v=l(t,eo.tagName,N,eG,eX,"1px","1px",x);s.appendChild(v)}else throw Error("Unexpected xsi:type="+a)}else{e=new eo(i);let s=document.createElement("label");s.textContent=i.get("name"),s.style.marginLeft=eX,t.appendChild(s)}r.setMCRCMethod(e)}}let x=a[e].getElementsByTagName(el.tagName);if(x.length>0){let e;if(x.length>1)throw Error("Expecting 1 "+el.tagName+" but finding "+x.length+"!");let t=parseFloat(f(p(x[0])));e=new el(M(x[0]),t),r.setExcessReactantConc(e)}let v=l(s,r.id+"("+r.getLabel()+")",r.tagName+"_"+r.id+"_button",eH,ek,"1px","1px",r.tagName+"_"+r.id);t.appendChild(v)}return t}(e);v.appendChild(l(E,"Reactions","reactions_button",eO,"0px","1px","1px","reactionsList")),function(){for(var e=document.getElementsByClassName("collapsible"),t=0;t<e.length;t++)e[t].removeEventListener("click",g),e[t].addEventListener("click",g)}()}}(new DOMParser().parseFromString(o,"text/xml"))}}};let r=t.slice(n,n+1048576);s.readAsText(r),n+=1048576}}},o.click(),null!=(t=document.getElementById("load_button"))&&t.addEventListener("click",n),null!=(s=document.getElementById("saveButton"))&&(s.style.display="inline")}()}}),window.setNumberArrayNode=ej,window.set=eK,window.saveXML=function(){console.log("saveXML");let t="  ".repeat(2),s="";eU.forEach(function(e,i){s+=e.toXML("  ",t)}),s=S(s,"moleculeList",void 0,"  ",!0);let i="";eV.forEach(function(e,s){i+=e.toXML("  ",t)}),i=S(i,"reactionList",void 0,"  ",!0);let a=new Blob([s,i],{type:"text/plain"}),n=URL.createObjectURL(a),o=document.createElement("a");o.href=n,o.download=e,document.body.appendChild(o),o.click(),document.body.removeChild(o)};
//# sourceMappingURL=index.03339873.js.map
