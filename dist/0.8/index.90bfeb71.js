let e,t,s;function i(e,t){if(!e.has(t))throw Error(`Key ${t} not found in map`);return e.get(t)}function a(e,t){return void 0==t&&(t=", "),e.map(e=>null==e?"null":e.toString()).join(t)}function n(e){let t=[];for(let s=0;s<e.length;s++)o(e[s])&&t.push(parseFloat(e[s]));return t}function o(e){return""!==e&&!isNaN(Number(e))}function l(e){let t=document.getElementById(e);null!=t&&t.parentNode?.removeChild(t)}function d({content:e,buttonLabel:t,buttonFontSize:s="",boundary:i={marginLeft:"",marginTop:"",marginBottom:"",marginRight:""},level:a={marginLeft:"",marginTop:"",marginBottom:"",marginRight:""},contentDivId:n="",contentDivClassName:o=""}){let l=f(i);l.id=n,l.className=o;let d=document.createElement("button");return d.id=n+"Button",d.className="collapsible",d.innerText=`${t} \u{25BC}`,d.addEventListener("click",function(){d.innerText=d.innerText.includes("â–¼")?`${t} \u{25B2}`:`${t} \u{25BC}`}),d.style.fontSize=s,Object.assign(d.style,a),l.appendChild(d),l.appendChild(e),l}function r(){this.classList.toggle("active");let e=this.nextElementSibling;"block"===e.style.display?e.style.display="none":e.style.display="block"}function g(e,t,s,i,a,n,o,l){let d;let r=((d=h(e,t,s)).onchange=a,d.value=n,void 0!=l&&(d.style.fontSize=l),c(d),d);Object.assign(r.style,s);let g=C(o,s);g.htmlFor=t,Object.assign(g.style,s);let m=v(i);return m.appendChild(g),m.appendChild(r),m}function h(e,t,s){let i=document.createElement("input");return i.type=e,i.id=t,Object.assign(i.style,s),i.classList.add("auto-width"),i}function m(e,t){let s="<"+t;if(e)for(let[t,i]of e)s+=" "+t+'="'+i+'"';return s+" />"}function c(e,t){void 0==t&&(t=4),e.style.width=e.value.length+t+"ch"}function u(e,t){void 0==t&&(t=6),e.style.width=e.value.length+t+"ch"}function p(e,t,s,i){let a=document.createElement("select");return e.forEach(e=>{a.name=t,a.id=s;let i=document.createElement("option");i.value=e,i.text=e,a.appendChild(i)}),a.style.fontSize="1em",a.classList.add("auto-width"),Object.assign(a.style,i),a}function N(e,t){let s=document.createElement("button");return s.textContent=e,Object.assign(s.style,t),s.style.fontSize="1em",s}function x(e,t,s,i){let a=v(i);a.appendChild(N(t,s));let n=C(e,s);return Object.assign(n.style,s),a.appendChild(n),a}function f(e){let t=document.createElement("div");return Object.assign(t.style,e),t}function v(e){let t=f(e);return t.style.display="flex",t.style.flexWrap="wrap",t}function C(e,t){let s=document.createElement("label");return Object.assign(s.style,t),s.textContent=e,s.style.fontSize="1em",s}function E(e,t){let s=e.getElementsByTagName(t)[0];if(null==s)throw Error(t+" element not found");return s}function b(e){let t=e.childNodes;if(null==t)throw Error("Element has no childNodes");return t[0]}function y(e){let t=e.nodeValue;if(null==t)throw Error("nodeValue is null");return t}function S(e){let t=b(e);return t?y(t).trim():""}class L{constructor(e){this.tagName=e}toXML(e){let t=m(void 0,this.tagName);return e?"\n"+e+t:t}}class T extends L{constructor(e,t){super(t),this.attributes=e}toString(){let e=this.tagName+"(";return this.attributes&&this.attributes.forEach((t,s)=>{e+=`${s}(${t}), `}),e}toXML(e){let t="";for(let[s,i]of(void 0!=e&&(t+="\n"+e),t+="<"+this.tagName,this.attributes))t+=" "+s+'="'+i.toString()+'"';return t+" />"}}class w extends T{constructor(e,t,s){super(e,t),this.value=s}toString(){return super.toString()+`, ${this.value.toString()})`}toXML(e){return z(this.value.trim(),this.tagName,this.attributes,e,!1)}}class O extends T{constructor(e,t,s){super(e,t),this.value=s}toString(){return super.toString()+`, ${this.value.toString()})`}toXML(e){return z(this.value.toString().trim(),this.tagName,this.attributes,e,!1)}}class _ extends T{constructor(e,t,s,i){super(e,t),this.delimiter=",",this.values=s,void 0!=i&&(this.delimiter=i)}toString(){return super.toString()+`, ${this.values.toString()})`}setDelimiter(e){this.delimiter=e}toXML(e){return z(this.values.toString().replaceAll(",",this.delimiter),this.tagName,this.attributes,e,!1)}}class M extends T{constructor(e,t){super(e,t),this.nodes=new Map}addNode(e){this.nodes.set(this.nodes.size,e)}toString(){let e=super.toString();return this.nodes.forEach((t,s)=>{e+=`, ${t.toString()}`}),e+")"}toXML(e,t){let s;void 0!=e&&void 0!=t&&(s=t+e);let i="";if(this.nodes.size>0)return this.nodes.forEach(t=>{t instanceof M?i+=t.toXML(e,s):i+=t.toXML(s)}),z(i,this.tagName,this.attributes,t,!0);{let e=m(this.attributes,this.tagName);return void 0!=t?"\n"+t+e:e}}}function z(e,t,s,i,a){let n;return function(e,t,s){let i="";if(void 0!=s&&(i+="\n"+s),i+="<"+e,t)for(let[e,s]of t)i+=" "+e+'="'+s.toString()+'"';return i+">"}(t,s,i)+e+(n="",a&&void 0!=i&&(n+="\n"+i),n+"</"+t+">")}function P(e){let t=e.getAttributeNames(),s=new Map;return t.forEach(function(t){let i=e.getAttribute(t);null!=i&&s.set(t,i)}),s}function R(e,t){let s=e.getElementsByTagName(t);if(1!=s.length)throw Error("Expecting 1 "+t+" but finding "+s.length);return s[0]}class B extends T{static{this.tagName="atom"}constructor(e){super(e,B.tagName);let t=e.get("elementType");if(void 0==t)throw Error("elementType is undefined");this.elementType=t;let s=e.get("id");void 0==s&&(s=this.elementType),this.id=s}}class F extends M{static{this.tagName="atomArray"}constructor(e,t){super(e,F.tagName),t.forEach(e=>{this.nodes.set(this.nodes.size,e)})}}class I extends T{static{this.tagName="bond"}static{this.s_atomRefs2="atomRefs2"}static{this.s_id="id"}static{this.s_order="order"}constructor(e){super(e,I.tagName);let t=e.get(I.s_atomRefs2);if(void 0==t)throw Error(I.s_atomRefs2+" is undefined!");this.atomRefs2=t}setAtomRefs2(e){this.atomRefs2=e,this.attributes.set(I.s_atomRefs2,e)}getId(){return this.attributes.get(I.s_id)}setId(e){this.attributes.set(I.s_id,e)}getOrder(){let e=this.attributes.get(I.s_order);if(void 0!=e)return parseFloat(e)}setOrder(e){this.attributes.set(I.s_order,e.toString())}}class D extends M{static{this.tagName="bondArray"}constructor(e,t){super(e,D.tagName),this.bonds=t,t.forEach(e=>{this.nodes.set(this.nodes.size,e)})}getBond(e){return this.bonds[e]}getBonds(){return this.bonds}setBond(e,t){this.bonds[e]=t,this.nodes.set(e,t)}addBond(e){this.bonds.push(e),this.nodes.set(this.nodes.size,e)}removeBond(e){this.bonds.splice(e,1),this.nodes.delete(e)}getBondIds(){let e=new Set;return this.bonds.forEach(t=>{e.add(t.getId())}),e}}class A extends O{static{this.tagName="scalar"}static{this.s_units="units"}constructor(e,t){super(e,A.tagName,t)}updateUnits(e){if(e){let t=this.attributes.get(A.s_units);void 0!=t&&t!=e&&this.attributes.set(A.s_units,e)}}}class G extends _{static{this.tagName="array"}static{this.s_units="units"}constructor(e,t,s){super(e,G.tagName,t,s)}updateUnits(e){if(e){let t=this.attributes.get(G.s_units);void 0!=t&&t!=e&&(this.attributes.set(G.s_units,e),console.log("Units changed from "+t+" to "+e))}}}class k extends M{static{this.tagName="property"}static{this.s_dictRef="dictRef"}constructor(e,t){super(e,k.tagName);let s=e.get(k.s_dictRef);if(void 0==s)throw Error(k.s_dictRef+" is undefined!");this.dictRef=s,t&&this.nodes.set(0,t)}getProperty(){return this.nodes.get(0)}setProperty(e){this.nodes.set(0,e)}}class q extends k{static{this.dictRef="me:ZPE"}static{this.units=["kJ/mol","cm-1","kcal/mol","Hartree"]}constructor(e,t){super(e,t)}setUnits(e){this.getProperty().updateUnits(e)}}class V extends k{static{this.dictRef="me:frequenciesScaleFactor"}constructor(e,t){super(e,t)}}class U extends k{static{this.dictRef="me:vibFreqs"}constructor(e,t){super(e,t)}}class X extends k{static{this.dictRef="me:rotConsts"}static{this.units=["cm-1","GHz"]}constructor(e,t){super(e,t)}}class j extends k{static{this.dictRef="me:MW"}constructor(e,t){super(e,t)}}class H extends k{static{this.dictRef="me:imFreqs"}constructor(e,t){super(e,t)}}class $ extends M{static{this.tagName="propertyList"}constructor(e,t){super(e,$.tagName),this.index=new Map,void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e),this.index.set(e.dictRef,this.nodes.size-1)})}getProperty(e){let t=this.index.get(e);if(void 0!=t)return this.nodes.get(t);throw Error("Property "+e+" does not exist")}setProperty(e){let t=this.index.get(e.dictRef);void 0==t?(this.nodes.set(this.nodes.size,e),this.index.set(e.dictRef,this.nodes.size-1)):(console.log("Property "+e.dictRef+" already exists, updating..."),this.nodes.set(t,e))}}class W extends O{static{this.tagName="me:deltaEDown"}static{this.s_bathGas="bathGas"}static{this.s_units="units"}static{this.s_lower="lower"}static{this.s_upper="upper"}static{this.s_stepsize="stepsize"}constructor(e,t){super(e,W.tagName,t)}getBathGas(){return this.attributes.get(W.s_bathGas)}setBathGas(e){this.attributes.set(W.s_bathGas,e)}getUnits(){return this.attributes.get(W.s_units)}setUnits(e){this.attributes.set(W.s_units,e)}getLower(){return parseFloat(i(this.attributes,W.s_lower))}setLower(e){this.attributes.set(W.s_lower,e.toString())}getUpper(){return parseFloat(i(this.attributes,W.s_upper))}setUpper(e){this.attributes.set(W.s_upper,e.toString())}getStepsize(){return parseFloat(i(this.attributes,W.s_stepsize))}setStepsize(e){this.attributes.set(W.s_stepsize,e.toString())}setValue(e){this.value=e}}class K extends M{static{this.tagName="me:energyTransferModel"}constructor(e,t){super(e,K.tagName),void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e)})}getDeltaEDowns(){let e=[];return this.nodes.forEach(t=>{t instanceof W&&e.push(t)}),e}setDeltaEDowns(e){this.nodes.clear(),e.forEach(e=>{this.nodes.set(this.nodes.size,e)})}getDeltaEDown(e){if(e<0||e>=this.nodes.size)throw Error("index out of range");return this.nodes.get(e)}setDeltaEDown(e,t){this.nodes.set(e,t)}addDeltaEDown(e){return this.nodes.set(this.nodes.size,e),this.nodes.size-1}}class Y extends T{static{this.tagName="me:DOSCMethod"}static{this.s_xsi_type="xsi:type"}constructor(e){if(super(e,Y.tagName),void 0==e.get(Y.s_xsi_type)){let t=e.get("name");if(void 0==t)throw Error("Neither xsi:type or name are defined.");e.set(Y.s_xsi_type,t)}}getXsiType(){return this.attributes.get(Y.s_xsi_type)}setXsiType(e){this.attributes.set(Y.s_xsi_type,e)}}class J extends w{static{this.tagName="me:bondRef"}constructor(e,t){super(e,J.tagName,t)}}class Q extends T{static{this.tagName="me:PotentialPoint"}static{this.s_angle="angle"}static{this.s_potential="potential"}constructor(e){super(e,Q.tagName);let t=e.get(Q.s_angle);if(void 0==t)throw Error(Q.s_potential+" is undefined!");this.angle=parseFloat(t);let s=e.get(Q.s_potential);if(void 0==s)throw Error(Q.s_potential+" is undefined!");this.potential=parseFloat(s)}getAngle(){return this.angle}setAngle(e){this.angle=e,this.attributes.set(Q.s_angle,e.toString())}getPotential(){return this.potential}setPotential(e){this.potential=e,this.attributes.set(Q.s_potential,e.toString())}}class Z extends M{static{this.tagName="me:HinderedRotorPotential"}static{this.formats=["numerical","analytical"]}static{this.units=["kJ/mol","cm-1","Hartree"]}static{this.s_format="format"}static{this.s_units="units"}static{this.s_expansionSize="expansionSize"}static{this.s_useSineTerms="useSineTerms"}constructor(e,t){super(e,Z.tagName);let s=e.get(Z.s_format);if(void 0==s)throw Error(Z.s_format+" is undefined!");this.format=s;let i=e.get(Z.s_units);if(void 0==i)throw Error(Z.s_units+" is undefined!");this.units=i,void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e)});let a=e.get(Z.s_expansionSize);if(void 0==a)throw Error(Z.s_expansionSize+" is undefined!");this.expansionSize=parseFloat(a);let n=e.get(Z.s_useSineTerms);if(void 0==n)throw Error(Z.s_useSineTerms+" is undefined!");this.useSineTerms="yes"==n}getFormat(){return this.format}setFormat(e){this.format=e,this.attributes.set(Z.s_format,e)}getUnits(){return this.units}setUnits(e){this.units=e,this.attributes.set(Z.s_units,e)}getExpansionSize(){return this.expansionSize}setExpansionSize(e){this.expansionSize=e,this.attributes.set(Z.s_expansionSize,e.toString())}getUseSineTerms(){return this.useSineTerms}setUseSineTerms(e){this.useSineTerms=e,this.attributes.set(Z.s_useSineTerms,e?"yes":"no")}getPotentialPoint(e){return this.nodes.get(e)}setPotentialPoint(e,t){this.nodes.set(e,t)}setPotentialPoints(e){this.nodes.clear(),e.forEach(e=>{this.nodes.set(this.nodes.size,e)})}addPotentialPoint(e){return this.nodes.set(this.nodes.size,e),this.nodes.size-1}removePotentialPoint(e){this.nodes.delete(e)}}class ee extends O{static{this.tagName="me:periodicity"}constructor(e,t){super(e,ee.tagName,t)}}class et extends M{static{this.tagName="me:ExtraDOSCMethod"}constructor(e,t,s,i){super(e,et.tagName),this.index=new Map,t&&(this.nodes.set(this.nodes.size,t),this.index.set(J.tagName,this.nodes.size-1)),s&&(this.nodes.set(this.nodes.size,s),this.index.set(Z.tagName,this.nodes.size-1)),i&&(this.nodes.set(this.nodes.size,i),this.index.set(ee.tagName,this.nodes.size-1))}getBondRef(){let e=this.index.get(J.tagName);if(void 0!=e)return this.nodes.get(e)}setBondRef(e){let t=this.index.get(J.tagName);void 0!=t?this.nodes.set(t,e):(this.nodes.set(this.nodes.size,e),this.index.set(J.tagName,this.nodes.size-1))}getHinderedRotorPotential(){let e=this.index.get(Z.tagName);if(void 0!=e)return this.nodes.get(e)}setHinderedRotorPotential(e){let t=this.index.get(Z.tagName);void 0!=t?this.nodes.set(t,e):(this.nodes.set(this.nodes.size,e),this.index.set(Z.tagName,this.nodes.size-1))}getPeriodicity(){let e=this.index.get(ee.tagName);if(void 0!=e)return this.nodes.get(e)}setPeriodicity(e){let t=this.index.get(ee.tagName);void 0!=t?this.nodes.set(t,e):(this.nodes.set(this.nodes.size,e),this.index.set(ee.tagName,this.nodes.size-1))}}class es extends O{static{this.tagName="me:reservoirSize"}constructor(e,t){super(e,es.tagName,t)}}class ei extends M{static{this.tagName="molecule"}static{this.s_id="id"}static{this.s_description="description"}static{this.s_active="active"}constructor(e,t,s,i,a,n,o,l){super(e,ei.tagName),this.index=new Map;let d=e.get(ei.s_id);if(void 0==d)throw Error(ei.s_id+" is undefined");this.id=d;let r=0;t&&(this.nodes.set(r,t),t instanceof B?this.index.set(B.tagName,r):this.index.set(F.tagName,r),r++),s&&(this.nodes.set(r,s),this.index.set(D.tagName,r),r++),i&&(this.nodes.set(r,i),this.index.set($.tagName,r),r++),a&&(this.nodes.set(r,a),this.index.set(K.tagName,r),r++),n&&(this.nodes.set(r,n),this.index.set(Y.tagName,r)),o&&(this.nodes.set(r,o),this.index.set(et.tagName,r)),l&&(this.nodes.set(r,l),this.index.set(es.tagName,r))}getDescription(){return this.attributes.get(ei.s_description)}setDescription(e){this.attributes.set(ei.s_description,e)}getActive(){let e=this.attributes.get(ei.s_active);if(void 0!=e)return"true"==e}setActive(e){this.attributes.set(ei.s_active,e.toString())}getLabel(){let e=this.id,t=this.getDescription();return void 0!=t&&(e+=" ("+t+")"),this.getActive()&&(e+=" ("+ei.s_active+")"),e}getAttributesAsString(){return Array.from(this.attributes,([e,t])=>`${e}="${t}"`).join(", ")}getProperties(){let e=this.index.get($.tagName);if(void 0!=e||void 0!=(e=this.index.get(k.tagName)))return this.nodes.get(e)}setProperties(e){let t=this.index.get($.tagName);void 0==t?(this.index.set($.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getProperty(e){let t=this.getProperties();if(void 0!=t)return t instanceof $?t.getProperty(e):t}setProperty(e){let t=this.getProperties();void 0!=t?t instanceof $?t.setProperty(e):this.setProperties(t):this.setProperties(e)}getAtoms(){let e=this.index.get(B.tagName);if(void 0!=e||void 0!=(e=this.index.get(F.tagName)))return this.nodes.get(e)}getBonds(){let e=this.index.get(D.tagName);if(void 0!=e)return this.nodes.get(e)}getEnergyTransferModel(){let e=this.index.get(K.tagName);if(void 0!=e)return this.nodes.get(e)}setEnergyTransferModel(e){let t=this.index.get(K.tagName);void 0==t?(this.index.set(K.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getDOSCMethod(){let e=this.index.get(Y.tagName);if(void 0!=e)return this.nodes.get(e)}setDOSCMethod(e){let t=this.index.get(Y.tagName);void 0==t?(this.index.set(Y.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getExtraDOSCMethod(){let e=this.index.get(et.tagName);if(void 0!=e)return this.nodes.get(e)}setExtraDOSCMethod(e){let t=this.index.get(et.tagName);void 0==t?(this.index.set(et.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getReservoirSize(){let e=this.index.get(es.tagName);if(void 0!=e)return this.nodes.get(e)}setReservoirSize(e){let t=this.index.get(es.tagName);void 0==t?(this.index.set(es.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getEnergy(){let e=this.getProperty(q.dictRef);if(void 0==e)throw console.log(this.toString()),Error(q.dictRef+" property not found!");return e.getProperty().value}}class ea extends T{static{this.tagName="molecule"}constructor(e){super(e,ea.tagName),this.ref=e.get("ref"),this.role=e.get("role")}setRole(e){this.role=e}}class en extends M{static{this.tagName="reactant"}constructor(e,t){super(e,en.tagName),this.addNode(t)}getMolecule(){return this.nodes.get(0)}}class eo extends M{static{this.tagName="product"}constructor(e,t){super(e,eo.tagName),this.addNode(t)}getMolecule(){return this.nodes.get(0)}}class el extends M{static{this.tagName="me:transitionState"}constructor(e,t){super(e,el.tagName),this.addNode(t)}getMolecule(){return this.nodes.get(0)}}class ed extends O{static{this.tagName="me:preExponential"}constructor(e,t){super(e,ed.tagName,t)}}class er extends O{static{this.tagName="me:activationEnergy"}constructor(e,t){super(e,er.tagName,t)}}class eg extends O{static{this.tagName="me:TInfinity"}constructor(e,t){super(e,eg.tagName,t)}}class eh extends O{static{this.tagName="me:nInfinity"}constructor(e,t){super(e,eh.tagName,t)}}class em extends M{static{this.tagName="me:MCRCMethod"}constructor(e){super(e,em.tagName)}}class ec extends em{static{this.xsiType="me:MesmerILT"}static{this.xsiType2="MesmerILT"}constructor(e,t,s,i,a){super(e),this.index=new Map,void 0!=t&&(this.index.set(ed.tagName,this.index.size),this.addNode(t)),void 0!=s&&(this.index.set(er.tagName,this.index.size),this.addNode(s)),void 0!=i&&(this.index.set(eg.tagName,this.index.size),this.addNode(i)),void 0!=a&&(this.index.set(eh.tagName,this.index.size),this.addNode(a))}getPreExponential(){let e=this.index.get(ed.tagName);if(void 0!=e)return this.nodes.get(e)}setPreExponential(e){let t=this.index.get(ed.tagName);void 0==t?(this.index.set(ed.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getActivationEnergy(){let e=this.index.get(er.tagName);if(void 0!=e)return this.nodes.get(e)}setActivationEnergy(e){let t=this.index.get(er.tagName);void 0==t?(this.index.set(er.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getTInfinity(){let e=this.index.get(eg.tagName);if(void 0!=e)return this.nodes.get(e)}setTInfinity(e){let t=this.index.get(eg.tagName);void 0==t?(this.index.set(eg.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getNInfinity(){let e=this.index.get(eh.tagName);if(void 0!=e)return this.nodes.get(e)}setNInfinity(e){let t=this.index.get(eh.tagName);void 0==t?(this.index.set(eh.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}}class eu extends T{static{this.tagName="me:tunneling"}static{this.s_name="name"}constructor(e){super(e,eu.tagName)}getName(){return this.attributes.get(eu.s_name)}setName(e){this.attributes.set(eu.s_name,e)}}class ep extends O{static{this.tagName="me:excessReactantConc"}constructor(e,t){super(e,ep.tagName,t)}}class eN extends M{static{this.tagName="reaction"}static{this.s_id="id"}constructor(e,t,s,i,a,n,o){super(e,eN.tagName),this.index=new Map,this.reactantsIndex=new Map,this.productsIndex=new Map,this.transitionStatesIndex=new Map;let l=e.get(eN.s_id);if(void 0==l)throw Error(eN.s_id+" is undefined!");this.id=l,void 0!=t&&(t.forEach(e=>{this.reactantsIndex.set(e.getMolecule().ref,this.nodes.size),this.addNode(e)}),this.index.set(en.tagName,this.reactantsIndex)),void 0!=s&&(s.forEach(e=>{this.productsIndex.set(e.getMolecule().ref,this.nodes.size),this.addNode(e)}),this.index.set(eo.tagName,this.productsIndex)),void 0!=i&&(this.index.set(eu.tagName,this.nodes.size),this.addNode(i)),void 0!=a&&(a.forEach(e=>{this.transitionStatesIndex.set(e.getMolecule().ref,this.nodes.size),this.addNode(e)}),this.index.set(el.tagName,this.transitionStatesIndex)),void 0!=n&&(this.index.set(em.tagName,this.nodes.size),this.addNode(n)),void 0!=o&&(this.index.set(ep.tagName,this.nodes.size),this.addNode(o))}addToIndex(e,t){let s=this.index.get(e);if(void 0==s)this.index.set(e,this.nodes.size);else if(s instanceof Map)s.set(t.tagName,this.nodes.size);else{let i=new Map;i.set(this.nodes.get(s).ref,s),i.set(t.tagName,this.nodes.size),this.index.set(e,i)}}getReactants(){let e=this.index.get(en.tagName);return void 0==e?[]:e instanceof Map?Array.from(e.values()).map(e=>this.nodes.get(e)):[this.nodes.get(e)]}setReactants(e){e.forEach(e=>{this.reactantsIndex.set(e.getMolecule().ref,this.nodes.size),this.addNode(e)}),this.index.set(en.tagName,this.reactantsIndex)}getReactant(e){let t=this.reactantsIndex.get(e);if(void 0==t)throw Error(`Reactant with ref ${e} not found`);return this.nodes.get(t)}addReactant(e){this.reactantsIndex.set(e.getMolecule().ref,this.nodes.size),this.addNode(e)}removeReactant(e){let t=this.reactantsIndex.get(e);if(void 0==t)throw Error(`Reactant with ref ${e} not found`);this.nodes.delete(t),this.reactantsIndex.delete(e)}getProducts(){let e=this.index.get(eo.tagName);return void 0==e?[]:e instanceof Map?Array.from(e.values()).map(e=>this.nodes.get(e)):[this.nodes.get(e)]}setProducts(e){e.forEach(e=>{this.productsIndex.set(e.getMolecule().ref,this.nodes.size),this.addNode(e)}),this.index.set(eo.tagName,this.productsIndex)}getProduct(e){let t=this.productsIndex.get(e);if(void 0==t)throw Error(`Product with ref ${e} not found`);return this.nodes.get(t)}addProduct(e){this.productsIndex.set(e.getMolecule().ref,this.nodes.size),this.addNode(e)}removeProduct(e){let t=this.productsIndex.get(e);if(void 0==t)throw Error(`Product with ref ${e} not found`);this.nodes.delete(t),this.productsIndex.delete(e)}getTunneling(){let e=this.index.get(eu.tagName);if(void 0!=e)return this.nodes.get(e)}setTunneling(e){let t=this.index.get(eu.tagName);if(void 0==t)this.index.set(eu.tagName,this.nodes.size),this.addNode(e);else{if(t instanceof Map)throw Error("Tunneling is a map and it is assumed there would be only 1!");this.nodes.set(t,e)}}getTransitionStates(){let e=this.index.get(el.tagName);return void 0==e?[]:e instanceof Map?Array.from(e.values()).map(e=>this.nodes.get(e)):[this.nodes.get(e)]}setTransitionStates(e){e.forEach(e=>{this.transitionStatesIndex.set(e.getMolecule().ref,this.nodes.size),this.addNode(e)}),this.index.set(el.tagName,this.transitionStatesIndex)}getTransitionState(e){let t=this.transitionStatesIndex.get(e);if(void 0==t)throw Error(`Transition state with ref ${e} not found`);return this.nodes.get(t)}addTransitionState(e){this.transitionStatesIndex.set(e.getMolecule().ref,this.nodes.size),this.addNode(e)}removeTransitionState(e){let t=this.transitionStatesIndex.get(e);if(void 0==t)throw Error(`Transition State with ref ${e} not found`);this.nodes.delete(t),this.transitionStatesIndex.delete(e)}getMCRCMethod(){let e=this.index.get(em.tagName);if(void 0!=e)return this.nodes.get(e)}setMCRCMethod(e){let t=this.index.get(em.tagName);if(void 0==t)this.index.set(em.tagName,this.nodes.size),this.addNode(e);else{if(t instanceof Map)throw Error("MCRCMethod is a map and it is assumed there would be only 1!");this.nodes.set(t,e)}}getExcessReactantConc(){let e=this.index.get(ep.tagName);if(void 0!=e)return this.nodes.get(e)}setExcessReactantConc(e){let t=this.index.get(ep.tagName);if(void 0==t)this.index.set(ep.tagName,this.nodes.size),this.addNode(e);else{if(t instanceof Map)throw Error("ExcessReactantConc is a map and it is assumed there would be only 1!");this.nodes.set(t,e)}}getReactantsLabel(){return this.getReactants().map(e=>e.getMolecule().ref).join(" + ")}getProductsLabel(){return this.getProducts().map(e=>e.getMolecule().ref).join(" + ")}getLabel(){return this.getReactantsLabel()+" -> "+this.getProductsLabel()}getReactantsEnergy(e){return Array.from(this.getReactants()).map(t=>{let s=e.get(t.getMolecule().ref);if(void 0==s)throw Error(`Molecule with ref ${t.getMolecule().ref} not found`);return s.getEnergy()}).reduce((e,t)=>e+t,0)}getProductsEnergy(e){return Array.from(this.getProducts()).map(t=>{let s=e.get(t.getMolecule().ref);if(void 0==s)throw Error(`Molecule with ref ${t.getMolecule().ref} not found`);return s.getEnergy()}).reduce((e,t)=>e+t,0)}get(e,t){if(this.index.has(e)){let s=this.index.get(e);if(void 0!=s){if(!(s instanceof Map))return this.nodes.get(s);{let e=s.get(t);if(void 0!=e)return this.nodes.get(e)}}}}}function ex(e,t,s,i,a,n,o,l,d,r,g){let h=i+(n-i)/2;ev(e,g,l,t,h-eC(e,g,l)/2,o+d),ev(e,r,l,t,h-eC(e,r,l)/2,o+3*d),ef(e,t,s,i,a,n,o)}function ef(e,t,s,i,a,n,o){e.beginPath(),e.strokeStyle=t,e.lineWidth=s,e.moveTo(i,a),e.lineTo(n,o),e.stroke()}function ev(e,t,s,i,a,n){e.save(),e.translate(a,n),e.scale(1,-1),e.font=s,e.fillStyle=i,e.fillText(t,0,0),e.restore()}function eC(e,t,s){return e.font=s,e.measureText(t).width}class eE extends w{static{this.tagName="me:bathGas"}constructor(e,t){super(e,eE.tagName,t)}}class eb extends O{static{this.tagName="me:experimentRate"}static{this.s_ref1="ref1"}static{this.s_ref2="ref2"}static{this.s_refReaction="refReaction"}static{this.s_error="error"}constructor(e,t){super(e,eb.tagName,t)}getRef1(){return this.attributes.get(eb.s_ref1)}setRef1(e){this.attributes.set(eb.s_ref1,e)}getRef2(){return this.attributes.get(eb.s_ref2)}setRef2(e){this.attributes.set(eb.s_ref2,e)}getRefReaction(){return this.attributes.get(eb.s_refReaction)}setRefReaction(e){this.attributes.set(eb.s_refReaction,e)}getError(){let e=this.attributes.get(eb.s_error);if(void 0!=e)return parseFloat(e)}setError(e){this.attributes.set(eb.s_error,e.toString())}}class ey extends O{static{this.tagName="me:experimentalYield"}static{this.s_ref="ref"}static{this.s_error="error"}static{this.s_yieldTime="yieldTime"}constructor(e,t){super(e,ey.tagName,t)}getRef(){return this.attributes.get(ey.s_ref)}setRef(e){this.attributes.set(ey.s_ref,e)}getError(){let e=this.attributes.get(ey.s_error);if(void 0!=e)return parseFloat(e)}setError(e){this.attributes.set(ey.s_error,e.toString())}getYieldTime(){let e=this.attributes.get(ey.s_yieldTime);if(e)return parseFloat(e)}setYieldTime(e){this.attributes.set(ey.s_yieldTime,e.toString())}}class eS extends O{static{this.tagName="me:experimentalEigenvalue"}static{this.s_EigenvalueID="EigenvalueID"}static{this.s_error="error"}constructor(e,t){super(e,eS.tagName,t)}getEigenvalueID(){return this.attributes.get(eS.s_EigenvalueID)}setEigenvalueID(e){this.attributes.set(eS.s_EigenvalueID,e)}getError(){let e=this.attributes.get(eS.s_error);if(void 0!=e)return parseFloat(e)}setError(e){this.attributes.set(eS.s_error,e.toString())}}class eL extends O{static{this.tagName="me:excessReactantConc"}static{this.s_percent="percent"}constructor(e,t){super(e,eL.tagName,t)}getPercent(){return this.attributes.get(eL.s_percent)}setPercent(e){this.attributes.set(eL.s_percent,e)}}class eT extends M{static{this.tagName="me:PTpair"}static{this.precisions=["d","dd","qd","double","double-double","quad-double"]}static{this.pressureUnits=["Torr","PPCC","atm","mbar","psi","mols/cc"]}static{this.s_P="P"}static{this.s_T="T"}static{this.s_precision="precision"}static{this.s_excessReactantConc="excessReactantConc"}static{this.s_percentExcessReactantConc="percentExcessReactantConc"}constructor(e,t,s,i,a){super(e,eT.tagName),this.index=new Map,void 0!=t&&(this.index.set(eE.tagName,this.nodes.size),this.addNode(t)),void 0!=s&&(this.index.set(eb.tagName,this.nodes.size),this.addNode(s)),void 0!=i&&(this.index.set(ey.tagName,this.nodes.size),this.addNode(i)),void 0!=a&&(this.index.set(eS.tagName,this.nodes.size),this.addNode(a))}getP(){let e=this.attributes.get(eT.s_P);return void 0!=e?parseFloat(e):NaN}setP(e){this.attributes.set(eT.s_P,e.toString())}getT(){let e=this.attributes.get(eT.s_T);return void 0!=e?parseFloat(e):NaN}setT(e){this.attributes.set(eT.s_T,e.toString())}getPrecision(){return this.attributes.get(eT.s_precision)}setPrecision(e){this.attributes.set(eT.s_precision,e)}getBathGas(){let e=this.index.get(eE.tagName);return void 0!=e?this.nodes.get(e):void 0}setBathGas(e){let t=this.index.get(eE.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eE.tagName,this.nodes.size),this.addNode(e))}removeBathGas(){let e=this.index.get(eE.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eE.tagName))}getExperimentRate(){let e=this.index.get(eb.tagName);return void 0!=e?this.nodes.get(e):void 0}setExperimentRate(e){let t=this.index.get(eb.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eb.tagName,this.nodes.size),this.addNode(e))}removeExperimentRate(){let e=this.index.get(eb.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eb.tagName))}getExcessReactantConc(){return this.attributes.get(eT.s_excessReactantConc)}setExcessReactantConc(e){this.attributes.set(eT.s_excessReactantConc,e)}getPercentExcessReactantConc(){return this.attributes.get(eT.s_percentExcessReactantConc)}setPercentExcessReactantConc(e){this.attributes.set(eT.s_percentExcessReactantConc,e)}}class ew extends M{static{this.tagName="me:PTs"}constructor(e,t){super(e,ew.tagName),void 0!=t?(t.forEach(e=>{this.addNode(e)}),this.pTpairs=t):this.pTpairs=[]}getPTpair(e){return this.pTpairs[e]}setPTpair(e,t){this.nodes.set(e,t),this.pTpairs[e]=t}addPTpair(e){return this.addNode(e),this.pTpairs.push(e),this.nodes.size-1}setPTpairs(e){this.nodes.clear(),e.forEach(e=>{this.addNode(e),this.pTpairs.push(e)})}removePTpair(e){this.nodes.delete(e),this.pTpairs.splice(e,1)}}class eO extends M{static{this.tagName="me:conditions"}constructor(e,t,s){super(e,eO.tagName),this.index=new Map,this.bathGasesIndex=new Map,this.bathGases=new Set,void 0!=t&&(this.index.set(eE.tagName,this.nodes.size),t.forEach(e=>{this.bathGasesIndex.set(e.value,this.nodes.size),this.addNode(e),this.bathGases.add(e)})),void 0!=s&&(this.index.set(ew.tagName,this.nodes.size),this.addNode(s))}getBathGases(){return this.bathGases}addBathGas(e){this.bathGases.has(e)||(this.bathGases.add(e),this.bathGasesIndex.set(e.value,this.nodes.size),this.addNode(e))}removeBathGas(e){this.bathGases.has(e)?(this.bathGases.delete(e),this.nodes.delete(this.bathGasesIndex.get(e.value))):console.warn("Conditions.removeBathGas: bathGas not found to remove.")}getPTs(){let e=this.index.get(ew.tagName);if(void 0!=e)return this.nodes.get(e)}setPTs(e){let t=this.index.get(ew.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ew.tagName,this.nodes.size),this.addNode(e))}}class e_ extends O{static{this.tagName="me:grainSize"}constructor(e,t){super(e,e_.tagName,t)}}class eM extends O{static{this.tagName="me:automaticallySetMaxEne"}constructor(e,t){super(e,eM.tagName,t)}}class ez extends O{static{this.tagName="me:energyAboveTheTopHill"}constructor(e,t){super(e,ez.tagName,t)}}class eP extends O{static{this.tagName="me:maxTemperature"}constructor(e,t){super(e,eP.tagName,t)}}class eR extends M{static{this.tagName="me:modelParameters"}constructor(e,t,s,i,a){super(e,eR.tagName),this.index=new Map,void 0!=t&&(this.index.set(e_.tagName,this.nodes.size),this.addNode(t)),void 0!=s&&(this.index.set(eM.tagName,this.nodes.size),this.addNode(s)),void 0!=i&&(this.index.set(ez.tagName,this.nodes.size),this.addNode(i)),void 0!=a&&(this.index.set(eP.tagName,this.nodes.size),this.addNode(a))}getGrainSize(){let e=this.index.get(e_.tagName);if(e)return this.nodes.get(e)}setGrainSize(e){let t=this.index.get(e_.tagName);t?this.nodes.set(t,e):(this.index.set(e_.tagName,this.nodes.size),this.addNode(e))}removeGrainSize(){let e=this.index.get(e_.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e_.tagName))}getAutomaticallySetMaxEne(){let e=this.index.get(eM.tagName);if(e)return this.nodes.get(e)}setAutomaticallySetMaxEne(e){let t=this.index.get(eM.tagName);t?this.nodes.set(t,e):(this.index.set(eM.tagName,this.nodes.size),this.addNode(e))}removeAutomaticallySetMaxEne(){let e=this.index.get(eM.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eM.tagName))}getEnergyAboveTheTopHill(){let e=this.index.get(ez.tagName);if(e)return this.nodes.get(e)}setEnergyAboveTheTopHill(e){let t=this.index.get(ez.tagName);t?this.nodes.set(t,e):(this.index.set(ez.tagName,this.nodes.size),this.addNode(e))}removeEnergyAboveTheTopHill(){let e=this.index.get(ez.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ez.tagName))}getMaxTemperature(){let e=this.index.get(eP.tagName);if(e)return this.nodes.get(e)}setMaxTemperature(e){let t=this.index.get(eP.tagName);t?this.nodes.set(t,e):(this.index.set(eP.tagName,this.nodes.size),this.addNode(e))}removeMaxTemperature(){let e=this.index.get(eP.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eP.tagName))}}class eB extends L{static{this.tagName="me:calculateRateCoefficientsOnly"}constructor(){super(eB.tagName)}}class eF extends L{static{this.tagName="me:printCellDOS"}constructor(){super(eF.tagName)}}class eI extends L{static{this.tagName="me:printCellTransitionStateFlux"}constructor(){super(eI.tagName)}}class eD extends L{static{this.tagName="me:printReactionOperatorColumnSums"}constructor(){super(eD.tagName)}}class eA extends L{static{this.tagName="me:printGrainBoltzmann"}constructor(){super(eA.tagName)}}class eG extends L{static{this.tagName="me:printGrainDOS"}constructor(){super(eG.tagName)}}class ek extends L{static{this.tagName="me:printGrainkbE"}constructor(){super(ek.tagName)}}class eq extends L{static{this.tagName="me:printGrainkfE"}constructor(){super(eq.tagName)}}class eV extends L{static{this.tagName="me:printTSsos"}constructor(){super(eV.tagName)}}class eU extends L{static{this.tagName="me:printGrainedSpeciesProfile"}constructor(){super(eU.tagName)}}class eX extends L{static{this.tagName="me:printGrainTransitionStateFlux"}constructor(){super(eX.tagName)}}class ej extends L{static{this.tagName="me:printReactionOperatorSize"}constructor(){super(ej.tagName)}}class eH extends L{static{this.tagName="me:printSpeciesProfile"}constructor(){super(eH.tagName)}}class e$ extends L{static{this.tagName="me:printPhenomenologicalEvolution"}constructor(){super(e$.tagName)}}class eW extends L{static{this.tagName="me:printTunnelingCoefficients"}constructor(){super(eW.tagName)}}class eK extends L{static{this.tagName="me:printCrossingCoefficients"}constructor(){super(eK.tagName)}}class eY extends L{static{this.tagName="me:testDOS"}constructor(){super(eY.tagName)}}class eJ extends L{static{this.tagName="me:testRateConstants"}constructor(){super(eJ.tagName)}}class eQ extends L{static{this.tagName="me:useTheSameCellNumberForAllConditions"}constructor(){super(eQ.tagName)}}class eZ extends L{static{this.tagName="me:ForceMacroDetailedBalance"}constructor(){super(eZ.tagName)}}class e0 extends L{static{this.tagName="me:hideInactive"}constructor(){super(e0.tagName)}}class e1 extends M{static{this.tagName="me:calcMethod"}static{this.options=["simpleCalc","gridSearch","fitting","marquardt","analyticalRepresentation","ThermodynamicTable","sensitivityAnalysis","me:simpleCalc","me:gridSearch","me:fitting","me:marquardt","me:analyticalRepresentation","me:ThermodynamicTable","me:sensitivityAnalysis"]}constructor(e){super(e,e1.tagName)}}class e2 extends e1{static{this.xsi_type="me:simpleCalc"}static{this.xsi_type2="simpleCalc"}constructor(e){super(e)}}class e4 extends e1{static{this.xsi_type="me:gridSearch"}static{this.xsi_type2="gridSearch"}constructor(e){super(e)}}class e5 extends O{static{this.tagName="me:fittingIterations"}constructor(e,t){super(e,e5.tagName,t)}}class e6 extends e1{static{this.xsi_type="me:fitting"}static{this.xsi_type2="fitting"}constructor(e,t){super(e),void 0!=t&&this.addNode(t)}getFittingIterations(){return this.nodes.get(0)}setFittingIterations(e){this.nodes.set(0,e)}removeFittingIterations(){this.nodes.delete(0)}}class e7 extends O{static{this.tagName="me:MarquardtIterations"}constructor(e,t){super(e,e7.tagName,t)}}class e8 extends O{static{this.tagName="me:MarquardtTolerance"}constructor(e,t){super(e,e8.tagName,t)}}class e3 extends O{static{this.tagName="me:MarquardtDerivDelta"}constructor(e,t){super(e,e3.tagName,t)}}class e9 extends e1{static{this.xsi_type="me:marquardt"}static{this.xsi_type2="marquardt"}constructor(e,t,s,i){super(e),this.index=new Map,void 0!=t&&(this.index.set(e7.tagName,this.nodes.size),this.addNode(t)),void 0!=s&&(this.index.set(e8.tagName,this.nodes.size),this.addNode(s)),void 0!=i&&(this.index.set(e3.tagName,this.nodes.size),this.addNode(i))}getMarquardtIterations(){let e=this.index.get(e7.tagName);if(void 0!=e)return this.nodes.get(e)}setMarquardtIterations(e){let t=this.index.get(e7.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e7.tagName,this.nodes.size),this.addNode(e))}removeMarquardtIterations(){let e=this.index.get(e7.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e7.tagName))}getMarquardtTolerance(){let e=this.index.get(e8.tagName);if(void 0!=e)return this.nodes.get(e)}setMarquardtTolerance(e){let t=this.index.get(e8.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e8.tagName,this.nodes.size),this.addNode(e))}removeMarquardtTolerance(){let e=this.index.get(e8.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e8.tagName))}getMarquardtDerivDelta(){let e=this.index.get(e3.tagName);if(void 0!=e)return this.nodes.get(e)}setMarquardtDerivDelta(e){let t=this.index.get(e3.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e3.tagName,this.nodes.size),this.addNode(e))}removeMarquardtDerivDelta(){let e=this.index.get(e3.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e3.tagName))}}class te extends L{static{this.tagName="me:useTraceWeighting"}constructor(){super(te.tagName)}}class tt extends w{static{this.tagName="me:format"}constructor(e,t){super(e,tt.tagName,t)}}class ts extends w{static{this.tagName="me:format"}constructor(e,t){super(e,tt.tagName,t)}}class ti extends O{static{this.tagName="me:chebNumTemp"}constructor(e,t){super(e,tt.tagName,t)}}class ta extends O{static{this.tagName="me:chebNumConc"}constructor(e,t){super(e,tt.tagName,t)}}class tn extends O{static{this.tagName="me:chebMaxTemp"}constructor(e,t){super(e,tt.tagName,t)}}class to extends O{static{this.tagName="me:chebMinTemp"}constructor(e,t){super(e,tt.tagName,t)}}class tl extends O{static{this.tagName="me:chebMaxConc"}constructor(e,t){super(e,tt.tagName,t)}getUnits(){return this.attributes.get("units")}setUnits(e){this.attributes.set("units",e)}}class td extends O{static{this.tagName="me:chebMinConc"}constructor(e,t){super(e,tt.tagName,t)}}class tr extends O{static{this.tagName="me:chebTExSize"}constructor(e,t){super(e,tt.tagName,t)}}class tg extends O{static{this.tagName="me:chebPExSize"}constructor(e,t){super(e,tt.tagName,t)}}class th extends e1{static{this.xsi_type="me:analyticalRepresentation"}static{this.xsi_type2="analyticalRepresentation"}constructor(e,t,s,i,a,n,o,l,d,r,g){super(e),this.index=new Map,void 0!=t&&(this.index.set(tt.tagName,this.nodes.size),this.addNode(t)),void 0!=s&&(this.index.set(ts.tagName,this.nodes.size),this.addNode(s)),void 0!=i&&(this.index.set(ti.tagName,this.nodes.size),this.addNode(i)),void 0!=a&&(this.index.set(ta.tagName,this.nodes.size),this.addNode(a)),void 0!=n&&(this.index.set(tn.tagName,this.nodes.size),this.addNode(n)),void 0!=o&&(this.index.set(to.tagName,this.nodes.size),this.addNode(o)),void 0!=l&&(this.index.set(tl.tagName,this.nodes.size),this.addNode(l)),void 0!=d&&(this.index.set(td.tagName,this.nodes.size),this.addNode(d)),void 0!=r&&(this.index.set(tr.tagName,this.nodes.size),this.addNode(r)),void 0!=g&&(this.index.set(tg.tagName,this.nodes.size),this.addNode(g))}getFormat(){let e=this.index.get(tt.tagName);if(void 0!=e)return this.nodes.get(e)}setFormat(e){let t=this.index.get(tt.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tt.tagName,this.nodes.size),this.addNode(e))}removeFormat(){let e=this.index.get(tt.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tt.tagName))}getPrecision(){let e=this.index.get(ts.tagName);if(void 0!=e)return this.nodes.get(e)}setPrecision(e){let t=this.index.get(ts.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ts.tagName,this.nodes.size),this.addNode(e))}removePrecision(){let e=this.index.get(ts.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ts.tagName))}getChebNumTemp(){let e=this.index.get(ti.tagName);if(void 0!=e)return this.nodes.get(e)}setChebNumTemp(e){let t=this.index.get(ti.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ti.tagName,this.nodes.size),this.addNode(e))}removeChebNumTemp(){let e=this.index.get(ti.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ti.tagName))}getChebNumConc(){let e=this.index.get(ta.tagName);if(void 0!=e)return this.nodes.get(e)}setChebNumConc(e){let t=this.index.get(ta.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ta.tagName,this.nodes.size),this.addNode(e))}removeChebNumConc(){let e=this.index.get(ta.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ta.tagName))}getChebMaxTemp(){let e=this.index.get(tn.tagName);if(void 0!=e)return this.nodes.get(e)}setChebMaxTemp(e){let t=this.index.get(tn.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tn.tagName,this.nodes.size),this.addNode(e))}removeChebMaxTemp(){let e=this.index.get(tn.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tn.tagName))}getChebMinTemp(){let e=this.index.get(to.tagName);if(void 0!=e)return this.nodes.get(e)}setChebMinTemp(e){let t=this.index.get(to.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(to.tagName,this.nodes.size),this.addNode(e))}removeChebMinTemp(){let e=this.index.get(to.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(to.tagName))}getChebMaxConc(){let e=this.index.get(tl.tagName);if(void 0!=e)return this.nodes.get(e)}setChebMaxConc(e){let t=this.index.get(tl.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tl.tagName,this.nodes.size),this.addNode(e))}removeChebMaxConc(){let e=this.index.get(tl.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tl.tagName))}getChebMinConc(){let e=this.index.get(td.tagName);if(void 0!=e)return this.nodes.get(e)}setChebMinConc(e){let t=this.index.get(td.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(td.tagName,this.nodes.size),this.addNode(e))}removeChebMinConc(){let e=this.index.get(td.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(td.tagName))}getChebTExSize(){let e=this.index.get(tr.tagName);if(void 0!=e)return this.nodes.get(e)}setChebTExSize(e){let t=this.index.get(tr.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tr.tagName,this.nodes.size),this.addNode(e))}removeChebTExSize(){let e=this.index.get(tr.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tr.tagName))}getChebPExSize(){let e=this.index.get(tg.tagName);if(void 0!=e)return this.nodes.get(e)}setChebPExSize(e){let t=this.index.get(tg.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tg.tagName,this.nodes.size),this.addNode(e))}removeChebPExSize(){let e=this.index.get(tg.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tg.tagName))}}class tm extends O{static{this.tagName="me:Tmin"}constructor(e,t){super(e,tm.tagName,t)}}class tc extends O{static{this.tagName="me:Tmid"}constructor(e,t){super(e,tc.tagName,t)}}class tu extends O{static{this.tagName="me:Tmax"}constructor(e,t){super(e,tu.tagName,t)}}class tp extends O{static{this.tagName="me:Tstep"}constructor(e,t){super(e,tm.tagName,t)}}class tN extends e1{static{this.xsi_type="me:ThermodynamicTable"}static{this.xsi_type2="ThermodynamicTable"}constructor(e,t,s,i,a){super(e),this.index=new Map,void 0!=t&&(this.index.set(tm.tagName,this.nodes.size),this.addNode(t)),void 0!=s&&(this.index.set(tc.tagName,this.nodes.size),this.addNode(s)),void 0!=i&&(this.index.set(tu.tagName,this.nodes.size),this.addNode(i)),void 0!=a&&(this.index.set(tp.tagName,this.nodes.size),this.addNode(a))}getTmin(){let e=this.index.get(tm.tagName);if(void 0!=e)return this.nodes.get(e)}setTmin(e){let t=this.index.get(tm.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tm.tagName,this.nodes.size),this.addNode(e))}removeTmin(){let e=this.index.get(tm.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tm.tagName))}getTmid(){let e=this.index.get(tc.tagName);if(void 0!=e)return this.nodes.get(e)}setTmid(e){let t=this.index.get(tc.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tc.tagName,this.nodes.size),this.addNode(e))}removeTmid(){let e=this.index.get(tc.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tc.tagName))}getTmax(){let e=this.index.get(tu.tagName);if(void 0!=e)return this.nodes.get(e)}setTmax(e){let t=this.index.get(tu.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tu.tagName,this.nodes.size),this.addNode(e))}removeTmax(){let e=this.index.get(tu.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tu.tagName))}getTstep(){let e=this.index.get(tp.tagName);if(void 0!=e)return this.nodes.get(e)}setTstep(e){let t=this.index.get(tp.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tp.tagName,this.nodes.size),this.addNode(e))}removeTstep(){let e=this.index.get(tp.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tp.tagName))}}class tx extends O{static{this.tagName="me:sensitivityAnalysisSamples"}constructor(e,t){super(e,tx.tagName,t)}}class tf extends O{static{this.tagName="me:sensitivityAnalysisOrder"}constructor(e,t){super(e,tf.tagName,t)}}class tv extends O{static{this.tagName="me:sensitivityNumVarRedIters"}constructor(e,t){super(e,tv.tagName,t)}}class tC extends w{static{this.tagName="me:sensitivityVarRedMethod"}constructor(e,t){super(e,tC.tagName,t)}}class tE extends e1{static{this.xsi_type="me:sensitivityAnalysis"}static{this.xsi_type2="sensitivityAnalysis"}constructor(e,t,s,i,a){super(e),this.index=new Map,void 0!=t&&(this.index.set(tx.tagName,this.nodes.size),this.addNode(t)),void 0!=s&&(this.index.set(tf.tagName,this.nodes.size),this.addNode(s)),void 0!=i&&(this.index.set(tv.tagName,this.nodes.size),this.addNode(i)),void 0!=a&&(this.index.set(tC.tagName,this.nodes.size),this.addNode(a))}getSensitivityAnalysisSamples(){let e=this.index.get(tx.tagName);if(void 0!=e)return this.nodes.get(e)}setSensitivityAnalysisSamples(e){let t=this.index.get(tx.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tx.tagName,this.nodes.size),this.addNode(e))}removeSensitivityAnalysisSamples(){let e=this.index.get(tx.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tx.tagName))}getSensitivityAnalysisOrder(){let e=this.index.get(tf.tagName);if(void 0!=e)return this.nodes.get(e)}setSensitivityAnalysisOrder(e){let t=this.index.get(tf.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tf.tagName,this.nodes.size),this.addNode(e))}removeSensitivityAnalysisOrder(){let e=this.index.get(tf.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tf.tagName))}getSensitivityNumVarRedIters(){let e=this.index.get(tv.tagName);if(void 0!=e)return this.nodes.get(e)}setSensitivityNumVarRedIters(e){let t=this.index.get(tv.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tv.tagName,this.nodes.size),this.addNode(e))}removeSensitivityNumVarRedIters(){let e=this.index.get(tv.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tv.tagName))}getSensitivityVarRedMethod(){let e=this.index.get(tC.tagName);if(void 0!=e)return this.nodes.get(e)}setSensitivityVarRedMethod(e){let t=this.index.get(tC.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tC.tagName,this.nodes.size),this.addNode(e))}removeSensitivityVarRedMethod(){let e=this.index.get(tC.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tC.tagName))}}class tb extends O{static{this.tagName="me:eigenvalues"}constructor(e,t){super(e,tb.tagName,t)}}class ty extends O{static{this.tagName="me:shortestTimeOfInterest"}constructor(e,t){super(e,ty.tagName,t)}}class tS extends O{static{this.tagName="me:MaximumEvolutionTime"}constructor(e,t){super(e,tS.tagName,t)}}class tL extends O{static{this.tagName="me:automaticallySetMaxEne"}constructor(e,t){super(e,tL.tagName,t)}}class tT extends O{static{this.tagName="me:diagramEnergyOffset"}constructor(e,t){super(e,tT.tagName,t)}}class tw extends T{static{this.tagName="me:testMicroRates"}constructor(e){super(e,tw.tagName),this.tMin=parseFloat(e.get("Tmin")),this.tMax=parseFloat(e.get("Tmax")),this.tStep=parseFloat(e.get("Tstep"))}getTmin(){return this.tMin}setTmin(e){this.tMin=e,this.attributes?.set("Tmin",e.toString())}getTmax(){return this.tMax}setTmax(e){this.tMax=e,this.attributes?.set("Tmax",e.toString())}getTstep(){return this.tStep}setTstep(e){this.tStep=e,this.attributes?.set("Tstep",e.toString())}}class tO extends M{static{this.tagName="me:control"}constructor(e){super(e,tO.tagName),this.index=new Map}getCalculateRateCoefficientsOnly(){let e=this.index.get(eB.tagName);if(void 0!=e)return this.nodes.get(e)}setCalculateRateCoefficientsOnly(e){let t=this.index.get(eB.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eB.tagName,this.nodes.size),this.addNode(e))}removeCalculateRateCoefficientsOnly(){let e=this.index.get(eB.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eB.tagName))}getPrintCellDOS(){let e=this.index.get(eF.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintCellDOS(e){let t=this.index.get(eF.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eF.tagName,this.nodes.size),this.addNode(e))}removePrintCellDOS(){let e=this.index.get(eF.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eF.tagName))}getPrintCellTransitionStateFlux(){let e=this.index.get(eI.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintCellTransitionStateFlux(e){let t=this.index.get(eI.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eI.tagName,this.nodes.size),this.addNode(e))}removePrintCellTransitionStateFlux(){let e=this.index.get(eI.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eI.tagName))}getPrintReactionOperatorColumnSums(){let e=this.index.get(eD.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintReactionOperatorColumnSums(e){let t=this.index.get(eD.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eD.tagName,this.nodes.size),this.addNode(e))}removePrintReactionOperatorColumnSums(){let e=this.index.get(eD.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eD.tagName))}getPrintGrainBoltzmann(){let e=this.index.get(eA.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintGrainBoltzmann(e){let t=this.index.get(eA.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eA.tagName,this.nodes.size),this.addNode(e))}removePrintGrainBoltzmann(){let e=this.index.get(eA.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eA.tagName))}getPrintGrainDOS(){let e=this.index.get(eG.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintGrainDOS(e){let t=this.index.get(eG.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eG.tagName,this.nodes.size),this.addNode(e))}removePrintGrainDOS(){let e=this.index.get(eG.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eG.tagName))}getPrintGrainkbE(){let e=this.index.get(ek.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintGrainkbE(e){let t=this.index.get(ek.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ek.tagName,this.nodes.size),this.addNode(e))}removePrintGrainkbE(){let e=this.index.get(ek.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ek.tagName))}getPrintGrainkfE(){let e=this.index.get(eq.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintGrainkfE(e){let t=this.index.get(eq.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eq.tagName,this.nodes.size),this.addNode(e))}removePrintGrainkfE(){let e=this.index.get(eq.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eq.tagName))}getPrintTSsos(){let e=this.index.get(eV.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintTSsos(e){let t=this.index.get(eV.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eV.tagName,this.nodes.size),this.addNode(e))}removePrintTSsos(){let e=this.index.get(eV.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eV.tagName))}getPrintGrainedSpeciesProfile(){let e=this.index.get(eU.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintGrainedSpeciesProfile(e){let t=this.index.get(eU.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eU.tagName,this.nodes.size),this.addNode(e))}removePrintGrainedSpeciesProfile(){let e=this.index.get(eU.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eU.tagName))}getPrintGrainTransitionStateFlux(){let e=this.index.get(eX.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintGrainTransitionStateFlux(e){let t=this.index.get(eX.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eX.tagName,this.nodes.size),this.addNode(e))}removePrintGrainTransitionStateFlux(){let e=this.index.get(eX.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eX.tagName))}getPrintReactionOperatorSize(){let e=this.index.get(ej.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintReactionOperatorSize(e){let t=this.index.get(ej.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ej.tagName,this.nodes.size),this.addNode(e))}removePrintReactionOperatorSize(){let e=this.index.get(ej.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ej.tagName))}getPrintSpeciesProfile(){let e=this.index.get(eH.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintSpeciesProfile(e){let t=this.index.get(eH.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eH.tagName,this.nodes.size),this.addNode(e))}removePrintSpeciesProfile(){let e=this.index.get(eH.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eH.tagName))}getPrintPhenomenologicalEvolution(){let e=this.index.get(e$.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintPhenomenologicalEvolution(e){let t=this.index.get(e$.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e$.tagName,this.nodes.size),this.addNode(e))}removePrintPhenomenologicalEvolution(){let e=this.index.get(e$.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e$.tagName))}getPrintTunnelingCoefficients(){let e=this.index.get(eW.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintTunnelingCoefficients(e){let t=this.index.get(eW.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eW.tagName,this.nodes.size),this.addNode(e))}removePrintTunnelingCoefficients(){let e=this.index.get(eW.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eW.tagName))}getPrintCrossingCoefficients(){let e=this.index.get(eK.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintCrossingCoefficients(e){let t=this.index.get(eK.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eK.tagName,this.nodes.size),this.addNode(e))}removePrintCrossingCoefficients(){let e=this.index.get(eK.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eK.tagName))}getTestDOS(){let e=this.index.get(eY.tagName);if(void 0!=e)return this.nodes.get(e)}setTestDOS(e){let t=this.index.get(eY.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eY.tagName,this.nodes.size),this.addNode(e))}removeTestDOS(){let e=this.index.get(eY.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eY.tagName))}getTestRateConstants(){let e=this.index.get(eJ.tagName);if(void 0!=e)return this.nodes.get(e)}setTestRateConstants(e){let t=this.index.get(eJ.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eJ.tagName,this.nodes.size),this.addNode(e))}removeTestRateConstants(){let e=this.index.get(eJ.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eJ.tagName))}getUseTheSameCellNumberForAllConditions(){let e=this.index.get(eQ.tagName);if(void 0!=e)return this.nodes.get(e)}setUseTheSameCellNumberForAllConditions(e){let t=this.index.get(eQ.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eQ.tagName,this.nodes.size),this.addNode(e))}removeUseTheSameCellNumberForAllConditions(){let e=this.index.get(eQ.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eQ.tagName))}getHideInactive(){let e=this.index.get(e0.tagName);if(void 0!=e)return this.nodes.get(e)}setHideInactive(e){let t=this.index.get(e0.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e0.tagName,this.nodes.size),this.addNode(e))}removeHideInactive(){let e=this.index.get(e0.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e0.tagName))}getForceMacroDetailedBalance(){let e=this.index.get(eZ.tagName);if(void 0!=e)return this.nodes.get(e)}setForceMacroDetailedBalance(e){let t=this.index.get(eZ.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eZ.tagName,this.nodes.size),this.addNode(e))}removeForceMacroDetailedBalance(){let e=this.index.get(eZ.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eZ.tagName))}getCalcMethod(){let e=this.index.get(e1.tagName);if(void 0!=e)return this.nodes.get(e)}setCalcMethod(e){let t=this.index.get(e1.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e1.tagName,this.nodes.size),this.addNode(e))}removeCalcMethod(){let e=this.index.get(e1.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e1.tagName))}getEigenvalues(){let e=this.index.get(tb.tagName);if(void 0!=e)return this.nodes.get(e)}setEigenvalues(e){let t=this.index.get(tb.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tb.tagName,this.nodes.size),this.addNode(e))}removeEigenvalues(){let e=this.index.get(tb.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tb.tagName))}getShortestTimeOfInterest(){let e=this.index.get(ty.tagName);if(void 0!=e)return this.nodes.get(e)}setShortestTimeOfInterest(e){let t=this.index.get(ty.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ty.tagName,this.nodes.size),this.addNode(e))}removeShortestTimeOfInterest(){let e=this.index.get(ty.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ty.tagName))}getMaximumEvolutionTime(){let e=this.index.get(tS.tagName);if(void 0!=e)return this.nodes.get(e)}setMaximumEvolutionTime(e){let t=this.index.get(e.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e.tagName,this.nodes.size),this.addNode(e))}removeMaximumEvolutionTime(){let e=this.index.get(tS.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tS.tagName))}getAutomaticallySetMaxEne(){let e=this.index.get(tL.tagName);if(void 0!=e)return this.nodes.get(e)}setAutomaticallySetMaxEne(e){let t=this.index.get(tL.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tL.tagName,this.nodes.size),this.addNode(e))}removeAutomaticallySetMaxEne(){let e=this.index.get(tL.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tL.tagName))}getDiagramEnergyOffset(){let e=this.index.get(tT.tagName);if(void 0!=e)return this.nodes.get(e)}setDiagramEnergyOffset(e){let t=this.index.get(tT.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tT.tagName,this.nodes.size),this.addNode(e))}removeDiagramEnergyOffset(){let e=this.index.get(tT.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tT.tagName))}getTestMicroRates(){let e=this.index.get(tw.tagName);if(void 0!=e)return this.nodes.get(e)}setTestMicroRates(e){let t=this.index.get(tw.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tw.tagName,this.nodes.size),this.addNode(e))}removeTestMicroRates(){let e=this.index.get(tw.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tw.tagName))}}class t_ extends w{static{this.tagName="me:title"}constructor(e,t){super(e,t_.tagName,t)}}class tM extends M{static{this.tagName="moleculeList"}constructor(e,t){super(e,tM.tagName),this.index=new Map,void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1)})}getMolecule(e){let t=this.index.get(e);if(void 0!=t)return this.nodes.get(t)}removeMolecule(e){let t=this.index.get(e);void 0!=t&&(this.nodes.delete(t),this.index.delete(e))}addMolecule(e){let t=this.index.get(e.id);void 0!==t?(this.nodes.set(t,e),console.log("Replaced molecule with id "+e.id)):(this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1))}}class tz extends M{static{this.tagName="reactionList"}constructor(e,t){super(e,tz.tagName),this.index=new Map,void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1)})}getReaction(e){let t=this.index.get(e);if(void 0!=t)return this.nodes.get(t)}removeReaction(e){let t=this.index.get(e);void 0!=t&&(this.nodes.delete(t),this.index.delete(e))}addReaction(e){let t=this.index.get(e.id);void 0!==t?(this.nodes.set(t,e),console.log("Replaced reaction with id "+e.id)):(this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1))}}class tP extends M{static{this.tagName="me:mesmer"}static{this.header=`<?xml version="1.0" encoding="utf-8" ?>
<?xml-stylesheet type='text/xsl' href='../../mesmer2.xsl' media='other'?>
<?xml-stylesheet type='text/xsl' href='../../mesmer1.xsl' media='screen'?>`}constructor(e,t,s,i,a,n,o){super(e,tP.tagName),this.index=new Map,void 0!=t&&(this.index.set(t_.tagName,this.nodes.size),this.addNode(t)),void 0!=s&&(this.index.set(tM.tagName,this.nodes.size),this.addNode(s)),void 0!=i&&(this.index.set(tz.tagName,this.nodes.size),this.addNode(i)),void 0!=a&&(this.index.set(eO.tagName,this.nodes.size),this.addNode(a)),void 0!=n&&(this.index.set(eR.tagName,this.nodes.size),this.addNode(n)),void 0!=o&&(this.index.set(tO.tagName,this.nodes.size),this.addNode(o))}getTitle(){let e=this.index.get(t_.tagName);if(void 0!=e)return this.nodes.get(e)}setTitle(e){let t=this.index.get(t_.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(t_.tagName,this.nodes.size),this.addNode(e))}getMoleculeList(){let e=this.index.get(tM.tagName);if(void 0!=e)return this.nodes.get(e)}setMoleculeList(e){let t=this.index.get(tM.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tM.tagName,this.nodes.size),this.addNode(e))}getReactionList(){let e=this.index.get(tz.tagName);if(void 0!=e)return this.nodes.get(e)}setReactionList(e){let t=this.index.get(tz.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tz.tagName,this.nodes.size),this.addNode(e))}getConditions(){let e=this.index.get(eO.tagName);if(void 0!=e)return this.nodes.get(e)}setConditions(e){let t=this.index.get(eO.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eO.tagName,this.nodes.size),this.addNode(e))}getModelParameters(){let e=this.index.get(eR.tagName);if(void 0!=e)return this.nodes.get(e)}setModelParameters(e){let t=this.index.get(eR.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eR.tagName,this.nodes.size),this.addNode(e))}getControl(){let e=this.index.get(tO.tagName);if(void 0!=e)return this.nodes.get(e)}setControl(e){let t=this.index.get(tO.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tO.tagName,this.nodes.size),this.addNode(e))}}let tR="https://github.com/agdturner/mxg-pwa",tB=document.createElement("a");tB.href=tR,tB.textContent=tR;let tF="https://sourceforge.net/projects/mesmer/",tI=document.createElement("a");tI.href=tF,tI.textContent=tF;let tD="1.5em",tA="1.25em",tG="1.0em",tk={marginTop:"1px",marginBottom:"1px"},tq={marginLeft:"25px",marginTop:"1px",marginBottom:"1px"},tV={marginLeft:"50px",marginTop:"1px",marginBottom:"1px"},tU={marginLeft:"75px",marginTop:"1px",marginBottom:"1px"},tX={marginLeft:"100px",marginTop:"1px",marginBottom:"1px"},tj={marginLeft:"125px",marginTop:"1px",marginBottom:"1px"},tH={marginLeft:"1px",marginTop:"1px",marginBottom:"1px",marginRight:"1px"},t$="remove",tW=" âœ“",tK=" âœ—",tY=", change using input:",tJ=", then specify using input.",tQ="Action/select another option...",tZ=new Map,t0=-1/0,t1=1/0,t2=new Map,t4="reactionsDiagram",t5="reactionsDiagramCanvas",t6="1em SensSerif";function t7(){null==s?sx(document.getElementById(t5),e,t6,4,2):sx(s.document.getElementById(t5),e,t6,4,2)}function t8(e,t,s,i,a,o,l){let d=i.getElementsByTagName(A.tagName);if(d.length>0){if(1!=d.length)throw Error("Expecting 1 "+A.tagName+" but finding "+d.length+"!");let i=S(d[0]),n=parseFloat(i),r=P(d[0]),h=new A(r,n);e.setProperty(h);let m=e.dictRef,u=g("number",s.id+"_"+e.dictRef,tH,l,e=>{let t=e.target;se(h,t)},i,m),p=u.querySelector("input");c(p),p.addEventListener("change",t=>{i=t.target.value,(h=e.getProperty()).value=parseFloat(i),console.log("Set "+e.dictRef+" of "+s.id+" to "+i),c(p),e.dictRef==q.dictRef&&(n<t1&&(t1=n),n>t0&&(t0=n),t7())}),t3(t,r,u,s.id+"_"+e.dictRef+"_Select_Units",e.dictRef,o),a.appendChild(u)}else{let d=i.getElementsByTagName(G.tagName);if(d.length>0){if(1!=d.length)throw Error("Expecting 1 "+G.tagName+" but finding "+d.length+"!");let i=S(d[0]),r=n(i.split(/\s+/)),h=P(d[0]),m=new G(h,r);e.setProperty(m);let u=e.dictRef,p=g("text",s.id+"_"+e.dictRef,o,l,e=>{let t=e.target;t9(m,t)},i,u),N=p.querySelector("input");N.value=i,c(N),N.addEventListener("change",t=>{i=t.target.value,m=e.getProperty(),r=n(i.split(/\s+/)),m.values=r,console.log("Set "+e.dictRef+" of "+s.id+" to "+i),c(N)}),t3(t,h,p,s.id+"_"+e.dictRef+"_Select_Units",e.dictRef,o),a.appendChild(p)}else throw Error("Expecting "+A.tagName+" or "+G.tagName)}}function t3(e,t,s,i,a,n){if(void 0!=e){let o=function(e,t,s,i){let a=t.get("units");if(void 0!=a){let n=p(e,"Units",s,tH);return n.value=a,u(n),n.addEventListener("change",e=>{let s=e.target;t.set("units",s.value),console.log("Set "+i+" units to "+s.value),u(n)}),n}}(e,t,i,a);void 0!=o&&(Object.assign(o.style,n),s.appendChild(o))}else{let e=t.get("units");if(void 0!=e){let t=C(e,n);s.appendChild(t)}}}function t9(e,t){let s=t.value.trim();if(""==s){alert("Empty input resetting..."),t.value=a(e.values," ");return}let i=s.split(/\s+/),n=[],l=!0;if(i.forEach(function(e){o(e)||(l=!1),n.push(parseFloat(e))}),!l){alert("An input is not a number, resetting..."),t.value=a(e.values," ");return}n.length==e.values.length?console.log("Changed "+e.tagName+' from: "'+s+'" to: "'+a(e.values," ")+'"'):(alert("Expecting "+e.values.length+" values for, but finding "+n.length+" resetting..."),t.value=a(e.values," "))}function se(e,t){if(o(t.value)){let s=parseFloat(t.value);e.value=s,console.log(e.tagName+" value set to "+s)}else alert("Value is not numeric, resetting..."),t.value=e.value.toExponential()}function st(e,t){let s=g("number",eT.tagName+"_P",tH,tk,e=>{let s=e.target;o(s.value)?(t.setP(parseFloat(s.value)),console.log("Set P to "+s.value)):(alert("Value is not numeric, resetting..."),s.value=t.getP().toExponential()),c(s)},t.getP().toExponential(),"P"),i=s.querySelector("input");i.value=t.getP().toExponential(),c(i),e.appendChild(s)}function ss(e,t){let s=g("number",eT.tagName+"_T",tH,tk,e=>{let s=e.target;o(s.value)?(t.setT(parseFloat(s.value)),console.log("Set T to "+s.value)):(alert("Value is not numeric, resetting..."),s.value=t.getT().toExponential()),c(s)},t.getT().toExponential(),"T"),i=s.querySelector("input");i.value=t.getT().toExponential(),c(i),e.appendChild(s)}function si(e,t){let s=N("add "+ep.tagName,tH);e.append(s),s.addEventListener("click",()=>{let i=document.createElement("label");i.textContent="excessReactantConc: ",e.appendChild(i);let a=h("number",eT.tagName+"_"+ep.tagName,tH);a.value=NaN.toString(),a.addEventListener("change",e=>{let s=e.target;t.setExcessReactantConc(s.value),console.log("Set excessReactantConc to "+s.value),c(s)}),c(a),e.appendChild(a);let n=N("âœ•",tH);n.addEventListener("click",()=>{e.removeChild(i),e.removeChild(a),e.removeChild(n),si(e,t)}),e.appendChild(n),e.removeChild(s)})}function sa(e,t){let s=N("add percentExcessReactantConc",tH);e.appendChild(s),s.addEventListener("click",()=>{let s=document.createElement("label");s.textContent="percentExcessReactantConc: ",e.appendChild(s);let i=h("number",eT.tagName+"_percentExcessReactantConc",tH);i.value=NaN.toString(),i.addEventListener("change",e=>{let s=e.target;t.setPercentExcessReactantConc(s.value),console.log("Set percentExcessReactantConc to "+s.value),c(s)}),c(i),e.appendChild(i)})}function sn(e,t){let s=N("add precision",tH);e.appendChild(s),s.addEventListener("click",()=>{let s=document.createElement("label");s.textContent="Precision: ",e.appendChild(s);let i=h("number",eT.tagName+"_precision",tH);i.value=NaN.toString(),i.addEventListener("change",e=>{let s=e.target;t.setPrecision(s.value),console.log("Set Precision to "+s.value),c(s)}),c(i),e.appendChild(i)})}function so(e,t){let s=N("add "+eE.tagName,tH);e.appendChild(s),s.addEventListener("click",()=>{let i=document.createElement("div"),a=new eE(new Map,"");t.setBathGas(a);let n=document.createElement("label");n.textContent=eE.tagName+": ",i.appendChild(n),e.insertBefore(i,s);let o=p(Array.from(new Set(tZ.keys())),eE.tagName,ew.tagName+"_"+eE.tagName,tH);o.value=a.value,o.addEventListener("change",e=>{let t=e.target;a.value=t.value,console.log("Added "+t.value+" as a "+eE.tagName),u(t)}),u(o),i.appendChild(o),e.insertBefore(i,s),e.removeChild(s)})}function sl(e,t,s,i,a,n){e.setGrainSize(s);let o=h("number",i,tH);o.addEventListener("change",e=>{e.target instanceof HTMLInputElement&&(se(s,e.target),c(e.target))}),o.value=n,c(o),t.appendChild(o),t3(q.units,s.attributes,t,a,e_.tagName,tH)}function sd(e,t,s,i,a,n){e.setAutomaticallySetMaxEne(s);let o=h("number",i,tH);o.addEventListener("change",e=>{let t=e.target;se(s,t),c(t)}),o.value=n,c(o),t.appendChild(o),t3(q.units,s.attributes,t,a,tL.tagName,tH)}function sr(e,t,s,i,a,n){e.setEnergyAboveTheTopHill(s);let o=h("number",i,tH);o.addEventListener("change",e=>{let t=e.target;se(s,t),c(t)}),o.value=n,c(o),t.appendChild(o),t3(q.units,s.attributes,t,a,ez.tagName,tH)}function sg(e,t,s,i,a,n){e.setMaxTemperature(s);let o=h("number",i,tH);o.addEventListener("change",e=>{let t=e.target;se(s,t),c(t)}),o.value=n,c(o),t.appendChild(o),t3(void 0,s.attributes,t,a,eP.tagName,tH)}function sh(e,t,s,i,a,n){let l,d;1==s.length?d=new tw(l=P(s[0])):((l=new Map).set("Tmax",""),l.set("Tmin",""),l.set("Tstep",""),d=new tw(l)),e.setTestMicroRates(d);let r=d.getTmax(),h=g("number",i+"_input",tH,tk,e=>{let t=e.target;o(t.value)?(d.setTmax(parseFloat(t.value)),console.log("Set Tmax to "+t.value)):(alert("Value is not numeric, resetting..."),t.value=r.toExponential()),c(t)},r.toExponential(),"Tmax");h.id=i,c(h.querySelector("input")),t.appendChild(h);let m=g("number",a+"_input",tH,tk,e=>{let t=e.target;o(t.value)?(d.setTmin(parseFloat(t.value)),console.log("Set Tmin to "+t.value)):(alert("Value is not numeric, resetting..."),t.value=r.toExponential()),c(t)},d.getTmin().toExponential(),"Tmin");m.id=a,c(m.querySelector("input")),t.appendChild(m);let u=g("number",n+"_input",tH,tk,e=>{let t=e.target;o(t.value)?(d.setTstep(parseFloat(t.value)),console.log("Set Tstep to "+t.value)):(alert("Value is not numeric, resetting..."),t.value=r.toExponential()),c(t)},d.getTstep().toExponential(),"Tstep");u.id=n,c(u.querySelector("input")),t.appendChild(u)}function sm(e,t,s,i,a){e.setEigenvalues(s);let n=h("number",i,tH);n.addEventListener("change",e=>{let t=e.target;se(s,t),c(t)}),n.value=a,c(n),t.appendChild(n)}function sc(e,t,s,i,a){e.setShortestTimeOfInterest(s);let n=h("number",i,tH);n.addEventListener("change",e=>{let t=e.target;se(s,t),c(t)}),n.value=a,c(n),t.appendChild(n)}function su(e,t,s,i,a){e.setMaximumEvolutionTime(s);let n=h("number",i,tH);n.addEventListener("change",e=>{let t=e.target;se(s,t),c(t)}),n.value=a,c(n),t.appendChild(n)}function sp(e,t,s,i,a){e.setAutomaticallySetMaxEne(s);let n=h("number",i,tH);n.addEventListener("change",e=>{let t=e.target;se(s,t),c(t)}),n.value=a,c(n),t.appendChild(n)}function sN(e,t,s,i,a){e.setDiagramEnergyOffset(s);let n=h("number",i,tH);n.addEventListener("change",e=>{let t=e.target;se(s,t),c(t)}),n.value=a,c(n),t.appendChild(n)}function sx(e,t,s,a,n){if(console.log("drawReactionDiagram"),null!=e){var o,l;let d,r,g,h,m,c,u;t?(d="lightgrey",r="lightblue",g="orange"):(d="darkgrey",r="blue",g="darkorange");let p=e.getContext("2d");p.clearRect(0,0,e.width,e.height),p.font="bold "+s;let N=(o=p.font,p.font=o,(l=p.measureText("Aj")).actualBoundingBoxAscent+l.actualBoundingBoxDescent),x=[],f=new Set,v=new Set,C=new Set,E=new Map,b=new Map,y=0,S=Number.MAX_VALUE,L=Number.MIN_VALUE;t2.forEach(function(e,t){let s=e.getTransitionStates(),a=e.getReactantsLabel();if(void 0!=a){x.push(a),f.has(a)&&v.add(a);let t=e.getReactantsEnergy(tZ);S=Math.min(S,t),L=Math.max(L,t),b.set(a,t),!E.has(a)&&(E.set(a,y),y++)}let n=e.getProductsLabel();if(void 0!=n){f.add(n);let t=e.getProductsEnergy(tZ);if(S=Math.min(S,t),L=Math.max(L,t),b.set(n,t),E.has(n)){y--;let e=i(E,n);E.forEach(function(t,s){t>e&&E.set(s,t-1)}),void 0!=s&&(s.forEach(function(e){let s=e.getMolecule().ref;C.add(s),E.set(s,y),t=tZ.get(s)?.getEnergy()??0,S=Math.min(S,t),L=Math.max(L,t),b.set(s,t),y++}),E.set(n,y),y++)}else void 0!=s&&s.forEach(function(e){let s=e.getMolecule().ref;C.add(s),E.set(s,y),t=tZ.get(s)?.getEnergy()??0,S=Math.min(S,t),L=Math.max(L,t),b.set(s,t),y++}),E.set(n,y),y++}});let T=L-S,w=[];E.forEach(function(e,t){w[e]=t});let O=0,_=0,M=new Map,z=new Map,P=new Map,R=new Map,B=new Map,F=new Map;w.forEach(function(e){let t=i(b,e),n=(t-S)*400/(T+0)+0;u=Math.max(eC(p,t.toString(),s),eC(p,e,s)),m=O+u+5,c=h=n+a,M.set(e,[O,h]),z.set(e,[m,c]),f.has(e)&&(P.set(e,[O,h]),R.set(e,[m,c])),C.has(e)&&(B.set(e,[O,h]),F.set(e,[m,c])),O=m+10,_=m}),e.width=_;let I=400+4*N+2*a;e.height=I,p.transform(1,0,0,-1,0,I),t2.forEach(function(e,t){let s=e.getTransitionStates(),a=e.getReactantsLabel(),o=e.getProductsLabel(),l=i(z,a),r=i(P,o);s.length>0?s.forEach(function(e){let t=e.getMolecule().ref,s=i(B,t);ef(p,d,n,l[0],l[1],s[0],s[1]);let a=i(F,t);ef(p,d,n,a[0],a[1],r[0],r[1])}):ef(p,d,n,l[0],l[1],r[0],r[1])}),x.forEach(function(e){let t=i(b,e),n=(t-S)*400/(T+0)+0,o=i(M,e)[0],l=n+a,d=i(z,e)[0],g=t.toString();ex(p,r,a,o,l,d,l,s,N,e,g)}),f.forEach(function(e){let t=i(b,e),n=(t-S)*400/(T+0)+0,o=i(P,e)[0],l=n+a,d=i(R,e)[0],r=t.toString();v.has(e)?ex(p,g,a,o,l,d,l,s,N,e,r):ex(p,"green",a,o,l,d,l,s,N,e,r)}),C.forEach(function(e){let t=i(b,e),n=(t-S)*400/(T+0)+0,o=i(B,e)[0],l=n+a;ex(p,"red",a,o,l,i(F,e)[0],l,s,N,e,t.toString())})}}function sf(){console.log("saveXML");let e=new Blob([tP.header,t.toXML("  ","  ")],{type:"text/plain"}),s=URL.createObjectURL(e),i=document.createElement("a");i.href=s;let a=t.getTitle()?.value;i.download=a.replace(/[^a-z0-9]/gi,"_")+".xml",document.body.appendChild(i),i.click(),document.body.removeChild(i)}document.addEventListener("DOMContentLoaded",()=>{document.body.className=e?"dark-mode":"light-mode",document.body.className=e?"dark-mode":"light-mode";let i=document.getElementById("menu");i.style.display="flex",i.style.justifyContent="center",i.style.margin="5px",i.style.padding="5px",i.style.border="1px solid black",i.style.backgroundColor="lightgrey";let a=N("Load",tH);a.addEventListener("click",i=>{let n;(n=document.createElement("input")).type="file",n.onchange=function(){if(n.files){for(let e=0;e<n.files.length;e++)console.log("inputElement.files["+e+"]="+n.files[e]);let i=n.files[0];console.log(i.name);let a=i.name,m=new FileReader,L=0,T="";m.onload=function(n){if(null==n.target)throw Error("Event target is null");if(T+=n.target.result,null!=i){if(L<i.size){let e=i.slice(L,L+1048576);m.readAsText(e),L+=1048576}else{var w;let i,n,m;w=T=T.trim(),i=document.getElementById("xml"),l("xmlHeading"),(n=document.createElement("h2")).textContent=a,i.appendChild(n),l("xmlParagraph"),(m=document.createElement("pre")).textContent=w,i.appendChild(m),function(i){let a,n,m,L,T,w,O,_,M,z,A,G,V,U,j,H,ex,ef,ev,eC,ey,eS,eL,eM,e0,te,tR,tB,tF,tI,t0,t1,t7,t9,sf,sv,sC,sE,sb,sy,sS,sL,sT,sw,sO,s_,sM,sz,sP,sR,sB,sF,sI,sD,sA,sG,sk,sq,sV,sU,sX,sj,sH,s$,sW,sK,sY,sJ,sQ,sZ,s0,s1,s2,s4,s5,s6,s7,s8,s3,s9,ie,it,is,ii,ia,io,il,id,ir,ig,ih,im,ic,iu,ip,iN,ix,iv,iC,iE,ib,iy,iS,iL,iT,iw,iO,i_,iM,iz,iP,iR,iB,iF,iI,iD,iA,iG,ik,iq,iV,iU,iX,ij,iH,i$,iW,iK;console.log("parse: "+i);let iY=R(i,tP.tagName);t=new tP(P(iY));let iJ=i.getElementsByTagName(t_.tagName);if(1!=iJ.length)throw Error("Multiple "+t_.tagName+" tags found");{let e=iJ[0].childNodes[0].nodeValue.trim(),s=new t_(P(iJ[0]),e);t.setTitle(s);let i=document.getElementById("title"),a="titleDiv";l(a);let n=g("text",a+"Input",tH,tk,e=>{let t=e.target;s.value=t.value,console.log(s.tagName+" changed to "+s.value),c(t)},e,t_.tagName,tD);n.id=a,i.appendChild(n)}let iQ=document.getElementById("molecules"),iZ="moleculesList";l(iZ);let i0=function(e){let t=f(tH),s=R(e,tM.tagName),i=new Set;if(s.childNodes.forEach(function(e){i.add(e.nodeName)}),1!=i.size&&!(2==i.size&&i.has("#text")))throw console.error("moleculeListTagNames:"),i.forEach(e=>console.error(e)),Error("Additional tag names in moleculeList:");if(!i.has(ei.tagName))throw Error('Expecting tags with "'+ei.tagName+'" tagName but there are none!');let a=s.getElementsByTagName(ei.tagName);console.log("Number of molecules="+a.length);for(let e=0;e<a.length;e++){let s,i,n=document.createElement("div"),l=P(a[e]),r=new Set,m=a[e].childNodes;for(let e=0;e<m.length;e++){let t=m[e];r.has(t.nodeName)?"#text"!=t.nodeName&&console.warn("Another ChildNode with nodeName="+t.nodeName):r.add(t.nodeName)}let N=a[e].getElementsByTagName(F.tagName);if(N.length>1)throw Error("Expecting 1 or 0 "+F.tagName+" but finding "+N.length+"!");if(1==N.length){let e=N[0],t=e.getElementsByTagName(B.tagName);if(t.length<2)throw Error("Expecting 2 or more atoms in "+F.tagName+", but finding "+t.length+"!");let i=[];for(let e=0;e<t.length;e++)i.push(new B(P(t[e])));s=new F(P(e),i),r.delete(F.tagName)}else{let t=a[e].getElementsByTagName(B.tagName);if(1==t.length)s=new B(P(t[0]));else if(t.length>1)throw Error("Expecting 1 "+B.tagName+" but finding "+t.length+". Should these be in an "+F.tagName+"?")}r.delete(B.tagName);let x=a[e].getElementsByTagName(D.tagName);if(x.length>1)throw Error("Expecting 1 or 0 "+D.tagName+" but finding "+x.length+"!");if(1==x.length){let e=x[0],t=e.getElementsByTagName(I.tagName),s=[];for(let e=0;e<t.length;e++)s.push(new I(P(t[e])));i=new D(P(e),s),r.delete(D.tagName)}else{let t=a[e].getElementsByTagName(I.tagName);if(1==t.length)i=new I(P(t[0]));else if(t.length>1)throw Error("Expecting 1 "+I.tagName+" but finding "+t.length+". Should these be in a "+D.tagName+"?")}r.delete(I.tagName);let f=new ei(l,s,i);tZ.set(f.id,f);let E=a[e].getElementsByTagName($.tagName);if(E.length>1)throw Error("Expecting 1 or 0 "+$.tagName+" but finding "+E.length+"!");if(1==E.length){let e=document.createElement("div"),t=f.id+"_"+$.tagName+"_",s=d({content:e,buttonLabel:$.tagName,buttonFontSize:tG,boundary:tH,level:tV,contentDivId:t});n.appendChild(s);let i=new $(P(E[0]));f.setProperties(i);let a=E[0].getElementsByTagName(k.tagName);for(let t=0;t<a.length;t++){let s=new k(P(a[t]));i.setProperty(s),f.setProperties(i),s.dictRef==q.dictRef?t8(s,q.units,f,a[t],e,tH,tU):s.dictRef==X.dictRef?t8(s,X.units,f,a[t],e,tH,tU):t8(s,void 0,f,a[t],e,tH,tU)}r.delete($.tagName)}else{let t=a[e].getElementsByTagName(k.tagName);if(1!=t.length)throw Error("Expecting 1 "+k.tagName+" but finding "+t.length+". Should these be in a "+$.tagName+"?");let s=new k(P(t[0]));f.setProperties(s),s.dictRef==q.dictRef?t8(s,q.units,f,t[0],n,tH,tV):s.dictRef==X.dictRef?t8(s,X.units,f,t[0],n,tH,tV):t8(s,void 0,f,t[0],n,tH,tV),r.delete(k.tagName)}let L=a[e].getElementsByTagName(K.tagName);if(L.length>0){if(L.length>1)throw Error("Expecting 1 or 0 "+K.tagName+" but finding "+L.length+"!");(function(e,t,s,i,a){let n=s.getElementsByTagName(W.tagName);if(n.length>0){let s=document.createElement("div"),a=t.id+"_"+K.tagName,o=d({content:s,buttonLabel:K.tagName,buttonFontSize:tG,boundary:tH,level:tV,contentDivId:a});i.appendChild(o);let l=[];for(let e=0;e<n.length;e++){let i=S(n[e]),a=parseFloat(i),o=new W(P(n[e]),a);l.push(o);let d=W.tagName,r=t.id+"_"+K.tagName+"_"+W.tagName+"_"+e,h=g("number",r,tH,tU,t=>{let s=t.target;se(o,s),i=s.value,l[e].setValue(parseFloat(i)),console.log("Set "+r+" to "+i),c(s)},i,d);s.appendChild(h);let m=document.createElement("label");m.textContent="cm-1",h.appendChild(m)}e.setDeltaEDowns(l),t.setEnergyTransferModel(e)}})(new K(P(L[0])),f,L[0],n,0),r.delete(K.tagName)}let T=a[e].getElementsByTagName(Y.tagName);if(T.length>0){if(T.length>1)throw Error("Expecting 1 or 0 "+Y.tagName+" but finding "+T.length+"!");(function(e,t,s){let i=document.createElement("label");i.textContent=Y.tagName+": ";let a=document.createElement("div");a.appendChild(i);let n=p(["ClassicalRotors","me:QMRotors","QMRotors"],"DOSCMethod",t.id+"_Select_DOSCMethod",tH);n.value=e.getXsiType(),n.addEventListener("change",t=>{let s=t.target;e.setXsiType(s.value),console.log("Set DOSCMethod to "+s.value)}),t.setDOSCMethod(e),a.appendChild(n),Object.assign(a.style,tV),s.appendChild(a)})(new Y(P(T[0])),f,n),r.delete(Y.tagName)}let w=a[e].getElementsByTagName(et.tagName);if(w.length>0){if(1!=w.length)throw Error("Expecting only 1 extra DOSCMethod, but there are "+w.length);let e=new et(P(T[0])),t=document.createElement("div"),s=f.id+"_"+et.tagName+"_",i=d({content:t,buttonLabel:et.tagName,buttonFontSize:tG,boundary:tH,level:tV,contentDivId:s});n.appendChild(i);let a=w[0].getElementsByTagName(J.tagName);if(a.length>0){if(1!=a.length)throw Error("Expecting only 1 bondRef, but there are "+a.length);let s=v(tU),i=document.createElement("label");i.textContent=J.tagName+": ",s.appendChild(i);let n=new J(P(a[0]),y(b(a[0])));e.setBondRef(n);let o=p(f.getBonds().getBondIds(),n.value,f.id+"_"+J.tagName,tH);o.addEventListener("change",e=>{let t=e.target;n.value=t.value,u(t)}),u(o),s.appendChild(o),t.appendChild(s)}let l=w[0].getElementsByTagName(Z.tagName);if(l.length>0){if(1!=l.length)throw Error("Expecting only 1 HinderedRotorPotential, but there are "+l.length);let s=P(l[0]),i=new Z(s),a=v(tH),n=f.id+"_"+Y.tagName+"_"+Z.tagName,r=d({content:a,buttonLabel:Z.tagName,buttonFontSize:tG,boundary:tH,level:tU,contentDivId:n});t.appendChild(r);let g=C("Format:",tX);a.appendChild(g);let m=p(Z.formats,i.format,f.id+"_"+Z.tagName,tH);m.addEventListener("change",e=>{let t=e.target;i.format=t.value,u(t)}),u(m),a.appendChild(m);let N=C("Units:",tH);a.appendChild(N),t3(Z.units,s,a,f.id+"_"+Y.tagName+"_"+Z.tagName,Z.tagName,tH);let x=C("Expansion size:",tH);a.appendChild(x);let E=h("number",f.id+"_"+Y.tagName+"_"+Z.tagName+"_expansionSize",tH);E.value=i.getExpansionSize().toExponential(),E.addEventListener("change",e=>{let t=e.target;o(t.value)?i.setExpansionSize(parseInt(t.value)):(alert("Expansion size input is not a number, resetting..."),E.value=i.getExpansionSize().toExponential()),c(E)}),E.value=i.getExpansionSize().toExponential(),c(E),a.appendChild(E);let b=C("Use sine terms:",tH);a.appendChild(b);let y=h("checkbox",f.id+"_"+Y.tagName+"_"+Z.tagName+"_useSineTerms",tH);y.checked=i.getUseSineTerms(),y.addEventListener("change",e=>{let t=e.target;i.setUseSineTerms(t.checked)}),a.appendChild(y);let S=document.createElement("div"),L=f.id+"_"+Y.tagName+"_"+Z.tagName+"_"+Q.tagName,T=d({content:S,buttonLabel:Q.tagName,buttonFontSize:tG,boundary:tH,level:tX,contentDivId:L});a.appendChild(T);let w=[],O=l[0].getElementsByTagName(Q.tagName);for(let e=0;e<O.length;e++){let t=new Q(P(O[e]));w.push(t);let s=v(tj);T.appendChild(s);let i=C("Angle:",tH);s.appendChild(i);let a=h("number",f.id+"_"+Q.tagName+"_angle",tH);a.addEventListener("change",e=>{let s=e.target;if(o(s.value)){let e=parseFloat(s.value);t.setAngle(e)}else alert("Angle input is not a number, resetting..."),a.value=t.getAngle().toExponential();c(a)}),a.value=t.getAngle().toExponential(),c(a),s.appendChild(a);let n=C("Potential:",tH);s.appendChild(n);let l=h("number",f.id+"_"+Q.tagName+"_potential",tH);l.addEventListener("change",e=>{let s=e.target;if(o(s.value)){let e=parseFloat(s.value);t.setPotential(e),console.log("Set "+Q.tagName+" to "+e.toExponential())}else alert("Potential input is not a number, resetting..."),l.value=t.getPotential().toExponential();c(l)}),l.value=t.getPotential().toExponential(),c(l),s.appendChild(l),S.appendChild(s)}T.appendChild(S),i.setPotentialPoints(w),e.setHinderedRotorPotential(i)}let m=T[0].getElementsByTagName(ee.tagName);if(m.length>0){if(1!=m.length)throw Error("Expecting only 1 Periodicity, but there are "+m.length);let s=y(b(m[0])),i=new ee(P(m[0]),parseFloat(s));e.setPeriodicity(i);let a=g("number",f.id+"_"+ee.tagName,tH,tU,t=>{let a=t.target;if(o(s=a.value)){let t=parseFloat(s);i.value=t,e.getPeriodicity().value=t,console.log("Set "+ee.tagName+" to "+t)}else alert("Periodicity input is not a number, resetting..."),a.value=i.value.toExponential()},s,ee.tagName);t.appendChild(a)}f.setExtraDOSCMethod(e),r.delete(et.tagName)}r.delete(es.tagName);let O=a[e].getElementsByTagName(es.tagName);if(O.length>0){if(1!=O.length)throw Error("Expecting only 1 reservoirSize, but there are "+O.length);let e=y(b(O[0])),t=parseFloat(e),s=new es(P(O[0]),t);f.setReservoirSize(s);let i=g("number",f.id+"_"+es.tagName,tH,tV,e=>{let t=e.target;s.value=parseFloat(t.value),c(t)},e,es.tagName);n.appendChild(i)}r.delete("#text"),r.size>0&&(console.warn("There are additional unexpected moleculeTagNames:"),r.forEach(e=>console.warn(e)));let _=document.createElement("div");_.id=f.id+"_molstar",n.appendChild(_);let M=d({content:n,buttonLabel:f.getLabel(),buttonFontSize:tA,boundary:tH,level:tq,contentDivId:f.tagName+"_"+f.id});t.appendChild(M)}return t}(i);i0.id=iZ,iQ.appendChild(d({content:i0,buttonLabel:"Molecules",buttonFontSize:tD,boundary:tH,level:tk,contentDivId:i0.id})),t.setMoleculeList(new tM(P(i0),Array.from(tZ.values())));let i1=document.getElementById("reactions"),i2="reactionsList";l(i2);let i4=function(e){let t=f(tH),s=R(e,tz.tagName),i=new Set;if(s.childNodes.forEach(function(e){i.add(e.nodeName)}),1!=i.size&&!(2==i.size&&i.has("#text")))throw console.error("reactionListTagNames:"),i.forEach(e=>console.error(e)),Error("Additional tag names in reactionList:");if(!i.has(eN.tagName))throw Error('Expecting tags with "'+eN.tagName+'" tagName but there are none!');let a=s.getElementsByTagName(eN.tagName);console.log("Number of reactions="+a.length);for(let e=0;e<a.length;e++){let s=f(tH),i=P(a[e]),n=new Set,o=a[e].childNodes;for(let e=0;e<o.length;e++){let t=o[e];n.has(t.nodeName)?"#text"!=t.nodeName&&console.warn("Another ChildNode with nodeName="+t.nodeName):n.add(t.nodeName)}let l=new eN(i);t2.set(l.id,l);let r=a[e].getElementsByTagName(en.tagName);if(n.delete(en.tagName),r.length>0){let e=document.createElement("div"),t=[];for(let s=0;s<r.length;s++){let i=new ea(P(E(r[s],ei.tagName))),a=new en(P(r[s]),i);t.push(a);let n=document.createElement("div"),o=document.createElement("label");o.textContent=i.ref+" role: ",n.appendChild(o);let l=p(["deficientReactant","excessReactant","modelled"],"Role",i.ref+"_Select_Role",tH);l.value=i.role,l.addEventListener("change",e=>{let t=e.target;i.setRole(t.value),console.log("Set Role to "+t.value)}),n.appendChild(l),Object.assign(n.style,tU),e.appendChild(n)}l.setReactants(t);let i=d({content:e,buttonLabel:"Reactants",buttonFontSize:tG,boundary:tH,level:tV,contentDivId:l.id+"_"+en.tagName});s.appendChild(i)}let h=a[e].getElementsByTagName(eo.tagName);if(n.delete(eo.tagName),h.length>0){let e=document.createElement("div"),t=[];for(let s=0;s<h.length;s++){let i=new ea(P(E(h[s],ei.tagName))),a=new eo(P(h[s]),i);t.push(a);let n=["modelled","sink"],o=function(e,t,s,i,a,n){let o=f(n),l=C(e,a);o.appendChild(l);let d=document.createElement("select");return o.appendChild(d),t.forEach(e=>{d.name=s,d.id=i;let t=document.createElement("option");t.value=e,t.text=e,d.appendChild(t)}),o}(i.ref+" role:",n,i.ref+"_Select_Role","Role",tH,tU),l=o.querySelector("select");l.value=i.role,l.addEventListener("change",e=>{let t=e.target;i.setRole(t.value),console.log("Set Role to "+t.value)}),e.appendChild(o)}l.setProducts(t);let i=d({content:e,buttonLabel:"Products",buttonFontSize:tG,boundary:tH,level:tV,contentDivId:l.id+"_"+eo.tagName});s.appendChild(i)}let m=a[e].getElementsByTagName(eu.tagName);if(m.length>0){if(m.length>1)throw Error("Expecting 1 "+eu.tagName+" but finding "+m.length+"!");let e=new eu(P(m[0]));l.setTunneling(e);let t=document.createElement("div"),i=document.createElement("label");i.textContent=eu.tagName+": ",t.appendChild(i);let a=p(["Eckart","WKB"],"Tunneling",l.id+"_Select_Tunneling",tH);a.value=e.getName(),a.addEventListener("change",t=>{let s=t.target;e.setName(s.value),console.log("Set Tunneling to "+s.value)}),t.appendChild(a),Object.assign(t.style,tV),s.appendChild(t)}let u=a[e].getElementsByTagName(el.tagName);if(u.length>0){let e=document.createElement("div"),t=[];for(let s=0;s<u.length;s++){let i=new ea(P(E(u[s],ei.tagName))),a=new el(P(u[s]),i);t.push(a);let n=C(i.ref+" role: transitionState",tU);e.appendChild(n)}l.setTransitionStates(t);let i=d({content:e,buttonLabel:"Transition States",buttonFontSize:tG,boundary:tH,level:tV,contentDivId:l.id+"_"+el.tagName});s.appendChild(i)}let N=a[e].getElementsByTagName(em.tagName);if(N.length>0){if(N.length>1)throw Error("Expecting 1 "+em.tagName+" but finding "+N.length+"!");{let e,t=document.createElement("div"),i=P(N[0]),a=i.get("name");if(void 0==a||a==ec.xsiType2){let a=i.get("xsi:type");if(e=new ec(i),a==ec.xsiType||a==ec.xsiType2){let i=N[0].getElementsByTagName(ed.tagName);if(null!=i&&null!=i[0]){let s=S(i[0]),a=parseFloat(s),n=P(i[0]),o=new ed(n,a);e.setPreExponential(o);let d=ed.tagName,r=l.id+"_"+ec.tagName+"_"+ed.tagName,h=g("number",r,tH,tU,e=>{se(o,e.target)},s,d);t.appendChild(h);let m=h.querySelector("input");m.value=s,c(m),m.addEventListener("change",e=>{s=e.target.value,o.value=parseFloat(s),console.log("Set "+r+" to "+s),c(m)}),t3(void 0,n,h,l.id+"_"+ec.xsiType+"_"+ed.tagName,ed.tagName,tH),t.appendChild(h)}let a=N[0].getElementsByTagName(er.tagName);if(null!=a&&null!=a[0]){let s=S(a[0]),i=parseFloat(s),n=P(a[0]),o=new er(n,i);e.setActivationEnergy(o);let d=er.tagName,r=l.id+"_"+ec.tagName+"_"+er.tagName,h=g("number",r,tH,tU,e=>{se(o,e.target)},s,d),m=h.querySelector("input");m.value=s,c(m),m.addEventListener("change",e=>{s=e.target.value,o.value=parseFloat(s),console.log("Set "+r+" to "+s),c(m)}),t3(void 0,n,h,l.id+"_"+ec.xsiType+"_"+er.tagName,er.tagName,tH),t.appendChild(h)}let n=N[0].getElementsByTagName(eg.tagName);if(null!=n&&null!=n[0]){let s=S(n[0]),i=parseFloat(s),a=P(n[0]),o=new eg(a,i);e.setTInfinity(o);let d=eg.tagName,r=l.id+"_"+ec.tagName+"_"+eg.tagName,h=g("number",r,tH,tU,e=>{se(o,e.target)},s,d),m=h.querySelector("input");m.value=s,c(m),m.addEventListener("change",e=>{s=e.target.value,o.value=parseFloat(s),console.log("Set "+r+" to "+s),c(m)}),t3(void 0,a,h,l.id+"_"+ec.xsiType+"_"+eg.tagName,eg.tagName,tH),t.appendChild(h)}let o=N[0].getElementsByTagName(eh.tagName);if(null!=o&&null!=o[0]){let s=S(o[0]),i=parseFloat(s),a=P(o[0]),n=new eh(a,i);e.setNInfinity(n);let d=eh.tagName,r=l.id+"_"+ec.tagName+"_"+eh.tagName,h=g("number",r,tH,tU,e=>{se(n,e.target)},s,d);t.appendChild(h);let m=h.querySelector("input");m.value=s,c(m),m.addEventListener("change",e=>{s=e.target.value,n.value=parseFloat(s),console.log("Set "+r+" to "+s),c(m)}),t3(void 0,a,h,l.id+"_"+ec.xsiType+"_"+eh.tagName,eh.tagName,tH),t.appendChild(h)}let r=l.id+"_"+em.tagName,h=d({content:t,buttonLabel:em.tagName,buttonFontSize:tG,boundary:tH,level:tV,contentDivId:r});s.appendChild(h)}else throw Error("Unexpected xsi:type="+a)}else{e=new em(i);let a=document.createElement("label");a.textContent=em.tagName+": "+i.get("name"),Object.assign(a.style,tV),t.appendChild(a),s.appendChild(t)}l.setMCRCMethod(e)}}let x=a[e].getElementsByTagName(ep.tagName);if(x.length>0){if(x.length>1)throw Error("Expecting 1 "+ep.tagName+" but finding "+x.length+"!");let e=parseFloat(y(b(x[0]))),t=new ep(P(x[0]),e);l.setExcessReactantConc(t);let i=g("number",l.id+"_"+ep.tagName,tH,tV,e=>{se(t,e.target)},e.toExponential(),ep.tagName);s.appendChild(i)}let v=d({content:s,buttonLabel:l.id+"("+l.getLabel()+")",buttonFontSize:tA,boundary:tH,level:tq,contentDivId:l.tagName+"_"+l.id});t.appendChild(v)}return t}(i);i4.id=i2,i1.appendChild(d({content:i4,buttonLabel:"Reactions",buttonFontSize:tD,boundary:tH,level:tk,contentDivId:i4.id})),t.setReactionList(new tz(P(i1),Array.from(t2.values()))),null!=s&&(s.close(),s=null);let i5=document.getElementById(t4);null!=i5&&i5.parentNode?.removeChild(i5),(i5=f(tH)).id=t4,i1.append(i5);let i6="popButtonDivId";l(i6);let i7=f(tH);i7.id=i6,i5.appendChild(i7);let i8="popButtonId";l(i8);let i3=N("Pop out diagram into a new window",tH);i3.id=i8,i7.appendChild(i3);let i9=document.getElementById(t5);i9&&i9.remove();let ae=document.createElement("canvas");ae.id=t5,i5.appendChild(ae),ae.height=400,ae.style.border="1px solid black",sx(ae,e,t6,4,2),i3.addEventListener("click",()=>{if(null==s){l(t5);let t=ae.cloneNode(!0);t.id=t5+"clone",(s=window.open("","Reactions Diagram","width="+t.width+", height="+t.height)).document.body.appendChild(t),sx(t,e,t6,4,2),i3.textContent="Pop back reaction diagram"}else{let t=s.document.getElementById(t5).cloneNode(!0);t.id=t5,null!=i5&&i5.appendChild(t),sx(t,e,t6,4,2),s.close(),s=null,i3.textContent="Pop out reaction diagram to a new window"}});let at=document.getElementById("conditions"),as="conditionsList";l(as);let ai=function(e){console.log(eO.tagName);let s=f(tH),i=R(e,eO.tagName),a=new eO(P(i));t.setConditions(a);let n=document.createElement("div");s.appendChild(n),s.appendChild(d({content:n,buttonLabel:eE.name,buttonFontSize:tA,boundary:tH,level:tq,contentDivId:eE.tagName}));let o=N("add",tV);n.appendChild(o),o.addEventListener("click",()=>{let e=new eE(new Map,"");a.addBathGas(e);let t=v(tV),s=C(eE.tagName,tH);t.appendChild(s);let i=p(Array.from(new Set(tZ.keys())),eE.tagName,eO.tagName+"_"+eE.tagName,tH);i.value=e.value,i.addEventListener("change",t=>{let s=t.target;e.value=s.value,console.log("Added "+s.value+" as a "+eE.tagName),u(s)}),i.style.marginLeft="2px",u(i),t.appendChild(i);let o=N(t$,tH);o.addEventListener("click",()=>{n.removeChild(t),a.removeBathGas(e)}),t.appendChild(o),n.appendChild(t)});let l=Array.from(i.children).filter(e=>e.tagName===eE.tagName);if(l.length>0)for(let e=0;e<l.length;e++){let t=new eE(P(l[e]),y(b(l[e])));console.log("bathGas"+t.toString()),a.addBathGas(t);let s=v(tV),i=C(eE.tagName,tH);s.appendChild(i);let o=p(Array.from(new Set(tZ.keys())),eE.tagName,eO.tagName+"_"+eE.tagName,tH);o.value=t.value,o.addEventListener("change",e=>{let s=e.target;t.value=s.value,console.log("Set "+eT.tagName+"_"+eE.tagName+" to "+s.value),u(s)}),u(o),s.appendChild(o);let d=N(t$,tH);d.addEventListener("click",()=>{n.removeChild(s),a.removeBathGas(t)}),s.appendChild(d),n.appendChild(s)}let r=document.createElement("div");s.appendChild(r);let m=new ew(new Map);s.appendChild(d({content:r,buttonLabel:ew.name,buttonFontSize:tA,boundary:tH,level:tq,contentDivId:eE.tagName}));let x=N("add",tV);r.appendChild(x),x.addEventListener("click",()=>{let e=new Map;e.set("units","Torr");let t=new eT(e),s=m.addPTpair(t),i=v(tV);st(i,t),ss(i,t),t3(void 0,e,i,eT.tagName,eT.tagName,tH);let a=N("add details",tH);i.appendChild(a),a.addEventListener("click",()=>{let e,s=document.createElement("div");si(i,t),sa(i,t),sn(i,t),so(i,t),(e=N("add "+eb.tagName,tH)).addEventListener("click",()=>{let s=document.createElement("div");s.style.marginLeft="5px";let a=new eb(new Map,NaN);t.setExperimentRate(a);let n=g("number",eT.tagName+"_"+eb.tagName,tH,tU,e=>{let t=e.target;se(a,t),c(t)},"",eb.tagName);s.appendChild(n),i.insertBefore(s,e),i.removeChild(e)}),i.insertBefore(s,a),i.removeChild(a)});let n=N(t$,tH);n.addEventListener("click",()=>{r.removeChild(i),m.removePTpair(s),t.removeBathGas()}),i.appendChild(n),r.appendChild(i)});let E=N("Add from spreadsheet",tH);r.appendChild(E),E.addEventListener("click",()=>{let e=v(tV),t=h("text",ew.tagName+"_addFromSpreadsheet",tV);e.appendChild(t),r.insertBefore(e,x),t.addEventListener("change",()=>{if(console.log("inputElement.value="+t.value),console.log("inputElement.value.length="+t.value.length),t.value.length>0){let s=t.value.split(" "),i=new Map;s[0].split("	").forEach((e,t)=>{i.set(e,t)}),console.log("pTPairsArray.length="+s.length);for(let e=1;e<s.length;e++){let t=new Map;t.set("units","Torr");let a=new eT(t),n=s[e].split("	"),o=i.get("P"),l=i.get("T"),d=i.get("me:bathGas"),g=parseFloat(n[o]),h=parseFloat(n[l]);if(a.setP(g),a.setT(h),i.has("me:bathGas")){let e=n[d];a.setBathGas(new eE(new Map,e))}console.log("pTPair="+a);let c=v(tV);st(c,a),ss(c,a),t3(void 0,t,c,eT.tagName,eT.tagName,tH),si(c,a),sa(c,a),sn(c,a),so(c,a),console.log(x),console.log(r),r.insertBefore(c,x),m.addPTpair(a)}r.removeChild(e)}})});let S=i.getElementsByTagName(ew.tagName);if(S.length>0){if(S.length>1)throw Error("Expecting 1 "+ew.tagName+" but finding "+S.length+"!");let e=document.createElement("div");s.appendChild(e);let t=P(S[0]),i=S[0].getElementsByTagName(eT.tagName);if(0==i.length)throw Error("Expecting 1 or more "+eT.tagName+" but finding 0!");{let s=new ew(t);for(let t=0;t<i.length;t++){let a=new eT(P(i[t])),n=v(tV);e.appendChild(n);let o=i[t].getElementsByTagName(eE.tagName);if(o.length>0){o.length>1&&console.warn("xml_bathGass.length="+o.length);let e=document.createElement("label");e.textContent=eE.tagName+": ",n.appendChild(e);let t=y(b(o[0])),s=new eE(P(o[0]),t);a.setBathGas(s);let i=p(Array.from(new Set(tZ.keys())),eE.tagName,eT.tagName+"_"+eE.tagName,tH);i.value=s.value,i.addEventListener("change",e=>{let t=e.target;s.value=t.value,console.log("Set "+eT.tagName+"_"+eE.tagName+" to "+t.value),u(t)}),u(i),n.appendChild(i)}let l=i[t].getElementsByTagName(eb.tagName);if(l.length>0){l.length>1&&console.warn("xml_experimentRates.length="+l.length);let e=y(b(l[0])),t=new eb(P(l[0]),parseFloat(e));a.setExperimentRate(t);let s=g("number",eT.tagName+"_"+eb.tagName,tH,tk,e=>{se(t,e.target)},t.value.toExponential(),eb.tagName);n.appendChild(s)}st(n,a),ss(n,a),t3(void 0,P(i[t]),n,eT.tagName,eT.tagName,tH),si(n,a),sa(n,a),sn(n,a),so(n,a),s.addPTpair(a),e.appendChild(n)}a.setPTs(s)}}return s}(i);ai.id=as,at.appendChild(d({content:ai,buttonLabel:"Conditions",buttonFontSize:tD,boundary:tH,level:tk,contentDivId:ai.id}));let aa=document.getElementById("modelParameters"),an=(console.log(eR.tagName),a=f(tH),n=R(i,eR.tagName),m=new eR(P(n)),t.setModelParameters(m),function(e,t,s){let i,a,n=v(tq);s.appendChild(n);let o=t.getElementsByTagName(e_.tagName),l=x(e_.tagName,"",tH,tH),d=l.querySelector("button");d.classList.add("optionOn"),d.classList.add("optionOff"),n.appendChild(l);let r=eR.tagName+"_"+e_.tagName+"_input",g=eR.tagName+"_"+e_.tagName+"_select";if(1==o.length){let t=parseFloat(a=y(b(o[0])));i=new e_(P(o[0]),t),d.textContent=tW+tY,sl(e,n,i,r,g,a),d.classList.toggle("optionOff")}else a="",i=new e_(new Map,NaN),d.textContent=tK+tJ,d.classList.toggle("optionOn");d.addEventListener("click",()=>{if(e.index.has(e_.tagName)){a=i.value.toExponential(),e.removeGrainSize();let t=document.getElementById(r);null!=t&&t.remove(),d.textContent=tK+tJ,d.classList.toggle("optionOn"),d.classList.toggle("optionOff")}else sl(e,n,i,r,g,a),d.textContent=tW+tY,d.classList.toggle("optionOff"),d.classList.toggle("optionOn")})}(m,n,a),function(e,t,s){let i,a,n=v(tq);s.appendChild(n);let o=t.getElementsByTagName(tL.tagName),l=x(tL.tagName,"",tH,tH),d=l.querySelector("button");d.classList.add("optionOn"),d.classList.add("optionOff"),n.appendChild(l);let r=eR.tagName+"_"+tL.tagName+"_input",g=eR.tagName+"_"+tL.tagName+"_select";if(1==o.length){let t=parseFloat(a=y(b(o[0])));i=new tL(P(o[0]),t),d.textContent=tW+tY,sd(e,n,i,r,g,a),d.classList.toggle("optionOff")}else a="",i=new tL(new Map,NaN),d.textContent=tK+tJ,d.classList.toggle("optionOn");d.addEventListener("click",()=>{if(e.index.has(tL.tagName)){a=i.value.toExponential(),e.removeAutomaticallySetMaxEne();let t=document.getElementById(r);null!=t&&t.remove(),d.textContent=tK+tJ,d.classList.toggle("optionOn"),d.classList.toggle("optionOff")}else sd(e,n,i,r,g,a),d.textContent=tW+tY,d.classList.toggle("optionOff"),d.classList.toggle("optionOn")})}(m,n,a),function(e,t,s){let i,a,n=v(tq);s.appendChild(n);let o=t.getElementsByTagName(ez.tagName),l=x(ez.tagName,"",tH,tH),d=l.querySelector("button");d.classList.add("optionOn"),d.classList.add("optionOff"),n.appendChild(l);let r=eR.tagName+"_"+ez.tagName+"_input",g=eR.tagName+"_"+ez.tagName+"_select";if(1==o.length){let t=parseFloat(a=y(b(o[0])));i=new ez(P(o[0]),t),d.textContent=tW+tY,sr(e,n,i,r,g,a),d.classList.toggle("optionOff")}else a="",i=new ez(new Map,NaN),d.textContent=tK+tJ,d.classList.toggle("optionOn");d.addEventListener("click",t=>{if(e.index.has(ez.tagName)){a=i.value.toExponential(),e.removeEnergyAboveTheTopHill();let t=document.getElementById(r);null!=t&&t.remove(),d.textContent=tK+tJ,d.classList.toggle("optionOn"),d.classList.toggle("optionOff")}else sr(e,n,i,r,g,a),d.textContent=tW+tY,d.classList.toggle("optionOff"),d.classList.toggle("optionOn")})}(m,n,a),function(e,t,s){let i,a,n=v(tq);s.appendChild(n);let o=t.getElementsByTagName(eP.tagName),l=x(eP.tagName,"",tH,tH),d=l.querySelector("button");d.classList.add("optionOn"),d.classList.add("optionOff"),n.appendChild(l);let r=eR.tagName+"_"+eP.tagName+"_input",g=eR.tagName+"_"+eP.tagName+"_select";if(1==o.length){let t=parseFloat(a=y(b(o[0])));i=new eP(P(o[0]),t),d.textContent=tW+tY,sg(e,n,i,r,g,a),d.classList.toggle("optionOff")}else a="",i=new eP(new Map,NaN),d.textContent=tK+tJ,d.classList.toggle("optionOn");d.addEventListener("click",t=>{if(e.index.has(eP.tagName)){a=i.value.toExponential(),e.removeMaxTemperature();let t=document.getElementById(r);null!=t&&t.remove(),d.textContent=tK+tJ,d.classList.toggle("optionOn"),d.classList.toggle("optionOff")}else sg(e,n,i,r,g,a),d.textContent=tW+tY,d.classList.toggle("optionOff"),d.classList.toggle("optionOn")})}(m,n,a),a);an.id="modelParametersList",l(an.id),aa.appendChild(d({content:an,buttonLabel:"Model Parameters",buttonFontSize:tD,boundary:tH,level:tk,contentDivId:an.id}));let ao=document.getElementById("control"),al=(console.log(tO.tagName),L=f(tH),T=R(i,tO.tagName),w=new tO(P(T)),t.setControl(w),O=new Map,_=eB.tagName,M=T.getElementsByTagName(_),z=_+tW,(G=N(A=_+tK,tH)).classList.add("optionOn"),G.classList.add("optionOff"),O.set(_,G),V=new eB,1==M.length?(w.setCalculateRateCoefficientsOnly(V),G.textContent=z,G.classList.toggle("optionOff")):(G.textContent=A,G.classList.toggle("optionOn")),G.addEventListener("click",e=>{w.index.has(eB.tagName)?(w.removeCalculateRateCoefficientsOnly(),G.textContent=A,G.classList.toggle("optionOn"),G.classList.toggle("optionOff")):(w.setCalculateRateCoefficientsOnly(V),G.textContent=z,G.classList.toggle("optionOff"),G.classList.toggle("optionOn"))}),U=eF.tagName,j=T.getElementsByTagName(U),H=U+tW,(ef=N(ex=U+tK,tH)).classList.add("optionOn"),ef.classList.add("optionOff"),O.set(U,ef),ev=new eF,1==j.length?(w.setPrintCellDOS(ev),ef.textContent=H,ef.classList.toggle("optionOff")):(ef.textContent=ex,ef.classList.toggle("optionOn")),ef.addEventListener("click",e=>{w.index.has(eF.tagName)?(w.removePrintCellDOS(),ef.textContent=ex,ef.classList.toggle("optionOn"),ef.classList.toggle("optionOff")):(w.setPrintCellDOS(ev),ef.textContent=H,ef.classList.toggle("optionOff"),ef.classList.toggle("optionOn"))}),eC=eI.tagName,ey=T.getElementsByTagName(eC),eS=eC+tW,(eM=N(eL=eC+tK,tH)).classList.add("optionOn"),eM.classList.add("optionOff"),O.set(eC,eM),e0=new eI,1==ey.length?(w.setPrintCellTransitionStateFlux(e0),eM.textContent=eS,eM.classList.toggle("optionOff")):(eM.textContent=eL,eM.classList.toggle("optionOn")),eM.addEventListener("click",e=>{w.index.has(eI.tagName)?(w.removePrintCellTransitionStateFlux(),eM.textContent=eL,eM.classList.toggle("optionOn"),eM.classList.toggle("optionOff")):(w.setPrintCellTransitionStateFlux(e0),eM.textContent=eS,eM.classList.toggle("optionOff"),eM.classList.toggle("optionOn"))}),te=eD.tagName,tR=T.getElementsByTagName(te),tB=te+tW,(tI=N(tF=te+tK,tH)).classList.add("optionOn"),tI.classList.add("optionOff"),O.set(te,tI),t0=new eD,1==tR.length?(w.setPrintReactionOperatorColumnSums(t0),tI.textContent=tB,tI.classList.toggle("optionOff")):(tI.textContent=tF,tI.classList.toggle("optionOn")),tI.addEventListener("click",e=>{w.index.has(eD.tagName)?(w.removePrintReactionOperatorColumnSums(),tI.textContent=tF,tI.classList.toggle("optionOn"),tI.classList.toggle("optionOff")):(w.setPrintReactionOperatorColumnSums(t0),tI.textContent=tB,tI.classList.toggle("optionOff"),tI.classList.toggle("optionOn"))}),t1=eA.tagName,t7=T.getElementsByTagName(t1),t9=t1+tW,(sv=N(sf=t1+tK,tH)).classList.add("optionOn"),sv.classList.add("optionOff"),O.set(t1,sv),sC=new eA,1==t7.length?(w.setPrintGrainBoltzmann(sC),sv.textContent=t9,sv.classList.toggle("optionOff")):(sv.textContent=sf,sv.classList.toggle("optionOn")),sv.addEventListener("click",e=>{w.index.has(eA.tagName)?(w.removePrintGrainBoltzmann(),sv.textContent=sf,sv.classList.toggle("optionOn"),sv.classList.toggle("optionOff")):(w.setPrintGrainBoltzmann(sC),sv.textContent=t9,sv.classList.toggle("optionOff"),sv.classList.toggle("optionOn"))}),sE=eG.tagName,sb=T.getElementsByTagName(sE),sy=sE+tW,(sL=N(sS=sE+tK,tH)).classList.add("optionOn"),sL.classList.add("optionOff"),O.set(sE,sL),sT=new eG,1==sb.length?(w.setPrintGrainDOS(sT),sL.textContent=sy,sL.classList.toggle("optionOff")):(sL.textContent=sS,sL.classList.toggle("optionOn")),sL.addEventListener("click",e=>{w.index.has(eG.tagName)?(w.removePrintGrainDOS(),sL.textContent=sS,sL.classList.toggle("optionOn"),sL.classList.toggle("optionOff")):(w.setPrintGrainDOS(sT),sL.textContent=sy,sL.classList.toggle("optionOff"),sL.classList.toggle("optionOn"))}),sw=ek.tagName,sO=T.getElementsByTagName(sw),s_=sw+tW,(sz=N(sM=sw+tK,tH)).classList.add("optionOn"),sz.classList.add("optionOff"),O.set(sw,sz),sP=new ek,1==sO.length?(w.setPrintGrainkbE(sP),sz.textContent=s_,sz.classList.toggle("optionOff")):(sz.textContent=sM,sz.classList.toggle("optionOn")),sz.addEventListener("click",e=>{w.index.has(ek.tagName)?(w.removePrintGrainkbE(),sz.textContent=sM,sz.classList.toggle("optionOn"),sz.classList.toggle("optionOff")):(w.setPrintGrainkbE(sP),sz.textContent=s_,sz.classList.toggle("optionOff"),sz.classList.toggle("optionOn"))}),sR=eq.tagName,sB=T.getElementsByTagName(sR),sF=sR+tW,(sD=N(sI=sR+tK,tH)).classList.add("optionOn"),sD.classList.add("optionOff"),O.set(sR,sD),sA=new eq,1==sB.length?(w.setPrintGrainkfE(sA),sD.textContent=sF,sD.classList.toggle("optionOff")):(sD.textContent=sI,sD.classList.toggle("optionOn")),sD.addEventListener("click",e=>{w.index.has(eq.tagName)?(w.removePrintGrainkfE(),sD.textContent=sI,sD.classList.toggle("optionOn"),sD.classList.toggle("optionOff")):(w.setPrintGrainkfE(sA),sD.textContent=sF,sD.classList.toggle("optionOff"),sD.classList.toggle("optionOn"))}),sG=eV.tagName,sk=T.getElementsByTagName(sG),sq=sG+tW,(sU=N(sV=sG+tK,tH)).classList.add("optionOn"),sU.classList.add("optionOff"),O.set(sG,sU),sX=new eV,1==sk.length?(w.setPrintTSsos(sX),sU.textContent=sq,sU.classList.toggle("optionOff")):(sU.textContent=sV,sU.classList.toggle("optionOn")),sU.addEventListener("click",e=>{w.index.has(eV.tagName)?(w.removePrintTSsos(),sU.textContent=sV,sU.classList.toggle("optionOn"),sU.classList.toggle("optionOff")):(w.setPrintTSsos(sX),sU.textContent=sq,sU.classList.toggle("optionOff"),sU.classList.toggle("optionOn"))}),sj=eU.tagName,sH=T.getElementsByTagName(sj),s$=sj+tW,(sK=N(sW=sj+tK,tH)).classList.add("optionOn"),sK.classList.add("optionOff"),O.set(sj,sK),sY=new eU,1==sH.length?(w.setPrintGrainedSpeciesProfile(sY),sK.textContent=s$,sK.classList.toggle("optionOff")):(sK.textContent=sW,sK.classList.toggle("optionOn")),sK.addEventListener("click",e=>{w.index.has(eU.tagName)?(w.removePrintGrainedSpeciesProfile(),sK.textContent=sW,sK.classList.toggle("optionOn"),sK.classList.toggle("optionOff")):(w.setPrintGrainedSpeciesProfile(sY),sK.textContent=s$,sK.classList.toggle("optionOff"),sK.classList.toggle("optionOn"))}),sJ=eX.tagName,sQ=T.getElementsByTagName(sJ),sZ=sJ+tW,(s1=N(s0=sJ+tK,tH)).classList.add("optionOn"),s1.classList.add("optionOff"),O.set(sJ,s1),s2=new eX,1==sQ.length?(w.setPrintGrainTransitionStateFlux(s2),s1.textContent=sZ,s1.classList.toggle("optionOff")):(s1.textContent=s0,s1.classList.toggle("optionOn")),s1.addEventListener("click",e=>{w.index.has(eX.tagName)?(w.removePrintGrainTransitionStateFlux(),s1.textContent=s0,s1.classList.toggle("optionOn"),s1.classList.toggle("optionOff")):(w.setPrintGrainTransitionStateFlux(s2),s1.textContent=sZ,s1.classList.toggle("optionOff"),s1.classList.toggle("optionOn"))}),s4=ej.tagName,s5=T.getElementsByTagName(s4),s6=s4+tW,(s8=N(s7=s4+tK,tH)).classList.add("optionOn"),s8.classList.add("optionOff"),O.set(s4,s8),s3=new ej,1==s5.length?(w.setPrintReactionOperatorSize(s3),s8.textContent=s6,s8.classList.toggle("optionOff")):(s8.textContent=s7,s8.classList.toggle("optionOn")),s8.addEventListener("click",e=>{w.index.has(ej.tagName)?(w.removePrintReactionOperatorSize(),s8.textContent=s7,s8.classList.toggle("optionOn"),s8.classList.toggle("optionOff")):(w.setPrintReactionOperatorSize(s3),s8.textContent=s6,s8.classList.toggle("optionOff"),s8.classList.toggle("optionOn"))}),s9=eH.tagName,ie=T.getElementsByTagName(s9),it=s9+tW,(ii=N(is=s9+tK,tH)).classList.add("optionOn"),ii.classList.add("optionOff"),O.set(s9,ii),ia=new eH,1==ie.length?(w.setPrintSpeciesProfile(ia),ii.textContent=it,ii.classList.toggle("optionOff")):(ii.textContent=is,ii.classList.toggle("optionOn")),ii.addEventListener("click",e=>{w.index.has(eH.tagName)?(w.removePrintSpeciesProfile(),ii.textContent=is,ii.classList.toggle("optionOn"),ii.classList.toggle("optionOff")):(w.setPrintSpeciesProfile(ia),ii.textContent=it,ii.classList.toggle("optionOff"),ii.classList.toggle("optionOn"))}),io=e$.tagName,il=T.getElementsByTagName(io),id=io+tW,(ig=N(ir=io+tK,tH)).classList.add("optionOn"),ig.classList.add("optionOff"),O.set(io,ig),ih=new e$,1==il.length?(w.setPrintPhenomenologicalEvolution(ih),ig.textContent=id,ig.classList.toggle("optionOff")):(ig.textContent=ir,ig.classList.toggle("optionOn")),ig.addEventListener("click",e=>{w.index.has(e$.tagName)?(w.removePrintPhenomenologicalEvolution(),ig.textContent=ir,ig.classList.toggle("optionOn"),ig.classList.toggle("optionOff")):(w.setPrintPhenomenologicalEvolution(ih),ig.textContent=id,ig.classList.toggle("optionOff"),ig.classList.toggle("optionOn"))}),im=eW.tagName,ic=T.getElementsByTagName(im),iu=im+tW,(iN=N(ip=im+tK,tH)).classList.add("optionOn"),iN.classList.add("optionOff"),O.set(im,iN),ix=new eW,1==ic.length?(w.setPrintTunnelingCoefficients(ix),iN.textContent=iu,iN.classList.toggle("optionOff")):(iN.textContent=ip,iN.classList.toggle("optionOn")),iN.addEventListener("click",e=>{w.index.has(eW.tagName)?(w.removePrintTunnelingCoefficients(),iN.textContent=ip,iN.classList.toggle("optionOn"),iN.classList.toggle("optionOff")):(w.setPrintTunnelingCoefficients(ix),iN.textContent=iu,iN.classList.toggle("optionOff"),iN.classList.toggle("optionOn"))}),iv=eK.tagName,iC=T.getElementsByTagName(iv),iE=iv+tW,(iy=N(ib=iv+tK,tH)).classList.add("optionOn"),iy.classList.add("optionOff"),O.set(iv,iy),iS=new eK,1==iC.length?(w.setPrintCrossingCoefficients(iS),iy.textContent=iE,iy.classList.toggle("optionOff")):(iy.textContent=ib,iy.classList.toggle("optionOn")),iy.addEventListener("click",e=>{w.index.has(eK.tagName)?(w.removePrintCrossingCoefficients(),iy.textContent=ib,iy.classList.toggle("optionOn"),iy.classList.toggle("optionOff")):(w.setPrintCrossingCoefficients(iS),iy.textContent=iE,iy.classList.toggle("optionOff"),iy.classList.toggle("optionOn"))}),iL=eY.tagName,iT=T.getElementsByTagName(iL),iw=iL+tW,(i_=N(iO=iL+tK,tH)).classList.add("optionOn"),i_.classList.add("optionOff"),O.set(iL,i_),iM=new eY,1==iT.length?(w.setTestDOS(iM),i_.textContent=iw,i_.classList.toggle("optionOff")):(i_.textContent=iO,i_.classList.toggle("optionOn")),i_.addEventListener("click",e=>{w.index.has(eY.tagName)?(w.removeTestDOS(),i_.textContent=iO,i_.classList.toggle("optionOn"),i_.classList.toggle("optionOff")):(w.setTestDOS(iM),i_.textContent=iw,i_.classList.toggle("optionOff"),i_.classList.toggle("optionOn"))}),iz=eJ.tagName,iP=T.getElementsByTagName(iz),iR=iz+tW,(iF=N(iB=iz+tK,tH)).classList.add("optionOn"),iF.classList.add("optionOff"),O.set(iz,iF),iI=new eJ,1==iP.length?(w.setTestRateConstants(iI),iF.textContent=iR,iF.classList.toggle("optionOff")):(iF.textContent=iB,iF.classList.toggle("optionOn")),iF.addEventListener("click",e=>{w.index.has(eJ.tagName)?(w.removeTestRateConstants(),iF.textContent=iB,iF.classList.toggle("optionOn"),iF.classList.toggle("optionOff")):(w.setTestRateConstants(iI),iF.textContent=iR,iF.classList.toggle("optionOff"),iF.classList.toggle("optionOn"))}),iD=eQ.tagName,iA=T.getElementsByTagName(iD),iG=iD+tW,(iq=N(ik=iD+tK,tH)).classList.add("optionOn"),iq.classList.add("optionOff"),O.set(iD,iq),iV=new eQ,1==iA.length?(w.setUseTheSameCellNumberForAllConditions(iV),iq.textContent=iG,iq.classList.toggle("optionOff")):(iq.textContent=ik,iq.classList.toggle("optionOn")),iq.addEventListener("click",e=>{w.index.has(eQ.tagName)?(w.removeUseTheSameCellNumberForAllConditions(),iq.textContent=ik,iq.classList.toggle("optionOn"),iq.classList.toggle("optionOff")):(w.setUseTheSameCellNumberForAllConditions(iV),iq.textContent=iG,iq.classList.toggle("optionOff"),iq.classList.toggle("optionOn"))}),iU=eZ.tagName,iX=T.getElementsByTagName(iU),ij=iU+tW,(i$=N(iH=iU+tK,tH)).classList.add("optionOn"),i$.classList.add("optionOff"),O.set(iU,i$),iW=new eZ,1==iX.length?(w.setForceMacroDetailedBalance(iW),i$.textContent=ij,i$.classList.toggle("optionOff")):(i$.textContent=iH,i$.classList.toggle("optionOn")),i$.addEventListener("click",e=>{w.index.has(eZ.tagName)?(w.removeForceMacroDetailedBalance(),i$.textContent=iH,i$.classList.toggle("optionOn"),i$.classList.toggle("optionOff")):(w.setForceMacroDetailedBalance(iW),i$.textContent=ij,i$.classList.toggle("optionOff"),i$.classList.toggle("optionOn"))}),iK=v(tq),new Map([...O.entries()].sort()).forEach(e=>{iK.appendChild(e)}),L.appendChild(iK),function(e,t,s){let i=v(tq);t.appendChild(i);let a=tw.tagName,n=s.getElementsByTagName(a),o=a+tW,l=a+tK,d=N(l,tH);i.appendChild(d),d.classList.add("optionOn"),d.classList.add("optionOff");let r=tO.tagName+"_"+a+"_input",g=tO.tagName+"_"+a+"_Tmax",h=tO.tagName+"_"+a+"_Tmin",m=tO.tagName+"_"+a+"_Tstep";1==n.length?(new tw(P(n[0])),d.textContent=o,sh(e,i,n,g,h,m),d.classList.toggle("optionOff")):(new tw(new Map),d.textContent=l,d.classList.toggle("optionOn")),d.addEventListener("click",t=>{if(e.index.has(tb.tagName)){e.removeTestMicroRates();let t=document.getElementById(r);null!=t&&t.remove(),HTMLDivElement,null!=(t=document.getElementById(g))&&t.remove(),null!=(t=document.getElementById(h))&&t.remove(),null!=(t=document.getElementById(m))&&t.remove(),d.textContent=l,d.classList.toggle("optionOn"),d.classList.toggle("optionOff")}else sh(e,i,n,g,h,m),d.textContent=o,d.classList.toggle("optionOff"),d.classList.toggle("optionOn")})}(w,L,T),function(e,t,s){let i=v(tq);t.appendChild(i);let a=e1.tagName;s.getElementsByTagName(a);let n=a+tW,l=a+tK,d=N(l,tH);i.appendChild(d),d.classList.add("optionOn"),d.classList.add("optionOff");let r=e1.options,h=tO.tagName+"_"+a+"_select",m=tO.tagName+"_"+a+"_cm";d.addEventListener("click",t=>{if(e.index.has(e1.tagName)){e.removeCalcMethod();let t=document.getElementById(h);null!=t&&t.remove(),d.textContent=l,d.classList.toggle("optionOn"),d.classList.toggle("optionOff")}else{r.push(tQ);let e=p(r,a,h,tH);i.appendChild(e),e.addEventListener("click",t=>{r[r.length-1]==tQ&&r.pop();let s=e.options.length-1;e.options[s].value==tQ&&e.remove(s)}),e.addEventListener("change",e=>{let t=document.getElementById(m);null!=t&&t.remove(),t=v(tH),i.appendChild(t),t.id=m;let s=e.target,a=s.value;if(a==e2.xsi_type||a==e2.xsi_type2)new e2(new Map);else if(a==e4.xsi_type||a==e4.xsi_type2)new e4(new Map);else if(a==e6.xsi_type||a==e6.xsi_type2){let e=new e6(new Map),s=g("number",m+"_FittingIterations_input",tH,tk,t=>{let s=t.target;o(s.value)?(e.setFittingIterations(new e5(new Map,parseFloat(s.value))),console.log("Set FittingIterations to "+s.value)):(alert("Value is not numeric, resetting..."),s.value=NaN.toString()),c(s)},NaN.toString(),e5.tagName);t.appendChild(s)}else if(a==e9.xsi_type||a==e9.xsi_type2){let e=new e9(new Map),s=g("number",m+"_MarquardtIterations_input",tH,tk,t=>{let s=t.target;o(s.value)?(e.setMarquardtIterations(new e7(new Map,parseFloat(s.value))),console.log("Set MarquardtIterations to "+s.value)):(alert("Value is not numeric, resetting..."),s.value=NaN.toString()),c(s)},NaN.toString(),e7.tagName);t.appendChild(s);let i=g("number",m+"_MarquardtTolerance_input",tH,tk,t=>{let s=t.target;o(s.value)?(e.setMarquardtTolerance(new e8(new Map,parseFloat(s.value))),console.log("Set MarquardtTolerance to "+s.value)):(alert("Value is not numeric, resetting..."),s.value=NaN.toString()),c(s)},NaN.toString(),e8.tagName);t.appendChild(i);let a=g("number",m+"_MarquardtDerivDelta_input",tH,tk,t=>{let s=t.target;o(s.value)?(e.setMarquardtDerivDelta(new e3(new Map,parseFloat(s.value))),console.log("Set MarquardtDerivDelta to "+s.value)):(alert("Value is not numeric, resetting..."),s.value=NaN.toString()),c(s)},NaN.toString(),e3.tagName);t.appendChild(a)}else if(a==th.xsi_type||a==th.xsi_type2){let e=new th(new Map),s=g("text",m+"_Format_input",tH,tk,t=>{let s=t.target;e.setFormat(new tt(new Map,s.value)),console.log("Set Format to "+s.value),c(s)},"",tt.tagName);t.appendChild(s);let i=g("text",m+"_Precision_input",tH,tk,t=>{let s=t.target;e.setPrecision(new ts(new Map,s.value)),console.log("Set Precision to "+s.value),c(s)},"",ts.tagName);t.appendChild(i);let a=g("number",m+"_ChebNumTemp_input",tH,tk,t=>{let s=t.target;o(s.value)?(e.setChebNumTemp(new ti(new Map,parseFloat(s.value))),console.log("Set ChebNumTemp to "+s.value)):(alert("Value is not numeric, resetting..."),s.value=NaN.toString()),c(s)},NaN.toString(),ti.tagName);t.appendChild(a);let n=g("number",m+"_ChebNumConc_input",tH,tk,t=>{let s=t.target;o(s.value)?(e.setChebNumConc(new ta(new Map,parseFloat(s.value))),console.log("Set ChebNumConc to "+s.value)):(alert("Value is not numeric, resetting..."),s.value=NaN.toString()),c(s)},NaN.toString(),ta.tagName);t.appendChild(n);let l=g("number",m+"_ChebMaxTemp_input",tH,tk,t=>{let s=t.target;o(s.value)?(e.setChebMaxTemp(new tn(new Map,parseFloat(s.value))),console.log("Set ChebMaxTemp to "+s.value)):(alert("Value is not numeric, resetting..."),s.value=NaN.toString()),c(s)},NaN.toString(),tn.tagName);t.appendChild(l);let d=g("number",m+"_ChebMinTemp_input",tH,tk,t=>{let s=t.target;o(s.value)?(e.setChebMinTemp(new to(new Map,parseFloat(s.value))),console.log("Set ChebMinTemp to "+s.value)):(alert("Value is not numeric, resetting..."),s.value=NaN.toString()),c(s)},NaN.toString(),to.tagName);t.appendChild(d);let r=g("number",m+"_ChebMaxConc_input",tH,tk,t=>{let s=t.target;o(s.value)?(e.setChebMaxConc(new tl(new Map,parseFloat(s.value))),console.log("Set ChebMaxConc to "+s.value)):(alert("Value is not numeric, resetting..."),s.value=NaN.toString()),c(s)},NaN.toString(),tl.tagName);t.appendChild(r);let h=g("number",m+"_ChebMinConc_input",tH,tk,t=>{let s=t.target;o(s.value)?(e.setChebMinConc(new td(new Map,parseFloat(s.value))),console.log("Set ChebMinConc to "+s.value)):(alert("Value is not numeric, resetting..."),s.value=NaN.toString()),c(s)},NaN.toString(),td.tagName);t.appendChild(h);let u=g("number",m+"_ChebTExSize_input",tH,tk,t=>{let s=t.target;o(s.value)?(e.setChebTExSize(new tr(new Map,parseFloat(s.value))),console.log("Set ChebTExSize to "+s.value)):(alert("Value is not numeric, resetting..."),s.value=NaN.toString()),c(s)},NaN.toString(),tr.tagName);t.appendChild(u);let p=g("number",m+"_ChebPExSize_input",tH,tk,t=>{let s=t.target;o(s.value)?(e.setChebPExSize(new tg(new Map,parseFloat(s.value))),console.log("Set ChebPExSize to "+s.value)):(alert("Value is not numeric, resetting..."),s.value=NaN.toString()),c(s)},NaN.toString(),tg.tagName);t.appendChild(p)}else if(a==tN.xsi_type||a==tN.xsi_type2){let e=new tN(new Map),s=g("number",m+"_Tmin_input",tH,tk,t=>{let s=t.target;o(s.value)?(e.setTmin(new tm(new Map,parseFloat(s.value))),console.log("Set Tmin to "+s.value)):(alert("Value is not numeric, resetting..."),s.value=NaN.toString()),c(s)},NaN.toString(),tm.tagName);t.appendChild(s);let i=g("number",m+"_Tmid_input",tH,tk,t=>{let s=t.target;o(s.value)?(e.setTmid(new tc(new Map,parseFloat(s.value))),console.log("Set Tmid to "+s.value)):(alert("Value is not numeric, resetting..."),s.value=NaN.toString()),c(s)},NaN.toString(),tc.tagName);t.appendChild(i);let a=g("number",m+"_Tmax_input",tH,tk,t=>{let s=t.target;o(s.value)?(e.setTmax(new tu(new Map,parseFloat(s.value))),console.log("Set Tmax to "+s.value)):(alert("Value is not numeric, resetting..."),s.value=NaN.toString()),c(s)},NaN.toString(),tu.tagName);t.appendChild(a);let n=g("number",m+"_Tstep_input",tH,tk,t=>{let s=t.target;o(s.value)?(e.setTstep(new tp(new Map,parseFloat(s.value))),console.log("Set Tstep to "+s.value)):(alert("Value is not numeric, resetting..."),s.value=NaN.toString()),c(s)},NaN.toString(),tp.tagName);t.appendChild(n)}else if(a==tE.xsi_type||a==tE.xsi_type2){let e=new tE(new Map),s=g("number",m+"_SensitivityAnalysisSamples_input",tH,tk,t=>{let s=t.target;o(s.value)?(e.setSensitivityAnalysisSamples(new tx(new Map,parseFloat(s.value))),console.log("Set SensitivityAnalysisSamples to "+s.value)):(alert("Value is not numeric, resetting..."),s.value=NaN.toString()),c(s)},NaN.toString(),tx.tagName);t.appendChild(s);let i=g("number",m+"_SensitivityAnalysisOrder_input",tH,tk,t=>{let s=t.target;o(s.value)?(e.setSensitivityAnalysisOrder(new tf(new Map,parseFloat(s.value))),console.log("Set SensitivityAnalysisOrder to "+s.value)):(alert("Value is not numeric, resetting..."),s.value=NaN.toString()),c(s)},NaN.toString(),tf.tagName);t.appendChild(i);let a=g("number",m+"_SensitivityNumVarRedIters_input",tH,tk,t=>{let s=t.target;o(s.value)?(e.setSensitivityNumVarRedIters(new tv(new Map,parseFloat(s.value))),console.log("Set SensitivityNumVarRedIters to "+s.value)):(alert("Value is not numeric, resetting..."),s.value=NaN.toString()),c(s)},NaN.toString(),tv.tagName);t.appendChild(a);let n=g("text",m+"_SensitivityVarRedMethod_input",tH,tk,t=>{let s=t.target;e.setSensitivityVarRedMethod(new tC(new Map,s.value)),console.log("Set SensitivityVarRedMethod to "+s.value),c(s)},"",tC.tagName);t.appendChild(n)}else throw Error("Unknown CalcMethod type.");u(s)}),e.value=a,console.log("Value: "+a),u(e),d.textContent=n,d.classList.toggle("optionOff"),d.classList.toggle("optionOn")}})}(w,L,T),function(e,t,s){let i,a,n=v(tq);t.appendChild(n);let o=tb.tagName,l=s.getElementsByTagName(o),d=o+tW,r=o+tK,g=N(r,tH);n.appendChild(g),g.classList.add("optionOn"),g.classList.add("optionOff");let h=tO.tagName+"_"+o+"_input";if(1==l.length){let t=parseFloat(a=y(b(l[0])));i=new tb(P(l[0]),t),g.textContent=d,sm(e,n,i,h,a),g.classList.toggle("optionOff")}else a="",i=new tb(new Map,NaN),g.textContent=r,g.classList.toggle("optionOn");g.addEventListener("click",t=>{if(e.index.has(tb.tagName)){a=i.value.toExponential(),e.removeEigenvalues();let t=document.getElementById(h);null!=t&&t.remove(),g.textContent=r,g.classList.toggle("optionOn"),g.classList.toggle("optionOff")}else sm(e,n,i,h,a),g.textContent=d,g.classList.toggle("optionOff"),g.classList.toggle("optionOn")})}(w,L,T),function(e,t,s){let i,a,n=v(tq);t.appendChild(n);let o=ty.tagName,l=s.getElementsByTagName(o),d=o+tW,r=o+tK,g=N(r,tH);n.appendChild(g),g.classList.add("optionOn"),g.classList.add("optionOff");let h=tO.tagName+"_"+o+"_input";if(1==l.length){let t=parseFloat(a=y(b(l[0])));i=new ty(P(l[0]),t),g.textContent=d,sc(e,n,i,h,a),g.classList.toggle("optionOff")}else a="",i=new ty(new Map,NaN),g.textContent=r,g.classList.toggle("optionOn");g.addEventListener("click",t=>{if(e.index.has(ty.tagName)){a=i.value.toExponential(),e.removeShortestTimeOfInterest();let t=document.getElementById(h);null!=t&&t.remove(),g.textContent=r,g.classList.toggle("optionOn"),g.classList.toggle("optionOff")}else sc(e,n,i,h,a),g.textContent=d,g.classList.toggle("optionOff"),g.classList.toggle("optionOn")})}(w,L,T),function(e,t,s){let i,a,n=v(tq);t.appendChild(n);let o=tS.tagName,l=s.getElementsByTagName(o),d=o+tW,r=o+tK,g=N(r,tH);n.appendChild(g),g.classList.add("optionOn"),g.classList.add("optionOff");let h=tO.tagName+"_"+o+"_input";if(1==l.length){let t=parseFloat(a=y(b(l[0])));i=new tS(P(l[0]),t),g.textContent=d,su(e,n,i,h,a),g.classList.toggle("optionOff")}else a="",i=new tS(new Map,NaN),g.textContent=r,g.classList.toggle("optionOn");g.addEventListener("click",t=>{if(e.index.has(tS.tagName)){a=i.value.toExponential(),e.removeMaximumEvolutionTime();let t=document.getElementById(h);null!=t&&t.remove(),g.textContent=r,g.classList.toggle("optionOn"),g.classList.toggle("optionOff")}else su(e,n,i,h,a),g.textContent=d,g.classList.toggle("optionOff"),g.classList.toggle("optionOn")})}(w,L,T),function(e,t,s){let i,a,n=v(tq);t.appendChild(n);let o=tL.tagName,l=s.getElementsByTagName(o),d=o+tW,r=o+tK,g=N(r,tH);n.appendChild(g),g.classList.add("optionOn"),g.classList.add("optionOff");let h=tO.tagName+"_"+o+"_input";if(1==l.length){let t=parseFloat(a=y(b(l[0])));i=new tL(P(l[0]),t),g.textContent=d,sp(e,n,i,h,a),g.classList.toggle("optionOff")}else a="",i=new tL(new Map,NaN),g.textContent=r,g.classList.toggle("optionOn");g.addEventListener("click",t=>{if(e.index.has(tL.tagName)){a=i.value.toExponential(),e.removeAutomaticallySetMaxEne();let t=document.getElementById(h);null!=t&&t.remove(),g.textContent=r,g.classList.toggle("optionOn"),g.classList.toggle("optionOff")}else sp(e,n,i,h,a),g.textContent=d,g.classList.toggle("optionOff"),g.classList.toggle("optionOn")})}(w,L,T),function(e,t,s){let i,a,n=v(tq);t.appendChild(n);let o=tT.tagName,l=s.getElementsByTagName(o),d=o+tW,r=o+tK,g=N(r,tH);n.appendChild(g),g.classList.add("optionOn"),g.classList.add("optionOff");let h=tO.tagName+"_"+o+"_input";if(1==l.length){let t=parseFloat(a=y(b(l[0])));i=new tT(P(l[0]),t),g.textContent=d,sN(e,n,i,h,a),g.classList.toggle("optionOff")}else a="",i=new tT(new Map,NaN),g.textContent=r,g.classList.toggle("optionOn");g.addEventListener("click",t=>{if(e.index.has(tT.tagName)){a=i.value.toExponential(),e.removeDiagramEnergyOffset();let t=document.getElementById(h);null!=t&&t.remove(),g.textContent=r,g.classList.toggle("optionOn"),g.classList.toggle("optionOff")}else sN(e,n,i,h,a),g.textContent=d,g.classList.toggle("optionOff"),g.classList.toggle("optionOn")})}(w,L,T),L);al.id="controlList",l(al.id),ao.appendChild(d({content:al,buttonLabel:"Control",buttonFontSize:tD,boundary:tH,level:tk,contentDivId:al.id})),function(){for(var e=document.getElementsByClassName("collapsible"),t=0;t<e.length;t++)e[t].removeEventListener("click",r),e[t].addEventListener("click",r)}()}(new DOMParser().parseFromString(T,"text/xml"))}}};let w=i.slice(L,L+1048576);m.readAsText(w),L+=1048576}},n.click(),a.textContent="Load"}),a.style.fontSize="1em",i.appendChild(a);let n=N("Increase Font Size",tH);n.addEventListener("click",()=>{let e=parseFloat(getComputedStyle(document.body).fontSize);document.body.style.fontSize=e+1+"px",null!=s&&(s.document.body.style.fontSize=e+1+"px"),t7()}),i.appendChild(n);let m=N("Decrease Font Size",tH);m.addEventListener("click",()=>{let e=parseFloat(getComputedStyle(document.body).fontSize);document.body.style.fontSize=e-1+"px",null!=s&&(s.document.body.style.fontSize=e-1+"px"),t7()}),i.appendChild(m);let L=N("Light/Dark Mode",tH);L.addEventListener("click",()=>{(e=!e)?document.body.className="dark-mode":document.body.className="light-mode",t7()}),i.appendChild(L);let T="saveButtonId";l(T);let w=N("Save",tH);w.id=T,w.addEventListener("click",sf),w.style.fontSize="1em",i.appendChild(w);let O=f(tH),_=document.createElement("p");O.appendChild(_),_.textContent="Welcome to MXG - a Graphical User Interface (GUI) program to assist MEMSER users in creating, editing     and visualising MESMER data. MESMER is the Master Equation Solver for Multi Energy-well Reactions, details can be found     at: ",_.appendChild(tI),_.style.alignContent="center";let M=document.createElement("p");O.appendChild(M),M.textContent="MXG development is being funded by the UK Engineering and Physical Sciences Research Council (EPSRC).";let z=document.createElement("p");O.appendChild(z),z.textContent="There is a menu above containing buttons. Use the Load button to select a MESMER file to load (the file         will not be modified). MXG reads the file and presents the data it contains so that the user can make changes and use         the Save button to generate a new MESMER file. The saved file should have the same content as was loaded except it         will contain no comments, values will be trimmed of white space, and number formats will be in a standard         scientific notation if they were not already. The saved file will also reflect any changes specified using the GUI.";let A=document.createElement("p");O.appendChild(A),A.textContent="MXG is designed to be user-friendly and accessible. Between the Load and Save buttons are buttons to         increase or decrease the font size. It is planned to have themes selectable to provide a dark mode rendering and to         support users without normal colour vision.The development is in an alpha release phase, is undergoing testing, and         is not recommended for general use. A community release with ongoing support from MESMER developers is scheduled for         the end of April 2024. MXG is free and open source software based and free and open source software. The main         development GitHub repository is: ",A.appendChild(tB);let G=document.createElement("p");G.textContent+="Please feel free to explore the code and have a play with MXG.",O.appendChild(G);let V=document.createElement("p");O.appendChild(V),V.textContent="MXG can be installed locally as a Progressive Web App (PWA). A PWA is a type of application software     that works on any platform with a standards-compliant Web browser. PWA installation varies by Web browser/device.     Some details to help with installation of the MXG PWA are in the GitHub Repository README. Please refer to that     README for further details. Below the menu is a section for instructions on how to use MXG.";let U=document.createElement("p");O.appendChild(U),U.textContent='The MESMER file loaded is expected to contain the following child elements of the parent "me:mesmer"     element: "me:title", "moleculeList", "reactionList", "me:conditions", "me:modelParameters", and "me:control". If a     child element is missing or there are multiple of the same, an Error is currently thrown. MXG should support files     loaded with multiple "me:contol" sections soon...',document.body.appendChild(O);let j=f(tH);document.body.appendChild(j);let H=document.createElement("p");j.appendChild(H),H.textContent='Upon loading a MESMER file, an input containing the "me:title" value should appear along side a label.         The value can be changed using the input. The "me:title" value is used to compose the filename for data saved using         the Save button. Characters that are unsuitable for filenames will be replaced with the underscore character "_" in         the filename.';let ex=document.createElement("p");j.appendChild(ex),ex.textContent='The "moleculeList", "reactionList", "me:conditions", "me:modelParameters", and "me:control" details         are presented below the "me:title" in a series of buttons. A canvas depicts a well diagram for the reactions. The         diagram redraws if an "me:ZPE" property value of a molecule a listed reaction are changed. Below all this is a text         representation of the file loaded.';let ef=document.createElement("p");j.appendChild(ef),ef.textContent='The "moleculeList", "reactionList", "me:conditions", "me:modelParameters", and "me:control" buttons contain         a triangular symbol which indicate a collapsed (triangle orientated with a point down: â–¼) or expanded (triangle with a point         up: â–²) state. Actioning these buttons will either expand or collapse content that should appear or be present below the button.'}),window.setNumberArrayNode=t9,window.set=se;
//# sourceMappingURL=index.90bfeb71.js.map
