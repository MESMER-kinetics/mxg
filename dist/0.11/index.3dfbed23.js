let e,t,s,i,n,a,o,d;function r(e){return e&&e.__esModule?e.default:e}var l={};function g(e,t){if(!e.has(t))throw Error(`Key ${t} not found in map`);return e.get(t)}function h(...e){let t=e.map(e=>e.toString()).join("-").replace(/[^a-zA-Z-_0-9]/g,"_");return/^[0-9]|^--|-^[0-9]/.test(t)&&(t="_"+t),t}function m(e,t){return null==e?"":(void 0==t&&(t=", "),Array.from(e.entries()).map(([e,t])=>`${null==e?"null":e.toString()}(${null==t?"null":t.toString()})`).join(t))}function c(e,t){return void 0==t&&(t=", "),e.map(e=>null==e?"null":e.toString()).join(t)}function u(e){let t=[];for(let s=0;s<e.length;s++)t.push(new(r(l))(e[s]));return t}function N(e){try{return new(r(l))(e),!0}catch(e){return!1}}function p(e,t){return void 0==t&&(t=" "),e.map(e=>e.toString()).join(t)}function f(e,t){return null==e||e.lt(t)?t:e}function x(e,t){return null==e||e.gt(t)?t:e}!function(e){var t,s="[big.js] ",i=s+"Invalid ",n=i+"decimal places",a=i+"rounding mode",o=s+"Division by zero",d={},r=void 0,g=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function h(e,t,s,i){var n=e.c;if(s===r&&(s=e.constructor.RM),0!==s&&1!==s&&2!==s&&3!==s)throw Error(a);if(t<1)i=3===s&&(i||!!n[0])||0===t&&(1===s&&n[0]>=5||2===s&&(n[0]>5||5===n[0]&&(i||n[1]!==r))),n.length=1,i?(e.e=e.e-t+1,n[0]=1):n[0]=e.e=0;else if(t<n.length){if(i=1===s&&n[t]>=5||2===s&&(n[t]>5||5===n[t]&&(i||n[t+1]!==r||1&n[t-1]))||3===s&&(i||!!n[0]),n.length=t,i){for(;++n[--t]>9;)if(n[t]=0,0===t){++e.e,n.unshift(1);break}}for(t=n.length;!n[--t];)n.pop()}return e}function m(e,t,s){var i=e.e,n=e.c.join(""),a=n.length;if(t)n=n.charAt(0)+(a>1?"."+n.slice(1):"")+(i<0?"e":"e+")+i;else if(i<0){for(;++i;)n="0"+n;n="0."+n}else if(i>0){if(++i>a)for(i-=a;i--;)n+="0";else i<a&&(n=n.slice(0,i)+"."+n.slice(i))}else a>1&&(n=n.charAt(0)+"."+n.slice(1));return e.s<0&&s?"-"+n:n}d.abs=function(){var e=new this.constructor(this);return e.s=1,e},d.cmp=function(e){var t,s=this.c,i=(e=new this.constructor(e)).c,n=this.s,a=e.s,o=this.e,d=e.e;if(!s[0]||!i[0])return s[0]?n:i[0]?-a:0;if(n!=a)return n;if(t=n<0,o!=d)return o>d^t?1:-1;for(n=-1,a=(o=s.length)<(d=i.length)?o:d;++n<a;)if(s[n]!=i[n])return s[n]>i[n]^t?1:-1;return o==d?0:o>d^t?1:-1},d.div=function(e){var t=this.constructor,s=this.c,i=(e=new t(e)).c,a=this.s==e.s?1:-1,d=t.DP;if(d!==~~d||d<0||d>1e6)throw Error(n);if(!i[0])throw Error(o);if(!s[0])return e.s=a,e.c=[e.e=0],e;var l,g,m,c,u,N=i.slice(),p=l=i.length,f=s.length,x=s.slice(0,l),v=x.length,E=e,w=E.c=[],y=0,b=d+(E.e=this.e-e.e)+1;for(E.s=a,a=b<0?0:b,N.unshift(0);v++<l;)x.push(0);do{for(m=0;m<10;m++){if(l!=(v=x.length))c=l>v?1:-1;else for(u=-1,c=0;++u<l;)if(i[u]!=x[u]){c=i[u]>x[u]?1:-1;break}if(c<0){for(g=v==l?i:N;v;){if(x[--v]<g[v]){for(u=v;u&&!x[--u];)x[u]=9;--x[u],x[v]+=10}x[v]-=g[v]}for(;!x[0];)x.shift()}else break}w[y++]=c?m:++m,x[0]&&c?x[v]=s[p]||0:x=[s[p]]}while((p++<f||x[0]!==r)&&a--)return!w[0]&&1!=y&&(w.shift(),E.e--,b--),y>b&&h(E,b,t.RM,x[0]!==r),E},d.eq=function(e){return 0===this.cmp(e)},d.gt=function(e){return this.cmp(e)>0},d.gte=function(e){return this.cmp(e)>-1},d.lt=function(e){return 0>this.cmp(e)},d.lte=function(e){return 1>this.cmp(e)},d.minus=d.sub=function(e){var t,s,i,n,a=this.constructor,o=this.s,d=(e=new a(e)).s;if(o!=d)return e.s=-d,this.plus(e);var r=this.c.slice(),l=this.e,g=e.c,h=e.e;if(!r[0]||!g[0])return g[0]?e.s=-d:r[0]?e=new a(this):e.s=1,e;if(o=l-h){for((n=o<0)?(o=-o,i=r):(h=l,i=g),i.reverse(),d=o;d--;)i.push(0);i.reverse()}else for(s=((n=r.length<g.length)?r:g).length,o=d=0;d<s;d++)if(r[d]!=g[d]){n=r[d]<g[d];break}if(n&&(i=r,r=g,g=i,e.s=-e.s),(d=(s=g.length)-(t=r.length))>0)for(;d--;)r[t++]=0;for(d=t;s>o;){if(r[--s]<g[s]){for(t=s;t&&!r[--t];)r[t]=9;--r[t],r[s]+=10}r[s]-=g[s]}for(;0===r[--d];)r.pop();for(;0===r[0];)r.shift(),--h;return r[0]||(e.s=1,r=[h=0]),e.c=r,e.e=h,e},d.mod=function(e){var t,s=this,i=s.constructor,n=s.s,a=(e=new i(e)).s;if(!e.c[0])throw Error(o);return(s.s=e.s=1,t=1==e.cmp(s),s.s=n,e.s=a,t)?new i(s):(n=i.DP,a=i.RM,i.DP=i.RM=0,s=s.div(e),i.DP=n,i.RM=a,this.minus(s.times(e)))},d.neg=function(){var e=new this.constructor(this);return e.s=-e.s,e},d.plus=d.add=function(e){var t,s,i,n=this.constructor;if(e=new n(e),this.s!=e.s)return e.s=-e.s,this.minus(e);var a=this.e,o=this.c,d=e.e,r=e.c;if(!o[0]||!r[0])return r[0]||(o[0]?e=new n(this):e.s=this.s),e;if(o=o.slice(),t=a-d){for(t>0?(d=a,i=r):(t=-t,i=o),i.reverse();t--;)i.push(0);i.reverse()}for(o.length-r.length<0&&(i=r,r=o,o=i),t=r.length,s=0;t;o[t]%=10)s=(o[--t]=o[t]+r[t]+s)/10|0;for(s&&(o.unshift(s),++d),t=o.length;0===o[--t];)o.pop();return e.c=o,e.e=d,e},d.pow=function(e){var t=this,s=new t.constructor("1"),n=s,a=e<0;if(e!==~~e||e<-1e6||e>1e6)throw Error(i+"exponent");for(a&&(e=-e);1&e&&(n=n.times(t)),e>>=1;)t=t.times(t);return a?s.div(n):n},d.prec=function(e,t){if(e!==~~e||e<1||e>1e6)throw Error(i+"precision");return h(new this.constructor(this),e,t)},d.round=function(e,t){if(e===r)e=0;else if(e!==~~e||e<-1e6||e>1e6)throw Error(n);return h(new this.constructor(this),e+this.e+1,t)},d.sqrt=function(){var e,t,i,n=this.constructor,a=this.s,o=this.e,d=new n("0.5");if(!this.c[0])return new n(this);if(a<0)throw Error(s+"No square root");0===(a=Math.sqrt(this+""))||a===1/0?((t=this.c.join("")).length+o&1||(t+="0"),o=((o+1)/2|0)-(o<0||1&o),e=new n(((a=Math.sqrt(t))==1/0?"5e":(a=a.toExponential()).slice(0,a.indexOf("e")+1))+o)):e=new n(a+""),o=e.e+(n.DP+=4);do i=e,e=d.times(i.plus(this.div(i)));while(i.c.slice(0,o).join("")!==e.c.slice(0,o).join(""))return h(e,(n.DP-=4)+e.e+1,n.RM)},d.times=d.mul=function(e){var t,s=this.constructor,i=this.c,n=(e=new s(e)).c,a=i.length,o=n.length,d=this.e,r=e.e;if(e.s=this.s==e.s?1:-1,!i[0]||!n[0])return e.c=[e.e=0],e;for(e.e=d+r,a<o&&(t=i,i=n,n=t,r=a,a=o,o=r),t=Array(r=a+o);r--;)t[r]=0;for(d=o;d--;){for(o=0,r=a+d;r>d;)o=t[r]+n[d]*i[r-d-1]+o,t[r--]=o%10,o=o/10|0;t[r]=o}for(o?++e.e:t.shift(),d=t.length;!t[--d];)t.pop();return e.c=t,e},d.toExponential=function(e,t){var s=this,i=s.c[0];if(e!==r){if(e!==~~e||e<0||e>1e6)throw Error(n);for(s=h(new s.constructor(s),++e,t);s.c.length<e;)s.c.push(0)}return m(s,!0,!!i)},d.toFixed=function(e,t){var s=this,i=s.c[0];if(e!==r){if(e!==~~e||e<0||e>1e6)throw Error(n);for(s=h(new s.constructor(s),e+s.e+1,t),e=e+s.e+1;s.c.length<e;)s.c.push(0)}return m(s,!1,!!i)},d.toJSON=d.toString=function(){var e=this.constructor;return m(this,this.e<=e.NE||this.e>=e.PE,!!this.c[0])},d.toNumber=function(){var e=Number(m(this,!0,!0));if(!0===this.constructor.strict&&!this.eq(e.toString()))throw Error(s+"Imprecise conversion");return e},d.toPrecision=function(e,t){var s=this,n=s.constructor,a=s.c[0];if(e!==r){if(e!==~~e||e<1||e>1e6)throw Error(i+"precision");for(s=h(new n(s),e,t);s.c.length<e;)s.c.push(0)}return m(s,e<=s.e||s.e<=n.NE||s.e>=n.PE,!!a)},d.valueOf=function(){var e=this.constructor;if(!0===e.strict)throw Error(s+"valueOf disallowed");return m(this,this.e<=e.NE||this.e>=e.PE,!0)},(t=function e(){function t(s){if(!(this instanceof t))return s===r?e():new t(s);if(s instanceof t)this.s=s.s,this.e=s.e,this.c=s.c.slice();else{if("string"!=typeof s){if(!0===t.strict&&"bigint"!=typeof s)throw TypeError(i+"value");s=0===s&&1/s<0?"-0":String(s)}(function(e,t){var s,n,a;if(!g.test(t))throw Error(i+"number");for(e.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(s=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(s<0&&(s=n),s+=+t.slice(n+1),t=t.substring(0,n)):s<0&&(s=t.length),a=t.length,n=0;n<a&&"0"==t.charAt(n);)++n;if(n==a)e.c=[e.e=0];else{for(;a>0&&"0"==t.charAt(--a););for(e.e=s-n-1,e.c=[],s=0;n<=a;)e.c[s++]=+t.charAt(n++)}})(this,s)}this.constructor=t}return t.prototype=d,t.DP=20,t.RM=1,t.NE=-7,t.PE=21,t.strict=!1,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}()).default=t.Big=t,"function"==typeof define&&define.amd?define(function(){return t}):l?l=t:e.Big=t}(l);const v="button",E="select";function w(e,t,s,i,n,a,o){let d=I(e,o),r=P(n+" ▼",h(e,v),a);return r.className="collapsible",r.addEventListener("click",function(){let e=r.textContent.split(" ");e[e.length-1]="▼"===e[e.length-1]?"▲":"▼",r.textContent=e.join(" ")}),d.appendChild(r),d.appendChild(i),null!=s?t.insertBefore(d,s):t.appendChild(d),r.removeEventListener("click",y),r.addEventListener("click",y),d}function y(){this.classList.toggle("active");let e=this.nextElementSibling;null!=e?e instanceof HTMLDivElement?"block"===e.style.display?e.style.display="none":e.style.display="block":console.log("toggleCollapsible: nextElementSibling is not an HTMLDivElement"):console.log("toggleCollapsible: nextElementSibling is null")}function b(e,t,s,i,n,a,o){let d;let r=B(void 0,i),l=((d=C(e,t,s)).onchange=n,d.value=a,M(d),d),g=D(o,s);return g.htmlFor=t,r.appendChild(g),r.appendChild(l),r}function C(e,t,s){let i=document.createElement("input");return i.type=e,i.id=t,Object.assign(i.style,s),i.style.fontSize="1em",i.classList.add("auto-width"),i}function S(e,t){let s=document.createElement("textarea");return s.id=e,Object.assign(s.style,t),s.style.fontSize="1em",s.classList.add("auto-width"),s}function T(e,t){let s="<"+t;if(e)for(let[t,i]of e)s+=" "+t+'="'+i+'"';return s+" />"}function M(e,t){void 0==t&&(t=4),e.style.width=e.value.length+t+"ch"}function z(e,t){void 0==t&&(t=6),e.style.width=e.value.length+t+"ch"}function _(e,t){void 0==t&&(t=6),e.style.width=e.value.length+t+"ch"}function R(e,t,s,i,n){let a=document.createElement("select");return e.forEach(e=>{a.name=t,a.id=i;let s=document.createElement("option");s.value=e,s.text=e,a.appendChild(s)}),a.value=s,a.style.fontSize="1em",a.classList.add("auto-width"),z(a),Object.assign(a.style,n),a}function L(e,t,s,i,n,a,o){let d=B(n,o),r=D(e,a);return d.appendChild(r),d.appendChild(R(t,s,i,h(n,E),a)),d}function P(e,t,s){let i=document.createElement("button");return i.textContent=e,void 0!=t&&(i.id=t),void 0!=s&&Object.assign(i.style,s),i.style.fontSize="1em",i}function I(e,t){let s=document.createElement("div");return void 0!=e&&(s.id=e),void 0!=t&&Object.assign(s.style,t),s}function B(e,t){let s=I(e,t);return s.style.display="flex",s.style.flexWrap="wrap",s}function D(e,t){let s=document.createElement("label");return Object.assign(s.style,t),s.textContent=e,s.style.fontSize="1em",s}function A(e,t){let s=document.createElement("table");return s.id=e,Object.assign(s.style,t),s}function k(e,t){let s=e.insertRow();return t.forEach(e=>{s.insertCell().textContent=e}),s}function G(e,t){let s=e.getElementsByTagName(t)[0];if(null==s)throw Error(t+" element not found");return s}function O(e){let t=e.childNodes;if(null==t)throw Error("Element has no childNodes");return t[0]}function F(e){let t=e.nodeValue;if(null==t)throw Error("nodeValue is null");return t}function H(e){let t=O(e);return t?F(t).trim():""}class q{constructor(e){this.tagName=e}toXML(e){let t=T(void 0,this.tagName);return e?"\n"+e+t:t}}class U extends q{constructor(e,t){super(t),this.attributes=e}toString(){let e=this.tagName+"(";return this.attributes&&this.attributes.forEach((t,s)=>{e+=`${s}(${t}), `}),e}toXML(e){let t="";for(let[s,i]of(void 0!=e&&(t+="\n"+e),t+="<"+this.tagName,this.attributes))t+=" "+s+'="'+i.toString()+'"';return t+" />"}}class V extends U{constructor(e,t,s){super(e,t),this.value=s}toString(){return super.toString()+`, ${this.value.toString()})`}toXML(e){return $(this.value.trim(),this.tagName,this.attributes,e,!1)}}class j extends U{constructor(e,t,s){super(e,t),this.value=s}toString(){return super.toString()+`, ${this.value.toString()})`}toXML(e){return $(this.value.toString(),this.tagName,this.attributes,e,!1)}}class Y extends U{constructor(e,t,s,i){super(e,t),this.delimiter=" ",this.values=s,void 0!=i&&(this.delimiter=i)}getValues(){return this.values}setValues(e){this.values=e}toString(){return super.toString()+`, ${this.values.toString()})`}setDelimiter(e){this.delimiter=e}toXML(e){return $(p(this.values,this.delimiter),this.tagName,this.attributes,e,!1)}}class X extends U{constructor(e,t){super(e,t),this.nodes=new Map}addNode(e){this.nodes.set(this.nodes.size,e)}toString(){let e=super.toString();return this.nodes.forEach((t,s)=>{e+=`, ${t.toString()}`}),e+")"}toXML(e,t){let s;void 0!=e&&void 0!=t&&(s=t+e);let i="";if(this.nodes.size>0)return this.nodes.forEach(t=>{void 0==t?console.warn("Node 0 is undefined this.nodes.size = "+this.nodes.size):t instanceof X?i+=t.toXML(e,s):i+=t.toXML(s)}),$(i,this.tagName,this.attributes,t,!0);{let e=T(this.attributes,this.tagName);return void 0!=t?"\n"+t+e:e}}}function $(e,t,s,i,n){let a;return function(e,t,s){let i="";if(void 0!=s&&(i+="\n"+s),i+="<"+e,t)for(let[e,s]of t)i+=" "+e+'="'+s.toString()+'"';return i+">"}(t,s,i)+e+(a="",n&&void 0!=i&&(a+="\n"+i),a+"</"+t+">")}function W(e){let t=e.getAttributeNames(),s=new Map;return t.forEach(function(t){let i=e.getAttribute(t);null!=i&&s.set(t.trim(),i.trim())}),s}function K(e,t){let s=e.getElementsByTagName(t);if(1!=s.length)throw Error("Expecting 1 "+t+" but finding "+s.length);return s[0]}class Z extends j{static{this.s_units="units"}static{this.s_lower="lower"}static{this.s_upper="upper"}static{this.s_stepsize="stepsize"}constructor(e,t,s){super(e,t,s)}setValue(e){this.value=e}getUnits(){return this.attributes.get(Z.s_units)}setUnits(e){this.attributes.set(Z.s_units,e)}removeUnits(){this.attributes.delete(Z.s_units)}getLower(){let e=this.attributes.get(Z.s_lower);if(void 0!=e)return new(r(l))(e)}setLower(e){this.attributes.set(Z.s_lower,e.toString())}removeLower(){this.attributes.delete(Z.s_lower)}getUpper(){let e=this.attributes.get(Z.s_upper);if(void 0!=e)return new(r(l))(e)}setUpper(e){this.attributes.set(Z.s_upper,e.toString())}removeUpper(){this.attributes.delete(Z.s_upper)}getStepsize(){let e=this.attributes.get(Z.s_stepsize);if(void 0!=e)return new(r(l))(e)}setStepsize(e){this.attributes.set(Z.s_stepsize,e.toString())}removeStepsize(){this.attributes.delete(Z.s_stepsize)}}class Q extends j{static{this.tagName="me:eigenvalue"}constructor(e,t){super(e,Q.tagName,t)}}class J extends X{static{this.tagName="me:eigenvalueList"}constructor(e,t){super(e,J.tagName),t&&t.forEach(e=>{this.addNode(e)})}addEigenvalue(e){this.addNode(e)}}class ee extends j{static{this.tagName="me:pop"}constructor(e,t){super(e,ee.tagName,t)}}class et extends X{static{this.tagName="me:population"}constructor(e,t){super(e,et.tagName)}addPop(e){this.addNode(e)}}class es extends X{static{this.tagName="me:populationList"}constructor(e,t){super(e,es.tagName),t&&t.forEach(e=>{this.addNode(e)})}addPopulation(e){this.addNode(e)}}class ei extends j{static{this.tagName="me:firstOrderLoss"}constructor(e,t){super(e,ei.tagName,t)}}class en extends j{static{this.tagName="me:firstOrderRate"}constructor(e,t){super(e,ei.tagName,t)}}class ea extends X{static{this.tagName="me:rateList"}constructor(e,t,s){if(super(e,eo.tagName),this.index=new Map,this.folIndex=new Map,t){let e=0;t.forEach(t=>{this.index.set(ei.tagName+e.toString(),this.nodes.size),this.folIndex.set(this.folIndex.size,this.nodes.size),this.addNode(t),e++}),this.fols=t}else this.fols=[];if(this.forIndex=new Map,s){let e=0;s.forEach(t=>{this.index.set(en.tagName+e.toString(),this.nodes.size),this.forIndex.set(this.forIndex.size,this.nodes.size),this.addNode(t),e++}),this.fors=s}else this.fors=[]}addFirstOrderLoss(e){this.folIndex.set(this.folIndex.size,this.nodes.size),this.index.set(ei.tagName+this.folIndex.size.toString(),this.nodes.size),this.fols.push(e),this.addNode(e)}addFirstOrderRate(e){this.forIndex.set(this.forIndex.size,this.nodes.size),this.index.set(en.tagName+this.forIndex.size.toString(),this.nodes.size),this.fors.push(e),this.addNode(e)}}class eo extends X{static{this.tagName="me:analysis"}constructor(e,t,s,i,n){super(e,eo.tagName),this.index=new Map,t&&(this.index.set(t_.tagName,this.nodes.size),this.addNode(t)),this.elIndex=new Map,s?(s.forEach(e=>{this.index.set(J.tagName,this.nodes.size),this.elIndex.set(this.elIndex.size,this.nodes.size),this.addNode(e)}),this.els=s):this.els=[],this.plIndex=new Map,i?(i.forEach(e=>{this.index.set(es.tagName,this.nodes.size),this.plIndex.set(this.plIndex.size,this.nodes.size),this.addNode(e)}),this.pls=i):this.pls=[],this.rlIndex=new Map,n?(n.forEach(e=>{this.index.set(ea.tagName,this.nodes.size),this.rlIndex.set(this.rlIndex.size,this.nodes.size),this.addNode(e)}),this.rls=n):this.rls=[]}getDescription(){if(this.index.has(t_.tagName)){let e=this.index.get(t_.tagName);return this.nodes.get(e)}}setDescription(e){if(this.index.has(t_.tagName)){let t=this.index.get(t_.tagName);this.nodes.set(t,e)}else this.index.set(t_.tagName,this.nodes.size),this.addNode(e)}addEigenvalueList(e){this.elIndex.set(this.elIndex.size,this.nodes.size),this.addNode(e),this.els.push(e)}addPopulationList(e){this.plIndex.set(this.plIndex.size,this.nodes.size),this.addNode(e),this.pls.push(e)}addRateList(e){this.rlIndex.set(this.rlIndex.size,this.nodes.size),this.addNode(e),this.rls.push(e)}}class ed extends V{static{this.tagName="me:bathGas"}constructor(e,t){super(e,ed.tagName,t)}}class er extends j{static{this.tagName="me:experimentalRate"}static{this.s_ref1="ref1"}static{this.s_ref2="ref2"}static{this.s_refReaction="refReaction"}static{this.s_error="error"}constructor(e,t){super(e,er.tagName,t)}getRef1(){return this.attributes.get(er.s_ref1)}setRef1(e){this.attributes.set(er.s_ref1,e)}getRef2(){return this.attributes.get(er.s_ref2)}setRef2(e){this.attributes.set(er.s_ref2,e)}getRefReaction(){return this.attributes.get(er.s_refReaction)}setRefReaction(e){this.attributes.set(er.s_refReaction,e)}getError(){return new(r(l))(this.attributes.get(er.s_error))}setError(e){this.attributes.set(er.s_error,e.toString())}}class el extends j{static{this.tagName="me:experimentalYield"}static{this.s_ref="ref"}static{this.s_error="error"}static{this.s_yieldTime="yieldTime"}constructor(e,t){super(e,el.tagName,t)}getRef(){return this.attributes.get(el.s_ref)}setRef(e){this.attributes.set(el.s_ref,e)}getError(){return new(r(l))(this.attributes.get(el.s_error))}setError(e){this.attributes.set(el.s_error,e.toString())}getYieldTime(){return new(r(l))(this.attributes.get(el.s_yieldTime))}setYieldTime(e){this.attributes.set(el.s_yieldTime,e.toString())}}class eg extends j{static{this.tagName="me:experimentalEigenvalue"}static{this.s_EigenvalueID="EigenvalueID"}static{this.s_error="error"}constructor(e,t){super(e,eg.tagName,t)}getEigenvalueID(){return this.attributes.get(eg.s_EigenvalueID)}setEigenvalueID(e){this.attributes.set(eg.s_EigenvalueID,e)}getError(){return new(r(l))(this.attributes.get(eg.s_error))}setError(e){this.attributes.set(eg.s_error,e.toString())}}class eh extends j{static{this.tagName="me:excessReactantConc"}static{this.s_percent="percent"}constructor(e,t){super(e,eh.tagName,t)}getPercent(){return this.attributes.get(eh.s_percent)}setPercent(e){this.attributes.set(eh.s_percent,e)}}class em extends X{static{this.tagName="me:PTpair"}static{this.s_P="P"}static{this.s_T="T"}static{this.s_precision="precision"}static{this.s_excessReactantConc="excessReactantConc"}static{this.s_percentExcessReactantConc="percentExcessReactantConc"}constructor(e,t,s,i,n){super(e,em.tagName),this.index=new Map,void 0!=t&&(this.index.set(ed.tagName,this.nodes.size),this.addNode(t)),void 0!=s&&(this.index.set(er.tagName,this.nodes.size),this.addNode(s)),void 0!=i&&(this.index.set(el.tagName,this.nodes.size),this.addNode(i)),void 0!=n&&(this.index.set(eg.tagName,this.nodes.size),this.addNode(n))}getP(){let e=this.attributes.get(em.s_P);if(void 0!==e)return new(r(l))(e)}setP(e){this.attributes.set(em.s_P,e.toString())}getT(){let e=this.attributes.get(em.s_T);if(void 0!==e)return new(r(l))(e)}setT(e){this.attributes.set(em.s_T,e.toString())}getPrecision(){return this.attributes.get(em.s_precision)}setPrecision(e){this.attributes.set(em.s_precision,e)}getBathGas(){let e=this.index.get(ed.tagName);return void 0!=e?this.nodes.get(e):void 0}setBathGas(e){let t=this.index.get(ed.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ed.tagName,this.nodes.size),this.addNode(e))}removeBathGas(){let e=this.index.get(ed.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ed.tagName))}getExperimentalRate(){let e=this.index.get(er.tagName);return void 0!=e?this.nodes.get(e):void 0}setExperimentalRate(e){let t=this.index.get(er.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(er.tagName,this.nodes.size),this.addNode(e))}removeExperimentalRate(){let e=this.index.get(er.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(er.tagName))}getExperimentalYield(){let e=this.index.get(el.tagName);return void 0!=e?this.nodes.get(e):void 0}setExperimentalYield(e){let t=this.index.get(el.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(el.tagName,this.nodes.size),this.addNode(e))}removeExperimentalYield(){let e=this.index.get(el.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(el.tagName))}getExperimentalEigenvalue(){let e=this.index.get(eg.tagName);return void 0!=e?this.nodes.get(e):void 0}setExperimentalEigenvalue(e){let t=this.index.get(eg.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eg.tagName,this.nodes.size),this.addNode(e))}removeExperimentalEigenvalue(){let e=this.index.get(eg.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eg.tagName))}getExcessReactantConc(){return this.attributes.get(em.s_excessReactantConc)}setExcessReactantConc(e){this.attributes.set(em.s_excessReactantConc,e)}getPercentExcessReactantConc(){return this.attributes.get(em.s_percentExcessReactantConc)}setPercentExcessReactantConc(e){this.attributes.set(em.s_percentExcessReactantConc,e)}}class ec extends X{static{this.tagName="me:PTs"}constructor(e,t){super(e,ec.tagName),void 0!=t?(t.forEach(e=>{this.addNode(e)}),this.ptps=t):this.ptps=[]}get(e){return this.ptps[e]}set(e,t){this.nodes.set(e,t),this.ptps[e]=t}add(e){return this.addNode(e),this.ptps.push(e),this.nodes.size-1}remove(e){this.nodes.delete(e),this.ptps.splice(e,1)}init(e){this.clear(),e.forEach(e=>{this.addNode(e),this.ptps.push(e)})}clear(){this.nodes.clear(),this.ptps=[]}}class eu extends X{static{this.tagName="me:conditions"}constructor(e,t,s,i){super(e,eu.tagName),this.id=t,this.index=new Map,this.bathGasesIndex=new Map,this.bathGases=new Map,void 0!=s&&(this.index.set(ed.tagName,this.nodes.size),s.forEach(e=>{this.bathGasesIndex.set(e.value,this.nodes.size),this.addNode(e),this.bathGases.set(e,s.size)})),void 0!=i&&(this.index.set(ec.tagName,this.nodes.size),this.addNode(i))}getBathGases(){return this.bathGases}addBathGas(e){if(this.bathGases.has(e))return this.bathGases.get(e);{let t=this.bathGases.size;return this.bathGases.set(e,t),this.bathGasesIndex.set(e.value,this.nodes.size),this.addNode(e),t}}removeBathGas(e){this.bathGases.has(e)?(this.bathGases.delete(e),this.nodes.delete(this.bathGasesIndex.get(e.value))):console.warn("Conditions.removeBathGas: bathGas not found to remove.")}getPTs(){let e=this.index.get(ec.tagName);if(void 0!=e)return this.nodes.get(e)}setPTs(e){let t=this.index.get(ec.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ec.tagName,this.nodes.size),this.addNode(e))}}class eN extends q{static{this.tagName="me:calculateRateCoefficientsOnly"}constructor(){super(eN.tagName)}}class ep extends q{static{this.tagName="me:printCellDOS"}constructor(){super(ep.tagName)}}class ef extends q{static{this.tagName="me:printCellTransitionStateFlux"}constructor(){super(ef.tagName)}}class ex extends q{static{this.tagName="me:printReactionOperatorColumnSums"}constructor(){super(ex.tagName)}}class ev extends q{static{this.tagName="me:printGrainBoltzmann"}constructor(){super(ev.tagName)}}class eE extends q{static{this.tagName="me:printGrainDOS"}constructor(){super(eE.tagName)}}class ew extends q{static{this.tagName="me:printGrainkbE"}constructor(){super(ew.tagName)}}class ey extends q{static{this.tagName="me:printGrainkfE"}constructor(){super(ey.tagName)}}class eb extends q{static{this.tagName="me:printTSsos"}constructor(){super(eb.tagName)}}class eC extends q{static{this.tagName="me:printGrainedSpeciesProfile"}constructor(){super(eC.tagName)}}class eS extends q{static{this.tagName="me:printGrainTransitionStateFlux"}constructor(){super(eS.tagName)}}class eT extends q{static{this.tagName="me:printReactionOperatorSize"}constructor(){super(eT.tagName)}}class eM extends q{static{this.tagName="me:printSpeciesProfile"}constructor(){super(eM.tagName)}}class ez extends q{static{this.tagName="me:printPhenomenologicalEvolution"}constructor(){super(ez.tagName)}}class e_ extends q{static{this.tagName="me:printTunnelingCoefficients"}constructor(){super(e_.tagName)}}class eR extends q{static{this.tagName="me:printCrossingCoefficients"}constructor(){super(eR.tagName)}}class eL extends q{static{this.tagName="me:testDOS"}constructor(){super(eL.tagName)}}class eP extends q{static{this.tagName="me:testRateConstant"}constructor(){super(eP.tagName)}}class eI extends q{static{this.tagName="me:useTheSameCellNumberForAllConditions"}constructor(){super(eI.tagName)}}class eB extends V{static{this.tagName="me:ForceMacroDetailedBalance"}constructor(e,t){super(e,eB.tagName,t)}}class eD extends q{static{this.tagName="me:hideInactive"}constructor(){super(eD.tagName)}}class eA extends X{static{this.tagName="me:calcMethod"}static{this.options=["simpleCalc","gridSearch","fitting","marquardt","analyticalRepresentation","ThermodynamicTable","sensitivityAnalysis","me:simpleCalc","me:gridSearch","me:fitting","me:marquardt","me:analyticalRepresentation","me:ThermodynamicTable","me:sensitivityAnalysis"]}constructor(e){super(e,eA.tagName)}}class ek extends eA{static{this.xsi_type="me:simpleCalc"}static{this.xsi_type2="simpleCalc"}constructor(e){super(e)}}class eG extends eA{static{this.xsi_type="me:gridSearch"}static{this.xsi_type2="gridSearch"}constructor(e){super(e)}}class eO extends j{static{this.tagName="me:fittingIterations"}constructor(e,t){super(e,eO.tagName,t)}}class eF extends eA{static{this.xsi_type="me:fitting"}static{this.xsi_type2="fitting"}constructor(e,t){super(e),void 0!=t&&this.addNode(t)}getFittingIterations(){return this.nodes.get(0)}setFittingIterations(e){this.nodes.set(0,e)}removeFittingIterations(){this.nodes.delete(0)}}class eH extends j{static{this.tagName="me:MarquardtIterations"}constructor(e,t){super(e,eH.tagName,t)}}class eq extends j{static{this.tagName="me:MarquardtTolerance"}constructor(e,t){super(e,eq.tagName,t)}}class eU extends j{static{this.tagName="me:MarquardtDerivDelta"}constructor(e,t){super(e,eU.tagName,t)}}class eV extends eA{static{this.xsi_type="me:marquardt"}static{this.xsi_type2="marquardt"}constructor(e,t,s,i){super(e),this.index=new Map,void 0!=t&&(this.index.set(eH.tagName,this.nodes.size),this.addNode(t)),void 0!=s&&(this.index.set(eq.tagName,this.nodes.size),this.addNode(s)),void 0!=i&&(this.index.set(eU.tagName,this.nodes.size),this.addNode(i))}getMarquardtIterations(){let e=this.index.get(eH.tagName);if(void 0!=e)return this.nodes.get(e)}setMarquardtIterations(e){let t=this.index.get(eH.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eH.tagName,this.nodes.size),this.addNode(e))}removeMarquardtIterations(){let e=this.index.get(eH.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eH.tagName))}getMarquardtTolerance(){let e=this.index.get(eq.tagName);if(void 0!=e)return this.nodes.get(e)}setMarquardtTolerance(e){let t=this.index.get(eq.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eq.tagName,this.nodes.size),this.addNode(e))}removeMarquardtTolerance(){let e=this.index.get(eq.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eq.tagName))}getMarquardtDerivDelta(){let e=this.index.get(eU.tagName);if(void 0!=e)return this.nodes.get(e)}setMarquardtDerivDelta(e){let t=this.index.get(eU.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eU.tagName,this.nodes.size),this.addNode(e))}removeMarquardtDerivDelta(){let e=this.index.get(eU.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eU.tagName))}}class ej extends q{static{this.tagName="me:useTraceWeighting"}constructor(){super(ej.tagName)}}class eY extends V{static{this.tagName="me:format"}static{this.options=["cantera","chemkin"]}static{this.rateUnits="rateUnits"}static{this.rateUnitsOptions=["cm3mole-1s-1","cm3molecule-1s-1"]}constructor(e,t){super(e,eY.tagName,t)}getRateUnits(){return this.attributes.get(eY.rateUnits)}setRateUnits(e){this.attributes.set(eY.rateUnits,e)}removeRateUnits(){this.attributes.delete(eY.rateUnits)}}class eX extends V{static{this.tagName="me:precision"}constructor(e,t){super(e,eX.tagName,t)}}class e$ extends j{static{this.tagName="me:chebNumTemp"}constructor(e,t){super(e,e$.tagName,t)}}class eW extends j{static{this.tagName="me:chebNumConc"}constructor(e,t){super(e,eW.tagName,t)}}class eK extends j{static{this.tagName="me:chebMaxTemp"}constructor(e,t){super(e,eK.tagName,t)}}class eZ extends j{static{this.tagName="me:chebMinTemp"}constructor(e,t){super(e,eZ.tagName,t)}}class eQ extends j{static{this.tagName="me:chebMaxConc"}constructor(e,t){super(e,eQ.tagName,t)}getUnits(){return this.attributes.get("units")}setUnits(e){this.attributes.set("units",e)}}class eJ extends j{static{this.tagName="me:chebMinConc"}constructor(e,t){super(e,eJ.tagName,t)}}class e0 extends j{static{this.tagName="me:chebTExSize"}constructor(e,t){super(e,e0.tagName,t)}}class e1 extends j{static{this.tagName="me:chebPExSize"}constructor(e,t){super(e,e1.tagName,t)}}class e2 extends eA{static{this.xsi_type="me:analyticalRepresentation"}static{this.xsi_type2="analyticalRepresentation"}constructor(e,t,s,i,n,a,o,d,r,l,g){super(e),this.index=new Map,void 0!=t&&(this.index.set(eY.tagName,this.nodes.size),this.addNode(t)),void 0!=s&&(this.index.set(eX.tagName,this.nodes.size),this.addNode(s)),void 0!=i&&(this.index.set(e$.tagName,this.nodes.size),this.addNode(i)),void 0!=n&&(this.index.set(eW.tagName,this.nodes.size),this.addNode(n)),void 0!=a&&(this.index.set(eK.tagName,this.nodes.size),this.addNode(a)),void 0!=o&&(this.index.set(eZ.tagName,this.nodes.size),this.addNode(o)),void 0!=d&&(this.index.set(eQ.tagName,this.nodes.size),this.addNode(d)),void 0!=r&&(this.index.set(eJ.tagName,this.nodes.size),this.addNode(r)),void 0!=l&&(this.index.set(e0.tagName,this.nodes.size),this.addNode(l)),void 0!=g&&(this.index.set(e1.tagName,this.nodes.size),this.addNode(g))}getFormat(){let e=this.index.get(eY.tagName);if(void 0!=e)return this.nodes.get(e)}setFormat(e){let t=this.index.get(eY.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eY.tagName,this.nodes.size),this.addNode(e))}removeFormat(){let e=this.index.get(eY.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eY.tagName))}getPrecision(){let e=this.index.get(eX.tagName);if(void 0!=e)return this.nodes.get(e)}setPrecision(e){let t=this.index.get(eX.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eX.tagName,this.nodes.size),this.addNode(e))}removePrecision(){let e=this.index.get(eX.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eX.tagName))}getChebNumTemp(){let e=this.index.get(e$.tagName);if(void 0!=e)return this.nodes.get(e)}setChebNumTemp(e){let t=this.index.get(e$.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e$.tagName,this.nodes.size),this.addNode(e))}removeChebNumTemp(){let e=this.index.get(e$.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e$.tagName))}getChebNumConc(){let e=this.index.get(eW.tagName);if(void 0!=e)return this.nodes.get(e)}setChebNumConc(e){let t=this.index.get(eW.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eW.tagName,this.nodes.size),this.addNode(e))}removeChebNumConc(){let e=this.index.get(eW.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eW.tagName))}getChebMaxTemp(){let e=this.index.get(eK.tagName);if(void 0!=e)return this.nodes.get(e)}setChebMaxTemp(e){let t=this.index.get(eK.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eK.tagName,this.nodes.size),this.addNode(e))}removeChebMaxTemp(){let e=this.index.get(eK.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eK.tagName))}getChebMinTemp(){let e=this.index.get(eZ.tagName);if(void 0!=e)return this.nodes.get(e)}setChebMinTemp(e){let t=this.index.get(eZ.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eZ.tagName,this.nodes.size),this.addNode(e))}removeChebMinTemp(){let e=this.index.get(eZ.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eZ.tagName))}getChebMaxConc(){let e=this.index.get(eQ.tagName);if(void 0!=e)return this.nodes.get(e)}setChebMaxConc(e){let t=this.index.get(eQ.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eQ.tagName,this.nodes.size),this.addNode(e))}removeChebMaxConc(){let e=this.index.get(eQ.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eQ.tagName))}getChebMinConc(){let e=this.index.get(eJ.tagName);if(void 0!=e)return this.nodes.get(e)}setChebMinConc(e){let t=this.index.get(eJ.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eJ.tagName,this.nodes.size),this.addNode(e))}removeChebMinConc(){let e=this.index.get(eJ.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eJ.tagName))}getChebTExSize(){let e=this.index.get(e0.tagName);if(void 0!=e)return this.nodes.get(e)}setChebTExSize(e){let t=this.index.get(e0.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e0.tagName,this.nodes.size),this.addNode(e))}removeChebTExSize(){let e=this.index.get(e0.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e0.tagName))}getChebPExSize(){let e=this.index.get(e1.tagName);if(void 0!=e)return this.nodes.get(e)}setChebPExSize(e){let t=this.index.get(e1.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e1.tagName,this.nodes.size),this.addNode(e))}removeChebPExSize(){let e=this.index.get(e1.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e1.tagName))}}class e3 extends j{static{this.tagName="me:Tmin"}constructor(e,t){super(e,e3.tagName,t)}}class e5 extends j{static{this.tagName="me:Tmid"}constructor(e,t){super(e,e5.tagName,t)}}class e4 extends j{static{this.tagName="me:Tmax"}constructor(e,t){super(e,e4.tagName,t)}}class e6 extends j{static{this.tagName="me:Tstep"}constructor(e,t){super(e,e3.tagName,t)}}class e8 extends eA{static{this.xsi_type="me:ThermodynamicTable"}static{this.xsi_type2="ThermodynamicTable"}constructor(e,t,s,i,n){super(e),this.index=new Map,void 0!=t&&(this.index.set(e3.tagName,this.nodes.size),this.addNode(t)),void 0!=s&&(this.index.set(e5.tagName,this.nodes.size),this.addNode(s)),void 0!=i&&(this.index.set(e4.tagName,this.nodes.size),this.addNode(i)),void 0!=n&&(this.index.set(e6.tagName,this.nodes.size),this.addNode(n))}getTmin(){let e=this.index.get(e3.tagName);if(void 0!=e)return this.nodes.get(e)}setTmin(e){let t=this.index.get(e3.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e3.tagName,this.nodes.size),this.addNode(e))}removeTmin(){let e=this.index.get(e3.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e3.tagName))}getTmid(){let e=this.index.get(e5.tagName);if(void 0!=e)return this.nodes.get(e)}setTmid(e){let t=this.index.get(e5.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e5.tagName,this.nodes.size),this.addNode(e))}removeTmid(){let e=this.index.get(e5.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e5.tagName))}getTmax(){let e=this.index.get(e4.tagName);if(void 0!=e)return this.nodes.get(e)}setTmax(e){let t=this.index.get(e4.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e4.tagName,this.nodes.size),this.addNode(e))}removeTmax(){let e=this.index.get(e4.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e4.tagName))}getTstep(){let e=this.index.get(e6.tagName);if(void 0!=e)return this.nodes.get(e)}setTstep(e){let t=this.index.get(e6.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e6.tagName,this.nodes.size),this.addNode(e))}removeTstep(){let e=this.index.get(e6.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e6.tagName))}}class e7 extends j{static{this.tagName="me:sensitivityAnalysisSamples"}constructor(e,t){super(e,e7.tagName,t)}}class e9 extends j{static{this.tagName="me:sensitivityAnalysisOrder"}constructor(e,t){super(e,e9.tagName,t)}}class te extends j{static{this.tagName="me:sensitivityNumVarRedIters"}constructor(e,t){super(e,te.tagName,t)}}class tt extends V{static{this.tagName="me:sensitivityVarRedMethod"}static{this.options=["AdditiveControl","RatioControl"]}constructor(e,t){super(e,tt.tagName,t)}}class ts extends eA{static{this.xsi_type="me:sensitivityAnalysis"}static{this.xsi_type2="sensitivityAnalysis"}constructor(e,t,s,i,n){super(e),this.index=new Map,void 0!=t&&(this.index.set(e7.tagName,this.nodes.size),this.addNode(t)),void 0!=s&&(this.index.set(e9.tagName,this.nodes.size),this.addNode(s)),void 0!=i&&(this.index.set(te.tagName,this.nodes.size),this.addNode(i)),void 0!=n&&(this.index.set(tt.tagName,this.nodes.size),this.addNode(n))}getSensitivityAnalysisSamples(){let e=this.index.get(e7.tagName);if(void 0!=e)return this.nodes.get(e)}setSensitivityAnalysisSamples(e){let t=this.index.get(e7.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e7.tagName,this.nodes.size),this.addNode(e))}removeSensitivityAnalysisSamples(){let e=this.index.get(e7.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e7.tagName))}getSensitivityAnalysisOrder(){let e=this.index.get(e9.tagName);if(void 0!=e)return this.nodes.get(e)}setSensitivityAnalysisOrder(e){let t=this.index.get(e9.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e9.tagName,this.nodes.size),this.addNode(e))}removeSensitivityAnalysisOrder(){let e=this.index.get(e9.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e9.tagName))}getSensitivityNumVarRedIters(){let e=this.index.get(te.tagName);if(void 0!=e)return this.nodes.get(e)}setSensitivityNumVarRedIters(e){let t=this.index.get(te.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(te.tagName,this.nodes.size),this.addNode(e))}removeSensitivityNumVarRedIters(){let e=this.index.get(te.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(te.tagName))}getSensitivityVarRedMethod(){let e=this.index.get(tt.tagName);if(void 0!=e)return this.nodes.get(e)}setSensitivityVarRedMethod(e){let t=this.index.get(tt.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tt.tagName,this.nodes.size),this.addNode(e))}removeSensitivityVarRedMethod(){let e=this.index.get(tt.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tt.tagName))}}class ti extends j{static{this.tagName="me:eigenvalues"}constructor(e,t){super(e,ti.tagName,t)}}class tn extends j{static{this.tagName="me:shortestTimeOfInterest"}constructor(e,t){super(e,tn.tagName,t)}}class ta extends j{static{this.tagName="me:MaximumEvolutionTime"}constructor(e,t){super(e,ta.tagName,t)}}class to extends j{static{this.tagName="me:automaticallySetMaxEne"}constructor(e,t){super(e,to.tagName,t)}}class td extends j{static{this.tagName="me:diagramEnergyOffset"}constructor(e,t){super(e,td.tagName,t)}}class tr extends U{static{this.tagName="me:testMicroRates"}constructor(e){super(e,tr.tagName),this.tMin=new(r(l))(e.get("Tmin")),this.tMax=new(r(l))(e.get("Tmax")),this.tStep=new(r(l))(e.get("Tstep"))}getTmin(){return this.tMin}setTmin(e){this.tMin=e,this.attributes?.set("Tmin",e.toString())}getTmax(){return this.tMax}setTmax(e){this.tMax=e,this.attributes?.set("Tmax",e.toString())}getTstep(){return this.tStep}setTstep(e){this.tStep=e,this.attributes?.set("Tstep",e.toString())}}class tl extends X{static{this.tagName="me:control"}constructor(e,t){super(e,tl.tagName),this.id=t,this.index=new Map}getCalculateRateCoefficientsOnly(){let e=this.index.get(eN.tagName);if(void 0!=e)return this.nodes.get(e)}setCalculateRateCoefficientsOnly(e){let t=this.index.get(eN.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eN.tagName,this.nodes.size),this.addNode(e))}removeCalculateRateCoefficientsOnly(){let e=this.index.get(eN.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eN.tagName))}getPrintCellDOS(){let e=this.index.get(ep.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintCellDOS(e){let t=this.index.get(ep.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ep.tagName,this.nodes.size),this.addNode(e))}removePrintCellDOS(){let e=this.index.get(ep.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ep.tagName))}getPrintCellTransitionStateFlux(){let e=this.index.get(ef.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintCellTransitionStateFlux(e){let t=this.index.get(ef.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ef.tagName,this.nodes.size),this.addNode(e))}removePrintCellTransitionStateFlux(){let e=this.index.get(ef.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ef.tagName))}getPrintReactionOperatorColumnSums(){let e=this.index.get(ex.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintReactionOperatorColumnSums(e){let t=this.index.get(ex.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ex.tagName,this.nodes.size),this.addNode(e))}removePrintReactionOperatorColumnSums(){let e=this.index.get(ex.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ex.tagName))}getPrintGrainBoltzmann(){let e=this.index.get(ev.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintGrainBoltzmann(e){let t=this.index.get(ev.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ev.tagName,this.nodes.size),this.addNode(e))}removePrintGrainBoltzmann(){let e=this.index.get(ev.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ev.tagName))}getPrintGrainDOS(){let e=this.index.get(eE.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintGrainDOS(e){let t=this.index.get(eE.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eE.tagName,this.nodes.size),this.addNode(e))}removePrintGrainDOS(){let e=this.index.get(eE.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eE.tagName))}getPrintGrainkbE(){let e=this.index.get(ew.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintGrainkbE(e){let t=this.index.get(ew.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ew.tagName,this.nodes.size),this.addNode(e))}removePrintGrainkbE(){let e=this.index.get(ew.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ew.tagName))}getPrintGrainkfE(){let e=this.index.get(ey.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintGrainkfE(e){let t=this.index.get(ey.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ey.tagName,this.nodes.size),this.addNode(e))}removePrintGrainkfE(){let e=this.index.get(ey.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ey.tagName))}getPrintTSsos(){let e=this.index.get(eb.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintTSsos(e){let t=this.index.get(eb.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eb.tagName,this.nodes.size),this.addNode(e))}removePrintTSsos(){let e=this.index.get(eb.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eb.tagName))}getPrintGrainedSpeciesProfile(){let e=this.index.get(eC.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintGrainedSpeciesProfile(e){let t=this.index.get(eC.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eC.tagName,this.nodes.size),this.addNode(e))}removePrintGrainedSpeciesProfile(){let e=this.index.get(eC.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eC.tagName))}getPrintGrainTransitionStateFlux(){let e=this.index.get(eS.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintGrainTransitionStateFlux(e){let t=this.index.get(eS.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eS.tagName,this.nodes.size),this.addNode(e))}removePrintGrainTransitionStateFlux(){let e=this.index.get(eS.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eS.tagName))}getPrintReactionOperatorSize(){let e=this.index.get(eT.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintReactionOperatorSize(e){let t=this.index.get(eT.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eT.tagName,this.nodes.size),this.addNode(e))}removePrintReactionOperatorSize(){let e=this.index.get(eT.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eT.tagName))}getPrintSpeciesProfile(){let e=this.index.get(eM.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintSpeciesProfile(e){let t=this.index.get(eM.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eM.tagName,this.nodes.size),this.addNode(e))}removePrintSpeciesProfile(){let e=this.index.get(eM.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eM.tagName))}getPrintPhenomenologicalEvolution(){let e=this.index.get(ez.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintPhenomenologicalEvolution(e){let t=this.index.get(ez.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ez.tagName,this.nodes.size),this.addNode(e))}removePrintPhenomenologicalEvolution(){let e=this.index.get(ez.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ez.tagName))}getPrintTunnelingCoefficients(){let e=this.index.get(e_.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintTunnelingCoefficients(e){let t=this.index.get(e_.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e_.tagName,this.nodes.size),this.addNode(e))}removePrintTunnelingCoefficients(){let e=this.index.get(e_.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e_.tagName))}getPrintCrossingCoefficients(){let e=this.index.get(eR.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintCrossingCoefficients(e){let t=this.index.get(eR.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eR.tagName,this.nodes.size),this.addNode(e))}removePrintCrossingCoefficients(){let e=this.index.get(eR.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eR.tagName))}getTestDOS(){let e=this.index.get(eL.tagName);if(void 0!=e)return this.nodes.get(e)}setTestDOS(e){let t=this.index.get(eL.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eL.tagName,this.nodes.size),this.addNode(e))}removeTestDOS(){let e=this.index.get(eL.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eL.tagName))}getTestRateConstants(){let e=this.index.get(eP.tagName);if(void 0!=e)return this.nodes.get(e)}setTestRateConstants(e){let t=this.index.get(eP.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eP.tagName,this.nodes.size),this.addNode(e))}removeTestRateConstants(){let e=this.index.get(eP.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eP.tagName))}getUseTheSameCellNumberForAllConditions(){let e=this.index.get(eI.tagName);if(void 0!=e)return this.nodes.get(e)}setUseTheSameCellNumberForAllConditions(e){let t=this.index.get(eI.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eI.tagName,this.nodes.size),this.addNode(e))}removeUseTheSameCellNumberForAllConditions(){let e=this.index.get(eI.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eI.tagName))}getHideInactive(){let e=this.index.get(eD.tagName);if(void 0!=e)return this.nodes.get(e)}setHideInactive(e){let t=this.index.get(eD.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eD.tagName,this.nodes.size),this.addNode(e))}removeHideInactive(){let e=this.index.get(eD.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eD.tagName))}getForceMacroDetailedBalance(){let e=this.index.get(eB.tagName);if(void 0!=e)return this.nodes.get(e)}setForceMacroDetailedBalance(e){let t=this.index.get(eB.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eB.tagName,this.nodes.size),this.addNode(e))}removeForceMacroDetailedBalance(){let e=this.index.get(eB.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eB.tagName))}getCalcMethod(){let e=this.index.get(eA.tagName);if(void 0!=e)return this.nodes.get(e)}setCalcMethod(e){let t=this.index.get(eA.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eA.tagName,this.nodes.size),this.addNode(e))}removeCalcMethod(){let e=this.index.get(eA.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eA.tagName))}getEigenvalues(){let e=this.index.get(ti.tagName);if(void 0!=e)return this.nodes.get(e)}setEigenvalues(e){let t=this.index.get(ti.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ti.tagName,this.nodes.size),this.addNode(e))}removeEigenvalues(){let e=this.index.get(ti.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ti.tagName))}getShortestTimeOfInterest(){let e=this.index.get(tn.tagName);if(void 0!=e)return this.nodes.get(e)}setShortestTimeOfInterest(e){let t=this.index.get(tn.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tn.tagName,this.nodes.size),this.addNode(e))}removeShortestTimeOfInterest(){let e=this.index.get(tn.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tn.tagName))}getMaximumEvolutionTime(){let e=this.index.get(ta.tagName);if(void 0!=e)return this.nodes.get(e)}setMaximumEvolutionTime(e){let t=this.index.get(ta.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ta.tagName,this.nodes.size),this.addNode(e))}removeMaximumEvolutionTime(){let e=this.index.get(ta.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ta.tagName))}getAutomaticallySetMaxEne(){let e=this.index.get(to.tagName);if(void 0!=e)return this.nodes.get(e)}setAutomaticallySetMaxEne(e){let t=this.index.get(to.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(to.tagName,this.nodes.size),this.addNode(e))}removeAutomaticallySetMaxEne(){let e=this.index.get(to.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(to.tagName))}getDiagramEnergyOffset(){let e=this.index.get(td.tagName);if(void 0!=e)return this.nodes.get(e)}setDiagramEnergyOffset(e){let t=this.index.get(td.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(td.tagName,this.nodes.size),this.addNode(e))}removeDiagramEnergyOffset(){let e=this.index.get(td.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(td.tagName))}getTestMicroRates(){let e=this.index.get(tr.tagName);if(void 0!=e)return this.nodes.get(e)}setTestMicroRates(e){let t=this.index.get(tr.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tr.tagName,this.nodes.size),this.addNode(e))}removeTestMicroRates(){let e=this.index.get(tr.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tr.tagName))}}class tg extends X{static{this.tagName="metadata"}constructor(e){super(e,tg.tagName)}getLabelText(){let e="";return this.attributes.forEach((t,s)=>{e+=s+": "+t+" "}),e}}class th extends V{static{this.tagName="dc:title"}constructor(e,t){super(e,th.tagName,t)}}class tm extends V{static{this.tagName="dc:source"}constructor(e,t){super(e,tm.tagName,t)}}class tc extends V{static{this.tagName="dc:creator"}constructor(e,t){super(e,tc.tagName,t)}}class tu extends V{static{this.tagName="dc:date"}constructor(e,t){super(e,tu.tagName,t)}}class tN extends V{static{this.tagName="dc:contributor"}constructor(e,t){super(e,tN.tagName,t)}}class tp extends X{static{this.tagName="metadataList"}constructor(e,t,s,i,n,a){super(e,tp.tagName),this.index=new Map,this.metadataIndex=new Map,t&&(this.index.set(th.tagName,this.nodes.size),this.addNode(t)),s&&(this.index.set(tm.tagName,this.nodes.size),this.addNode(s)),i&&(this.index.set(tc.tagName,this.nodes.size),this.addNode(i)),n&&(this.index.set(tu.tagName,this.nodes.size),this.addNode(n)),a&&(this.index.set(tN.tagName,this.nodes.size),this.addNode(a))}getTitle(){if(this.index.has(th.tagName)){let e=this.index.get(th.tagName);return this.nodes.get(e)}}setTitle(e){if(this.index.has(th.tagName)){let t=this.index.get(th.tagName);this.nodes.set(t,e)}else this.index.set(th.tagName,this.nodes.size),this.addNode(e)}getSource(){if(this.index.has(tm.tagName)){let e=this.index.get(tm.tagName);return this.nodes.get(e)}}setSource(e){if(this.index.has(tm.tagName)){let t=this.index.get(tm.tagName);this.nodes.set(t,e)}else this.index.set(tm.tagName,this.nodes.size),this.addNode(e)}getCreator(){if(this.index.has(tc.tagName)){let e=this.index.get(tc.tagName);return this.nodes.get(e)}}setCreator(e){if(this.index.has(tc.tagName)){let t=this.index.get(tc.tagName);this.nodes.set(t,e)}else this.index.set(tc.tagName,this.nodes.size),this.addNode(e)}getDate(){if(this.index.has(tu.tagName)){let e=this.index.get(tu.tagName);return this.nodes.get(e)}}setDate(e){if(this.index.has(tu.tagName)){let t=this.index.get(tu.tagName);this.nodes.set(t,e)}else this.index.set(tu.tagName,this.nodes.size),this.addNode(e)}getContributor(){if(this.index.has(tN.tagName)){let e=this.index.get(tN.tagName);return this.nodes.get(e)}}setContributor(e){if(this.index.has(tN.tagName)){let t=this.index.get(tN.tagName);this.nodes.set(t,e)}else this.index.set(tN.tagName,this.nodes.size),this.addNode(e)}addMetadata(e){this.metadataIndex.set(this.metadataIndex.size,this.nodes.size),this.addNode(e)}getMetadata(){let e=[];for(let t=0;t<this.metadataIndex.size;t++){let s=this.metadataIndex.get(t);e.push(this.nodes.get(s))}return e}}class tf extends j{static{this.tagName="me:grainSize"}constructor(e,t){super(e,tf.tagName,t)}}class tx extends j{static{this.tagName="me:automaticallySetMaxEne"}constructor(e,t){super(e,tx.tagName,t)}}class tv extends j{static{this.tagName="me:energyAboveTheTopHill"}constructor(e,t){super(e,tv.tagName,t)}}class tE extends j{static{this.tagName="me:maxTemperature"}constructor(e,t){super(e,tE.tagName,t)}}class tw extends X{static{this.tagName="me:modelParameters"}constructor(e,t,s,i,n,a){super(e,tw.tagName),this.id=t,this.index=new Map,void 0!=s&&(this.index.set(tf.tagName,this.nodes.size),this.addNode(s)),void 0!=i&&(this.index.set(tx.tagName,this.nodes.size),this.addNode(i)),void 0!=n&&(this.index.set(tv.tagName,this.nodes.size),this.addNode(n)),void 0!=a&&(this.index.set(tE.tagName,this.nodes.size),this.addNode(a))}getGrainSize(){console.log("getGrainSize");let e=this.index.get(tf.tagName);if(void 0!=e)return this.nodes.get(e);console.log("XgetGrainSize")}setGrainSize(e){console.log("setGrainSize");let t=this.index.get(tf.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tf.tagName,this.nodes.size),this.addNode(e))}removeGrainSize(){let e=this.index.get(tf.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tf.tagName))}getAutomaticallySetMaxEne(){let e=this.index.get(tx.tagName);if(e)return this.nodes.get(e)}setAutomaticallySetMaxEne(e){let t=this.index.get(tx.tagName);t?this.nodes.set(t,e):(this.index.set(tx.tagName,this.nodes.size),this.addNode(e))}removeAutomaticallySetMaxEne(){let e=this.index.get(tx.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tx.tagName))}getEnergyAboveTheTopHill(){let e=this.index.get(tv.tagName);if(e)return this.nodes.get(e)}setEnergyAboveTheTopHill(e){let t=this.index.get(tv.tagName);t?this.nodes.set(t,e):(this.index.set(tv.tagName,this.nodes.size),this.addNode(e))}removeEnergyAboveTheTopHill(){let e=this.index.get(tv.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tv.tagName))}getMaxTemperature(){let e=this.index.get(tE.tagName);if(e)return this.nodes.get(e)}setMaxTemperature(e){let t=this.index.get(tE.tagName);t?this.nodes.set(t,e):(this.index.set(tE.tagName,this.nodes.size),this.addNode(e))}removeMaxTemperature(){let e=this.index.get(tE.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tE.tagName))}}class ty extends V{static{this.tagName="me:title"}constructor(e,t){super(e,ty.tagName,t)}}class tb extends X{static{this.tagName="moleculeList"}constructor(e,t){super(e,tb.tagName),this.index=new Map,void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e),this.index.set(e.getID(),this.nodes.size-1)})}getMolecule(e){let t=this.index.get(e);if(void 0!=t)return this.nodes.get(t)}removeMolecule(e){let t=this.index.get(e);void 0!=t&&(this.nodes.delete(t),this.index.delete(e))}addMolecule(e){let t=e.getID(),s=this.index.get(t);void 0!==s?(this.nodes.set(s,e),console.log("Replaced molecule with id "+t)):(this.nodes.set(this.nodes.size,e),this.index.set(t,this.nodes.size-1))}}class tC extends X{static{this.tagName="reactionList"}constructor(e,t){super(e,tC.tagName),this.index=new Map,void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1)})}getReaction(e){let t=this.index.get(e);if(void 0!=t)return this.nodes.get(t)}removeReaction(e){let t=this.index.get(e);void 0!=t&&(this.nodes.delete(t),this.index.delete(e))}addReaction(e){let t=this.index.get(e.id);void 0!==t?(this.nodes.set(t,e),console.log("Replaced reaction with id "+e.id)):(this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1))}}class tS extends X{static{this.tagName="conditionsList"}constructor(e,t){super(e,tM.tagName),this.index=new Map,void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1)})}getConditions(e){let t=this.index.get(e);if(void 0!=t)return this.nodes.get(t)}removeConditions(e){let t=this.index.get(e);void 0!=t&&(this.nodes.delete(t),this.index.delete(e))}addConditions(e){let t=this.index.get(e.id);void 0!=t?(this.nodes.set(t,e),console.log("Replaced conditions with id "+e.id)):(this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1))}}class tT extends X{static{this.tagName="modelParametersList"}constructor(e,t){super(e,tT.tagName),this.index=new Map,void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1)})}getModelParameters(e){let t=this.index.get(e);if(void 0!=t)return this.nodes.get(t)}removeModelParameters(e){let t=this.index.get(e);void 0!=t&&(this.nodes.delete(t),this.index.delete(e))}addModelParameters(e){let t=this.index.get(e.id);void 0!=t?(this.nodes.set(t,e),console.log("Replaced modelParameters with id "+e.id)):(this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1))}}class tM extends X{static{this.tagName="controlList"}constructor(e,t){super(e,tM.tagName),this.index=new Map,void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1)})}getControl(e){let t=this.index.get(e);if(void 0!=t)return this.nodes.get(t)}removeControl(e){let t=this.index.get(e);void 0!=t&&(this.nodes.delete(t),this.index.delete(e))}addControl(e){let t=this.index.get(e.id);void 0!==t?(this.nodes.set(t,e),console.log("Replaced control with id "+e.id)):(this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1))}}class tz extends X{static{this.tagName="me:mesmer"}static{this.precisionOptions=["d","dd","qd","double","double-double","quad-double"]}static{this.pressureUnits=["Torr","PPCC","atm","mbar","psi","mols/cc"]}static{this.energyUnits=["kJ/mol","kJ per mol","cm-1","wavenumber","kcal/mol","kcal per mol","Hartree","au"]}static{this.frequencyUnits=["cm-1","GHz","amuA^2"]}static{this.elementTypes=["H","He","Li","Be","B","C","N","O","F","Ne","Na","Mg","Al","Si","P","S","Cl","Ar","K","Ca","Sc","Ti","V","Cr","Mn","Fe","Co","Ni","Cu","Zn","Ga","Ge","As","Se","Br","Kr","Rb","Sr","Y","Zr","Nb","Mo","Tc","Ru","Rh","Pd","Ag","Cd","In","Sn","Sb","Te","I","Xe","Cs","Ba","La","Ce","Pr","Nd","Pm","Sm","Eu","Gd","Tb","Dy","Ho","Er","Tm","Yb","Lu","Hf","Ta","W","Re","Os","Ir","Pt","Au","Hg","Tl","Pb","Bi","Po","At","Rn","Fr","Ra","Ac","Th","Pa","U","Np","Pu","Am","Cm","Bk","Cf","Es","Fm","Md","No","Lr","Rf","Db","Sg","Bh","Hs","Mt","Ds","Rg","Cn","Nh","Fl","Mc","Lv","Ts","Og"]}static{this.atomMasses=new Map}static{this.atomRadii=new Map}static{this.atomColors=new Map}static{this.bondColors=new Map}static{this.header=`<?xml version="1.0" encoding="utf-8" ?>
<?xml-stylesheet type='text/xsl' href='../../mesmer2.xsl' media='other'?>
<?xml-stylesheet type='text/xsl' href='../../mesmer1.xsl' media='screen'?>`}constructor(e,t,s,i,n,a,o,d,r){super(e,tz.tagName);let l=["H","O","C","N","Cl","S","Ph","Fe"],g=["White","Red","DarkGrey","Blue","Green","Yellow","Orange","Brown"];for(let e=0;e<l.length;e++)tz.atomColors.set(l[e],g[e]);let h=[1.00784,15.999,12.011,14.007,35.453,32.06,77.845,55.845];for(let e=0;e<l.length;e++)tz.atomMasses.set(l[e],h[e]);let m=[37,66,67,56,99,102,110,124];for(let e=0;e<l.length;e++)tz.atomRadii.set(l[e],m[e]);let c=[1,1.5,2,2.5,3,3.5,4,4.5,5,5.5,6];g=["Black","Red","DarkRed","Blue","DarkBlue","Green","DarkGreen","Yellow","DarkYellow","Orange","DarkOrange"];for(let e=0;e<c.length;e++)tz.bondColors.set(c[e],g[e]);this.index=new Map,void 0!=t&&(this.index.set(ty.tagName,this.nodes.size),this.addNode(t)),void 0!=s&&(this.index.set(tb.tagName,this.nodes.size),this.addNode(s)),void 0!=i&&(this.index.set(tC.tagName,this.nodes.size),this.addNode(i)),this.conditionsIndex=new Map,void 0!=n&&n.forEach(e=>{this.index.set(eu.tagName+e.id,this.nodes.size),this.conditionsIndex.set(e.id,this.nodes.size),this.addNode(e)}),this.modelParametersIndex=new Map,void 0!=a&&a.forEach(e=>{this.index.set(tw.tagName+e.id,this.nodes.size),this.modelParametersIndex.set(e.id,this.nodes.size),this.addNode(e)}),this.controlIndex=new Map,void 0!=o&&o.forEach(e=>{this.index.set(tl.tagName+e.id,this.nodes.size),this.controlIndex.set(e.id,this.nodes.size),this.addNode(e)}),void 0!=d&&(this.index.set(tp.tagName,this.nodes.size),this.addNode(d)),void 0!=r&&(this.index.set(eo.tagName,this.nodes.size),this.addNode(r))}getTitle(){let e=this.index.get(ty.tagName);if(void 0!=e)return this.nodes.get(e)}setTitle(e){let t=this.index.get(ty.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ty.tagName,this.nodes.size),this.addNode(e))}getMoleculeList(){let e=this.index.get(tb.tagName);if(void 0!=e)return this.nodes.get(e)}setMoleculeList(e){let t=this.index.get(tb.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tb.tagName,this.nodes.size),this.addNode(e))}getReactionList(){let e=this.index.get(tC.tagName);if(void 0!=e)return this.nodes.get(e)}setReactionList(e){let t=this.index.get(tC.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tC.tagName,this.nodes.size),this.addNode(e))}addConditions(e){let t=eu.tagName+e.id,s=this.index.get(t);void 0!=s?this.nodes.set(s,e):(this.index.set(t,this.nodes.size),this.conditionsIndex.set(e.id,this.nodes.size),this.addNode(e))}getConditions(e){let t=this.conditionsIndex.get(e);if(void 0!=t)return this.nodes.get(t)}getConditionss(){let e=[];return this.conditionsIndex.forEach((t,s)=>{e.push(this.nodes.get(t))}),e}setConditionss(e){e.forEach(e=>{this.addConditions(e)})}getNextConditionsID(){let e=0;return Array.from(this.conditionsIndex.keys()).sort((e,t)=>e-t).forEach(t=>{if(t>e)return e;e++}),e}removeConditions(e){let t=this.conditionsIndex.get(e);void 0!=t&&(this.nodes.delete(t),this.index.delete(eu.tagName+e),this.conditionsIndex.delete(e))}addModelParameters(e){let t=tw.tagName+e.id,s=this.index.get(t);void 0!=s?this.nodes.set(s,e):(this.index.set(t,this.nodes.size),this.modelParametersIndex.set(e.id,this.nodes.size),this.addNode(e))}getModelParameters(e){let t=this.modelParametersIndex.get(e);if(void 0!=t)return this.nodes.get(t)}getModelParameterss(){let e=[];return this.modelParametersIndex.forEach((t,s)=>{e.push(this.nodes.get(t))}),e}setModelParameterss(e){e.forEach(e=>{this.addModelParameters(e)})}getNextModelParametersID(){let e=0;return Array.from(this.modelParametersIndex.keys()).sort((e,t)=>e-t).forEach(t=>{if(t>e)return e;e++}),e}removeModelParameters(e){let t=this.modelParametersIndex.get(e);void 0!=t&&(this.nodes.delete(t),this.index.delete(tw.tagName+e),this.modelParametersIndex.delete(e))}addControl(e){let t=tl.tagName+e.id,s=this.index.get(t);void 0!=s?this.nodes.set(s,e):(this.index.set(t,this.nodes.size),this.controlIndex.set(e.id,this.nodes.size),this.addNode(e))}getControl(e){let t=this.controlIndex.get(e);if(void 0!=t)return this.nodes.get(t)}getControls(){let e=[];return this.controlIndex.forEach((t,s)=>{e.push(this.nodes.get(t))}),e}setControls(e){e.forEach(e=>{this.addControl(e)})}getNextControlID(){let e=0;return Array.from(this.controlIndex.keys()).sort((e,t)=>e-t).forEach(t=>{if(t>e)return e;e++}),e}removeControl(e){let t=this.controlIndex.get(e);void 0!=t&&(this.nodes.delete(t),this.index.delete(tl.tagName+e),this.controlIndex.delete(e))}getMetadataList(){let e=this.index.get(tp.tagName);if(void 0!=e)return this.nodes.get(e)}setMetadataList(e){let t=this.index.get(tp.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tp.tagName,this.nodes.size),this.addNode(e))}getAnalysis(){let e=this.index.get(eo.tagName);if(void 0!=e)return this.nodes.get(e)}setAnalysis(e){let t=this.index.get(eo.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eo.tagName,this.nodes.size),this.addNode(e))}}class t_ extends V{static{this.tagName="me:description"}constructor(e,t){super(e,t_.tagName,t)}}class tR extends j{static{this.tagName="me:T"}constructor(e,t){super(e,tR.tagName,t)}}class tL extends U{static{this.tagName="atom"}static{this.s_id="id"}static{this.s_elementType="elementType"}static{this.s_x3="x3"}static{this.s_y3="y3"}static{this.s_z3="z3"}constructor(e,t){super(e,tL.tagName),this.molecule=t}hasCoordinates(){return void 0!=this.attributes.get(tL.s_x3)&&void 0!=this.attributes.get(tL.s_y3)&&void 0!=this.attributes.get(tL.s_z3)}getID(){return this.attributes.get(tL.s_id)}setID(e){this.attributes.set(tL.s_id,e)}getElementType(){return this.attributes.get(tL.s_elementType)}setElementType(e){this.attributes.set(tL.s_elementType,e)}getX3(){let e=this.attributes.get(tL.s_x3);if(void 0!=e)return new(r(l))(e)}setX3(e){this.attributes.set(tL.s_x3,e.toString())}removeX3(){this.attributes.delete(tL.s_x3)}getY3(){let e=this.attributes.get(tL.s_y3);if(void 0!=e)return new(r(l))(e)}setY3(e){this.attributes.set(tL.s_y3,e.toString())}removeY3(){this.attributes.delete(tL.s_y3)}getZ3(){let e=this.attributes.get(tL.s_z3);if(void 0!=e)return new(r(l))(e)}setZ3(e){this.attributes.set("z3",e.toString())}removeZ3(){this.attributes.delete("z3")}}class tP extends X{static{this.tagName="atomArray"}constructor(e,t){super(e,tP.tagName),this.index=new Map,this.reverseIndex=new Map,void 0==t?this.atoms=new Map:(this.atoms=t,t.forEach((e,t)=>{this.index.set(t,this.nodes.size),this.reverseIndex.set(this.nodes.size,t),this.nodes.set(this.nodes.size,e)}))}getAtom(e){return this.atoms.get(e)}addAtom(e,t){if(void 0==t){let s=e.getID();if(void 0==s)s=this.getNextAtomID(),e.setID(s);else if(this.atoms.has(s)){let t=this.getNextAtomID();console.warn("Atom with id "+s+" already exists, adding with id "+t),e.setID(t),s=t}t=s}return this.index.set(t,this.nodes.size),this.reverseIndex.set(this.nodes.size,t),this.nodes.set(this.nodes.size,e),this.atoms.set(t,e),t}getNextAtomID(){let e=1,t="a1";if(this.atoms.has(t))for(;this.atoms.has(t);)e++,t="a"+e.toString();return t}removeAtom(e){let t=this.index.get(e);if(void 0==t)throw Error("Atom with id "+e+" does not exist!");console.log("Removing atom with id "+e),this.atoms.delete(e),this.deleteNodeAndReindex(t,e)}deleteNodeAndReindex(e,t){this.nodes.delete(e),this.index.delete(t),this.reverseIndex.delete(e);let s=new Map,i=new Map,n=new Map;this.index.forEach((t,a)=>{t>e?(s.set(t-1,this.nodes.get(t)),i.set(a,t-1),n.set(t-1,a)):(s.set(t,this.nodes.get(t)),i.set(a,t),n.set(t,a))}),this.nodes=s,this.index=i,this.reverseIndex=n}}class tI extends U{static{this.tagName="bond"}static{this.s_atomRefs2="atomRefs2"}static{this.s_id="id"}static{this.s_order="order"}static{this.orderOptions=["1","1.5","2","2.5","3","3.5","4","4.5","5","5.5","6"]}constructor(e,t){super(e,tI.tagName),this.molecule=t}getAtomRefs2(){let e=this.attributes.get(tI.s_atomRefs2);return(e?.split(" "),void 0==e)?"a1 a1":e}setAtomRefs2(e){this.attributes.set(tI.s_atomRefs2,e)}getID(){return this.attributes.get(tI.s_id)}setID(e){this.attributes.set(tI.s_id,e)}getOrder(){let e=this.attributes.get(tI.s_order);if(void 0!=e)return parseFloat(e)}setOrder(e){this.attributes.set(tI.s_order,e.toString())}}class tB extends X{static{this.tagName="bondArray"}constructor(e,t){super(e,tB.tagName),this.index=new Map,this.reverseIndex=new Map,void 0==t?this.bonds=new Map:(this.bonds=t,t.forEach((e,t)=>{this.index.set(t,this.nodes.size),this.reverseIndex.set(this.nodes.size,t),this.nodes.set(this.nodes.size,e)}))}getBondIds(){return Array.from(this.bonds.keys())}getBond(e){return this.bonds.get(e)}addBond(e,t){if(void 0==t){let s=e.getID();if(void 0==s)s=this.getNextBondID(),e.setID(s);else if(this.bonds.has(s)){let t=this.getNextBondID();console.log("Bond with id "+s+" already exists, adding with id "+t),e.setID(t),s=t}t=s}return this.index.set(t,this.nodes.size),this.reverseIndex.set(this.nodes.size,t),this.nodes.set(this.nodes.size,e),this.bonds.set(t,e),t}getNextBondID(){let e=1,t="b1";for(;this.bonds.has(t);)e++,t="b"+e.toString();return t}removeBond(e){let t=this.index.get(e);if(void 0==t)throw Error("Bond with id "+e+" does not exist!");console.log("Removing bond with id "+e),this.bonds.delete(e),this.deleteNodeAndReindex(t,e)}deleteNodeAndReindex(e,t){this.nodes.delete(e),this.index.delete(t),this.reverseIndex.delete(e);let s=new Map,i=new Map,n=new Map;this.index.forEach((t,a)=>{t>e?(s.set(t-1,this.nodes.get(t)),i.set(a,t-1),n.set(t-1,a)):(s.set(t,this.nodes.get(t)),i.set(a,t),n.set(t,a))}),this.nodes=s,this.index=i,this.reverseIndex=n}}class tD extends V{static{this.tagName="scalar"}constructor(e,t){super(e,tD.tagName,t)}}class tA extends j{static{this.tagName="scalar"}static{this.s_units="units"}constructor(e,t){super(e,tA.tagName,t)}updateUnits(e){if(e){let t=this.attributes.get(tA.s_units);void 0!=t&&t!=e&&this.attributes.set(tA.s_units,e)}}getValue(){return this.value}setValue(e){this.value=e}}class tk extends Y{static{this.tagName="array"}static{this.s_units="units"}static{this.propertyDictRefs=new Set(["me:ZPE","me:Hf0","me:HfAT0","me:Hf298","me:rotConsts","me:symmetryNumber","me:TSOpticalSymmetryNumber","me:frequenciesScaleFactor","me:vibFreqs","me:MW","me:spinMultiplicity","me:epsilon","me:sigma","me:hessian","me:EinsteinAij","me:EinsteinBij"])}constructor(e,t,s){super(e,tk.tagName,t,s)}updateUnits(e){if(e){let t=this.attributes.get(tk.s_units);void 0!=t&&t!=e&&(this.attributes.set(tk.s_units,e),console.log("Units changed from "+t+" to "+e))}}}class tG extends Y{static{this.tagName="matrix"}static{this.s_rows="rows"}static{this.s_matrixType="matrixType"}static{this.s_units="units"}constructor(e,t,s){super(e,tk.tagName,t,s)}updateUnits(e){if(e){let t=this.attributes.get(tk.s_units);void 0!=t&&t!=e&&(this.attributes.set(tk.s_units,e),console.log("Units changed from "+t+" to "+e))}}}class tO extends X{static{this.tagName="property"}static{this.s_dictRef="dictRef"}constructor(e,t){super(e,tO.tagName);let s=e.get(tO.s_dictRef);if(void 0==s){let t=e.get("title");if(void 0==t)throw Error(tO.s_dictRef+" and title are undefined!");if("MW"==t)s="me:MW";else if("Hf298"==t)s="me:Hf298";else if("Hf0"==t)s="me:Hf0";else if("program"==t)s="program";else if("basis"==t)s="basis";else if("method"==t)s="method";else throw Error("Title "+t+"not recognised!")}this.dictRef=s,t&&this.nodes.set(0,t)}getProperty(){return this.nodes.get(0)}setProperty(e){this.nodes.set(0,e)}}class tF extends tO{static{this.dictRef="me:ZPE"}constructor(e,t){super(e,t)}setUnits(e){this.getProperty().updateUnits(e)}}class tH extends tO{static{this.dictRef="me:Hf0"}constructor(e,t){super(e,t)}setUnits(e){this.getProperty().updateUnits(e)}}class tq extends tO{static{this.dictRef="me:Hf298"}constructor(e,t){super(e,t)}setUnits(e){this.getProperty().updateUnits(e)}}class tU extends tO{static{this.dictRef="me:frequenciesScaleFactor"}constructor(e,t){super(e,t)}}class tV extends tO{static{this.dictRef="me:vibFreqs"}constructor(e,t){super(e,t)}}class tj extends tO{static{this.dictRef="me:rotConsts"}static{this.unitOptions=["cm-1","GHz","amuA^2"]}constructor(e,t){super(e,t)}}class tY extends tO{static{this.dictRef="me:MW"}constructor(e,t){super(e,t)}}class tX extends tO{static{this.dictRef="me:imFreqs"}constructor(e,t){super(e,t)}}class t$ extends X{static{this.tagName="propertyList"}constructor(e,t){super(e,t$.tagName),this.index=new Map,void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e),this.index.set(e.dictRef,this.nodes.size-1)})}getProperty(e){let t=this.index.get(e);if(void 0!=t)return this.nodes.get(t);throw Error("Property "+e+" does not exist")}setProperty(e){let t=this.index.get(e.dictRef);void 0==t?(this.nodes.set(this.nodes.size,e),this.index.set(e.dictRef,this.nodes.size-1)):(console.log("Property "+e.dictRef+" already exists, updating..."),this.nodes.set(t,e))}removeProperty(e){let t=this.index.get(e);if(void 0!=t){this.nodes.delete(t),this.index.delete(e);let s=new Map;this.index.forEach((e,i)=>{e>t?s.set(i,e-1):s.set(i,e)}),this.index=s}}}class tW extends Z{static{this.tagName="me:deltaEDown"}static{this.s_bathGas="bathGas"}constructor(e,t){super(e,tW.tagName,t)}getBathGas(){return this.attributes.get(tW.s_bathGas)}setBathGas(e){this.attributes.set(tW.s_bathGas,e)}}class tK extends tW{static{this.tagName="me:deltaEDown2"}constructor(e,t){super(e,t)}}class tZ extends Z{static{this.tagName="me:deltaEDownTExponent"}static{this.s_referenceTemperature="referenceTemperature"}constructor(e,t){super(e,tZ.tagName,t)}getReferenceTemperature(){return parseFloat(g(this.attributes,tZ.s_referenceTemperature))}setReferenceTemperature(e){this.attributes.set(tZ.s_referenceTemperature,e.toString())}}class tQ extends Z{static{this.tagName="me:deltaEDownLinEne"}constructor(e,t){super(e,tQ.tagName,t)}}class tJ extends X{static{this.tagName="me:energyTransferModel"}constructor(e,t){super(e,tJ.tagName),void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e)})}getDeltaEDowns(){let e=[];return this.nodes.forEach(t=>{t instanceof tW&&e.push(t)}),e}setDeltaEDowns(e){this.nodes.clear(),e.forEach(e=>{this.nodes.set(this.nodes.size,e)})}getDeltaEDown(e){if(e<0||e>=this.nodes.size)throw Error("index out of range");return this.nodes.get(e)}setDeltaEDown(e,t){this.nodes.set(e,t)}addDeltaEDown(e){return this.nodes.set(this.nodes.size,e),this.nodes.size-1}}class t0 extends U{static{this.tagName="me:DOSCMethod"}static{this.xsi_typeOptions=["ClassicalRotors","QMRotors","me:ClassicalRotors","me:QMRotors"]}static{this.s_xsi_type="xsi:type"}constructor(e){if(super(e,t0.tagName),void 0==e.get(t0.s_xsi_type)){let t=e.get("name");if(void 0==t)throw Error("Neither xsi:type or name are defined.");e.set(t0.s_xsi_type,t)}}getXsiType(){return this.attributes.get(t0.s_xsi_type)}setXsiType(e){this.attributes.set(t0.s_xsi_type,e)}}class t1 extends V{static{this.tagName="me:bondRef"}constructor(e,t){super(e,t1.tagName,t)}}class t2 extends U{static{this.tagName="me:PotentialPoint"}static{this.s_angle="angle"}static{this.s_potential="potential"}constructor(e){super(e,t2.tagName)}getAngle(){return this.attributes.get(t2.s_angle)}setAngle(e){this.attributes.set(t2.s_angle,e.toString())}getPotential(){return this.attributes.get(t2.s_potential)}setPotential(e){this.attributes.set(t2.s_potential,e.toString())}}class t3 extends U{static{this.tagName="me:DistributionCalcMethod"}static{this.s_default="default"}static{this.s_name="name"}constructor(e){super(e,t3.tagName)}getDefault(){return this.attributes.get(t3.s_default)}getName(){return this.attributes.get(t3.s_name)}}class t5 extends U{static{this.tagName="me:thermoValue"}static{this.s_T="T"}static{this.s_H="H"}static{this.s_S="S"}static{this.s_G="G"}static{this.s_Cp="Cp"}constructor(e){super(e,tL.tagName)}getT(){return new(r(l))(this.attributes.get(t5.s_T))}getH(){return new(r(l))(this.attributes.get(t5.s_H))}getS(){return new(r(l))(this.attributes.get(t5.s_S))}getG(){return new(r(l))(this.attributes.get(t5.s_G))}getCp(){return new(r(l))(this.attributes.get(t5.s_Cp))}toStringArray(){return[this.getT().toString(),this.getH().toString(),this.getS().toString(),this.getG().toString(),this.getCp().toString()]}toCSV(){return this.toStringArray().join(",")}}class t4 extends X{static{this.tagName="me:thermoTable"}static{this.s_unitsT="unitsT"}static{this.s_unitsH="unitsH"}static{this.s_unitsS="unitsS"}static{this.s_unitsG="unitsG"}static{this.s_unitsCp="unitsCp"}constructor(e,t){super(e,t4.tagName),void 0!=t?(t.forEach(e=>{this.addNode(e)}),this.tvs=t):this.tvs=[]}get(e){return this.tvs[e]}set(e,t){this.nodes.set(e,t),this.tvs[e]=t}add(e){return this.addNode(e),this.tvs.push(e),this.nodes.size-1}remove(e){this.nodes.delete(e),this.tvs.splice(e,1)}init(e){this.clear(),e.forEach(e=>{this.addNode(e),this.tvs.push(e)})}clear(){this.nodes.clear(),this.tvs=[]}getHeader(){return["T ("+this.attributes.get(t4.s_unitsT)+")","H(T)-H(0) ("+this.attributes.get(t4.s_unitsH)+")","S(T) ("+this.attributes.get(t4.s_unitsS)+")","G(T) ("+this.attributes.get(t4.s_unitsG)+")","Cp(T) ("+this.attributes.get(t4.s_unitsCp)+")"]}toCSV(){let e=this.getHeader().join(",")+"\n";return this.tvs.forEach(t=>{e+=t.toCSV()+"\n"}),e}}class t6 extends X{static{this.tagName="me:HinderedRotorPotential"}static{this.formats=new Set(["numerical","analytical"])}static{this.s_format="format"}static{this.s_units="units"}static{this.s_expansionSize="expansionSize"}static{this.s_useSineTerms="useSineTerms"}constructor(e,t){super(e,t6.tagName);let s=e.get(t6.s_format);if(void 0==s)throw Error(t6.s_format+" is undefined!");this.format=s;let i=e.get(t6.s_units);if(void 0==i)throw Error(t6.s_units+" is undefined!");this.units=i,void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e)}),void 0==e.get(t6.s_useSineTerms)?this.useSineTerms=!1:this.useSineTerms=!0}getFormat(){return this.format}setFormat(e){this.format=e,this.attributes.set(t6.s_format,e)}getUnits(){return this.units}setUnits(e){this.units=e,this.attributes.set(t6.s_units,e)}getExpansionSize(){return this.attributes.get(t6.s_expansionSize)}setExpansionSize(e){this.attributes.set(t6.s_expansionSize,e.toString())}getUseSineTerms(){return this.useSineTerms}setUseSineTerms(e){this.useSineTerms=e,this.attributes.set(t6.s_useSineTerms,e?"yes":"no")}getPotentialPoint(e){return this.nodes.get(e)}setPotentialPoint(e,t){this.nodes.set(e,t)}setPotentialPoints(e){this.nodes.clear(),e.forEach(e=>{this.nodes.set(this.nodes.size,e)})}addPotentialPoint(e){return this.nodes.set(this.nodes.size,e),this.nodes.size-1}removePotentialPoint(e){this.nodes.delete(e)}}class t8 extends j{static{this.tagName="me:periodicity"}constructor(e,t){super(e,t8.tagName,t)}}class t7 extends X{static{this.tagName="me:ExtraDOSCMethod"}constructor(e,t,s,i){super(e,t7.tagName),this.index=new Map,t&&(this.nodes.set(this.nodes.size,t),this.index.set(t1.tagName,this.nodes.size-1)),s&&(this.nodes.set(this.nodes.size,s),this.index.set(t6.tagName,this.nodes.size-1)),i&&(this.nodes.set(this.nodes.size,i),this.index.set(t8.tagName,this.nodes.size-1))}getBondRef(){let e=this.index.get(t1.tagName);if(void 0!=e)return this.nodes.get(e)}setBondRef(e){let t=this.index.get(t1.tagName);void 0!=t?this.nodes.set(t,e):(this.nodes.set(this.nodes.size,e),this.index.set(t1.tagName,this.nodes.size-1))}getHinderedRotorPotential(){let e=this.index.get(t6.tagName);if(void 0!=e)return this.nodes.get(e)}setHinderedRotorPotential(e){let t=this.index.get(t6.tagName);void 0!=t?this.nodes.set(t,e):(this.nodes.set(this.nodes.size,e),this.index.set(t6.tagName,this.nodes.size-1))}getPeriodicity(){let e=this.index.get(t8.tagName);if(void 0!=e)return this.nodes.get(e)}setPeriodicity(e){let t=this.index.get(t8.tagName);void 0!=t?this.nodes.set(t,e):(this.nodes.set(this.nodes.size,e),this.index.set(t8.tagName,this.nodes.size-1))}}class t9 extends j{static{this.tagName="me:reservoirSize"}constructor(e,t){super(e,t9.tagName,t)}}class se extends j{static{this.tagName="me:qtot"}constructor(e,t){super(e,se.tagName,t)}}class st extends j{static{this.tagName="me:sumc"}constructor(e,t){super(e,st.tagName,t)}}class ss extends j{static{this.tagName="me:sumg"}constructor(e,t){super(e,ss.tagName,t)}}class si extends X{static{this.tagName="me:densityOfStates"}static{this.header=[tR.tagName,se.tagName,st.tagName,ss.tagName]}constructor(e){super(e,si.tagName),this.index=new Map}getT(){let e=this.index.get(tR.tagName);if(void 0!=e)return this.nodes.get(e)}setT(e){let t=this.index.get(e.tagName);void 0!=t?this.nodes.set(t,e):(this.nodes.set(this.nodes.size,e),this.index.set(e.tagName,this.nodes.size-1))}getQtot(){let e=this.index.get(se.tagName);if(void 0!=e)return this.nodes.get(e)}setQtot(e){let t=this.index.get(e.tagName);void 0!=t?this.nodes.set(t,e):(this.nodes.set(this.nodes.size,e),this.index.set(e.tagName,this.nodes.size-1))}getSumc(){let e=this.index.get(st.tagName);if(void 0!=e)return this.nodes.get(e)}setSumc(e){let t=this.index.get(e.tagName);void 0!=t?this.nodes.set(t,e):(this.nodes.set(this.nodes.size,e),this.index.set(e.tagName,this.nodes.size-1))}getSumg(){let e=this.index.get(ss.tagName);if(void 0!=e)return this.nodes.get(e)}setSumg(e){let t=this.index.get(e.tagName);void 0!=t?this.nodes.set(t,e):(this.nodes.set(this.nodes.size,e),this.index.set(e.tagName,this.nodes.size-1))}toStringArray(){return[this.getT().value.toString(),this.getQtot().value.toString(),this.getSumc().value.toString(),this.getSumg().value.toString()]}}class sn extends X{static{this.tagName="me:densityOfStatesList"}constructor(e,t,s){if(super(e,sn.tagName),this.index=new Map,this.dosIndex=new Map,t&&(this.nodes.set(this.nodes.size,t),this.index.set(t_.tagName,this.nodes.size-1)),s){let e=0;s.forEach(t=>{this.dosIndex.set(e,this.nodes.size),this.nodes.set(this.nodes.size,t),e++})}}getDescription(){let e=this.index.get(t_.tagName);if(void 0!=e)return this.nodes.get(e)}setDescription(e){let t=this.index.get(t_.tagName);void 0!=t?this.nodes.set(t,e):(this.nodes.set(this.nodes.size,e),this.index.set(t_.tagName,this.nodes.size-1))}getDensityOfStates(e){let t=this.dosIndex.get(e);if(void 0!=t)return this.nodes.get(t)}setDensityOfStates(e,t){let s=this.dosIndex.get(e);void 0!=s?this.nodes.set(s,t):(this.nodes.set(this.nodes.size,t),this.dosIndex.set(e,this.nodes.size-1))}addDensityOfStates(e){this.nodes.set(this.nodes.size,e);let t=this.nodes.size-1;return this.dosIndex.set(t,this.nodes.size-1),t}removeDensityOfStates(e){let t=this.dosIndex.get(e);void 0!=t&&this.nodes.delete(t)}toCSV(){let e="",t=si.header;return e+=t.join(",")+"\n",this.nodes.forEach(t=>{e+=t.toStringArray().join(",")+"\n"}),e}}class sa extends X{static{this.tagName="molecule"}static{this.s_id="id"}static{this.s_description="description"}static{this.s_active="active"}constructor(e,t,s,i,n,a,o,d,r,l,g,h){super(e,sa.tagName),this.index=new Map,this.setID(t);let m=0;s&&(this.nodes.set(m,s),this.index.set(tp.tagName,m),m++),i&&(this.nodes.set(m,i),this.index.set(tP.tagName,m),m++),n&&(this.nodes.set(m,n),this.index.set(tB.tagName,m),m++),a&&(this.nodes.set(m,a),this.index.set(t$.tagName,m),m++),o&&(this.nodes.set(m,o),this.index.set(tJ.tagName,m),m++),d&&(this.nodes.set(m,d),this.index.set(t0.tagName,m)),r&&(this.nodes.set(m,r),this.index.set(t3.tagName,m)),l&&(this.nodes.set(m,l),this.index.set(t7.tagName,m)),g&&(this.nodes.set(m,g),this.index.set(t9.tagName,m)),h&&(this.nodes.set(m,h),this.index.set(t4.tagName,m))}getID(){return this.attributes.get(sa.s_id)}setID(e){this.attributes.set(sa.s_id,e)}getDescription(){let e=this.attributes.get(sa.s_description);return void 0!=e?e:this.getID()}setDescription(e){this.attributes.set(sa.s_description,e)}getActive(){let e=this.attributes.get(sa.s_active);if(void 0!=e)return"true"==e}setActive(e){this.attributes.set(sa.s_active,e.toString())}getLabel(){let e=this.getID(),t=this.getDescription();return void 0!=t&&(e+=" ("+t+")"),this.getActive()&&(e+=" ("+sa.s_active+")"),e}getMetadataList(){let e=this.index.get(tp.tagName);if(void 0!=e)return this.nodes.get(e)}setMetadataList(e){let t=this.index.get(tp.tagName);void 0==t?(this.index.set(tp.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getPropertyList(){let e=this.index.get(t$.tagName);if(void 0!=e)return this.nodes.get(e)}setPropertyList(e){let t=this.index.get(t$.tagName);void 0==t?(this.index.set(t$.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getProperty(e){let t=this.getPropertyList();if(void 0!=t)return t.getProperty(e)}setProperty(e){this.getPropertyList().setProperty(e)}getAtom(e){return this.getAtoms().getAtom(e)}getAtoms(){let e=this.index.get(tP.tagName);return this.nodes.get(e)}setAtoms(e){this.index.set(tP.tagName,this.nodes.size),this.nodes.set(this.nodes.size,e)}getBond(e){return this.getBonds().getBond(e)}getBonds(){let e=this.index.get(tB.tagName);return this.nodes.get(e)}setBonds(e){this.index.set(tB.tagName,this.nodes.size),this.nodes.set(this.nodes.size,e)}getEnergyTransferModel(){let e=this.index.get(tJ.tagName);if(void 0!=e)return this.nodes.get(e)}setEnergyTransferModel(e){let t=this.index.get(tJ.tagName);void 0==t?(this.index.set(tJ.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getDOSCMethod(){let e=this.index.get(t0.tagName);if(void 0!=e)return this.nodes.get(e)}setDOSCMethod(e){let t=this.index.get(t0.tagName);void 0==t?(this.index.set(t0.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getDistributionCalcMethod(){let e=this.index.get(t3.tagName);if(void 0!=e)return this.nodes.get(e)}setDistributionCalcMethod(e){let t=this.index.get(t3.tagName);void 0==t?(this.index.set(t3.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getExtraDOSCMethod(){let e=this.index.get(t7.tagName);if(void 0!=e)return this.nodes.get(e)}setExtraDOSCMethod(e){let t=this.index.get(t7.tagName);void 0==t?(this.index.set(t7.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getReservoirSize(){let e=this.index.get(t9.tagName);if(void 0!=e)return this.nodes.get(e)}setReservoirSize(e){let t=this.index.get(t9.tagName);void 0==t?(this.index.set(t9.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getDensityOfStatesList(){let e=this.index.get(sn.tagName);if(void 0!=e)return this.nodes.get(e)}setDensityOfStatesList(e){let t=this.index.get(sn.tagName);void 0==t?(this.index.set(sn.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getThermoTable(){let e=this.index.get(t4.tagName);if(void 0!=e)return this.nodes.get(e)}setThermoTable(e){let t=this.index.get(t4.tagName);void 0==t?(this.index.set(t4.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getEnergy(){let e=this.getProperty(tF.dictRef);if(void 0==e)throw console.log(this.toString()),Error(tF.dictRef+" property not found!");return e.getProperty().value}}class so extends U{static{this.tagName="molecule"}constructor(e){super(e,so.tagName),this.ref=e.get("ref"),this.role=e.get("role")}setRole(e){this.role=e}}class sd extends X{static{this.tagName="reactant"}static{this.roleOptions=["deficientReactant","excessReactant","modelled"]}constructor(e,t){super(e,sd.tagName),this.addNode(t)}getMolecule(){return this.nodes.get(0)}}class sr extends X{static{this.tagName="product"}static{this.roleOptions=["modelled","sink"]}constructor(e,t){super(e,sr.tagName),this.addNode(t)}getMolecule(){return this.nodes.get(0)}}class sl extends X{static{this.tagName="me:transitionState"}constructor(e,t){super(e,sl.tagName),this.addNode(t)}getMolecule(){return this.nodes.get(0)}}class sg extends j{static{this.tagName="me:preExponential"}constructor(e,t){super(e,sg.tagName,t)}}class sh extends j{static{this.tagName="me:activationEnergy"}constructor(e,t){super(e,sh.tagName,t)}}class sm extends j{static{this.tagName="me:TInfinity"}constructor(e,t){super(e,sm.tagName,t)}}class sc extends j{static{this.tagName="me:nInfinity"}constructor(e,t){super(e,sc.tagName,t)}}class su extends X{static{this.tagName="me:MCRCMethod"}constructor(e){super(e,su.tagName)}}class sN extends su{static{this.xsiType="me:MesmerILT"}static{this.xsiType2="MesmerILT"}constructor(e,t,s,i,n){super(e),this.index=new Map,void 0!=t&&(this.index.set(sg.tagName,this.index.size),this.addNode(t)),void 0!=s&&(this.index.set(sh.tagName,this.index.size),this.addNode(s)),void 0!=i&&(this.index.set(sm.tagName,this.index.size),this.addNode(i)),void 0!=n&&(this.index.set(sc.tagName,this.index.size),this.addNode(n))}getPreExponential(){let e=this.index.get(sg.tagName);if(void 0!=e)return this.nodes.get(e)}setPreExponential(e){let t=this.index.get(sg.tagName);void 0==t?(this.index.set(sg.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getActivationEnergy(){let e=this.index.get(sh.tagName);if(void 0!=e)return this.nodes.get(e)}setActivationEnergy(e){let t=this.index.get(sh.tagName);void 0==t?(this.index.set(sh.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getTInfinity(){let e=this.index.get(sm.tagName);if(void 0!=e)return this.nodes.get(e)}setTInfinity(e){let t=this.index.get(sm.tagName);void 0==t?(this.index.set(sm.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getNInfinity(){let e=this.index.get(sc.tagName);if(void 0!=e)return this.nodes.get(e)}setNInfinity(e){let t=this.index.get(sc.tagName);void 0==t?(this.index.set(sc.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}}class sp extends U{static{this.tagName="me:tunneling"}static{this.options=["Eckart","WKB"]}static{this.s_name="name"}constructor(e){super(e,sp.tagName)}getName(){return this.attributes.get(sp.s_name)}setName(e){this.attributes.set(sp.s_name,e)}}class sf extends j{static{this.tagName="me:excessReactantConc"}constructor(e,t){super(e,sf.tagName,t)}}class sx extends j{static{this.tagName="me:val"}constructor(e,t){super(e,sx.tagName,t)}}class sv extends j{static{this.tagName="me:rev"}constructor(e,t){super(e,sv.tagName,t)}}class sE extends j{static{this.tagName="me:Keq"}constructor(e,t){super(e,sE.tagName,t)}}class sw extends X{static{this.tagName="me:kinf"}constructor(e,t,s,i,n){super(e,sw.tagName),this.index=new Map,void 0!=t&&(this.index.set(tR.tagName,this.nodes.size),this.addNode(t)),void 0!=s&&(this.index.set(sx.tagName,this.nodes.size),this.addNode(s)),void 0!=i&&(this.index.set(sv.tagName,this.nodes.size),this.addNode(i)),void 0!=n&&(this.index.set(sE.tagName,this.nodes.size),this.addNode(n))}getT(){let e=this.index.get(tR.tagName);if(void 0!=e)return this.nodes.get(e)}setT(e){let t=this.index.get(tR.tagName);void 0==t?(this.index.set(tR.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getVal(){let e=this.index.get(sx.tagName);if(void 0!=e)return this.nodes.get(e)}setVal(e){let t=this.index.get(sx.tagName);void 0==t?(this.index.set(sx.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getRev(){let e=this.index.get(sv.tagName);if(void 0!=e)return this.nodes.get(e)}setRev(e){let t=this.index.get(sv.tagName);void 0==t?(this.index.set(sv.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getKeq(){let e=this.index.get(sE.tagName);if(void 0!=e)return this.nodes.get(e)}setKeq(e){let t=this.index.get(sE.tagName);void 0==t?(this.index.set(sE.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getHeader(){let e=[];return e.push("T ("+this.getT()?.attributes.get("units")+")"),e.push("kf ("+this.getVal()?.attributes.get("units")+")"),e.push("krev ("+this.getRev()?.attributes.get("units")+")"),e.push("Keq ("+this.getKeq()?.attributes.get("units")+")"),e}toStringArray(){let e=this.getT(),t=this.getVal(),s=this.getRev(),i=this.getKeq();return[e.getValue().toString(),t.getValue().toString(),s.getValue().toString(),i.getValue().toString()]}toCSV(){return this.toStringArray().join(",")}}class sy extends X{static{this.tagName="me:canonicalRateList"}constructor(e,t,s){super(e,sy.tagName),this.index=new Map,this.kinfIndex=new Map,void 0!=t&&(this.index.set(t_.tagName,this.nodes.size),this.addNode(t)),void 0!=s&&s.forEach(e=>{this.kinfIndex.set(this.nodes.size,this.nodes.size),this.addNode(e)})}getDescription(){let e=this.index.get(t_.tagName);if(void 0!=e)return this.nodes.get(e)}setDescription(e){let t=this.index.get(t_.tagName);void 0==t?(this.index.set(t_.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getKinfs(){return Array.from(this.kinfIndex.values()).map(e=>this.nodes.get(e))}addKinf(e){this.kinfIndex.set(this.kinfIndex.size,this.nodes.size),this.addNode(e)}toCSV(){let e="",t=!0;return this.getKinfs().forEach(s=>{t&&(t=!1,e+=s.getHeader().join(",")+"\n"),e+=s.toCSV()+"\n"}),e}}class sb extends X{static{this.tagName="reaction"}static{this.s_id="id"}constructor(e,t,s,i,n,a,o,d){super(e,sb.tagName),this.index=new Map,this.reactantsIndex=new Map,this.productsIndex=new Map,this.transitionStatesIndex=new Map;let r=e.get(sb.s_id);if(void 0==r)throw Error(sb.s_id+" is undefined!");this.id=r,void 0!=t&&(t.forEach(e=>{this.reactantsIndex.set(e.getMolecule().ref,this.nodes.size),this.addNode(e)}),this.index.set(sd.tagName,this.reactantsIndex)),void 0!=s&&(s.forEach(e=>{this.productsIndex.set(e.getMolecule().ref,this.nodes.size),this.addNode(e)}),this.index.set(sr.tagName,this.productsIndex)),void 0!=i&&(this.index.set(sp.tagName,this.nodes.size),this.addNode(i)),void 0!=n&&(n.forEach(e=>{this.transitionStatesIndex.set(e.getMolecule().ref,this.nodes.size),this.addNode(e)}),this.index.set(sl.tagName,this.transitionStatesIndex)),void 0!=a&&(this.index.set(su.tagName,this.nodes.size),this.addNode(a)),void 0!=o&&(this.index.set(sf.tagName,this.nodes.size),this.addNode(o)),void 0!=d&&(this.index.set(sy.tagName,this.nodes.size),this.addNode(d))}addToIndex(e,t){let s=this.index.get(e);if(void 0==s)this.index.set(e,this.nodes.size);else if(s instanceof Map)s.set(t.tagName,this.nodes.size);else{let i=new Map;i.set(this.nodes.get(s).ref,s),i.set(t.tagName,this.nodes.size),this.index.set(e,i)}}getReactants(){let e=this.index.get(sd.tagName);return void 0==e?[]:e instanceof Map?Array.from(e.values()).map(e=>this.nodes.get(e)):[this.nodes.get(e)]}setReactants(e){e.forEach(e=>{this.reactantsIndex.set(e.getMolecule().ref,this.nodes.size),this.addNode(e)}),this.index.set(sd.tagName,this.reactantsIndex)}getReactant(e){let t=this.reactantsIndex.get(e);if(void 0==t)throw Error(`Reactant with ref ${e} not found`);return this.nodes.get(t)}addReactant(e){this.reactantsIndex.set(e.getMolecule().ref,this.nodes.size),this.addNode(e)}removeReactant(e){let t=this.reactantsIndex.get(e);if(void 0==t)throw Error(`Reactant with ref ${e} not found`);this.nodes.delete(t),this.reactantsIndex.delete(e)}getProducts(){let e=this.index.get(sr.tagName);return void 0==e?[]:e instanceof Map?Array.from(e.values()).map(e=>this.nodes.get(e)):[this.nodes.get(e)]}setProducts(e){e.forEach(e=>{this.productsIndex.set(e.getMolecule().ref,this.nodes.size),this.addNode(e)}),this.index.set(sr.tagName,this.productsIndex)}getProduct(e){let t=this.productsIndex.get(e);if(void 0==t)throw Error(`Product with ref ${e} not found`);return this.nodes.get(t)}addProduct(e){this.productsIndex.set(e.getMolecule().ref,this.nodes.size),this.addNode(e)}removeProduct(e){let t=this.productsIndex.get(e);if(void 0==t)throw Error(`Product with ref ${e} not found`);this.nodes.delete(t),this.productsIndex.delete(e)}getTunneling(){let e=this.index.get(sp.tagName);if(void 0!=e)return this.nodes.get(e)}setTunneling(e){let t=this.index.get(sp.tagName);if(void 0==t)this.index.set(sp.tagName,this.nodes.size),this.addNode(e);else{if(t instanceof Map)throw Error("Tunneling is a map and it is assumed there would be only 1!");this.nodes.set(t,e)}}getTransitionStates(){let e=this.index.get(sl.tagName);return void 0==e?[]:e instanceof Map?Array.from(e.values()).map(e=>this.nodes.get(e)):[this.nodes.get(e)]}setTransitionStates(e){e.forEach(e=>{this.transitionStatesIndex.set(e.getMolecule().ref,this.nodes.size),this.addNode(e)}),this.index.set(sl.tagName,this.transitionStatesIndex)}getTransitionState(e){let t=this.transitionStatesIndex.get(e);if(void 0==t)throw Error(`Transition state with ref ${e} not found`);return this.nodes.get(t)}addTransitionState(e){this.transitionStatesIndex.set(e.getMolecule().ref,this.nodes.size),this.addNode(e)}removeTransitionState(e){let t=this.transitionStatesIndex.get(e);if(void 0==t)throw Error(`Transition State with ref ${e} not found`);this.nodes.delete(t),this.transitionStatesIndex.delete(e)}getMCRCMethod(){let e=this.index.get(su.tagName);if(void 0!=e)return this.nodes.get(e)}setMCRCMethod(e){let t=this.index.get(su.tagName);if(void 0==t)this.index.set(su.tagName,this.nodes.size),this.addNode(e);else{if(t instanceof Map)throw Error("MCRCMethod is a map and it is assumed there would be only 1!");this.nodes.set(t,e)}}getExcessReactantConc(){let e=this.index.get(sf.tagName);if(void 0!=e)return this.nodes.get(e)}setExcessReactantConc(e){let t=this.index.get(sf.tagName);if(void 0==t)this.index.set(sf.tagName,this.nodes.size),this.addNode(e);else{if(t instanceof Map)throw Error("ExcessReactantConc is a map and it is assumed there would be only 1!");this.nodes.set(t,e)}}getCanonicalRateList(){let e=this.index.get(sy.tagName);if(void 0!=e)return this.nodes.get(e)}setCanonicalRateList(e){let t=this.index.get(sy.tagName);if(void 0==t)this.index.set(sy.tagName,this.nodes.size),this.addNode(e);else{if(t instanceof Map)throw Error("CanonicalRateList is a map and it is assumed there would be only 1!");this.nodes.set(t,e)}}getReactantsLabel(){return this.getReactants().map(e=>e.getMolecule().ref).join(" + ")}getProductsLabel(){return this.getProducts().map(e=>e.getMolecule().ref).join(" + ")}getLabel(){return this.getReactantsLabel()+" -> "+this.getProductsLabel()}getReactantsEnergy(e){return Array.from(this.getReactants()).map(t=>{let s=e.get(t.getMolecule().ref);if(void 0==s)throw Error(`Molecule with ref ${t.getMolecule().ref} not found`);return s.getEnergy()}).reduce((e,t)=>e.add(t),new(r(l))(0))}getProductsEnergy(e){return Array.from(this.getProducts()).map(t=>{let s=e.get(t.getMolecule().ref);if(void 0==s)throw Error(`Molecule with ref ${t.getMolecule().ref} not found`);return s.getEnergy()}).reduce((e,t)=>e.add(t),new(r(l))(0))}get(e,t){if(this.index.has(e)){let s=this.index.get(e);if(void 0!=s){if(!(s instanceof Map))return this.nodes.get(s);{let e=s.get(t);if(void 0!=e)return this.nodes.get(e)}}}}}function sC(e,t,s,i,n,a,o,d,r,l,g){let h=i+(a-i)/2;sT(e,g,d,t,h-sM(e,g,d)/2,o+r),sT(e,l,d,t,h-sM(e,l,d)/2,o+3*r),sS(e,t,s,i,n,a,o)}function sS(e,t,s,i,n,a,o){e.beginPath(),e.strokeStyle=t,e.lineWidth=s,e.moveTo(i,n),e.lineTo(a,o),e.stroke()}function sT(e,t,s,i,n,a){e.save(),e.translate(n,a),e.scale(1,-1),e.font=s,e.fillStyle=i,e.fillText(t,0,0),e.restore()}function sM(e,t,s){return e.font=s,e.measureText(t).width}class sz{constructor(){this.tagName="defaults",this.values=new Map,this.attributess=new Map}readFile(){let e=document.createElement("input");e.type="file";let t=this;e.onchange=function(){if(e.files){for(let t=0;t<e.files.length;t++)console.log("inputElement.files["+t+"]="+e.files[t]);let s=e.files[0];console.log(s.name),s.name;let i=new FileReader,n=0,a="";i.onload=function(e){if(null==e.target)throw Error("Event target is null");if(a+=e.target.result,null!=s){if(n<s.size){let e=s.slice(n,n+1048576);i.readAsText(e),n+=1048576}else{a=a.trim();let e=new DOMParser().parseFromString(a,"text/xml");t.parse(e)}}};let o=s.slice(n,n+1048576);i.readAsText(o),n+=1048576}},e.click()}parse(e){let t=K(e,this.tagName);console.log("Default attributes: "+m(W(t)));let s=t.children;console.log("children.length="+s.length);for(let e=0;e<s.length;e++){let t=s[e],i=t.tagName;console.log("tagName="+i);let n=W(t);if(this.attributess.set(i,n),console.log("Attributes: "+m(n)),"property"==i){let e=t.getAttribute("dictRef");try{let s=K(t,"scalar").innerHTML;null!=s?(console.log("v="+s),this.values.set(e,s)):console.log("v is null")}catch(e){console.log("Error: "+e)}}else{let e=t.innerHTML;null!=e?(console.log("v="+e),this.values.set(i,e)):console.log("v is null")}}console.log("values: "+m(this.values)),this.attributess.forEach((e,t)=>{console.log("key="+t+" value="+m(e))})}}class s_{constructor(){}readFile(){return new Promise((e,t)=>{let s=document.createElement("input");s.type="file";let i=this;s.onchange=function(){if(s.files){let n=s.files[0];n.name;let a=new FileReader,o=0,d="";a.onload=function(s){if(null==s.target){t(Error("Event target is null"));return}if(d+=s.target.result,null!=n){if(o<n.size){let e=n.slice(o,o+1048576);a.readAsText(e),o+=1048576}else{d=d.trim();let t=new DOMParser().parseFromString(d,"text/xml");e(i.parse(t))}}};let r=n.slice(o,o+1048576);a.readAsText(r),o+=1048576}},s.click()})}parse(e){let t=new Map,s=K(e,tb.tagName),i=new Set;s.childNodes.forEach(function(e){i.add(e.nodeName)});let n=s.getElementsByTagName(sa.tagName),a=n.length;console.log("Number of molecules="+a);let o=0;for(let e=0;e<a;e++){let s=W(n[e]),i=s.get(sa.s_id);if(void 0==i)throw Error(sa.s_id+" is undefined");let a=n[e].childNodes;if(0==a.length){if(o++,void 0==s.get("ref"))throw Error("ref is undefined");continue}let d=new sa(s,i);t.set(i,d);let g=new Set;for(let e=0;e<a.length;e++){let t=a[e];g.has(t.nodeName)?"#text"!=t.nodeName&&console.warn("Another ChildNode with nodeName="+t.nodeName):g.add(t.nodeName)}let h=n[e].getElementsByTagName(tp.tagName);if(h.length>0){if(h.length>1)throw Error("Expecting 1 or 0 "+tp.tagName+" but finding "+h.length+"!");let e=new tp(W(h[0]));d.setMetadataList(e);let t=h[0].getElementsByTagName(tg.tagName);for(let s=0;s<t.length;s++){let i=new tg(W(t[s]));e.addMetadata(i)}g.delete(tp.tagName)}let m=n[e].getElementsByTagName(tP.tagName);if(m.length>1)throw Error("Expecting 1 or 0 "+tP.tagName+" but finding "+m.length+"!");if(1==m.length){let e=m[0],t=e.getElementsByTagName(tL.tagName);if(0==t.length)throw Error("Expecting 1 or more atoms in "+tP.tagName+", but finding 0!");let s=new tP(W(e));d.setAtoms(s);for(let e=0;e<t.length;e++)s.addAtom(new tL(W(t[e]),d));g.delete(tP.tagName)}else{let t=n[e].getElementsByTagName(tL.tagName);if(1==t.length){let e=new tP(new Map);e.addAtom(new tL(W(t[0]),d)),d.setAtoms(e)}else if(t.length>1)throw Error("Expecting 1 "+tL.tagName+" but finding "+t.length+". Should these be in an "+tP.tagName+"?")}g.delete(tL.tagName);let c=n[e].getElementsByTagName(tB.tagName);if(c.length>0){if(c.length>1)throw Error("Expecting 1 or 0 "+tB.tagName+" but finding "+c.length+"!");let e=c[0].getElementsByTagName(tI.tagName),t=new tB(W(c[0]));for(let s=0;s<e.length;s++)t.addBond(new tI(W(e[s]),d));d.setBonds(t),g.delete(tB.tagName)}else{let t=n[e].getElementsByTagName(tI.tagName);if(t.length>0){if(t.length>1)throw Error("Expecting 1 "+tI.tagName+" but finding "+t.length+". Should these be in a "+tB.tagName+"?");let e=new tB(new Map);e.addBond(new tI(W(t[0]),d)),d.setBonds(e)}}g.delete(tI.tagName);let u=n[e].getElementsByTagName(t$.tagName);if(u.length>1)throw Error("Expecting 1 or 0 "+t$.tagName+" but finding "+u.length+"!");if(1==u.length){let e=new t$(W(u[0]));d.setPropertyList(e);let t=u[0].getElementsByTagName(tO.tagName);for(let s=0;s<t.length;s++)e.setProperty(new tO(W(t[s])));g.delete(t$.tagName)}else{let t=new t$(new Map);d.setPropertyList(t);let s=n[e].getElementsByTagName(tO.tagName);if(1!=s.length)throw Error("Expecting 1 "+tO.tagName+" but finding "+s.length+". Should these be in a "+t$.tagName+"?");t.setProperty(new tO(W(s[0]))),g.delete(tO.tagName)}let N=n[e].getElementsByTagName(tJ.tagName);if(N.length>0){if(N.length>1)throw Error("Expecting 1 or 0 "+tJ.tagName+" but finding "+N.length+"!");let e=new tJ(W(N[0]));d.setEnergyTransferModel(e),g.delete(tJ.tagName)}let p=n[e].getElementsByTagName(t0.tagName);if(p.length>0){if(p.length>1)throw Error("Expecting 1 or 0 "+t0.tagName+" but finding "+p.length+"!");let e=new t0(W(p[0]));d.setDOSCMethod(e),g.delete(t0.tagName)}let f=n[e].getElementsByTagName(t3.tagName);if(f.length>0){if(f.length>1)throw Error("Expecting 1 or 0 "+t3.tagName+" but finding "+f.length+"!");let e=new t3(W(f[0]));d.setDistributionCalcMethod(e),g.delete(t3.tagName)}let x=n[e].getElementsByTagName(sn.tagName);if(x.length>0){if(x.length>1)throw Error("Expecting 1 or 0 "+sn.tagName+" but finding "+x.length+"!");let e=new sn(W(x[0]));d.setDensityOfStatesList(e);let t=x[0].getElementsByTagName(si.tagName),s=x[0].getElementsByTagName(t_.tagName);if(s.length>0){if(s.length>1)throw Error("Expecting 1 or 0 "+t_.tagName+" but finding "+s.length+"!");let t=new t_(W(s[0]),F(O(s[0])));e.setDescription(t)}if(0==t.length)throw Error("Expecting 1 or more "+si.tagName+" but finding 0!");for(let s=0;s<t.length;s++){let i=new si(W(t[s]));e.addDensityOfStates(i);let n=t[s].getElementsByTagName(tR.tagName);if(1!=n.length)throw Error("Expecting 1 "+tR.tagName+" but finding "+n.length+"!");{let e=new tR(W(n[0]),new(r(l))(F(O(n[0]))));i.setT(e)}let a=t[s].getElementsByTagName(se.tagName);if(1!=a.length)throw Error("Expecting 1 "+se.tagName+" but finding "+a.length+"!");{let e=new se(W(a[0]),new(r(l))(F(O(a[0]))));i.setQtot(e)}let o=t[s].getElementsByTagName(st.tagName);if(1!=o.length)throw Error("Expecting 1 "+st.tagName+" but finding "+o.length+"!");{let e=new st(W(o[0]),new(r(l))(F(O(o[0]))));i.setSumc(e)}let d=t[s].getElementsByTagName(ss.tagName);if(1!=d.length)throw Error("Expecting 1 "+ss.tagName+" but finding "+d.length+"!");{let e=new ss(W(d[0]),new(r(l))(F(O(d[0]))));i.setSumg(e)}}g.delete(sn.tagName)}g.delete("#text"),g.size>0&&(console.warn("There are additional unexpected moleculeTagNames:"),g.forEach(e=>console.warn(e)))}return console.log("Number of molecules="+t.size),console.log("Number of alias molecules="+o.toString()),t}}let sR="https://github.com/agdturner/mxg-pwa",sL=document.createElement("a");sL.href=sR,sL.textContent=sR;let sP="https://github.com/agdturner/mxg-pwa/tree/main/data/examples",sI=document.createElement("a");sI.href=sP,sI.textContent=sP;let sB="https://github.com/MESMER-kinetics/MESMER-code",sD=document.createElement("a");sD.href=sB,sD.textContent=sB;let sA=document.createElement("a");sA.href="https://epsrc.ukri.org/",sA.textContent="The UK Engineering and Physical Sciences Research Council (EPSRC)";let sk=document.createElement("a");sk.href="https://www.leeds.ac.uk/",sk.textContent="The University of Leeds";let sG="https://github.com/3dmol/3Dmol.js",sO=document.createElement("a");sO.href=sG,sO.textContent=sG;let sF=document.createElement("a");sF.href="http://doi.org/10.1093/bioinformatics/btu829",sF.textContent="doi:10.1093/bioinformatics/btu829";let sH="https://mikemcl.github.io/big.js/",sq=document.createElement("a");sq.href=sH,sq.textContent=sH,r(l).PE=7;let sU={marginLeft:"0px",marginTop:"1px",marginBottom:"1px",marginRight:"0px"},sV={marginLeft:"25px",marginTop:"1px",marginBottom:"1px",marginRight:"0px"},sj={marginLeft:"1px",marginTop:"1px",marginBottom:"1px",marginRight:"1px"};const sY=" ✓",sX=" ✗",s$="Add ＋",sW="container",sK="description",sZ="input",sQ="optionOn",sJ="optionOff",s0="save",s1="Select an option (use keys to cycle through options)...",s2="table",s3="undefined",s5="units",s4=new Set,s6=new Set;function s8(...e){let t=h(...e);if(s4.has(t))throw Error(t+" already exists!");return s4.add(t),console.log('addID: "'+t+'"'),t}function s7(...e){let t=s8(...e);return s6.add(t),t}function s9(e){let t=document.getElementById(e);null!=t&&t.remove(),s6.delete(e),s4.delete(e)}const ie=s8("menu"),it=s8("title"),is=s8("molecules"),ii=s8("reactions"),ia=s8("reactionsDiagram"),io=s8("conditions"),id=s8("modelParameters"),ir=s8("control"),il=s8("metadata"),ig=s8("analysis"),ih=s8("xml"),im=s8("welcome"),ic=new(r(l))(0);let iu=new Map;const iN="Reactions Diagram",ip=s7(iN),ix=s7(ip,"Canvas");let iv="1em SensSerif",iE="2em SensSerif";function iw(){null==d?nx(document.getElementById(ix),t,iv,4,2):nx(d.document.getElementById(ix),t,iv,4,2)}function iy(){o.forEach(e=>{e.draw(iE)})}function ib(e,t,s,i){let a="✎ Edit id",o=s7(s.id,a,v),d=P(a,o,i);s.appendChild(d),d.addEventListener("click",()=>{let i=prompt("Please enter a name for the molecule:",e.getID());if(null!=i){let a=s7(i);iR(ed.tagName,a);let o=e.getID();i_(ed.tagName,o),n.set(a,e),n.delete(e.getID()),e.setID(a),s.id=a,t.textContent=i+" ▲"}})}function iC(e,t,s,i,n){let a=B(void 0,n),o=sK+sY,d=sK+sX,r=P(d,s7(e,v),i);a.appendChild(r),r.classList.add(sQ),r.classList.add(sJ);let l=s7(e,sK,sZ),g=t();return void 0==g?(r.textContent=d,r.classList.toggle(sQ)):(iS(a,l,g,s,i),r.textContent=o,r.classList.toggle(sJ)),r.addEventListener("click",e=>{null==document.getElementById(l)?(iS(a,l,g,s,i),r.textContent=o):(document.getElementById(l)?.remove(),console.log("Removed "+l),r.textContent=d),r.classList.toggle(sQ),r.classList.toggle(sJ)}),a}function iS(e,t,s,i,n){let a;a=void 0==s?"":s;let o=C("text",t,n);o.addEventListener("change",e=>{let n=e.target;i(n.value),console.log(t+" changed from "+s+" to "+n.value),M(n)}),o.value=a,M(o),e.appendChild(o)}function iT(e,t,s,i,n){let a=P(s$,s7(e.getID(),"Add"+s+"Button"),n);return a.addEventListener("click",()=>{let s=new tL(new Map,e);t.insertBefore(iM(e,e.getAtoms(),s,i,n),a)}),a}function iM(e,t,s,i,n){let a,o,d,r,l=t.addAtom(s,s.getID()),g=B(s7(e.getID(),l),n);return g.appendChild(D(l,i)),a=s.getElementType(),o=tz.elementTypes,void 0==a&&(a=s1,iI(o,!0)),(r=(d=L(tL.s_elementType,o,tL.s_elementType,a,s7(g.id,tL.s_elementType),i,i)).querySelector("select")).addEventListener("change",e=>{let t=e.target;s.setElementType(t.value),z(t)}),r.value=a,z(r),nu(o,r),g.appendChild(d),g.appendChild(iB(s7(g.id,tL.s_x3),tL.s_x3,s.getX3.bind(s),s.setX3.bind(s),s.removeX3,i,i)),g.appendChild(iB(s7(g.id,tL.s_y3),tL.s_y3,s.getY3.bind(s),s.setY3.bind(s),s.removeY3,i,i)),g.appendChild(iB(s7(g.id,tL.s_z3),tL.s_z3,s.getZ3.bind(s),s.setZ3.bind(s),s.removeZ3,i,i)),ik(g,i,iz,e,l),iR(tI.s_atomRefs2,l),g}function iz(e,t){e.getAtoms().removeAtom(t),e.getBonds().bonds.forEach(s=>{let i=s.getAtomRefs2().split(" ");if(i[0]==t||i[1]==t){let i=s.getID();e.getBonds().removeBond(i);let n=document.getElementsByClassName(t);for(let e=0;e<n.length;e++)n[e].remove()}}),i_(tI.s_atomRefs2,t)}function i_(e,t){let s=document.getElementsByClassName(e);for(let e=0;e<s.length;e++)s[e]instanceof HTMLSelectElement&&Array.from(s[e].options).forEach(e=>{e.value==t&&e.remove()})}function iR(e,t){let s=document.getElementsByClassName(e);console.log("n elements with className "+e+"="+s.length);for(let e=0;e<s.length;e++){let i=s[e];if(s[e]instanceof HTMLSelectElement){let e=document.createElement("option");e.value=t,e.text=t,i.add(e)}}}function iL(e,t,s,i,n,a){let o=P(s$,s7(t,"Add"+i+"Button"),a);return o.addEventListener("click",()=>{let t=e.getAtoms().atoms;if(t.size<2){alert("There must be at least 2 atoms to create a bond.");return}let i=new Map,d=Array.from(t.keys()).slice(0,2).join(" ");i.set(tI.s_atomRefs2,d);let r=new tI(i,e);s.insertBefore(iP(e,t,e.getBonds(),r,n,a),o)}),s.appendChild(o),o}function iP(e,t,s,i,n,a){let o,d,r,l,g,h,m,c=s.addBond(i,i.getID()),u=B(s7(e.getID(),c),a);return u.appendChild(D(c,n)),o=s7(u.id,tI.s_atomRefs2),d=i.getAtomRefs2().split(" "),r=Array.from(e.getAtoms().atoms.keys()),(g=(l=L(tI.s_atomRefs2+"[0]",r,tL.tagName,d[0],s7(o,0),n,n)).querySelector("select")).classList.add(tI.s_atomRefs2),g.addEventListener("change",e=>{let t=e.target,s=t.value+" "+d[1];console.log(tI.s_atomRefs2+" changed to "+s),i.setAtomRefs2(s),z(t)}),g.value=d[0],z(g),u.appendChild(l),(m=(h=L(tI.s_atomRefs2+"[1]",r,tL.tagName,d[1],s7(o,1),n,n)).querySelector("select")).classList.add(tI.s_atomRefs2),m.addEventListener("change",e=>{let t=e.target,s=d[0]+" "+t.value;console.log(tI.s_atomRefs2+" changed to "+s),i.setAtomRefs2(s),z(t)}),m.value=d[1],z(m),u.appendChild(h),function(e,t,s){let i=s7(e.id,tI.s_order),n=B(void 0,s);e.appendChild(n);let a=tI.s_order+sY,o=tI.s_order+sX,d=P(o,void 0,s);n.appendChild(d),d.classList.add(sQ),d.classList.add(sJ);let r=t.getOrder();void 0==r?(d.textContent=o,d.classList.toggle(sQ)):(iG(n,t,i,r,s),d.textContent=a,d.classList.toggle(sJ)),d.addEventListener("click",e=>{null==document.getElementById(i)?(void 0==r&&(r=1),iG(n,t,i,r,s),d.textContent=a):(document.getElementById(i)?.remove(),console.log("Removed "+i),d.textContent=o),d.classList.toggle(sQ),d.classList.toggle(sJ)})}(u,i,n),Array.from(t.keys()).forEach(e=>{u.classList.add(e)}),ik(u,n,t=>e.getBonds().removeBond(t),c),iR(tI.tagName,c),u}function iI(e,t){if(t)e.push(s1);else{let t=e.indexOf(s1);t>-1&&e.splice(t,1)}}function iB(e,t,s,i,n,a,o){let d=B(e,o),r=t+sY,l=t+sX,g=P(l,s7(e,v),a);d.appendChild(g),g.classList.add(sQ),g.classList.add(sJ);let h=s7(e,t,sZ),m=s();return void 0==m?(g.textContent=l,g.classList.toggle(sQ)):(iD(d,h,t,m,i,a),g.textContent=r,g.classList.toggle(sJ)),g.addEventListener("click",e=>{null==document.getElementById(h)?(iD(d,h,t,m,i,a),g.textContent=r):(document.getElementById(h)?.remove(),n(),console.log("Removed "+h),g.textContent=l),g.classList.toggle(sQ),g.classList.toggle(sJ)}),d}function iD(e,t,s,i,n,a){let o;o=void 0==i?"":i.toString();let d=C("text",t,a);d.addEventListener("change",e=>{let t=e.target;try{n(new(r(l))(t.value)),console.log(s+" changed from "+i+" to "+t.value)}catch(e){alert("Input invalid, resetting..."),t.value=o}M(t)}),d.value=o,M(d),e.appendChild(d)}function iA(e,t,s,i,n,a,o,d){let r;r=void 0==i?"":p(i);let l=S(t,d);l.addEventListener("change",e=>{let t=e.target;iq(n,l),_(t)}),l.value=r,_(l),e.appendChild(l)}function ik(e,t,s,...i){let n=P("Remove ✕",void 0,t);return e.appendChild(n),n.addEventListener("click",()=>{s(...i),e.remove()}),n}function iG(e,t,s,i,n){let a=i.toString(),o=R(tI.orderOptions,tI.s_order,a,s,n);o.addEventListener("change",e=>{let s=e.target;t.setOrder(parseFloat(s.value)),console.log(tI.s_order+" changed from "+a+" to "+s.value),z(s)}),o.value=a,z(o),o.id=s,e.appendChild(o)}function iO(e,t,i,n){let a;let o=I(s7(e.getID(),"viewerContainer"),n);t.appendChild(o);let d=s7(e.getID(),"viewer"),r=!1,l=!1;function g(t,s){let n=I(d,i);n.className="mol-container",o.appendChild(n);let a=$3Dmol.createViewer(n,{backgroundColor:"grey"});return a.setStyle({stick:{}}),e.getAtoms().atoms.forEach(function(e){let s,i,n=e.getElementType();s=void 0==n?"Purple":tz.atomColors.get(n)||"Purple",i=void 0==n?100:tz.atomRadii.get(e.getElementType())||100;let o=e.getX3()?.toNumber()||0,d=e.getY3()?.toNumber()||0,r=e.getZ3()?.toNumber()||0;a.addSphere({center:{x:o,y:d,z:r},radius:i/110,color:s}),t&&a.addLabel(e.getID(),{position:{x:o,y:d,z:r}})}),e.getBonds().bonds.forEach(function(t){let i=t.getAtomRefs2().split(" "),n=e.getAtoms(),o=n.getAtom(i[0]),d=n.getAtom(i[1]),r=t.getOrder()||1,l=tz.bondColors.get(r)||"Purple",g=o.getX3()?.toNumber()||0,h=o.getY3()?.toNumber()||0,m=o.getZ3()?.toNumber()||0,c=d.getX3()?.toNumber()||0,u=d.getY3()?.toNumber()||0,N=d.getZ3()?.toNumber()||0;a.addCylinder({start:{x:g,y:h,z:m},end:{x:c,y:u,z:N},radius:.06*r,color:l}),s&&a.addLabel(t.getID(),{position:{x:(g+c)/2,y:(h+u)/2,z:(m+N)/2}})}),a.zoomTo(),a.render(),a.zoom(.8,2e3),a}let h=P("Draw/Redraw",void 0);function m(e,t,s,n){let o=P((s?"Hide ":"Show ")+e,t,i);return o.addEventListener("click",()=>{s?(o.textContent="Show "+e,s=!1):(o.textContent="Hide "+e,s=!0),n(s),s9(d),a=g(r,l)}),o}h.addEventListener("click",()=>{s9(d),a=g(r,l)}),o.appendChild(h);let c="Atom Labels",u=m(c,s7(e.getID(),c),r,e=>r=e);o.appendChild(u);let N="Bond Labels",p=m(N,s7(e.getID(),N),l,e=>l=e);o.appendChild(p);let f=P("Save as PNG",s7(e.getID(),s0),sj);f.addEventListener("click",()=>{let e=a.pngURI(),t=document.createElement("a");t.href=e;let i=s.getTitle()?.value;t.download=i.replace(/[^a-z0-9]/gi,"_")+"mol.png",document.body.appendChild(t),t.click(),document.body.removeChild(t),console.log("Save Image")}),o.appendChild(f)}function iF(e,t,s,i,n,a,o,d){let g=n.getElementsByTagName(tA.tagName);if(g.length>0){if(1!=g.length)throw Error("Expecting 1 "+tA.tagName+" but finding "+g.length+"!");let i=H(g[0]),n=new(r(l))(i),d=W(g[0]),h=new tA(d,n);t.setProperty(h),h.setValue=(function(e){h.value=e,t.dictRef==tF.dictRef&&iw()}).bind(h);let m=iB(s7(a.id,t.dictRef),t.dictRef,h.getValue.bind(h),h.setValue,()=>e.removeProperty(t.dictRef),sj,sV);iH(s,d,m,m.querySelector(sZ),s7(a.id,t.dictRef,tA.s_units),t.dictRef,o,o),a.appendChild(m)}else{var h,m,c,N,p,f,x,w;let r=n.getElementsByTagName(tk.tagName);if(r.length>0){if(1!=r.length)throw Error("Expecting 1 "+tk.tagName+" but finding "+r.length+"!");let i=H(r[0]);if(""!=i){let n,d,l,g,f,x,E=u(i.split(/\s+/)),w=W(r[0]),y=new tk(w,E);t.setProperty(y);let b=(h=s7(a.id,t.dictRef),m=t.dictRef,c=y.getValues.bind(y),N=y.setValues,p=()=>e.removeProperty(t.dictRef),n=B(void 0,sV),d=m+sY,g=P(l=m+sX,s7(h,v),sj),n.appendChild(g),g.classList.add(sQ),g.classList.add(sJ),f=s7(h,m,sZ),void 0==(x=c())?(g.textContent=l,g.classList.toggle(sQ)):(iA(n,f,m,x,y,c,N,sj),g.textContent=d,g.classList.toggle(sJ)),g.addEventListener("click",e=>{null==document.getElementById(f)?(iA(n,f,m,x,y,c,N,sj),g.textContent=d):(document.getElementById(f)?.remove(),p(),console.log("Removed "+f),g.textContent=l),g.classList.toggle(sQ),g.classList.toggle(sJ)}),n);iH(s,w,b,b.querySelector("textarea"),s7(a.id,t.dictRef,tk.s_units),t.dictRef,o,o),a.appendChild(b)}}else{let e=n.getElementsByTagName(tG.tagName);if(e.length>0){let n,r,l;if(1!=e.length)throw Error("Expecting 1 "+tG.tagName+" but finding "+e.length+"!");let g=H(e[0]),h=u(g.split(/\s+/)),m=W(e[0]),c=new tG(m,h);t.setProperty(c);let N=t.dictRef,p=(f=s7(a.id,t.dictRef),x=e=>{let t=e.target;iq(c,t)},w=g,n=B(void 0,d),(l=S(f,o)).onchange=x,l.value=w,_(l),(r=D(N,o)).htmlFor=f,n.appendChild(r),n.appendChild(l),n),v=p.querySelector("textarea");v.value=g,_(v),v.addEventListener("change",e=>{g=e.target.value,c=t.getProperty(),h=u(g.split(/\s+/)),c.values=h,console.log("Set "+t.dictRef+" of "+i.getID()+" to "+g),_(v)}),iH(s,m,p,v,s7(a.id,t.dictRef,E,"Units"),t.dictRef,o,o),a.appendChild(p)}else throw Error("Expecting "+tA.tagName+", "+tk.tagName+" or "+tG.tagName+" but finding none!")}}}function iH(e,t,s,i,n,a,o,d){if(void 0!=e){let r=function(e,t,s,i,n,a){let o=t.get("units");if(void 0!=o){let d=L("units",e,"units",o,s,n,a),r=d.querySelector("select");return r.value=o,z(r),r.addEventListener("change",e=>{let s=e.target;t.set("units",s.value),console.log("Set "+i+" units to "+s.value),z(s)}),d}}(e,t,n,a,o,d);void 0!=r&&s.insertBefore(r,i)}else{let e=t.get("units");if(void 0!=e){let t=D("units "+e,d);s.insertBefore(t,i)}}}function iq(e,t){let s=t.value.trim(),i=c(e.values," ");if(""==s){alert("Empty input resetting..."),t.value=i;return}let n=s.split(/\s+/),a=[],o=!0;if(n.forEach(function(e){N(e)?a.push(new(r(l))(e)):o=!1}),!o){alert("An input is not a number, resetting..."),t.value=i;return}a.length==e.values.length?(e.setValues(a),console.log("Changed "+e.tagName+' from: "'+i+'" to: "'+c(e.values," ")+'"')):(alert("Expecting "+e.values.length+" values for, but finding "+a.length+" resetting..."),t.value=i)}function iU(e,t){try{let s=new(r(l))(t.value);e.value=s}catch(e){alert("Value invalid, resetting...")}t.value=e.value.toString()}function iV(e,t,s,i){let a=s7(eu.tagName,s.toString(),ed.tagName),o=I(a);w(s7(a,sW),t,null,o,ed.tagName,sj,sV);let d=P(s$,void 0,sV);if(o.appendChild(d),d.addEventListener("click",()=>{let t=new ed(new Map,s1),s=e.addBathGas(t),i=B(void 0,sV),r=s7(a,s.toString()),l=i1(Array.from(new Set(n.keys())),t,!0,r);l.classList.add(ed.tagName),i.appendChild(l),ik(i,sj,t=>{o.removeChild(i),e.removeBathGas(t)}),o.insertBefore(i,d)}),null!=i){let t=Array.from(i.children).filter(e=>e.tagName===ed.tagName);if(t.length>0)for(let s=0;s<t.length;s++){let i=new ed(W(t[s]),F(O(t[s]))),r=s7(a,e.addBathGas(i).toString()),l=B(r,sV);l.appendChild(i1(Array.from(new Set(n.keys())),i,!1,r)),ik(l,sj,t=>{o.removeChild(l),e.removeBathGas(t)}),o.insertBefore(l,d)}else{let t=s7(a,"0"),s=B(s7(a,0),sV);s.appendChild(i1(Array.from(new Set(n.keys())),void 0,!1,t)),ik(s,sj,t=>{o.removeChild(s),e.removeBathGas(t)}),o.insertBefore(s,d)}}}function ij(e,t,s,i){let a,o=new Set(n.keys()),d=s7(t.id,s.toString(),ec.tagName),g=I(d);if(w(s7(d,sW),t,null,g,ec.tagName,sj,sV),i){let e=i.getElementsByTagName(ec.tagName);if(e.length>0){if(e.length>1)throw Error("Expecting 1 "+ec.tagName+" but finding "+e.length+"!");let i=W(e[0]),n=e[0].getElementsByTagName(em.tagName);if(0==n.length)throw Error("Expecting 1 or more "+em.tagName+" but finding 0!");a=new ec(i);for(let e=0;e<n.length;e++){let i=new em(W(n[e]));a.add(i);let d=n[e].getElementsByTagName(ed.tagName);d.length>0&&(d.length>1&&console.warn("xml_bathGass.length="+d.length),i.setBathGas(new ed(W(d[0]),F(O(d[0])))));let h=n[e].getElementsByTagName(er.tagName);h.length>0&&(h.length>1&&console.warn("xml_experimentRates.length="+h.length),i.setExperimentalRate(new er(W(h[0]),new(r(l))(F(O(h[0])).trim()))));let m=n[e].getElementsByTagName(el.tagName);m.length>0&&(m.length>1&&console.warn("xml_experimentalYields.length="+m.length),i.setExperimentalYield(new el(W(m[0]),new(r(l))(F(O(m[0])).trim()))));let c=n[e].getElementsByTagName(eg.tagName);c.length>0&&(c.length>1&&console.warn("xml_experimentalEigenvalues.length="+c.length),i.setExperimentalEigenvalue(new eg(W(c[0]),new(r(l))(F(O(c[0])).trim())))),g.appendChild(iX(a,g,i,t.id,s,e,o,sV))}}else a=new ec(new Map)}else a=new ec(new Map);e.setPTs(a);let h=I(void 0,sV);g.appendChild(h);let m=P(s$,void 0,sj);h.appendChild(m),m.addEventListener("click",()=>{let e=new Map;e.set("units","Torr");let i=new em(e),n=a.add(i);console.log("Added new pTpair pTpairIndex="+n),g.insertBefore(iX(a,g,i,t.id,s,n,o,sV),h)});let c=P("Add from spreadsheet ＋",void 0,sj);h.appendChild(c),c.addEventListener("click",()=>{let e=B(void 0,sV),i=C("text",s7(ec.tagName,"addFromSpreadsheet"),sV);e.appendChild(i),g.insertBefore(e,h),i.addEventListener("change",()=>{if(console.log("inputElement.value="+i.value),console.log("inputElement.value.length="+i.value.length),i.value.length>0){let n=i.value.split(" "),d=new Map;n[0].split("	").forEach((e,t)=>{d.set(e,t)}),console.log("pTpairsArray.length="+n.length);for(let e=1;e<n.length;e++){let i=n[e].split("	"),m=d.get("P"),c=new(r(l))(i[m]),u=d.get("units"),N=new Map;if(d.has("units")){let e=i[u];N.set("units",e)}let p=new em(N);a.add(p);let f=d.get("T"),x=new(r(l))(i[f]);if(p.setP(c),p.setT(x),d.has(em.s_excessReactantConc)){let e=i[d.get(em.s_excessReactantConc)];N.set(em.s_excessReactantConc,e)}if(d.has(em.s_percentExcessReactantConc)){let e=i[d.get(em.s_percentExcessReactantConc)];N.set(em.s_percentExcessReactantConc,e)}if(d.has(em.s_precision)){console.log("index.has(PTpair.s_precision)");let e=i[d.get(em.s_precision)];N.set(em.s_precision,e)}if(d.has(ed.tagName)){let e=i[d.get(ed.tagName)];p.setBathGas(new ed(new Map,e))}if(d.has(er.tagName)){let e=i[d.get(er.tagName)];if(e.length>0){N.set(er.tagName,e),p.setExperimentalRate(new er(new Map,new(r(l))(e)));let t=i[d.get(er.tagName+"_"+er.s_ref1)];p.getExperimentalRate()?.setRef1(t);let s=i[d.get(er.tagName+"_"+er.s_ref2)];p.getExperimentalRate()?.setRef2(s);let n=i[d.get(er.tagName+"_"+er.s_refReaction)];p.getExperimentalRate()?.setRefReaction(n);let a=i[d.get(er.tagName+"_"+er.s_error)];p.getExperimentalRate()?.setError(new(r(l))(a))}}if(d.has(el.tagName)){let e=i[d.get(el.tagName)];if(e.length>0){p.setExperimentalYield(new el(new Map,new(r(l))(e)));let t=i[d.get(el.tagName+"_"+el.s_ref)];p.getExperimentalYield()?.setRef(t);let s=i[d.get(el.tagName+"_"+el.s_yieldTime)];p.getExperimentalYield()?.setYieldTime(new(r(l))(s));let n=i[d.get(el.tagName+"_"+el.s_error)];p.getExperimentalYield()?.setError(new(r(l))(n))}}if(d.has(eg.tagName)){let e=i[d.get(eg.tagName)];if(e.length>0){p.setExperimentalEigenvalue(new eg(new Map,new(r(l))(e)));let t=i[d.get(eg.tagName+"_"+eg.s_EigenvalueID)];p.getExperimentalEigenvalue()?.setEigenvalueID(t);let s=i[d.get(eg.tagName+"_"+eg.s_error)];p.getExperimentalEigenvalue()?.setError(new(r(l))(s))}}let v=a.ptps.length-1;g.insertBefore(iX(a,g,p,t.id,s,v,o,sV),h)}g.removeChild(e)}})});let u=P("Remove All",void 0,sj);h.appendChild(u),u.addEventListener("click",()=>{a.clear();let e=g.firstChild;for(;null!=e&&e!=h;){let t=e.nextSibling;g.removeChild(e),e=t}})}function iY(e,t){let i=new eu(e,t);return s.addConditions(i),i}function iX(e,t,s,i,n,a,o,d){let r=B(s7(t.id,a),d);return i$(r,em.s_P,s.getP.bind(s),s.setP.bind(s)),iH(tz.pressureUnits,s.attributes,r,null,em.tagName,em.tagName,sj,sV),i$(r,em.s_T,s.getT.bind(s),s.setT.bind(s)),s7(i,em.tagName,a.toString()),iK(r,s,em.s_excessReactantConc,iJ),function(e,t){let s=s7(e.id,em.s_percentExcessReactantConc),i=I(s,sj);e.appendChild(i);let n=em.s_percentExcessReactantConc,a=n+sY,o=n+sX,d=P(o,s7(s,v),sj);i.appendChild(d),d.classList.add(sQ),d.classList.add(sJ),t.attributes.get(n)?.toLowerCase()=="true"?(d.classList.toggle(sJ),d.textContent=a):(d.classList.toggle(sQ),d.textContent=o),d.addEventListener("click",e=>{d.classList.toggle(sQ),d.classList.toggle(sJ),d.textContent===o?(d.textContent=a,t.attributes.set(n,"true")):(d.textContent=o,t.attributes.delete(n))})}(r,s),iK(r,s,em.s_precision,iQ),function(e,t,s){let i=s7(e.id,ed.tagName),n=I(i,sj);e.appendChild(n);let a=ed.tagName,o=a+sY,d=a+sX,r=P(d,s7(i,v),sj);n.appendChild(r),r.classList.add(sQ),r.classList.add(sJ);let l=s7(i,sZ),g=t.getBathGas();void 0==g?(r.classList.toggle(sQ),r.textContent=d):(r.classList.toggle(sJ),r.textContent=o,!1==s.has(g.value)&&console.warn("moleculeKeys does not contain "+g.value),n.appendChild(i0(l,t,g,!1))),r.addEventListener("click",e=>{r.classList.toggle(sQ),r.classList.toggle(sJ),r.textContent===d?(r.textContent=o,n.appendChild(i0(l,t,g,!1))):(r.textContent=d,s9(l))})}(r,s,o),iZ(r,s,a,er.tagName,e=>e.getExperimentalRate(),i2),iZ(r,s,a,el.tagName,e=>e.getExperimentalYield(),i3),iZ(r,s,a,eg.tagName,e=>e.getExperimentalEigenvalue(),i5),ik(r,sj,(s,i,n)=>{t.removeChild(s),void 0!==i&&e.remove(i),n.removeBathGas()},r,a,s),r}function i$(e,t,s,i){let n=b("text",em.tagName+"_"+t,sj,sU,e=>{let n=e.target;try{i(new(r(l))(n.value)),console.log(`Set ${t} to ${n.value}`)}catch(e){alert("Invalid input, resetting..."),a.value=iW(s)}M(n)},iW(s),t),a=n.querySelector("input");a.value=iW(s),M(a),e.appendChild(n)}function iW(e){let t=e();return void 0!==t?t.toString():""}function iK(e,t,s,i){let n=s7(e.id,s),a=I(n,sj);e.appendChild(a);let o=s+sY,d=s+sX,r=P(d,s7(n,v),sj);a.appendChild(r),r.classList.add(sQ),r.classList.add(sJ);let l=s7(n,sZ);if(t.attributes.has(s)){r.classList.toggle(sJ),r.textContent=o;let e=i(l,t);a.insertBefore(e,r.nextSibling)}else r.classList.toggle(sQ),r.textContent=d;r.addEventListener("click",e=>{if(r.classList.toggle(sQ),r.classList.toggle(sJ),r.textContent===d){r.textContent=o;let e=i(l,t);a.insertBefore(e,r.nextSibling)}else r.textContent=d,s9(l)})}function iZ(e,t,s,i,n,a){let o=s7(e.id,i),d=I(o,sj);e.appendChild(d);let r=i+sY,l=i+sX,g=P(l,s7(o,v),sj);d.appendChild(g),g.classList.add(sQ),g.classList.add(sJ);let h=s7(o,sZ);void 0==n(t)?(g.classList.toggle(sQ),g.textContent=l):(g.classList.toggle(sJ),g.textContent=r,d.appendChild(a(h,t,s))),g.addEventListener("click",e=>{g.classList.toggle(sQ),g.classList.toggle(sJ),g.textContent===l?(g.textContent=r,d.appendChild(a(h,t,s))):(g.textContent=l,s9(h))})}function iQ(e,t){let s;s=t.attributes.has(em.s_precision)?t.attributes.get(em.s_precision):tz.precisionOptions[0];let i=R(tz.precisionOptions,em.s_precision,s,e,sj);return i.addEventListener("change",e=>{let s=e.target;t.setPrecision(s.value),console.log("Set "+em.s_precision+" to "+s.value),z(s)}),z(i),i}function iJ(e,t){let s,i=C("number",e,sj);return s=t.attributes.has(em.s_excessReactantConc)?t.attributes.get(em.s_excessReactantConc):NaN.toString(),console.log(em.s_excessReactantConc+"="+s),i.value=s,i.addEventListener("change",e=>{let s=e.target;t.setExcessReactantConc(s.value),console.log("Set "+em.s_excessReactantConc+" to "+s.value),M(s)}),M(i),i}function i0(e,t,s,i){let a=i1(Array.from(new Set(n.keys())),s,i,e);return a.addEventListener("change",e=>{let s=e.target;t.setBathGas(new ed(new Map,s.value)),console.log("Set bathGas to "+s.value),z(s)}),z(a),a}function i1(e,t,s,i){let n;if(s)e.push(s1);else{let t=e.indexOf(s1);t>-1&&e.splice(t,1)}void 0==t?(t=new ed(new Map,s1),n=s1):n=t.value;let a=R(e,ed.tagName,n,s7(i,E),sj);return a.classList.add(ed.tagName),nu(e,a),a.addEventListener("change",e=>{let s=e.target;t.value=s.value,console.log("Added "+s.value+" as "+ed.tagName),z(s)}),a.value=n,z(a),a}function i2(e,t){return i4(t,e,e=>e.getExperimentalRate(),(e,t)=>e.setExperimentalRate(t),er,[{tagName:er.tagName,type:"number",eventHandler:(e,s)=>iU(t.getExperimentalRate(),s),valueGetter:()=>t.getExperimentalRate().value.toString()},{tagName:er.tagName+"_"+er.s_ref1,type:"text",eventHandler:(e,s)=>t.getExperimentalRate()?.setRef1(s.value),valueGetter:()=>t.getExperimentalRate().getRef1()},{tagName:er.tagName+"_"+er.s_ref2,type:"text",eventHandler:(e,s)=>t.getExperimentalRate()?.setRef2(s.value),valueGetter:()=>t.getExperimentalRate().getRef2()},{tagName:er.tagName+"_"+er.s_refReaction,type:"text",eventHandler:(e,s)=>t.getExperimentalRate()?.setRefReaction(s.value),valueGetter:()=>t.getExperimentalRate().getRefReaction()},{tagName:er.tagName+"_"+er.s_error,type:"number",eventHandler:(e,s)=>t.getExperimentalRate()?.setError(new(r(l))(s.value)),valueGetter:()=>t.getExperimentalRate().getError().toString()}])}function i3(e,t){return i4(t,e,e=>e.getExperimentalYield(),(e,t)=>e.setExperimentalYield(t),el,[{tagName:el.tagName,type:"number",eventHandler:(e,s)=>iU(t.getExperimentalYield(),s),valueGetter:()=>t.getExperimentalYield().value.toString()},{tagName:el.tagName+"_"+el.s_ref,type:"text",eventHandler:(e,s)=>t.getExperimentalYield()?.setRef(s.value),valueGetter:()=>t.getExperimentalYield().getRef()},{tagName:el.tagName+"_"+el.s_yieldTime,type:"number",eventHandler:(e,s)=>t.getExperimentalYield()?.setYieldTime(new(r(l))(s.value)),valueGetter:()=>t.getExperimentalYield().getYieldTime().toString()},{tagName:el.tagName+"_"+el.s_error,type:"number",eventHandler:(e,s)=>t.getExperimentalYield()?.setError(new(r(l))(s.value)),valueGetter:()=>t.getExperimentalYield().getError().toString()}])}function i5(e,t){return i4(t,e,e=>e.getExperimentalEigenvalue(),(e,t)=>e.setExperimentalEigenvalue(t),eg,[{tagName:eg.tagName,type:"number",eventHandler:(e,s)=>iU(t.getExperimentalEigenvalue(),s),valueGetter:()=>t.getExperimentalEigenvalue().value.toString()},{tagName:eg.tagName+"_"+eg.s_EigenvalueID,type:"text",eventHandler:(e,s)=>t.getExperimentalEigenvalue()?.setEigenvalueID(s.value),valueGetter:()=>t.getExperimentalEigenvalue().getEigenvalueID()},{tagName:eg.tagName+"_"+eg.s_error,type:"number",eventHandler:(e,s)=>t.getExperimentalEigenvalue()?.setError(new(r(l))(s.value)),valueGetter:()=>t.getExperimentalEigenvalue().getError().toString()}])}function i4(e,t,s,i,n,a){let o=I(void 0,sj);o.id=t;let d=s(e);for(let s of(void 0==d&&i(e,d=new n(new Map,ic)),a)){let e=t+"_"+s.tagName;o.appendChild(b(s.type,e,sj,sU,e=>{let t=e.target;s.eventHandler(e,t),console.log("Set "+s.tagName+" to "+t.value),M(t)},s.valueGetter(),s.label||""))}return o}function i6(e,t){let i=new tw(e,t);return s.addModelParameters(i),i}function i8(e,t){let s,n,a=tf.tagName,o=s7(t.id,a),d=B(o,sV);t.appendChild(d);let g=a+sY,h=a+sX,m=P(a,s7(o,v),sj);m.classList.add(sQ),m.classList.add(sJ),d.appendChild(m);let c=s7(o,sZ);return s=function(e){let t,s;if(void 0!=i){let n=i.values.get(e)??"";t=""==n?ic:new(r(l))(n),s=i.attributess.get(e)??new Map}else console.log(e+" set using hardcoded default."),t=new(r(l))("100"),(s=new Map).set(s5,"cm-1");return new tf(s,t)}(a),e.setGrainSize(s),m.textContent=h,m.classList.toggle(sQ),m.addEventListener("click",()=>{e.index.has(tf.tagName)?(e.removeGrainSize(),document.getElementById(c)?.remove(),document.getElementById(s7(c,s5))?.remove(),m.textContent=h):(console.log("Adding GrainSize input"),i9(e,d,s,c,n,e.setGrainSize,tz.energyUnits),m.textContent=g),m.classList.toggle(sQ),m.classList.toggle(sJ)}),d}function i7(e,t,s,i,n,a){let o,d,g=i.tagName,h=s7(s.id,g),m=B(h,sV);s.appendChild(m);let c=g+sY,u=g+sX,N=P(g,s7(h,v),sj);N.classList.add(sQ),N.classList.add(sJ),m.appendChild(N);let p=s7(h,sZ);if(null!=t){let s=t.getElementsByTagName(g);if(1==s.length){d=F(O(s[0]));let t=new(r(l))(d);o=new i(W(s[0]),t),N.textContent=c,i9(e,m,o,p,d,n,void 0),N.classList.toggle(sJ)}else d="",o=new i(new Map,ic),N.textContent=u,N.classList.toggle(sQ)}else d="",o=new i(new Map,ic),N.textContent=u,N.classList.toggle(sQ);N.addEventListener("click",()=>{e.index.has(g)?(a(),document.getElementById(p)?.remove(),N.textContent=u):(i9(e,m,o,p,d,n,void 0),N.textContent=c),N.classList.toggle(sQ),N.classList.toggle(sJ)})}function i9(e,t,s,i,n,a,o){a.call(e,s);let d=C("text",i,sj);t.appendChild(d),d.addEventListener("change",e=>{let t=e.target;iU(s,t),M(t)}),d.value=n,M(d),iH(o,s.attributes,t,d,s7(i,s5),s.constructor.tagName,sj,sj)}function ne(e){return[{class:eN,setMethod:e.setCalculateRateCoefficientsOnly,removeMethod:e.removeCalculateRateCoefficientsOnly},{class:ep,setMethod:e.setPrintCellDOS,removeMethod:e.removePrintCellDOS},{class:ef,setMethod:e.setPrintCellTransitionStateFlux,removeMethod:e.removePrintCellTransitionStateFlux},{class:ex,setMethod:e.setPrintReactionOperatorColumnSums,removeMethod:e.removePrintReactionOperatorColumnSums},{class:ev,setMethod:e.setPrintGrainBoltzmann,removeMethod:e.removePrintGrainBoltzmann},{class:eE,setMethod:e.setPrintGrainDOS,removeMethod:e.removePrintGrainDOS},{class:ew,setMethod:e.setPrintGrainkbE,removeMethod:e.removePrintGrainkbE},{class:ey,setMethod:e.setPrintGrainkfE,removeMethod:e.removePrintGrainkfE},{class:eb,setMethod:e.setPrintTSsos,removeMethod:e.removePrintTSsos},{class:eC,setMethod:e.setPrintGrainedSpeciesProfile,removeMethod:e.removePrintGrainedSpeciesProfile},{class:eS,setMethod:e.setPrintGrainTransitionStateFlux,removeMethod:e.removePrintGrainTransitionStateFlux},{class:eT,setMethod:e.setPrintReactionOperatorSize,removeMethod:e.removePrintReactionOperatorSize},{class:eM,setMethod:e.setPrintSpeciesProfile,removeMethod:e.removePrintSpeciesProfile},{class:ez,setMethod:e.setPrintPhenomenologicalEvolution,removeMethod:e.removePrintPhenomenologicalEvolution},{class:e_,setMethod:e.setPrintTunnelingCoefficients,removeMethod:e.removePrintTunnelingCoefficients},{class:eR,setMethod:e.setPrintCrossingCoefficients,removeMethod:e.removePrintCrossingCoefficients},{class:eL,setMethod:e.setTestDOS,removeMethod:e.removeTestDOS},{class:eP,setMethod:e.setTestRateConstants,removeMethod:e.removeTestRateConstants},{class:eI,setMethod:e.setUseTheSameCellNumberForAllConditions,removeMethod:e.removeUseTheSameCellNumberForAllConditions},{class:eB,setMethod:e.setForceMacroDetailedBalance,removeMethod:e.removeForceMacroDetailedBalance}]}function nt(e){return[{class:ti,setMethod:e.setEigenvalues,removeMethod:e.removeEigenvalues},{class:tn,setMethod:e.setShortestTimeOfInterest,removeMethod:e.removeShortestTimeOfInterest},{class:ta,setMethod:e.setMaximumEvolutionTime,removeMethod:e.removeMaximumEvolutionTime},{class:to,setMethod:e.setAutomaticallySetMaxEne,removeMethod:e.removeAutomaticallySetMaxEne},{class:td,setMethod:e.setDiagramEnergyOffset,removeMethod:e.removeDiagramEnergyOffset}]}function ns(e,t){let i=new tl(e,t);return s.addControl(i),i}function ni(e,t,s,i,n,a){i.call(e,s);let o=C("number",n,sj);o.addEventListener("change",e=>{let t=e.target;iU(s,t),M(t)}),o.value=a,M(o),t.appendChild(o)}function nn(e,t,s,i,n,a,o,d,g,h=!1){let m,c,u,N=o.tagName,p=N+sY,f=N+sX,x=P(f,void 0,sj);if(x.classList.add(sQ),x.classList.add(sJ),i&&i.set(N,x),a&&(c=B(u=s7(t.id,N,s),a),t.appendChild(c),c.appendChild(x),u=s7(u,sZ)),n){let t=n.getElementsByTagName(N);if(1==t.length){if(h){let s=F(O(t[0])),i=new(r(l))(s);m=new o(W(t[0]),i),ni(e,c,m,d,u,s)}else d.call(e,m);x.textContent=p,x.classList.toggle(sJ)}else x.textContent=f,x.classList.toggle(sQ)}else m=new o(new Map),x.textContent=f,x.classList.toggle(sQ);x.addEventListener("click",t=>{e.index.has(N)?(h&&s9(u),g.call(e),x.textContent=f):(h?ni(e,c,m,d,u,""):d.call(e,m),x.textContent=p),x.classList.toggle(sQ),x.classList.toggle(sJ)})}function na(e,t,s,i,n){let a,o=B(void 0,n);t.appendChild(o);let d=eA.tagName,g=d+sY,h=d+sX,m=P(h,void 0,sj);o.appendChild(m),m.classList.add(sQ),m.classList.add(sJ);let c=s7(tl.tagName,d,s.toString()),u=B(c,sj);o.appendChild(u);let N=eA.options,p=s7(c,"details"),f=s7(p,"select");if(null!=i){let t=i.getElementsByTagName(d);if(t.length>0){if(t.length>1)throw Error("More than one CalcMethod element.");let s=W(t[0]),i=s.get("xsi:type");a=function e(t,s,i,n,a,o,d,g,h){let m;let c=nN(t,s,n,o,d,g,h);c.value=d,s.appendChild(c);let u=B(void 0,sj);if(u.id=g,s.appendChild(u),d==ek.xsi_type||d==ek.xsi_type2)m=new ek(a);else if(d==eG.xsi_type||d==eG.xsi_type2)m=new eG(a);else if(d==eF.xsi_type||d==eF.xsi_type2){let e=new eF(a);m=e;let t=i[0].getElementsByTagName(eO.tagName);if(t.length>0){if(1==t.length){let s=new(r(l))(F(O(t[0]))),i=new eO(W(t[0]),s);e.setFittingIterations(i)}else throw Error("More than one FittingIterations element.")}nr(u,e)}else if(d==eV.xsi_type||d==eV.xsi_type2){let e=new eV(a);function N(e,t,s){let i=eH.tagName,n=e[0].getElementsByTagName(i);if(n.length>0){if(1==n.length){let e=new(r(l))(F(O(n[0])));s(new t(W(n[0]),e))}else throw Error(`More than one ${i} element.`)}}m=e,N(i,eH,e.setMarquardtIterations.bind(e)),N(i,eq,e.setMarquardtTolerance.bind(e)),N(i,eU,e.setMarquardtDerivDelta.bind(e)),nl(u,e)}else if(d==e2.xsi_type||d==e2.xsi_type2){let e=new e2(a);function N(e,t,s,i){let n=t.tagName,a=e[0].getElementsByTagName(n);if(a.length>0){if(1==a.length){let e=F(O(a[0]));i&&void 0!=e&&(e=new(r(l))(e)),s(new t(W(a[0]),e))}else throw Error(`More than one ${n} element.`)}}m=e,N(i,eY,e.setFormat.bind(e),!0),N(i,eX,e.setPrecision.bind(e),!1),N(i,e$,e.setChebNumTemp.bind(e),!0),N(i,eW,e.setChebNumConc.bind(e),!0),N(i,eK,e.setChebMaxTemp.bind(e),!0),N(i,eZ,e.setChebMinTemp.bind(e),!0),N(i,eQ,e.setChebMaxConc.bind(e),!0),N(i,eJ,e.setChebMinConc.bind(e),!0),N(i,e0,e.setChebTExSize.bind(e),!0),N(i,e1,e.setChebPExSize.bind(e),!0),ng(u,e)}else if(d==e8.xsi_type||d==e8.xsi_type2){let e=new e8(a);function N(e,t,s){let i=t.tagName,n=e[0].getElementsByTagName(i);if(n.length>0){if(1==n.length){let e=new(r(l))(F(O(n[0])));s(new t(W(n[0]),e))}else throw Error(`More than one ${i} element.`)}}m=e,N(i,e3,e.setTmin.bind(e)),N(i,e5,e.setTmid.bind(e)),N(i,e4,e.setTmax.bind(e)),N(i,e6,e.setTstep.bind(e)),nh(u,e)}else if(d==ts.xsi_type||d==ts.xsi_type2){let e=new ts(a);function N(e,t,s){let i=t.tagName,n=e[0].getElementsByTagName(i);if(n.length>0){if(1==n.length){let e=F(O(n[0]));void 0!=e&&(e=new(r(l))(e)),s(new t(W(n[0]),e))}else throw Error(`More than one ${i} element.`)}}m=e,N(i,e7,e.setSensitivityAnalysisSamples.bind(e)),N(i,e9,e.setSensitivityAnalysisOrder.bind(e)),N(i,te,e.setSensitivityNumVarRedIters.bind(e)),N(i,tt,e.setSensitivityVarRedMethod.bind(e)),nc(u,e)}else{let r=a.get("name");if(void 0!=r&&r!==d)return a.set("xsi:type",r),console.warn(`Using name attribute as xsi:type: ${r}`),e(t,s,i,n,a,o,r,g,h);throw Error(`Unable to determine calculation method for xsi_type: ${d}`)}return m}(e,u,t,N,s,d,i,p,f),e.setCalcMethod(a),m.classList.toggle(sJ),m.textContent=g}else m.classList.toggle(sQ),m.textContent=h}else m.classList.toggle(sQ),m.textContent=h;m.addEventListener("click",t=>{if(e.index.has(d))null!=e.getCalcMethod()&&(e.removeCalcMethod(),s9(p),s9(f),m.textContent=h,m.classList.toggle(sQ),m.classList.toggle(sJ));else{N[N.length-1]!=s1&&N.push(s1),s9(p),s9(f);let t=nN(e,o,N,d,s1,p,f);u.appendChild(t),m.textContent=g,m.classList.toggle(sQ),m.classList.toggle(sJ)}})}function no(e,t,s,i){let n=B(void 0,i);t.appendChild(n);let a=tr.tagName,o=a+sY,d=a+sX,r=P(a,void 0,sj);r.id=tl.tagName+"_"+a,n.appendChild(r),r.classList.add(sQ),r.classList.add(sJ);let l=tl.tagName+"_"+a+"_Tmax",g=tl.tagName+"_"+a+"_Tmin",h=tl.tagName+"_"+a+"_Tstep";if(s){let t=s.getElementsByTagName(a);1==t.length?(nd(e,n,t,l,g,h),r.classList.toggle(sJ),r.textContent=o):(r.classList.toggle(sQ),r.textContent=d)}else r.classList.toggle(sQ),r.textContent=d;r.addEventListener("click",t=>{e.index.has(a)?(e.removeTestMicroRates(),document.getElementById(l)?.remove(),document.getElementById(g)?.remove(),document.getElementById(h)?.remove(),r.textContent=d):(nd(e,n,null,l,g,h),r.textContent=o),r.classList.toggle(sQ),r.classList.toggle(sJ)})}function nd(e,t,s,i,n,a){let o,d;if(null!=s&&s.length>0){if(s.length>1)throw Error("More than one TestMicroRates element.");d=new tr(o=W(s[0]))}else(o=new Map).set("Tmax",""),o.set("Tmin",""),o.set("Tstep",""),d=new tr(o);e.setTestMicroRates(d);let g=d.getTmax(),h=b("text",i+"_input",sj,sU,e=>{let t=e.target;try{d.setTmax(new(r(l))(t.value)),console.log("Set Tmax to "+t.value)}catch(e){alert("Invalid input, resetting..."),t.value=g.toString()}M(t)},g.toString(),"Tmax");h.id=i,M(h.querySelector("input")),t.appendChild(h);let m=d.getTmin(),c=b("number",n+"_input",sj,sU,e=>{let t=e.target;N(t.value)?(d.setTmin(new(r(l))(t.value)),console.log("Set Tmin to "+t.value)):(alert("Value is not numeric, resetting..."),t.value=m.toString()),M(t)},m.toString(),"Tmin");c.id=n,M(c.querySelector("input")),t.appendChild(c);let u=d.getTstep(),p=b("text",a+"_input",sj,sU,e=>{let t=e.target;N(t.value)?(d.setTstep(new(r(l))(t.value)),console.log("Set Tstep to "+t.value)):(alert("Value is not numeric, resetting..."),t.value=u.toString()),M(t)},u.toString(),"Tstep");p.id=a,M(p.querySelector("input")),t.appendChild(p)}function nr(e,t){let s=t.getFittingIterations()||new eO(new Map,ic);t.setFittingIterations(s),e.appendChild(b("number",e.id+"_FittingIterations_input",sj,sU,e=>{let t=e.target;N(t.value)?(s.value=new(r(l))(t.value),console.log("Set FittingIterations to "+t.value)):(alert("Value is not numeric, resetting..."),t.value=s.value.toString()),M(t)},s.value.toString(),eO.tagName))}function nl(e,t){function s(e,t,s,i){let n=s7(t.id,e.tagName,"Input"),a=e.value.toString(),o=e.tagName;t.appendChild(b("number",n,s,i,t=>{let s=t.target;N(s.value)?(e.value=new(r(l))(s.value),console.log("Set "+e.tagName+" to "+s.value)):(alert("Value is not numeric, resetting..."),s.value=e.value.toString()),M(s)},a,o))}let i=t.getMarquardtIterations()||new eH(new Map,ic);t.setMarquardtIterations(i),s(i,e,sj,sU);let n=t.getMarquardtTolerance()||new eq(new Map,ic);t.setMarquardtTolerance(n),s(n,e,sj,sU);let a=t.getMarquardtDerivDelta()||new eU(new Map,ic);t.setMarquardtDerivDelta(a),s(a,e,sj,sU)}function ng(e,t){let s=t.getFormat()||new eY(new Map,eY.options[0]);function i(t,s,i,n,a){let o=s()||new t(new Map,a[0]);i(o);let d=L(n,a,n,o.value,e.id,sj,sj);d.querySelector("select")?.addEventListener("change",e=>{let t=e.target;o.value=t.value,console.log(`Set ${n} to `+t.value),z(t)}),e.appendChild(d)}function n(t,s,i,n){let a=s()||new t(new Map,NaN);i(a),e.appendChild(b("text",e.id+`_${n}_input`,sj,sU,nm(a,n),a.value.toString(),n))}i(eY,t.getFormat.bind(t),t.setFormat.bind(t),eY.tagName,eY.options),i(eY,()=>s.getRateUnits(),s.setRateUnits.bind(s),eY.rateUnits,eY.rateUnitsOptions),i(eX,t.getPrecision.bind(t),t.setPrecision.bind(t),eX.tagName,tz.precisionOptions),n(e$,t.getChebNumTemp.bind(t),t.setChebNumTemp.bind(t),e$.tagName),n(eW,t.getChebNumConc.bind(t),t.setChebNumConc.bind(t),eW.tagName),n(eK,t.getChebMaxTemp.bind(t),t.setChebMaxTemp.bind(t),eK.tagName),n(eZ,t.getChebMinTemp.bind(t),t.setChebMinTemp.bind(t),eZ.tagName),n(eQ,t.getChebMaxConc.bind(t),t.setChebMaxConc.bind(t),eQ.tagName),n(eJ,t.getChebMinConc.bind(t),t.setChebMinConc.bind(t),eJ.tagName),n(e0,t.getChebTExSize.bind(t),t.setChebTExSize.bind(t),e0.tagName),n(e1,t.getChebPExSize.bind(t),t.setChebPExSize.bind(t),e1.tagName)}function nh(e,t){function s(t,s,i,n){let a=s()||new t(new Map,NaN);i(a),e.appendChild(b("text",e.id+`_${n}_input`,sj,sU,nm(a,n),a.value.toString(),n))}s(e3,t.getTmin.bind(t),t.setTmin.bind(t),e3.tagName),s(e5,t.getTmid.bind(t),t.setTmid.bind(t),e5.tagName),s(e4,t.getTmax.bind(t),t.setTmax.bind(t),e4.tagName),s(e6,t.getTstep.bind(t),t.setTstep.bind(t),e6.tagName)}function nm(e,t){return t=>{let s=t.target;try{e.value=new(r(l))(s.value)}catch(t){alert("Invalid input value "+s.value+" , resetting..."),s.value=e.value.toString()}M(s)}}function nc(e,t){function s(t,s,i,n){let a=s()||new t(new Map,NaN);i(a),e.appendChild(b("text",s7(e.id,n,sZ),sj,sU,nm(a,n),a.value.toString(),n))}s(e7,t.getSensitivityAnalysisSamples.bind(t),t.setSensitivityAnalysisSamples.bind(t),e7.tagName),s(e9,t.getSensitivityAnalysisOrder.bind(t),t.setSensitivityAnalysisOrder.bind(t),e9.tagName),s(te,t.getSensitivityNumVarRedIters.bind(t),t.setSensitivityNumVarRedIters.bind(t),te.tagName);let i=t.getSensitivityVarRedMethod()||new tt(new Map,"");t.setSensitivityVarRedMethod(i);let n=tt.tagName;e.appendChild(L(n,tt.options,n,tt.options[0],s7(e.id,n,"select"),sj,sj));let a=e.querySelector("select");a?.addEventListener("change",e=>{let t=e.target;i.value=t.value,console.log(n+" set to "+t.value),z(t)})}function nu(e,t){t.addEventListener("click",s=>{e[e.length-1]==s1&&e.pop();let i=t.options.length-1;t.options[i].value==s1&&t.remove(i)})}function nN(e,t,s,i,n,a,o){let d=R(s,i,n,o,sj);return t.appendChild(d),nu(s,d),d.addEventListener("change",s=>{let i=document.getElementById(a);null!=i&&i.remove(),i=B(a,sj),t.appendChild(i);let n=s.target,o=n.value,d=new Map;if(d.set("xsi:type",o),o==ek.xsi_type||o==ek.xsi_type2)e.setCalcMethod(new ek(d));else if(o==eG.xsi_type||o==eG.xsi_type2)e.setCalcMethod(new eG(d));else if(o==eF.xsi_type||o==eF.xsi_type2){let t=new eF(d);e.setCalcMethod(t),nr(i,t)}else if(o==eV.xsi_type||o==eV.xsi_type2){let t=new eV(d);e.setCalcMethod(t),nl(i,t)}else if(o==e2.xsi_type||o==e2.xsi_type2){let t=new e2(d);e.setCalcMethod(t),ng(i,t)}else if(o==e8.xsi_type||o==e8.xsi_type2){let t=new e8(d);e.setCalcMethod(t),nh(i,t)}else if(o==ts.xsi_type||o==ts.xsi_type2){let t=new ts(new Map);e.setCalcMethod(t),nc(i,t)}else throw Error("Unknown CalcMethod type.");z(n)}),d}document.addEventListener("DOMContentLoaded",()=>{document.body.className=t?"dark-mode":"light-mode",document.body.className=t?"dark-mode":"light-mode";let g=document.getElementById(ie);g.style.display="flex",g.style.justifyContent="center",g.style.margin="5px",g.style.padding="5px",g.style.border="1px solid black",g.style.backgroundColor="lightgrey";let u="Load Molecules",p=P(u,s8(u),sj);g.appendChild(p);let f=new s_;p.addEventListener("click",async e=>{(await f.readFile()).forEach((e,t)=>{iu.set(t,e)})});let x="Load Defaults",y=P(x,s8(x),sj);y.addEventListener("click",e=>{(i=new sz).readFile()}),g.appendChild(y);let S="Load MESMER File",T=P(S,s8(S),sj);T.addEventListener("click",g=>{let u;s6.forEach(e=>{s9(e)}),null!=n&&n.clear(),null!=a&&a.clear(),o=[],(u=document.createElement("input")).type="file",u.onchange=function(){if(u.files){for(let e=0;e<u.files.length;e++)console.log("inputElement.files["+e+"]="+u.files[e]);let g=u.files[0];console.log(g.name),e=g.name;let p=new FileReader,f=0,x="";p.onload=function(u){if(null==u.target)throw Error("Event target is null");if(x+=u.target.result,null!=g){if(f<g.size){let e=g.slice(f,f+1048576);p.readAsText(e),f+=1048576}else{var y,S;let g,u,p,f,T,_,q,U,V,j,Y,X,$,Z,er,el,eg,eh,em,ec,eN,ep,ef,ex,ev,eE,ew,ey,eb,eC,eS,eT,eM,ez;y=x=x.trim(),g=document.getElementById(ih),s9(u=s7(ih,2)),p=I(u,sV),w(u,g,null,p,e,sj,sU),(f=document.createElement("pre")).textContent=y,p.appendChild(f),console.log("parse: "+(S=new DOMParser().parseFromString(x,"text/xml"))),q=K(S,tz.tagName),s=new tz(W(q)),(U=S.getElementsByTagName(ty.tagName)).length>0?(U.length>1&&console.warn("Multiple "+ty.tagName+" tags found, using the first."),T=U[0].childNodes[0].nodeValue.trim(),_=W(U[0])):(T=e,console.warn("No "+ty.tagName+" tag found, using the filename: "+e+" as the title."),_=new Map),V=new ty(_,T),s.setTitle(V),j=document.getElementById(it),s9(Y=s7("titleDiv")),(X=b("text",s7(Y,sZ),sj,sU,e=>{let t=e.target;V.value=t.value,console.log(V.tagName+" changed to "+V.value),M(t)},T,ty.tagName)).id=Y,j.appendChild(X),$=document.getElementById(is),s9(Z=s7(tb.tagName)),w(Z,$,null,function(e){n=new Map;let t=I(void 0,sj),s=K(e,tb.tagName),a=new Set;if(s.childNodes.forEach(function(e){a.add(e.nodeName)}),1==a.size||2==a.size&&a.has("#text")||(console.error("moleculeListTagNames:"),a.forEach(e=>console.error(e)),console.warn("Additional tag names in moleculeList:")),!a.has(sa.tagName))return console.warn('Expecting tags with "'+sa.tagName+'" tagName but there are none!'),t;let o=s.getElementsByTagName(sa.tagName),d=o.length;console.log("Number of molecules="+d);for(let e=0;e<d;e++){let s=s7(sa.tagName,e),a=I(s),d=W(o[e]),g=d.get(sa.s_id);if(void 0==g)throw Error(sa.s_id+" is undefined");let c=new sa(d,g);n.set(g,c);let u=w(s7(s,sW),t,null,a,g,sj,sV),p=new Set,f=o[e].childNodes;for(let e=0;e<f.length;e++){let t=f[e];p.has(t.nodeName)?"#text"!=t.nodeName&&console.warn("Another ChildNode with nodeName="+t.nodeName):p.add(t.nodeName)}ib(c,u.querySelector(v),a,sV),a.appendChild(iC(s7(c.getID(),sK),c.getDescription.bind(c),c.setDescription.bind(c),sj,sV));let x=o[e].getElementsByTagName(tp.tagName);if(x.length>0){x.length>1&&console.warn("Expecting 1 or 0 "+tp.tagName+" but finding "+x.length+". Loading the first of these...");let e=s7(s,tp.tagName),t=I(e);w(s7(e,sW),a,null,t,tp.tagName,sj,sV);let i=x[0].getElementsByTagName(tg.tagName),n=new tp(W(x[0]));c.setMetadataList(n);for(let s=0;s<i.length;s++){let a=new tg(W(i[s]));t.appendChild(function(e,t,s,i,n,a){s.addMetadata(t);let o=B(i,sV);return o.appendChild(D(e.getID(),sj)),o}(c,a,n,s7(e,s),0,0))}p.delete(tp.tagName)}let E=o[e].getElementsByTagName(tP.tagName),y=s7(s,tP.tagName),S=I(y);w(s7(y,sW),a,null,S,tP.tagName,sj,sV);let T=new tP(new Map);c.setAtoms(T);for(let e=0;e<E.length;e++){let t=W(E[e]);t.size>0&&console.warn("AtomArray attributes lost/ignored: "+m(t))}let z=o[e].getElementsByTagName(tL.tagName);c.setAtoms(T);for(let e=0;e<z.length;e++)S.appendChild(iM(c,T,new tL(W(z[e]),c),sj,sV));S.appendChild(iT(c,S,tL.tagName,sj,sV)),p.delete(tL.tagName);let _=o[e].getElementsByTagName(tB.tagName),R=s7(s,tB.tagName),G=I(R);w(s7(R,sW),a,null,G,tB.tagName,sj,sV);let q=new tB(new Map);c.setBonds(q);for(let e=0;e<_.length;e++){let t=W(_[e]);t.size>0&&console.warn("BondArray attributes lost/ignored: "+m(t))}let U=o[e].getElementsByTagName(tI.tagName);for(let e=0;e<U.length;e++)W(U[e]).has(tI.s_id)&&G.appendChild(iP(c,c.getAtoms().atoms,q,new tI(W(U[e]),c),sj,sV));for(let e=0;e<U.length;e++)W(U[e]).has(tI.s_id)||G.appendChild(iP(c,c.getAtoms().atoms,q,new tI(W(U[e]),c),sj,sV));G.appendChild(iL(c,g,G,tI.tagName,sj,sV)),p.delete(tI.tagName);let V=s7(s,"viewer"),j=I(V);w(s7(V,sW),a,null,j,"viewer",sj,sV),iO(c,j,sj,sV);let Y=o[e].getElementsByTagName(t$.tagName),X=s7(s,t$.tagName),$=I(X);w(s7(X,sW),a,null,$,t$.tagName,sj,sV);let K=new t$(new Map);c.setPropertyList(K);for(let e=0;e<Y.length;e++){let t=W(Y[e]);t.size>0&&console.warn("PropertyList attributes lost/ignored: "+m(t))}let Z=new Set(tk.propertyDictRefs),Q=o[e].getElementsByTagName(tO.tagName);for(let e=0;e<Q.length;e++){let t=function(e,t,s,i,n,a,o){let d=new tO(W(s));return e.delete(d.dictRef),d.dictRef==tF.dictRef?iF(t,d,tz.energyUnits,n,s,i,a,o):d.dictRef==tj.dictRef?iF(t,d,tz.frequencyUnits,n,s,i,a,o):(d.dictRef,tV.dictRef,iF(t,d,void 0,n,s,i,a,o)),d}(Z,K,Q[e],$,c,sj,sV);K.setProperty(t)}console.log("Molecule "+c.getDescription()),console.log("pap.size="+Z.size),Z.forEach(function(e){console.log("dictRef="+e);let t=new Map;if(t.set(tO.s_dictRef,e),"me:Hf0"==e){let s,n="";void 0!=i&&(n=i.values.get(e)??"");try{s=new(r(l))(n)}catch(e){s=new(r(l))("0")}let a=new Map;a.set("units","kJ/mol");let o=new tH(t,new tA(a,s));(function(e,t,s,i,n,a,o){let d=n.getProperty();d.setValue=(function(e){d.value=e,n.dictRef==tF.dictRef&&iw()}).bind(d),d.value=t,n.dictRef==tF.dictRef&&iw();let r=s7(a.id,n.dictRef);console.log("div ID "+r);let l=iB(r,n.dictRef,d.getValue.bind(d),d.setValue,()=>i.removeProperty(n.dictRef),sj,sV);console.log("unitsID "+s7(r,tA.s_units)),iH(s,e,l,l.querySelector(sZ),h(r,tA.s_units),n.dictRef,o,o),a.appendChild(l)})(a,s,tz.energyUnits,K,o,$,sj),K.setProperty(o)}});let J=o[e].getElementsByTagName(tJ.tagName);if(J.length>0){if(J.length>1)throw Error("Expecting 1 or 0 "+tJ.tagName+" but finding "+J.length+"!");(function(e,t,s,i){let n=s.getElementsByTagName(tW.tagName);if(n.length>0){let s=s7(t.getID(),tJ.tagName),a=document.createElement("div");w(s7(s,sW),i,null,a,tJ.tagName,sj,sV);let o=[];for(let e=0;e<n.length;e++){let t=H(n[e]),i=new(r(l))(t),d=new tW(W(n[e]),i);o.push(d);let g=tW.tagName,h=s7(s,tW.tagName,e),m=b("number",h,sj,sV,s=>{let i=s.target;iU(d,i),t=i.value,o[e].setValue(new(r(l))(t)),console.log("Set "+h+" to "+t),M(i)},t,g);a.appendChild(m);let c=document.createElement("label");c.textContent="units cm-1",m.appendChild(c)}e.setDeltaEDowns(o),t.setEnergyTransferModel(e)}})(new tJ(W(J[0])),c,J[0],a),p.delete(tJ.tagName)}let ee=o[e].getElementsByTagName(t0.tagName);if(ee.length>0){if(ee.length>1)throw Error("Expecting 1 or 0 "+t0.tagName+" but finding "+ee.length+"!");let e=new t0(W(ee[0]));a.appendChild(L(t0.tagName,t0.xsi_typeOptions,t0.tagName,e.getXsiType(),c.getID(),sj,sV)),p.delete(t0.tagName)}let et=o[e].getElementsByTagName(t3.tagName);if(et.length>0){if(et.length>1)throw Error("Expecting 1 or 0 "+t3.tagName+" but finding "+et.length+"!");let e=W(et[0]),t=new t3(e);c.setDistributionCalcMethod(t);let i=I(s7(s,t3.tagName));a.appendChild(i),i.appendChild(D(t3.tagName+" "+m(e),sV)),p.delete(t3.tagName)}let es=o[e].getElementsByTagName(sn.tagName);if(es.length>0){if(es.length>1)throw Error("Expecting 1 or 0 "+sn.tagName+" but finding "+es.length+"!");let e=new sn(W(es[0]));c.setDensityOfStatesList(e);let t=s7(s,sn.tagName),i=I(t);w(s7(t,sW),a,null,i,sn.tagName,sj,sV);let n=es[0].getElementsByTagName(si.tagName),o=es[0].getElementsByTagName(t_.tagName);if(o.length>0){if(o.length>1)throw Error("Expecting 1 or 0 "+t_.tagName+" but finding "+o.length+"!");let t=new t_(W(o[0]),F(O(o[0])));e.setDescription(t)}if(0==n.length)throw Error("Expecting 1 or more "+si.tagName+" but finding 0!");{let s=A(s7(t,s2),sV);k(s,si.header),i.appendChild(s);for(let a=0;a<n.length;a++){let o=new si(W(n[a]));e.addDensityOfStates(o);let d=B(s7(t,a),sV);i.appendChild(d);let g=n[a].getElementsByTagName(tR.tagName);if(1!=g.length)throw Error("Expecting 1 "+tR.tagName+" but finding "+g.length+"!");{let e=new tR(W(g[0]),new(r(l))(F(O(g[0]))));o.setT(e)}let h=n[a].getElementsByTagName(se.tagName);if(1!=h.length)throw Error("Expecting 1 "+se.tagName+" but finding "+h.length+"!");{let e=new se(W(h[0]),new(r(l))(F(O(h[0]))));o.setQtot(e)}let m=n[a].getElementsByTagName(st.tagName);if(1!=m.length)throw Error("Expecting 1 "+st.tagName+" but finding "+m.length+"!");{let e=new st(W(m[0]),new(r(l))(F(O(m[0]))));o.setSumc(e)}let c=n[a].getElementsByTagName(ss.tagName);if(1!=c.length)throw Error("Expecting 1 "+ss.tagName+" but finding "+c.length+"!");{let e=new ss(W(c[0]),new(r(l))(F(O(c[0]))));o.setSumg(e)}k(s,o.toStringArray())}nb(e.toCSV,i,s,g+"_"+sn.tagName,sV)}p.delete(sn.tagName)}let ei=t4.tagName,en=o[e].getElementsByTagName(ei);if(en.length>0){let e;if(en.length>1)throw Error("Expecting 1 or 0 "+ei+" but finding "+en.length+"!");let t=new t4(W(en[0])),i=s7(s,t4.tagName),n=I(i);w(s7(i,sW),a,null,n,ei,sj,sV);let o=t5.tagName,d=en[0].getElementsByTagName(o);if(0==d.length)throw Error("Expecting 1 or more "+o+" but finding 0!");{e=[];let s=A(s7(i,s2),sV);k(s,t.getHeader());for(let t=0;t<d.length;t++){let i=new t5(W(d[t]));e.push(i),k(s,i.toStringArray())}n.appendChild(s),t.init(e),nb(t.toCSV.bind(t),n,s,g+"_"+t4.tagName,sV)}c.setThermoTable(t),p.delete(o),p.delete(ei)}let ea=o[e].getElementsByTagName(t7.tagName);if(ea.length>0)for(let e=0;e<ea.length;e++){let t=new t7(W(ea[e])),i=s7(s,t7.tagName,e),n=I(i);w(s7(i,sW),a,null,n,t7.tagName,sj,sV);let o=ea[0].getElementsByTagName(t1.tagName);if(o.length>0){if(1!=o.length)throw Error("Expecting only 1 bondRef, but there are "+o.length);let e=c.getBonds().getBondIds(),t=new t1(W(o[0]),F(O(o[0]))),s=L(t1.tagName,e,t1.tagName,t.value,c.getID(),sj,sV);s.getElementsByTagName("select")[0].classList.add(tI.tagName),n.appendChild(s)}let d=ea[0].getElementsByTagName(t6.tagName);if(d.length>0){if(1!=d.length)throw Error("Expecting only 1 HinderedRotorPotential, but there are "+d.length);let e=W(d[0]),s=new t6(e),o=s7(i,t6.tagName),g=I(o);w(s7(o,sW),n,null,g,t6.tagName,sj,sV);let h=L(t6.s_format,t6.formats,t6.tagName,s.getFormat(),s7(o,t6.s_format),sj,sV);g.appendChild(h),iH(tz.energyUnits,e,g,h,s7(o,t6.s_units),t6.tagName,sj,sV);let m=s.getExpansionSize()??s3;g.appendChild(b("text",s7(o,t6.s_expansionSize),sj,sV,e=>{let t=e.target;try{s.setExpansionSize(new(r(l))(t.value))}catch(e){alert("Invalid value, resetting..."),t.value=s.getExpansionSize()??s3}M(t)},m,t6.s_expansionSize)),function(e,t,s){s7(e.id,t6.s_useSineTerms);let i=t6.s_useSineTerms+sY,n=t6.s_useSineTerms+sX,a=P(n,void 0,s);e.appendChild(a),a.classList.add(sQ),a.classList.add(sJ),!0==t.getUseSineTerms()?(a.textContent=i,a.classList.toggle(sJ)):(a.textContent=n,a.classList.toggle(sQ)),a.addEventListener("click",e=>{!1==t.getUseSineTerms()?(t.setUseSineTerms(!0),a.textContent=i):(t.setUseSineTerms(!1),a.textContent=n),a.classList.toggle(sQ),a.classList.toggle(sJ)})}(g,s,sV);let c=s7(o,t2.tagName),u=I(c),p=w(s7(c,sW),a,null,u,"PotentialPoints",sj,sV);g.appendChild(p);let f=[],x=d[0].getElementsByTagName(t2.tagName);for(let e=0;e<x.length;e++){let t=new t2(W(x[e]));f.push(t);let s=s7(c,e),i=B(s,sV);u.appendChild(i);let n=D(t2.tagName+" "+e,sj);i.appendChild(n);let a=t.getAngle()??s3,o=b("text",s7(s,t2.s_angle),sj,sj,e=>{let s=e.target;if(N(s.value)){let e=new(r(l))(s.value);t.setAngle(e)}else alert("Angle input is not a number, resetting..."),s.value=t.getAngle()??s3;M(s)},a,t2.s_angle);i.appendChild(o);let d=D(t2.s_potential,sj);i.appendChild(d);let g=C("text",s7(s,t2.s_potential),sj);i.appendChild(g);let h=t.getPotential()??s3;g.addEventListener("change",e=>{let s=e.target;if(N(s.value)){let e=new(r(l))(s.value);t.setPotential(e),console.log("Set "+t2.tagName+" to "+e.toExponential())}else alert("Potential input is not a number, resetting..."),g.value=t.getPotential()??s3;M(g)}),g.value=h,M(g)}s.setPotentialPoints(f),t.setHinderedRotorPotential(s)}let g=ea[e].getElementsByTagName(t8.tagName);if(g.length>0){if(1!=g.length)throw Error("Expecting only 1 Periodicity, but there are "+g.length);let e=F(O(g[0])),s=new t8(W(g[0]),new(r(l))(e));t.setPeriodicity(s);let a=b("text",s7(i,t8.tagName),sj,sV,i=>{let n=i.target;if(N(e=n.value)){let i=new(r(l))(e);s.value=i,t.getPeriodicity().value=i,console.log("Set "+t8.tagName+" to "+i)}else alert("Periodicity input is not a number, resetting..."),n.value=s.value.toExponential()},e,t8.tagName);n.appendChild(a)}c.setExtraDOSCMethod(t),p.delete(t7.tagName)}p.delete(t9.tagName);let eo=o[e].getElementsByTagName(t9.tagName);if(eo.length>0){if(1!=eo.length)throw Error("Expecting only 1 reservoirSize, but there are "+eo.length);let e=F(O(eo[0])),t=new(r(l))(e),s=new t9(W(eo[0]),t);c.setReservoirSize(s);let i=b("number",c.getID()+"_"+t9.tagName,sj,sV,e=>{let t=e.target;s.value=new(r(l))(t.value),M(t)},e,t9.tagName);a.appendChild(i)}p.delete("#text"),p.size>0&&(console.warn("There are additional unexpected moleculeTagNames:"),p.forEach(e=>console.warn(e)))}let g=P(s$,void 0,sV);t.appendChild(g),g.addEventListener("click",()=>{let e=prompt("Please enter a name for the molecule","Kr");if(null==e)return;let s=new sa(new Map,e);s.setAtoms(new tP(new Map)),s.setBonds(new tB(new Map)),n.set(e,s);let i=s7(sa.tagName,n.size),a=I(i),o=w(s7(i,sW),t,g,a,e,sj,sV);iR(ed.tagName,s.getID()),ib(s,o.querySelector(v),a,sV),a.appendChild(iC(s7(s.getID(),sK),s.getDescription.bind(s),s.setDescription.bind(s),sj,sV));let d=s7(i,tP.tagName),r=I(d);w(s7(d,sW),a,null,r,tP.tagName,sj,sV),r.appendChild(iT(s,r,tL.tagName,sj,sV));let l=s7(i,tB.tagName),h=I(l);w(s7(l,sW),a,null,h,tB.tagName,sj,sV),h.appendChild(iL(s,e,h,tI.tagName,sj,sV)),iO(s,a,sj,sV);let m=s7(i,t$.tagName),c=I(m);w(s7(m,sW),a,null,c,t$.tagName,sj,sV)});let c=P("Add from library ＋",void 0,sj);return t.appendChild(c),c.addEventListener("click",()=>{let e=h(sa.tagName,"div");s9(e);let s=I(s7(e),sV),i=Array.from(iu.keys());if(0==i.length){alert("There are no additional molecules to add, please load data...");return}console.log("options.length="+i.length),iI(i,!0);let a=h(e,E);s9(a);let o=R(i,"Select molecule",s1,s7(a),sj);o.classList.add(sa.tagName),s.appendChild(o),t.insertBefore(s,g),nu(i,o),o.addEventListener("change",e=>{let i=e.target,a=i.options[i.selectedIndex].value,o=iu.get(a);n.set(a,o);let d=s7(sa.tagName,n.size),r=I(d),l=w(s7(d,sW),t,g,r,o.getID(),sj,sV);iR(ed.tagName,o.getID()),ib(o,l.querySelector(v),r,sV),r.appendChild(iC(s7(o.getID(),sK),o.getDescription.bind(o),o.setDescription.bind(o),sj,sV));let h=s7(d,tp.tagName),m=I(h,sV);w(s7(h,sW),r,null,m,tp.tagName,sj,sV);let c=o.getMetadataList();void 0!=c&&c.getMetadata().forEach(e=>{let t=I();m.appendChild(t),t.appendChild(D(e.getLabelText(),sj))});let u=s7(d,tP.tagName),N=I(u);w(s7(u,sW),r,null,N,tP.tagName,sj,sV);let p=o.getAtoms();void 0!=p&&p.atoms.forEach(e=>{N.appendChild(iM(o,o.getAtoms(),e,sj,sV))}),N.appendChild(iT(o,N,tL.tagName,sj,sV));let f=s7(d,tB.tagName),x=I(f);w(s7(f,sW),r,null,x,tB.tagName,sj,sV),void 0!=o.getBonds()&&o.getBonds().bonds.forEach(e=>{if(void 0==p)throw Error("Atoms are not defined for molecule "+o.getID());x.appendChild(iP(o,p.atoms,o.getBonds(),e,sj,sV))}),x.appendChild(iL(o,o.getID(),x,tI.tagName,sj,sV)),iO(o,r,sj,sV);let E=s7(d,t$.tagName),y=I(E);w(s7(E,sW),r,null,y,t$.tagName,sj,sV),s.remove()})}),t}(S),tb.tagName,sj,sU),er=document.getElementById(ii),s9(el=s7(tC.tagName)),w(el,er,null,function(e){a=new Map;let t=I(void 0,sj),s=K(e,tC.tagName),i=new Set;if(s.childNodes.forEach(function(e){i.add(e.nodeName)}),1!=i.size&&!(2==i.size&&i.has("#text")))throw console.error("reactionListTagNames:"),i.forEach(e=>console.error(e)),Error("Additional tag names in reactionList:");if(!i.has(sb.tagName))throw Error('Expecting tags with "'+sb.tagName+'" tagName but there are none!');let n=s.getElementsByTagName(sb.tagName);console.log("Number of reactions="+n.length);for(let e=0;e<n.length;e++){let s=new sb(W(n[e]));a.set(s.id,s);let i=new Set,o=n[e].childNodes,d=s7(sb.tagName,e),g=I(d);for(let e=0;e<o.length;e++){let t=o[e];i.has(t.nodeName)?"#text"!=t.nodeName&&console.warn("Another ChildNode with nodeName="+t.nodeName):i.add(t.nodeName)}let h=n[e].getElementsByTagName(sd.tagName);if(i.delete(sd.tagName),h.length>0){let e=s7(s.id,sd.tagName),t=I(e);w(s7(e,sW),g,null,t,"Reactants",sj,sV);let i=[];for(let e=0;e<h.length;e++){let n=s7(s.id,sd.tagName,e),a=new so(W(G(h[e],sa.tagName))),o=new sd(W(h[e]),a);i.push(o);let d=L(a.ref+" role",sd.roleOptions,"Role",a.role,s7(n,E),sj,sV);d.querySelector("select")?.addEventListener("change",e=>{let t=e.target;a.setRole(t.value),console.log("Set Role to "+t.value),z(t)}),t.appendChild(d)}s.setReactants(i)}let c=n[e].getElementsByTagName(sr.tagName);if(i.delete(sr.tagName),c.length>0){let e=s7(d,sr.tagName),t=I(e);w(s7(e,sW),g,null,t,"Products",sj,sV);let i=[];for(let e=0;e<c.length;e++){let s=new so(W(G(c[e],sa.tagName))),n=new sr(W(c[e]),s);i.push(n);let a=L(s.ref+" role",sr.roleOptions,s.role,s.ref,"Role",sj,sV),o=a.querySelector("select");o.value=s.role,o.addEventListener("change",e=>{let t=e.target;s.setRole(t.value),console.log("Set Role to "+t.value),z(t)}),z(o),t.appendChild(a)}s.setProducts(i)}w(s7(d,sW),t,null,g,s.id+" ("+s.getLabel()+")",sj,sV);let u=n[e].getElementsByTagName(sp.tagName);if(u.length>0){if(u.length>1)throw Error("Expecting 1 "+sp.tagName+" but finding "+u.length+"!");let e=new sp(W(u[0]));s.setTunneling(e);let t=L(sp.tagName,sp.options,"Tunneling",e.getName(),s.id,sj,sV);t.querySelector("select")?.addEventListener("change",t=>{let s=t.target;e.setName(s.value),console.log("Set Tunneling to "+s.value),z(s)}),g.appendChild(t)}let N=n[e].getElementsByTagName(sl.tagName);if(N.length>0){let e=s7(d,sl.tagName),t=I(e);w(s7(e,sW),g,null,t,"Transition States",sj,sV);let i=[];for(let e=0;e<N.length;e++){let s=new so(W(G(N[e],sa.tagName))),n=new sl(W(N[e]),s);i.push(n);let a=D(s.ref+" role transitionState",sV);t.appendChild(a)}s.setTransitionStates(i)}let p=n[e].getElementsByTagName(su.tagName);if(p.length>0){if(p.length>1)throw Error("Expecting 1 "+su.tagName+" but finding "+p.length+"!");{let e;let t=W(p[0]),i=t.get("name"),n=s7(s.id,su.tagName),a=I(n);if(void 0==i||i==sN.xsiType2){let s=w(s7(n,sW),g,null,a,su.tagName,sj,sV);g.appendChild(s);let i=t.get("xsi:type");if(e=new sN(t),i==sN.xsiType||i==sN.xsiType2){let t=p[0].getElementsByTagName(sg.tagName);if(null!=t&&null!=t[0]){let s=H(t[0]),i=new(r(l))(s),o=W(t[0]),d=new sg(o,i);e.setPreExponential(d);let g=b("number",s7(n,sg.tagName,sZ),sj,sV,e=>{iU(d,e.target)},s,sg.tagName);a.appendChild(g);let h=g.querySelector("input");h.value=s,M(h),h.addEventListener("change",e=>{s=e.target.value,d.value=new(r(l))(s),console.log(sg.tagName+" changed to "+s),M(h)}),iH(void 0,o,g,null,s7(n,sg.tagName),sg.tagName,sj,sj),a.appendChild(g)}let s=p[0].getElementsByTagName(sh.tagName);if(null!=s&&null!=s[0]){let t=H(s[0]),i=new(r(l))(t),o=W(s[0]),d=new sh(o,i);e.setActivationEnergy(d);let g=b("number",s7(n,sh.tagName,sZ),sj,sV,e=>{iU(d,e.target)},t,sh.tagName),h=g.querySelector("input");h.value=t,M(h),h.addEventListener("change",e=>{t=e.target.value,d.value=new(r(l))(t),console.log(sh.tagName+" changed to "+t),M(h)}),iH(void 0,o,g,null,s7(n,sh.tagName),sh.tagName,sj,sj),a.appendChild(g)}let i=p[0].getElementsByTagName(sm.tagName);if(null!=i&&null!=i[0]){let t=H(i[0]),s=new(r(l))(t),o=W(i[0]),d=new sm(o,s);e.setTInfinity(d);let g=b("number",s7(n,sm.tagName,sZ),sj,sV,e=>{iU(d,e.target)},t,sm.tagName),h=g.querySelector("input");h.value=t,M(h),h.addEventListener("change",e=>{t=e.target.value,d.value=new(r(l))(t),console.log(sm.tagName+" changed to "+t),M(h)}),iH(void 0,o,g,null,s7(n,sm.tagName),sm.tagName,sj,sj),a.appendChild(g)}let o=p[0].getElementsByTagName(sc.tagName);if(null!=o&&null!=o[0]){let t=H(o[0]),s=new(r(l))(t),i=W(o[0]),d=new sc(i,s);e.setNInfinity(d);let g=b("number",s7(n,sc.tagName,sZ),sj,sV,e=>{iU(d,e.target)},t,sc.tagName);a.appendChild(g);let h=g.querySelector("input");h.value=t,M(h),h.addEventListener("change",e=>{t=e.target.value,d.value=new(r(l))(t),console.log(sc.tagName+" set to "+t),M(h)}),iH(void 0,i,g,null,s7(n,sc.tagName),sc.tagName,sj,sj),a.appendChild(g)}}else throw Error("Unexpected xsi:type="+i)}else{e=new su(t);let s=document.createElement("label");s.textContent=su.tagName+": "+t.get("name"),Object.assign(s.style,sV),a.appendChild(s),g.appendChild(a)}s.setMCRCMethod(e)}}let f=n[e].getElementsByTagName(sf.tagName);if(f.length>0){if(f.length>1)throw Error("Expecting 1 "+sf.tagName+" but finding "+f.length+"!");let e=new(r(l))(F(O(f[0]))),t=new sf(W(f[0]),e);s.setExcessReactantConc(t);let i=b("number",s7(s.id,sf.tagName),sj,sV,e=>{iU(t,e.target)},e.toExponential(),sf.tagName);g.appendChild(i)}let x=n[e].getElementsByTagName(sy.tagName);if(x.length>0){if(x.length>1)throw Error("Expecting 1 "+sy.tagName+" but finding "+x.length+"!");let e=W(x[0]),t=new sy(e);s.setCanonicalRateList(t);let i=s7(s.id,sy.tagName),n=I(i),a=w(s7(i,sW),g,null,n,sy.tagName,sj,sV);g.appendChild(a);let o=x[0].getElementsByTagName(t_.tagName);if(o.length>0){if(o.length>1)throw Error("Expecting 1 "+t_.tagName+" but finding "+o.length+"!");let s=F(O(o[0]));t.setDescription(new t_(W(o[0]),s));let i=D(s+" ("+m(e)+")",sj),a=I(void 0,sV);a.appendChild(i),n.appendChild(a)}let d=x[0].getElementsByTagName(sw.tagName);if(d.length>0){let e=A(s7(n,s2),sV);n.appendChild(e);for(let s=0;s<d.length;s++){let i=new sw(W(d[s]));t.addKinf(i);let n=d[s].getElementsByTagName(tR.tagName);if(n.length>0){if(n.length>1)throw Error("Expecting 1 "+tR.tagName+" but finding "+n.length+"!");let e=new(r(l))(F(O(n[0])));i.setT(new tR(W(n[0]),e))}let a=d[s].getElementsByTagName(sx.tagName);if(a.length>0){if(a.length>1)throw Error("Expecting 1 "+sx.tagName+" but finding "+a.length+"!");let e=new(r(l))(F(O(a[0])));i.setVal(new sx(W(a[0]),e))}let o=d[s].getElementsByTagName(sv.tagName);if(o.length>0){if(o.length>1)throw Error("Expecting 1 "+sv.tagName+" but finding "+o.length+"!");let e=new(r(l))(F(O(o[0])));i.setRev(new sv(W(o[0]),e))}let g=d[s].getElementsByTagName(sE.tagName);if(g.length>0){if(g.length>1)throw Error("Expecting 1 "+sE.tagName+" but finding "+g.length+"!");let e=new(r(l))(F(O(g[0])));i.setKeq(new sE(W(g[0]),e))}0==s&&k(e,i.getHeader()),k(e,i.toStringArray())}nb(t.toCSV.bind(t),n,e,s.id+"_"+sy.tagName,sV)}}}return t}(S),tC.tagName,sj,sU),eg=document.getElementById(ia),eh=s7(iN),null!=d&&(d.close(),d=null),s9(eh),w(eh,eg,null,em=I(void 0,sV),iN,sj,sU),eN=I(ec=s7(eh,v+"s")),em.appendChild(eN),ef=P(ep="Pop into a new Window",s7(ec,v)),eN.appendChild(ef),(ex=document.createElement("canvas")).id=ix,em.appendChild(ex),ex.height=400,ex.style.border="1px solid black",nx(ex,t,iv,4,2),ef.addEventListener("click",()=>{if(null==d){let e=document.createElement("canvas");e.id=ix,(d=window.open("",iN,"width="+ex.width+", height="+ex.height)).document.body.appendChild(e),nx(e,t,iv,4,2),s9(ix),ef.textContent="Pop into this Window"}else(ex=document.createElement("canvas")).id=ix,em.appendChild(ex),nx(ex,t,iv,4,2),d.close(),d=null,ef.textContent=ep}),ny(ex,eN,null,iN),ev=document.getElementById(io),s9(eE=s7(eu.tagName)),w(eE,ev,null,function(e){let t;console.log(eu.tagName);let i=I(void 0,sj),n=e.getElementsByTagName(eu.tagName);for(let e=0;e<n.length;e++){let t=n[e],a=s7(eu.tagName,e.toString()),o=I(a,sj),d=s7(a,sW);w(d,i,null,o,eu.tagName+" "+e.toString(),sj,sV);let r=iY(W(t),e);iV(r,o,e,t),ij(r,o,e,t),ik(o,sV,s.removeConditions.bind(s),e).addEventListener("click",e=>{s9(d)})}return t=P(s$,void 0,sV),i.appendChild(t),t.addEventListener("click",e=>{let n,a=s.getNextConditionsID();console.log("Add Conditions "+a.toString());let o=s7(eu.tagName,a.toString()),d=I(o,sj),r=s7(o,sW);if(a>0){let e=document.getElementById(s7(eu.tagName,(a-1).toString(),sW)).nextElementSibling;n=null!=e&&e.parentElement==i?e:t}else n=t;w(r,i,n,d,eu.tagName+" "+a.toString(),sj,sV);let l=iY(new Map,a);iV(l,d,a,null),ij(l,d,a,null),ik(d,sV,s.removeConditions.bind(s),a).addEventListener("click",e=>{s9(r)})}),i}(S),"ConditionsList",sj,sU),ew=document.getElementById(id),s9(ey=s7(tw.tagName,"list")),w(ey,ew,null,function(e){let t,i;console.log(tw.tagName);let n=I(void 0,sj),a=e.getElementsByTagName(tw.tagName);for(let e=0;e<a.length;e++){let t=s7(tw.tagName,e.toString()),i=I(t,sj),o=s7(t,sW);w(o,n,null,i,tw.tagName+" "+e.toString(),sj,sV);let d=i6(W(a[e]),e);(function(e,t,s){let i=tf.tagName,n=i8(e,s),a=n.style.display;n.style.display="block";let o=n.querySelector("input");n.style.display=a;let d=t.getElementsByTagName(i);if(d.length>0){d.length>1&&console.warn("More than one GrainSize found in XML. The first is used!");let t=F(O(d[0])),s=new(r(l))(t);e.getGrainSize().value=s,null!==o?(o.value=t,M(o)):console.warn("GrainSize input element not found.")}})(d,a[e],i),i7(d,a[e],i,to,d.setAutomaticallySetMaxEne,d.removeAutomaticallySetMaxEne),i7(d,a[e],i,tv,d.setEnergyAboveTheTopHill,d.removeEnergyAboveTheTopHill),i7(d,a[e],i,tE,d.setMaxTemperature,d.removeMaxTemperature),ik(i,sV,s.removeModelParameters.bind(s),e).addEventListener("click",e=>{s9(o)})}return t=P(s$,void 0,sV),i=tw.tagName,n.appendChild(t),t.addEventListener("click",e=>{let a,o=s.getNextModelParametersID();console.log("Add "+i+o.toString());let d=s7(i,o.toString()),r=I(d,sj),l=s7(d,sW);if(o>0){let e=document.getElementById(s7(i,(o-1).toString(),sW)).nextElementSibling;a=null!=e&&e.parentElement==n?e:t}else a=t;w(l,n,a,r,i+" "+o.toString(),sj,sV);let g=i6(new Map,o);i8(g,r),i7(g,null,r,to,g.setAutomaticallySetMaxEne,g.removeAutomaticallySetMaxEne),i7(g,null,r,tv,g.setEnergyAboveTheTopHill,g.removeEnergyAboveTheTopHill),i7(g,null,r,tE,g.setMaxTemperature,g.removeMaxTemperature),ik(r,sV,s.removeModelParameters.bind(s),o).addEventListener("click",e=>{s9(l)})}),n}(S),"ModelParametersList",sj,sU),eb=document.getElementById(ir),s9(eC=s7(tl.tagName)),w(eC,eb,null,function(e){let t;console.log(tl.tagName);let i=I(void 0,sj),n=e.getElementsByTagName(tl.tagName);for(let e=0;e<n.length;e++){let t=n[e],a=s7(tl.tagName,e.toString()),o=I(a,sj);i.appendChild(o);let d=s7(a,sW);w(d,i,null,o,tl.tagName+" "+e.toString(),sj,sV);let r=ns(W(t),e),l=new Map;ne(r).forEach(s=>{nn(r,o,e,l,t,null,s.class,s.setMethod,s.removeMethod)});let g=B(void 0,sV);new Map([...l.entries()].sort()).forEach(e=>{g.appendChild(e)}),o.appendChild(g),no(r,o,null,sV),na(r,o,e,t,sV),nt(r).forEach(s=>{nn(r,o,e,l,t,sV,s.class,s.setMethod,s.removeMethod,!0)});let h=t.getElementsByTagName(eB.tagName);if(1==h.length){let e=W(h[0]),t=F(O(h[0])),s=new eB(e,t);r.setForceMacroDetailedBalance(s);let i=B(void 0,sV);o.appendChild(i);let n=D(eB.tagName+" "+m(e)+" "+t,sj);i.appendChild(n)}ik(o,sV,s.removeControl.bind(s),e).addEventListener("click",e=>{s9(d)})}return t=P(s$,void 0,sV),i.appendChild(t),t.addEventListener("click",e=>{let n,a=s.getNextControlID();console.log("Add Control "+a.toString());let o=s7(tl.tagName,a.toString()),d=I(o,sj);if(a>0){let e=document.getElementById(s7(tl.tagName,(a-1).toString(),sW)).nextElementSibling;n=null!=e&&e.parentElement==i?e:t}else n=t;let r=s7(o,sW);w(r,i,n,d,tl.tagName+" "+a.toString(),sj,sV);let l=ns(new Map,a),g=new Map;ne(l).forEach(e=>{nn(l,d,a,g,null,null,e.class,e.setMethod,e.removeMethod)});let h=B(void 0,sV);new Map([...g.entries()].sort()).forEach(e=>{h.appendChild(e)}),d.appendChild(h),no(l,d,null,sV),na(l,d,a,null,sV),nt(l).forEach(e=>{nn(l,d,a,g,null,sV,e.class,e.setMethod,e.removeMethod,!0)}),ik(d,sV,s.removeControl.bind(s),a).addEventListener("click",e=>{s9(r)})}),i}(S),"ControlList",sj,sU),eS=document.getElementById(il),s9(eT=s7(tp.tagName)),w(eT,eS,null,function(e){console.log(tp.tagName);let t=I(s7(tp.tagName,0),sj),i=e.getElementsByTagName(tp.tagName);if(i.length>0){if(i.length>1)throw Error("More than one MetadataList element.");let e=new tp(W(i[0]));function n(s,n,a){let o=i[0].getElementsByTagName(s);if(o.length>0){if(1==o.length){let s=O(o[0])?.nodeValue??"",i=new n(W(o[0]),s),d=I(void 0,sV);t.appendChild(d),d.appendChild(D(i.tagName+" "+s,sj)),a.call(e,i)}else throw Error(`More than one ${s} element.`)}}s.setMetadataList(e),n(tm.tagName,tm,e.setSource),n(tc.tagName,tc,e.setCreator),n(tu.tagName,tu,e.setDate),n(tN.tagName,tN,e.setContributor)}return t}(S),tp.tagName,sj,sU),eM=document.getElementById(ig),s9(ez=s7(eo.tagName)),w(ez,eM,null,function(e){console.log(eo.tagName);let t=s7(eo.tagName,0),i=I(t,sj),n=e.getElementsByTagName(eo.tagName);if(n.length>0){if(n.length>1)throw Error("More than one Analysis element.");let e=new eo(W(n[0]));s.setAnalysis(e);let a=n[0].getElementsByTagName(t_.tagName);if(a.length>0){if(1==a.length){let s=O(a[0])?.nodeValue??"",n=new t_(W(a[0]),s),o=I(s7(t,t_.tagName),sV);i.appendChild(o),o.appendChild(D(n.tagName+" "+s,sj)),e.setDescription(n)}else throw Error("More than one Description element.")}let d=n[0].getElementsByTagName(J.tagName),g=s7(i,J.tagName),h=I(g,sV);if(w(g,i,null,h,J.tagName+"s",sj,sV),d.length>0)for(let t=0;t<d.length;t++){let s=W(d[t]),i=new J(s),n=i.tagName+" "+t.toString()+" "+m(s),a=s7(h.id,t.toString()),o=I(g,sV);w(a,h,null,o,n,sj,sU),e.addEigenvalueList(i);let u=[],N=d[t].getElementsByTagName(Q.tagName);if(N.length>0)for(let e=0;e<N.length;e++){let t=new(r(l))(O(N[e])?.nodeValue);u.push(t),i.addEigenvalue(new Q(W(N[e]),t))}o.appendChild(D(c(u,", "),sj))}let u=n[0].getElementsByTagName(es.tagName),N=s7(i,es.tagName),p=I(N,sV);if(w(N,i,null,p,es.tagName+"s",sj,sV),u.length>0)for(let t=0;t<u.length;t++){let s=W(u[t]);void 0!=s.get("T")&&new(r(l))(s.get("T")),void 0!=s.get("conc")&&new(r(l))(s.get("conc"));let n=new es(s),a=n.tagName+" "+t.toString()+" "+m(s),d=s7(i.id,es.tagName,t.toString()),g=s7(d,t.toString()),h=I(d,sV);w(g,p,null,h,a,sj,sU),e.addPopulationList(n);let c=new Map,N=[];N.push("time");let f=u[t].getElementsByTagName(et.tagName);if(f.length>0)for(let e=0;e<f.length;e++){let t=W(f[e]),s=new et(t,[]);n.addPopulation(s);let i=void 0!=t.get("time")?new(r(l))(t.get("time")):ic,a=new Map;c.set(i,a);let o=f[e].getElementsByTagName(ee.tagName);if(o.length>0)for(let t=0;t<o.length;t++){let i=W(o[t]),n=i.get("ref");0==e&&N.push(n);let d=new(r(l))(O(o[t])?.nodeValue),g=new ee(i,d);s.addPop(g),a.set(n,d)}}let x=I(s7(g,"graph"),sj);h.appendChild(x);let v=document.createElement("canvas");x.appendChild(v);let E=new np(v,c,iE);o.push(E),ny(v,h,x,a);let y=I(s7(g,s2),sj);h.appendChild(y);let b=A(s7(d,s2),sj);k(b,N),c.forEach((e,t)=>{let s=[];s.push(t.toString()),e.forEach((e,t)=>{s.push(e.toString())}),k(b,s)}),y.appendChild(b),nb(()=>nf(b),h,y,a,sj)}let f=n[0].getElementsByTagName(ea.tagName),x=s7(i,ea.tagName),v=I(x,sV);if(w(x,i,null,v,ea.tagName+"s",sj,sV),f.length>0){let t=I(s7(x,s2),sj);v.appendChild(t);let s=A(s7(N,s2),sj),i=["T","conc"];for(let t=0;t<f.length;t++){let n=W(f[t]),a=[];a.push(n.get("T")),a.push(n.get("conc"));let o=new ea(n);e.addRateList(o);let d=f[t].getElementsByTagName(en.tagName);if(d.length>0)for(let e=0;e<d.length;e++){let s=W(d[e]);if(0==t){let e=s.get("fromRef"),t=s.get("toRef");i.push(e+"->"+t)}let n=(O(d[e])?.nodeValue??"").trim();a.push(n);let g=new en(s,new(r(l))(n));o.addFirstOrderRate(g)}let g=f[t].getElementsByTagName(ei.tagName);if(g.length>0)for(let e=0;e<g.length;e++){let s=W(g[e]);0==t&&Array.from(s.values()).forEach(e=>{i.push("loss of "+e)});let n=(O(g[e])?.nodeValue??"").trim();a.push(n);let d=new ei(s,new(r(l))(n));o.addFirstOrderLoss(d)}0==t&&k(s,i),k(s,a)}t.appendChild(s),nb(()=>nf(s),v,t,"Bartis-Widom Phenomenological Rate Coefficients",sj)}}return i}(S),eo.tagName,sj,sU)}}};let y=g.slice(f,f+1048576);p.readAsText(y),f+=1048576}},u.click()}),g.appendChild(T);let _="Increase Fontsize",q=P(_,s8(_),sj);q.addEventListener("click",()=>{let e=parseInt(getComputedStyle(document.body).fontSize);document.body.style.fontSize=e+1+"px",null!=d&&(d.document.body.style.fontSize=e+1+"px"),iw(),iy()}),g.appendChild(q);let U="Decrease Fontsize",V=P(U,s8(U),sj);V.addEventListener("click",()=>{let e=parseInt(getComputedStyle(document.body).fontSize);document.body.style.fontSize=e-1+"px",null!=d&&(d.document.body.style.fontSize=e-1+"px"),iw(),iy()}),g.appendChild(V);let j="Light/Dark Mode",Y=P(j,s8(j),sj);Y.addEventListener("click",()=>{(t=!t)?document.body.className="dark-mode":document.body.className="light-mode",iw()}),g.appendChild(Y);let X="Save MESMER File",$=P(X,s8(X),sj);$.addEventListener("click",nE),g.appendChild($);let Z=document.getElementById(im);document.body.appendChild(Z);let er=document.createElement("p");Z.appendChild(er),er.appendChild(document.createTextNode("Welcome to the MESMER XML GUI (MXG) - a free and open source program to assist         in creating, editing and visualising MESMER program data for gas phase reaction kinetics. The current MXG development         repository is: ")),er.appendChild(sL),er.appendChild(document.createTextNode(". Details of MESMER - the Master Equation Solver for Multi Energy-well Reactions         can be found at: ")),er.appendChild(sD),er.appendChild(document.createTextNode("."));let el=document.createElement("p");Z.appendChild(el),el.appendChild(document.createTextNode("MXG has been developed by a team based at ")),el.appendChild(sk),el.appendChild(document.createTextNode(" funded by ")),el.appendChild(sA),el.appendChild(document.createTextNode("."));let eg=document.createElement("p");Z.appendChild(eg),eg.appendChild(document.createTextNode("MXG requires a standard compliant Web browser and installed as a         Progressive Web App (PWA) can be used offline. PWA installation varies by Web browser/device. For guidance         please see the MXG main development repository README: ")),eg.appendChild(sL.cloneNode(!0)),eg.appendChild(document.createTextNode("."));let eh=document.createElement("p");Z.appendChild(eh),eh.appendChild(document.createTextNode('The Menu contains 7 buttons. The Load MESMER File button is for loading a         MESMER XML data file with a "me:mesmer" tag containing: "me:title", "moleculeList", "reactionList",         "me:conditions", "me:modelParameters", and "me:control" tags containing further details. A MESMER XML output         data file will also have "me:metadataList" and         "me:analysis" tags as children of the "me:mesmer" tag. Additional output is located in "moleculeList" and         "reactionList" tags. The Load Molecules button is for loading molecule data which can be selected, modified and         included in a saved file. The Load Defaults button is to load default values. Whilst not necessary, loading         defaults can be convenient as often similar values and the same units as defaults are wanted. The Save MESMER File         button is for saving a new MESMER XML data file. The file will be saved to the Web browser downloads location. The         saved file will contain no comments or extra white space, values will be trimmed of white space, numbers will be         output in a particular format (decimals - where numbers with more than 8 digits are output in an scientific         format). There will be: a single "atomArray" tag containing all "atom" tags; a single "bondArray" tag containing         any "bond" tags; and, a single "propertyList" tag containing all "property" tags for each "molecule" tag in the         "moleculeList". The saved file will reflect what is specified via the interface. Between the Load and Save buttons         are buttons to increase or decrease the fontsize and to change between a light and dark theme. In addition to         increasing or decreasing the fontsize of text elements, the fontsize buttons can be actioned to redraw the reaction         diagram and any species plots with a larger or smaller fontsize respectively.'));let em=document.createElement("p");Z.appendChild(em),em.appendChild(document.createTextNode('The "me:title" value is presented in an input alongside an associated label.         The input can be used to change the value which is also used to compose filenames for files saved from MXG.         Detailsare presented via buttons which contain a triangular symbol. A triangle orientated with a point down: ▼ can be actioned to show more details if there are any. A triangle orientated with a point up: ▲ can be actioned to hide those details again.'));let ec=document.createElement("p");Z.appendChild(ec),ec.textContent='The Reaction Diagram button shows/hides a well diagram which is redrawn if any molecule "me:ZPE"         property value is changed. The diagram can be opened in a new Window and saved to a PNG format file.';let eN=document.createElement("p");Z.appendChild(eN),eN.textContent="MXG uses 3DMol.js under a BSD-3-Clause licence to visualise molecules with coordinates. For details         of 3DMol.js please see the GitHub repository: ",eN.appendChild(sO),eN.appendChild(document.createTextNode(". If you use the 3DMol.js visualisations, please cite: Nicholas Rego and         David Koes 3Dmol.js: molecular visualization with WebGL Bioinformatics (2015) 31 (8): 1322-1324 ")),eN.appendChild(sF),eN.appendChild(document.createTextNode("."));let ep=document.createElement("p");Z.appendChild(ep),ep.textContent="MXG uses Big.js under an MIT licence to handle numbers. For details of Big.js please see the GitHub         repository: ",ep.appendChild(sq),ep.appendChild(document.createTextNode("."));let ef=document.createElement("p");Z.appendChild(ef),ef.textContent="MXG is a work in progress and not currently recommended for general use, a community supported release         is coming soon..."});class np{constructor(e,t,s){this.canvas=e,this.data=t,this.draw(s)}draw(e){this.canvas.width=800,this.canvas.height=400;let t=this.canvas.getContext("2d");t.font=e,t.clearRect(0,0,this.canvas.width,this.canvas.height);let s=this.canvas.width,i=this.canvas.height,n=Number.MAX_VALUE,a=Number.MIN_VALUE,o=0;this.data.forEach((e,s)=>{let i=Math.log10(s.toNumber());n=Math.min(n,i),a=Math.max(a,i),e.forEach((e,s)=>{o=Math.max(o,t.measureText(s).width)})});let d=0;for(let e=0;e<2;e++){let s=1-1*e;d=Math.max(d,t.measureText(s.toString()).width)}let r=t.measureText("0"),l=r.actualBoundingBoxAscent+r.actualBoundingBoxDescent,g=4*l,h=d+l+20,m=i-(h+3*l),c=s-(g+o+20),u=(c-h)/(a-n),N=(g-m)/1;t.beginPath(),t.moveTo(h,m),t.lineTo(c,m),t.stroke(),t.beginPath(),t.moveTo(h,m),t.lineTo(h,g),t.stroke();let p=["red","green","blue","orange","purple","grey","cyan","magenta","lightblue","lightgreen","pink","yellow","brown","black"],f=new Map;this.data.forEach((e,s)=>{let i=0;e.forEach((e,a)=>{let o=h+(Math.log10(s.toNumber())-n)*u,d=e.toNumber();if(d<1){let e=m+(d-0)*N;if(e>0){t.beginPath(),t.arc(o,e,2,0,2*Math.PI);let s=p[i%p.length];f.set(a,s),t.fillStyle=s,t.fill()}}i++})}),t.textAlign="center",t.textBaseline="top",t.fillStyle="black",t.fillText("log10(time/secs)",h+(c-h)/2,m+g/2),t.save(),t.rotate(-Math.PI/2),t.textAlign="center",t.textBaseline="top",t.fillText("fractional population",-m-(g-m)/2,h-h),t.restore();let x=a-n,v=Math.abs(Math.ceil(x/Math.pow(10,Math.floor(Math.log10(x))))),E=Math.ceil(n/v),w=E*v;for(;w<a;){let e=h+(w-n)*u;t.beginPath(),t.moveTo(e,m),t.lineTo(e,m+5),t.stroke(),t.fillText(w.toString(),e,m+5),w+=v}for(let e=0;e<2;e++){let s=m-1*e;t.beginPath(),t.moveTo(h,s),t.lineTo(h-5,s),t.stroke()}let y=0;f.forEach((e,s)=>{let i=t.measureText(s),n=i.actualBoundingBoxAscent+i.actualBoundingBoxDescent;y=Math.max(y,n)});let b=c+20,C=y;E=0,f.forEach((e,s)=>{let i=g+E*C;t.fillStyle=e,t.fillRect(b,i,y/2,y/2),t.fillStyle="black",t.fillText(s,b+l+t.measureText(s).width/2,i-y/2),E++})}}function nf(e){let t="",s=e.rows;for(let e=0;e<s.length;e++){let i=s[e].cells;for(let e=0;e<i.length;e++)t+=i[e].textContent,e<i.length-1&&(t+=",");t+="\n"}return t}function nx(e,t,s,i,o){if(console.log("drawReactionDiagram"),null!=e){var d,r;let l,h,m,c,u,N,p,v,E;t?(l="lightgrey",h="lightblue",m="orange"):(l="darkgrey",h="blue",m="darkorange");let w=e.getContext("2d");w.clearRect(0,0,e.width,e.height),w.font="bold "+s;let y=(d=w.font,w.font=d,(r=w.measureText("Aj")).actualBoundingBoxAscent+r.actualBoundingBoxDescent),b=[],C=new Set,S=new Set,T=new Set,M=new Map,z=new Map,_=0;a.forEach(function(e,t){let s=e.getTransitionStates(),i=e.getReactantsLabel();if(void 0!=i){b.push(i),C.has(i)&&S.add(i);let t=e.getReactantsEnergy(n);c=x(c,t),u=f(u,t),z.set(i,t),!M.has(i)&&(M.set(i,_),_++)}let a=e.getProductsLabel();if(void 0!=a){C.add(a);let t=e.getProductsEnergy(n);if(c=x(c,t),u=f(u,t),z.set(a,t),M.has(a)){_--;let e=g(M,a);M.forEach(function(t,s){t>e&&M.set(s,t-1)}),void 0!=s&&(s.forEach(function(e){let s=e.getMolecule().ref;T.add(s),M.set(s,_),t=n.get(s)?.getEnergy()??ic,c=x(c,t),u=f(u,t),z.set(s,t),_++}),M.set(a,_),_++)}else void 0!=s&&s.forEach(function(e){let s=e.getMolecule().ref;T.add(s),M.set(s,_),t=n.get(s)?.getEnergy()??ic,c=x(c,t),u=f(u,t),z.set(s,t),_++}),M.set(a,_),_++}});let R=u.minus(c).toNumber(),L=[];M.forEach(function(e,t){L[e]=t});let P=0,I=0,B=new Map,D=new Map,A=new Map,k=new Map,G=new Map,O=new Map;L.forEach(function(e){let t=g(z,e),n=(t-c.toNumber())*400/(R+0)+0;E=Math.max(sM(w,t.toString(),s),sM(w,e,s)),p=P+E+5,v=N=n+i,B.set(e,[P,N]),D.set(e,[p,v]),C.has(e)&&(A.set(e,[P,N]),k.set(e,[p,v])),T.has(e)&&(G.set(e,[P,N]),O.set(e,[p,v])),P=p+10,I=p}),e.width=I;let F=400+4*y+2*i;e.height=F,w.transform(1,0,0,-1,0,F),a.forEach(function(e,t){let s=e.getTransitionStates(),i=e.getReactantsLabel(),n=e.getProductsLabel(),a=g(D,i),d=g(A,n);s.length>0?s.forEach(function(e){let t=e.getMolecule().ref,s=g(G,t);sS(w,l,o,a[0],a[1],s[0],s[1]);let i=g(O,t);sS(w,l,o,i[0],i[1],d[0],d[1])}):sS(w,l,o,a[0],a[1],d[0],d[1])}),b.forEach(function(e){let t=g(z,e),n=(t-c.toNumber())*400/(R+0)+0,a=g(B,e)[0],o=n+i,d=g(D,e)[0],r=t.toString();sC(w,h,i,a,o,d,o,s,y,e,r)}),C.forEach(function(e){let t=g(z,e),n=(t-c.toNumber())*400/(R+0)+0,a=g(A,e)[0],o=n+i,d=g(k,e)[0],r=t.toString();S.has(e)?sC(w,m,i,a,o,d,o,s,y,e,r):sC(w,"green",i,a,o,d,o,s,y,e,r)}),T.forEach(function(e){let t=g(z,e),n=(t-c.toNumber())*400/(R+0)+0,a=g(G,e)[0],o=n+i;sC(w,"red",i,a,o,g(O,e)[0],o,s,y,e,t.toString())})}}function nv(e,t,s,i=!1){let n=document.createElement("a");n.href=i?e:`data:${t};charset=utf-8,`+encodeURIComponent(e),n.download=s,document.body.appendChild(n),n.click(),document.body.removeChild(n)}function nE(){if(null==s){alert("No Mesmer object to save.");return}{let e=new tz(s.attributes);e.setTitle(s.getTitle()),e.setMoleculeList(new tb(new Map,Array.from(n.values()))),e.setReactionList(new tC(new Map,Array.from(a.values()))),e.setConditionss(s.getConditionss()),e.setModelParameterss(s.getModelParameterss()),e.setControls(s.getControls());let t=s.getMetadataList();void 0!=t&&e.setMetadataList(t);let i=s.getAnalysis();void 0!=i&&e.setAnalysis(i),console.log("saveXML"),nv(tz.header+e.toXML("  ",""),"text/xml",nw(e.getTitle()?.value)+".xml")}}function nw(e){return e.replace(/[^a-z0-9]/gi,"_")}function ny(e,t,i,n){let a=P("Save as PNG",s7("saveButton"),sj);null!=i?t.insertBefore(a,i):t.appendChild(a),a.addEventListener("click",()=>{nv(e.toDataURL(),"image/png",nw(s.getTitle()?.value+"_"+n)+".png",!0)})}function nb(e,t,i,n,a){let o=P("Save as CSV",s7(t.id,v,s0),a);t.insertBefore(o,i),o.addEventListener("click",()=>{let t=e(),i=nw(s.getTitle()?.value+"_"+n)+".csv";nv(t,"text/csv",i),console.log("Saved "+i)})}
//# sourceMappingURL=index.3dfbed23.js.map
