let e,t,s,i,n,a,o;function d(e){return e&&e.__esModule?e.default:e}var r={};function l(e,t){if(!e.has(t))throw Error(`Key ${t} not found in map`);return e.get(t)}function g(...e){let t=e.map(e=>e.toString()).join("-").replace(/[^a-zA-Z-_0-9]/g,"_");return/^[0-9]|^--|-^[0-9]/.test(t)&&(t="_"+t),t}function h(e,t){return void 0==t&&(t=", "),e.map(e=>null==e?"null":e.toString()).join(t)}function m(e){let t=[];for(let s=0;s<e.length;s++)c(e[s])&&t.push(parseFloat(e[s]));return t}function c(e){return""!==e&&!isNaN(Number(e))}function u(e,t){return null==e||e.lt(t)?t:e}function p(e,t){return null==e||e.gt(t)?t:e}function N(e,t){let s=document.getElementById(e);null!=s&&s.remove(),void 0!=t&&t.delete(e)}function x(e,t,s,i,n,a,o){let d=_(e,o),r=M(`${n} \u{25BC}`,g(e,"button"),a);return r.className="collapsible",r.addEventListener("click",function(){let e=r.textContent.split(" ");e[e.length-1]="▼"===e[e.length-1]?"▲":"▼",r.textContent=e.join(" ")}),d.appendChild(r),d.appendChild(i),null!=s?t.insertBefore(d,s):t.appendChild(d),r.removeEventListener("click",v),r.addEventListener("click",v),d}function v(){this.classList.toggle("active");let e=this.nextElementSibling;null!=e?e instanceof HTMLDivElement?"block"===e.style.display?e.style.display="none":e.style.display="block":console.log("toggleCollapsible: nextElementSibling is not an HTMLDivElement"):console.log("toggleCollapsible: nextElementSibling is null")}function f(e,t,s,i,n,a,o){let d;let r=R(void 0,i),l=((d=E(e,t,s)).onchange=n,d.value=a,C(d),d),g=z(o,s);return g.htmlFor=t,r.appendChild(g),r.appendChild(l),r}function E(e,t,s){let i=document.createElement("input");return i.type=e,i.id=t,Object.assign(i.style,s),i.style.fontSize="1em",i.classList.add("auto-width"),i}function b(e,t){let s="<"+t;if(e)for(let[t,i]of e)s+=" "+t+'="'+i+'"';return s+" />"}function C(e,t){void 0==t&&(t=4),e.style.width=e.value.length+t+"ch"}function y(e,t){void 0==t&&(t=6),e.style.width=e.value.length+t+"ch"}function w(e,t){void 0==t&&(t=6),e.style.width=e.value.length+t+"ch"}function S(e,t,s,i,n){let a=document.createElement("select");return e.forEach(e=>{a.name=t,a.id=i;let s=document.createElement("option");s.value=e,s.text=e,a.appendChild(s)}),a.value=s,a.style.fontSize="1em",a.classList.add("auto-width"),y(a),Object.assign(a.style,n),a}function T(e,t,s,i,n,a,o){let d=R(void 0,o),r=z(e,a);return r.htmlFor=n,d.appendChild(r),d.appendChild(S(t,s,i,n,a)),d}function M(e,t,s){let i=document.createElement("button");return i.textContent=e,void 0!=t&&(i.id=t),void 0!=s&&Object.assign(i.style,s),i.style.fontSize="1em",i}function _(e,t){let s=document.createElement("div");return void 0!=e&&(s.id=e),void 0!=t&&Object.assign(s.style,t),s}function R(e,t){let s=_(e,t);return s.style.display="flex",s.style.flexWrap="wrap",s}function z(e,t){let s=document.createElement("label");return Object.assign(s.style,t),s.textContent=e,s.style.fontSize="1em",s}function P(e,t){let s=e.getElementsByTagName(t)[0];if(null==s)throw Error(t+" element not found");return s}function L(e){let t=e.childNodes;if(null==t)throw Error("Element has no childNodes");return t[0]}function I(e){let t=e.nodeValue;if(null==t)throw Error("nodeValue is null");return t}function B(e){let t=L(e);return t?I(t).trim():""}!function(e){var t,s="[big.js] ",i=s+"Invalid ",n=i+"decimal places",a=i+"rounding mode",o=s+"Division by zero",d={},l=void 0,g=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function h(e,t,s,i){var n=e.c;if(s===l&&(s=e.constructor.RM),0!==s&&1!==s&&2!==s&&3!==s)throw Error(a);if(t<1)i=3===s&&(i||!!n[0])||0===t&&(1===s&&n[0]>=5||2===s&&(n[0]>5||5===n[0]&&(i||n[1]!==l))),n.length=1,i?(e.e=e.e-t+1,n[0]=1):n[0]=e.e=0;else if(t<n.length){if(i=1===s&&n[t]>=5||2===s&&(n[t]>5||5===n[t]&&(i||n[t+1]!==l||1&n[t-1]))||3===s&&(i||!!n[0]),n.length=t,i){for(;++n[--t]>9;)if(n[t]=0,0===t){++e.e,n.unshift(1);break}}for(t=n.length;!n[--t];)n.pop()}return e}function m(e,t,s){var i=e.e,n=e.c.join(""),a=n.length;if(t)n=n.charAt(0)+(a>1?"."+n.slice(1):"")+(i<0?"e":"e+")+i;else if(i<0){for(;++i;)n="0"+n;n="0."+n}else if(i>0){if(++i>a)for(i-=a;i--;)n+="0";else i<a&&(n=n.slice(0,i)+"."+n.slice(i))}else a>1&&(n=n.charAt(0)+"."+n.slice(1));return e.s<0&&s?"-"+n:n}d.abs=function(){var e=new this.constructor(this);return e.s=1,e},d.cmp=function(e){var t,s=this.c,i=(e=new this.constructor(e)).c,n=this.s,a=e.s,o=this.e,d=e.e;if(!s[0]||!i[0])return s[0]?n:i[0]?-a:0;if(n!=a)return n;if(t=n<0,o!=d)return o>d^t?1:-1;for(n=-1,a=(o=s.length)<(d=i.length)?o:d;++n<a;)if(s[n]!=i[n])return s[n]>i[n]^t?1:-1;return o==d?0:o>d^t?1:-1},d.div=function(e){var t=this.constructor,s=this.c,i=(e=new t(e)).c,a=this.s==e.s?1:-1,d=t.DP;if(d!==~~d||d<0||d>1e6)throw Error(n);if(!i[0])throw Error(o);if(!s[0])return e.s=a,e.c=[e.e=0],e;var r,g,m,c,u,p=i.slice(),N=r=i.length,x=s.length,v=s.slice(0,r),f=v.length,E=e,b=E.c=[],C=0,y=d+(E.e=this.e-e.e)+1;for(E.s=a,a=y<0?0:y,p.unshift(0);f++<r;)v.push(0);do{for(m=0;m<10;m++){if(r!=(f=v.length))c=r>f?1:-1;else for(u=-1,c=0;++u<r;)if(i[u]!=v[u]){c=i[u]>v[u]?1:-1;break}if(c<0){for(g=f==r?i:p;f;){if(v[--f]<g[f]){for(u=f;u&&!v[--u];)v[u]=9;--v[u],v[f]+=10}v[f]-=g[f]}for(;!v[0];)v.shift()}else break}b[C++]=c?m:++m,v[0]&&c?v[f]=s[N]||0:v=[s[N]]}while((N++<x||v[0]!==l)&&a--)return!b[0]&&1!=C&&(b.shift(),E.e--,y--),C>y&&h(E,y,t.RM,v[0]!==l),E},d.eq=function(e){return 0===this.cmp(e)},d.gt=function(e){return this.cmp(e)>0},d.gte=function(e){return this.cmp(e)>-1},d.lt=function(e){return 0>this.cmp(e)},d.lte=function(e){return 1>this.cmp(e)},d.minus=d.sub=function(e){var t,s,i,n,a=this.constructor,o=this.s,d=(e=new a(e)).s;if(o!=d)return e.s=-d,this.plus(e);var r=this.c.slice(),l=this.e,g=e.c,h=e.e;if(!r[0]||!g[0])return g[0]?e.s=-d:r[0]?e=new a(this):e.s=1,e;if(o=l-h){for((n=o<0)?(o=-o,i=r):(h=l,i=g),i.reverse(),d=o;d--;)i.push(0);i.reverse()}else for(s=((n=r.length<g.length)?r:g).length,o=d=0;d<s;d++)if(r[d]!=g[d]){n=r[d]<g[d];break}if(n&&(i=r,r=g,g=i,e.s=-e.s),(d=(s=g.length)-(t=r.length))>0)for(;d--;)r[t++]=0;for(d=t;s>o;){if(r[--s]<g[s]){for(t=s;t&&!r[--t];)r[t]=9;--r[t],r[s]+=10}r[s]-=g[s]}for(;0===r[--d];)r.pop();for(;0===r[0];)r.shift(),--h;return r[0]||(e.s=1,r=[h=0]),e.c=r,e.e=h,e},d.mod=function(e){var t,s=this,i=s.constructor,n=s.s,a=(e=new i(e)).s;if(!e.c[0])throw Error(o);return(s.s=e.s=1,t=1==e.cmp(s),s.s=n,e.s=a,t)?new i(s):(n=i.DP,a=i.RM,i.DP=i.RM=0,s=s.div(e),i.DP=n,i.RM=a,this.minus(s.times(e)))},d.neg=function(){var e=new this.constructor(this);return e.s=-e.s,e},d.plus=d.add=function(e){var t,s,i,n=this.constructor;if(e=new n(e),this.s!=e.s)return e.s=-e.s,this.minus(e);var a=this.e,o=this.c,d=e.e,r=e.c;if(!o[0]||!r[0])return r[0]||(o[0]?e=new n(this):e.s=this.s),e;if(o=o.slice(),t=a-d){for(t>0?(d=a,i=r):(t=-t,i=o),i.reverse();t--;)i.push(0);i.reverse()}for(o.length-r.length<0&&(i=r,r=o,o=i),t=r.length,s=0;t;o[t]%=10)s=(o[--t]=o[t]+r[t]+s)/10|0;for(s&&(o.unshift(s),++d),t=o.length;0===o[--t];)o.pop();return e.c=o,e.e=d,e},d.pow=function(e){var t=this,s=new t.constructor("1"),n=s,a=e<0;if(e!==~~e||e<-1e6||e>1e6)throw Error(i+"exponent");for(a&&(e=-e);1&e&&(n=n.times(t)),e>>=1;)t=t.times(t);return a?s.div(n):n},d.prec=function(e,t){if(e!==~~e||e<1||e>1e6)throw Error(i+"precision");return h(new this.constructor(this),e,t)},d.round=function(e,t){if(e===l)e=0;else if(e!==~~e||e<-1e6||e>1e6)throw Error(n);return h(new this.constructor(this),e+this.e+1,t)},d.sqrt=function(){var e,t,i,n=this.constructor,a=this.s,o=this.e,d=new n("0.5");if(!this.c[0])return new n(this);if(a<0)throw Error(s+"No square root");0===(a=Math.sqrt(this+""))||a===1/0?((t=this.c.join("")).length+o&1||(t+="0"),o=((o+1)/2|0)-(o<0||1&o),e=new n(((a=Math.sqrt(t))==1/0?"5e":(a=a.toExponential()).slice(0,a.indexOf("e")+1))+o)):e=new n(a+""),o=e.e+(n.DP+=4);do i=e,e=d.times(i.plus(this.div(i)));while(i.c.slice(0,o).join("")!==e.c.slice(0,o).join(""))return h(e,(n.DP-=4)+e.e+1,n.RM)},d.times=d.mul=function(e){var t,s=this.constructor,i=this.c,n=(e=new s(e)).c,a=i.length,o=n.length,d=this.e,r=e.e;if(e.s=this.s==e.s?1:-1,!i[0]||!n[0])return e.c=[e.e=0],e;for(e.e=d+r,a<o&&(t=i,i=n,n=t,r=a,a=o,o=r),t=Array(r=a+o);r--;)t[r]=0;for(d=o;d--;){for(o=0,r=a+d;r>d;)o=t[r]+n[d]*i[r-d-1]+o,t[r--]=o%10,o=o/10|0;t[r]=o}for(o?++e.e:t.shift(),d=t.length;!t[--d];)t.pop();return e.c=t,e},d.toExponential=function(e,t){var s=this,i=s.c[0];if(e!==l){if(e!==~~e||e<0||e>1e6)throw Error(n);for(s=h(new s.constructor(s),++e,t);s.c.length<e;)s.c.push(0)}return m(s,!0,!!i)},d.toFixed=function(e,t){var s=this,i=s.c[0];if(e!==l){if(e!==~~e||e<0||e>1e6)throw Error(n);for(s=h(new s.constructor(s),e+s.e+1,t),e=e+s.e+1;s.c.length<e;)s.c.push(0)}return m(s,!1,!!i)},d.toJSON=d.toString=function(){var e=this.constructor;return m(this,this.e<=e.NE||this.e>=e.PE,!!this.c[0])},d.toNumber=function(){var e=Number(m(this,!0,!0));if(!0===this.constructor.strict&&!this.eq(e.toString()))throw Error(s+"Imprecise conversion");return e},d.toPrecision=function(e,t){var s=this,n=s.constructor,a=s.c[0];if(e!==l){if(e!==~~e||e<1||e>1e6)throw Error(i+"precision");for(s=h(new n(s),e,t);s.c.length<e;)s.c.push(0)}return m(s,e<=s.e||s.e<=n.NE||s.e>=n.PE,!!a)},d.valueOf=function(){var e=this.constructor;if(!0===e.strict)throw Error(s+"valueOf disallowed");return m(this,this.e<=e.NE||this.e>=e.PE,!0)},(t=function e(){function t(s){if(!(this instanceof t))return s===l?e():new t(s);if(s instanceof t)this.s=s.s,this.e=s.e,this.c=s.c.slice();else{if("string"!=typeof s){if(!0===t.strict&&"bigint"!=typeof s)throw TypeError(i+"value");s=0===s&&1/s<0?"-0":String(s)}(function(e,t){var s,n,a;if(!g.test(t))throw Error(i+"number");for(e.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(s=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(s<0&&(s=n),s+=+t.slice(n+1),t=t.substring(0,n)):s<0&&(s=t.length),a=t.length,n=0;n<a&&"0"==t.charAt(n);)++n;if(n==a)e.c=[e.e=0];else{for(;a>0&&"0"==t.charAt(--a););for(e.e=s-n-1,e.c=[],s=0;n<=a;)e.c[s++]=+t.charAt(n++)}})(this,s)}this.constructor=t}return t.prototype=d,t.DP=20,t.RM=1,t.NE=-7,t.PE=21,t.strict=!1,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}()).default=t.Big=t,"function"==typeof define&&define.amd?define(function(){return t}):r?r=t:e.Big=t}(r);class A{constructor(e){this.tagName=e}toXML(e){let t=b(void 0,this.tagName);return e?"\n"+e+t:t}}class D extends A{constructor(e,t){super(t),this.attributes=e}toString(){let e=this.tagName+"(";return this.attributes&&this.attributes.forEach((t,s)=>{e+=`${s}(${t}), `}),e}toXML(e){let t="";for(let[s,i]of(void 0!=e&&(t+="\n"+e),t+="<"+this.tagName,this.attributes))t+=" "+s+'="'+i.toString()+'"';return t+" />"}}class G extends D{constructor(e,t,s){super(e,t),this.value=s}toString(){return super.toString()+`, ${this.value.toString()})`}toXML(e){return U(this.value.trim(),this.tagName,this.attributes,e,!1)}}class k extends D{constructor(e,t,s){super(e,t),this.value=s}toString(){return super.toString()+`, ${this.value.toString()})`}toXML(e){let t,s=this.value.toString().trim();return t=this.value<new(d(r))(0)?7:6,s.length>t&&(s=this.value.toExponential().trim()),U(s,this.tagName,this.attributes,e,!1)}}class O extends D{constructor(e,t,s,i){super(e,t),this.delimiter=",",this.values=s,void 0!=i&&(this.delimiter=i)}toString(){return super.toString()+`, ${this.values.toString()})`}setDelimiter(e){this.delimiter=e}toXML(e){return U(this.values.toString().replaceAll(",",this.delimiter),this.tagName,this.attributes,e,!1)}}class F extends D{constructor(e,t){super(e,t),this.nodes=new Map}addNode(e){this.nodes.set(this.nodes.size,e)}toString(){let e=super.toString();return this.nodes.forEach((t,s)=>{e+=`, ${t.toString()}`}),e+")"}toXML(e,t){let s;void 0!=e&&void 0!=t&&(s=t+e);let i="";if(this.nodes.size>0)return this.nodes.forEach(t=>{void 0==t?console.warn("Node 0 is undefined this.nodes.size = "+this.nodes.size):t instanceof F?i+=t.toXML(e,s):i+=t.toXML(s)}),U(i,this.tagName,this.attributes,t,!0);{let e=b(this.attributes,this.tagName);return void 0!=t?"\n"+t+e:e}}}function U(e,t,s,i,n){let a;return function(e,t,s){let i="";if(void 0!=s&&(i+="\n"+s),i+="<"+e,t)for(let[e,s]of t)i+=" "+e+'="'+s.toString()+'"';return i+">"}(t,s,i)+e+(a="",n&&void 0!=i&&(a+="\n"+i),a+"</"+t+">")}function q(e){let t=e.getAttributeNames(),s=new Map;return t.forEach(function(t){let i=e.getAttribute(t);null!=i&&s.set(t,i)}),s}function H(e,t){let s=e.getElementsByTagName(t);if(1!=s.length)throw Error("Expecting 1 "+t+" but finding "+s.length);return s[0]}class Y extends k{static{this.s_units="units"}static{this.s_lower="lower"}static{this.s_upper="upper"}static{this.s_stepsize="stepsize"}constructor(e,t,s){super(e,t,s)}setValue(e){this.value=e}getUnits(){return this.attributes.get(Y.s_units)}setUnits(e){this.attributes.set(Y.s_units,e)}removeUnits(){this.attributes.delete(Y.s_units)}getLower(){let e=this.attributes.get(Y.s_lower);if(void 0!=e)return new(d(r))(e)}setLower(e){this.attributes.set(Y.s_lower,e.toString())}removeLower(){this.attributes.delete(Y.s_lower)}getUpper(){let e=this.attributes.get(Y.s_upper);if(void 0!=e)return new(d(r))(e)}setUpper(e){this.attributes.set(Y.s_upper,e.toString())}removeUpper(){this.attributes.delete(Y.s_upper)}getStepsize(){let e=this.attributes.get(Y.s_stepsize);if(void 0!=e)return new(d(r))(e)}setStepsize(e){this.attributes.set(Y.s_stepsize,e.toString())}removeStepsize(){this.attributes.delete(Y.s_stepsize)}}class $ extends D{static{this.tagName="atom"}static{this.s_id="id"}static{this.s_elementType="elementType"}static{this.s_x3="x3"}static{this.s_y3="y3"}static{this.s_z3="z3"}constructor(e,t){super(e,$.tagName),this.molecule=t}hasCoordinates(){return void 0!=this.attributes.get($.s_x3)&&void 0!=this.attributes.get($.s_y3)&&void 0!=this.attributes.get($.s_z3)}getId(){return this.attributes.get($.s_id)}setId(e){this.attributes.set($.s_id,e)}getElementType(){return this.attributes.get($.s_elementType)}setElementType(e){this.attributes.set($.s_elementType,e)}getX3(){let e=this.attributes.get($.s_x3);if(void 0!=e)return new(d(r))(e)}setX3(e){this.attributes.set($.s_x3,e.toString())}removeX3(){this.attributes.delete($.s_x3)}getY3(){let e=this.attributes.get($.s_y3);if(void 0!=e)return new(d(r))(e)}setY3(e){this.attributes.set($.s_y3,e.toString())}removeY3(){this.attributes.delete($.s_y3)}getZ3(){let e=this.attributes.get($.s_z3);if(void 0!=e)return new(d(r))(e)}setZ3(e){this.attributes.set("z3",e.toString())}removeZ3(){this.attributes.delete("z3")}}class V extends F{static{this.tagName="atomArray"}constructor(e,t){super(e,V.tagName),this.index=new Map,this.reverseIndex=new Map,void 0==t?this.atoms=new Map:(this.atoms=t,t.forEach((e,t)=>{this.index.set(t,this.nodes.size),this.reverseIndex.set(this.nodes.size,t),this.nodes.set(this.nodes.size,e)}))}getAtom(e){return this.atoms.get(e)}addAtom(e){let t=e.getId();if(void 0==t)t=this.getNextAtomID(),e.setId(t);else if(this.atoms.has(t)){let s=this.getNextAtomID();console.warn("Atom with id "+t+" already exists, adding with id "+s),e.setId(s),t=s}return this.index.set(t,this.nodes.size),this.reverseIndex.set(this.nodes.size,t),this.nodes.set(this.nodes.size,e),this.atoms.set(t,e),t}getNextAtomID(){let e=1,t="a1";if(this.atoms.has(t))for(;this.atoms.has(t);)e++,t="a"+e.toString();return t}removeAtom(e){let t=this.index.get(e);if(void 0==t)throw Error("Atom with id "+e+" does not exist!");console.log("Removing atom with id "+e),this.atoms.delete(e),this.deleteNodeAndReindex(t,e)}deleteNodeAndReindex(e,t){this.nodes.delete(e),this.index.delete(t),this.reverseIndex.delete(e);let s=new Map,i=new Map,n=new Map;this.index.forEach((t,a)=>{t>e?(s.set(t-1,this.nodes.get(t)),i.set(a,t-1),n.set(t-1,a)):(s.set(t,this.nodes.get(t)),i.set(a,t),n.set(t,a))}),this.nodes=s,this.index=i,this.reverseIndex=n}}class X extends D{static{this.tagName="bond"}static{this.s_atomRefs2="atomRefs2"}static{this.s_id="id"}static{this.s_order="order"}static{this.orderOptions=["1","1.5","2","2.5","3","3.5","4","4.5","5","5.5","6"]}constructor(e,t){super(e,X.tagName),this.molecule=t}getAtomRefs2(){let e=this.attributes.get(X.s_atomRefs2);return(e?.split(" "),void 0==e)?"a1 a1":e}setAtomRefs2(e){this.attributes.set(X.s_atomRefs2,e)}getId(){return this.attributes.get(X.s_id)}setId(e){this.attributes.set(X.s_id,e)}getOrder(){let e=this.attributes.get(X.s_order);if(void 0!=e)return parseFloat(e)}setOrder(e){this.attributes.set(X.s_order,e.toString())}}class j extends F{static{this.tagName="bondArray"}constructor(e,t){super(e,j.tagName),this.index=new Map,this.reverseIndex=new Map,void 0==t?this.bonds=new Map:(this.bonds=t,t.forEach((e,t)=>{this.index.set(t,this.nodes.size),this.reverseIndex.set(this.nodes.size,t),this.nodes.set(this.nodes.size,e)}))}getBondIds(){return Array.from(this.bonds.keys())}getBond(e){return this.bonds.get(e)}addBond(e){let t=e.getId();if(void 0==t)t=this.getNextBondID(),e.setId(t);else if(this.bonds.has(t)){let s=this.getNextBondID();console.log("Bond with id "+t+" already exists, adding with id "+s),e.setId(s),t=s}return this.index.set(t,this.nodes.size),this.reverseIndex.set(this.nodes.size,t),this.nodes.set(this.nodes.size,e),this.bonds.set(t,e),t}getNextBondID(){let e=1,t="b1";for(;this.bonds.has(t);)e++,t="b"+e.toString();return t}removeBond(e){let t=this.index.get(e);if(void 0==t)throw Error("Bond with id "+e+" does not exist!");console.log("Removing bond with id "+e),this.bonds.delete(e),this.deleteNodeAndReindex(t,e)}deleteNodeAndReindex(e,t){this.nodes.delete(e),this.index.delete(t),this.reverseIndex.delete(e);let s=new Map,i=new Map,n=new Map;this.index.forEach((t,a)=>{t>e?(s.set(t-1,this.nodes.get(t)),i.set(a,t-1),n.set(t-1,a)):(s.set(t,this.nodes.get(t)),i.set(a,t),n.set(t,a))}),this.nodes=s,this.index=i,this.reverseIndex=n}}class W extends k{static{this.tagName="scalar"}static{this.s_units="units"}constructor(e,t){super(e,W.tagName,t)}updateUnits(e){if(e){let t=this.attributes.get(W.s_units);void 0!=t&&t!=e&&this.attributes.set(W.s_units,e)}}}class Z extends O{static{this.tagName="array"}static{this.s_units="units"}constructor(e,t,s){super(e,Z.tagName,t,s)}updateUnits(e){if(e){let t=this.attributes.get(Z.s_units);void 0!=t&&t!=e&&(this.attributes.set(Z.s_units,e),console.log("Units changed from "+t+" to "+e))}}}class K extends O{static{this.tagName="matrix"}static{this.s_rows="rows"}static{this.s_matrixType="matrixType"}static{this.s_units="units"}constructor(e,t,s){super(e,Z.tagName,t,s)}updateUnits(e){if(e){let t=this.attributes.get(Z.s_units);void 0!=t&&t!=e&&(this.attributes.set(Z.s_units,e),console.log("Units changed from "+t+" to "+e))}}}class J extends F{static{this.tagName="property"}static{this.s_dictRef="dictRef"}constructor(e,t){super(e,J.tagName);let s=e.get(J.s_dictRef);if(void 0==s)throw Error(J.s_dictRef+" is undefined!");this.dictRef=s,t&&this.nodes.set(0,t)}getProperty(){return this.nodes.get(0)}setProperty(e){this.nodes.set(0,e)}}class Q extends J{static{this.dictRef="me:ZPE"}constructor(e,t){super(e,t)}setUnits(e){this.getProperty().updateUnits(e)}}class ee extends J{static{this.dictRef="me:frequenciesScaleFactor"}constructor(e,t){super(e,t)}}class et extends J{static{this.dictRef="me:vibFreqs"}constructor(e,t){super(e,t)}}class es extends J{static{this.dictRef="me:rotConsts"}static{this.unitOptions=["cm-1","GHz","amuA^2"]}constructor(e,t){super(e,t)}}class ei extends J{static{this.dictRef="me:MW"}constructor(e,t){super(e,t)}}class en extends J{static{this.dictRef="me:imFreqs"}constructor(e,t){super(e,t)}}class ea extends F{static{this.tagName="propertyList"}constructor(e,t){super(e,ea.tagName),this.index=new Map,void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e),this.index.set(e.dictRef,this.nodes.size-1)})}getProperty(e){let t=this.index.get(e);if(void 0!=t)return this.nodes.get(t);throw Error("Property "+e+" does not exist")}setProperty(e){let t=this.index.get(e.dictRef);void 0==t?(this.nodes.set(this.nodes.size,e),this.index.set(e.dictRef,this.nodes.size-1)):(console.log("Property "+e.dictRef+" already exists, updating..."),this.nodes.set(t,e))}}class eo extends Y{static{this.tagName="me:deltaEDown"}static{this.s_bathGas="bathGas"}constructor(e,t){super(e,eo.tagName,t)}getBathGas(){return this.attributes.get(eo.s_bathGas)}setBathGas(e){this.attributes.set(eo.s_bathGas,e)}}class ed extends eo{static{this.tagName="me:deltaEDown2"}constructor(e,t){super(e,t)}}class er extends Y{static{this.tagName="me:deltaEDownTExponent"}static{this.s_referenceTemperature="referenceTemperature"}constructor(e,t){super(e,er.tagName,t)}getReferenceTemperature(){return parseFloat(l(this.attributes,er.s_referenceTemperature))}setReferenceTemperature(e){this.attributes.set(er.s_referenceTemperature,e.toString())}}class el extends Y{static{this.tagName="me:deltaEDownLinEne"}constructor(e,t){super(e,el.tagName,t)}}class eg extends F{static{this.tagName="me:energyTransferModel"}constructor(e,t){super(e,eg.tagName),void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e)})}getDeltaEDowns(){let e=[];return this.nodes.forEach(t=>{t instanceof eo&&e.push(t)}),e}setDeltaEDowns(e){this.nodes.clear(),e.forEach(e=>{this.nodes.set(this.nodes.size,e)})}getDeltaEDown(e){if(e<0||e>=this.nodes.size)throw Error("index out of range");return this.nodes.get(e)}setDeltaEDown(e,t){this.nodes.set(e,t)}addDeltaEDown(e){return this.nodes.set(this.nodes.size,e),this.nodes.size-1}}class eh extends D{static{this.tagName="me:DOSCMethod"}static{this.xsi_typeOptions=["ClassicalRotors","QMRotors","me:ClassicalRotors","me:QMRotors"]}static{this.s_xsi_type="xsi:type"}constructor(e){if(super(e,eh.tagName),void 0==e.get(eh.s_xsi_type)){let t=e.get("name");if(void 0==t)throw Error("Neither xsi:type or name are defined.");e.set(eh.s_xsi_type,t)}}getXsiType(){return this.attributes.get(eh.s_xsi_type)}setXsiType(e){this.attributes.set(eh.s_xsi_type,e)}}class em extends G{static{this.tagName="me:bondRef"}constructor(e,t){super(e,em.tagName,t)}}class ec extends D{static{this.tagName="me:PotentialPoint"}static{this.s_angle="angle"}static{this.s_potential="potential"}constructor(e){super(e,ec.tagName);let t=e.get(ec.s_angle);if(void 0==t)throw Error(ec.s_potential+" is undefined!");this.angle=parseFloat(t);let s=e.get(ec.s_potential);if(void 0==s)throw Error(ec.s_potential+" is undefined!");this.potential=parseFloat(s)}getAngle(){return this.angle}setAngle(e){this.angle=e,this.attributes.set(ec.s_angle,e.toString())}getPotential(){return this.potential}setPotential(e){this.potential=e,this.attributes.set(ec.s_potential,e.toString())}}class eu extends F{static{this.tagName="me:HinderedRotorPotential"}static{this.formats=new Set(["numerical","analytical"])}static{this.s_format="format"}static{this.s_units="units"}static{this.s_expansionSize="expansionSize"}static{this.s_useSineTerms="useSineTerms"}constructor(e,t){super(e,eu.tagName);let s=e.get(eu.s_format);if(void 0==s)throw Error(eu.s_format+" is undefined!");this.format=s;let i=e.get(eu.s_units);if(void 0==i)throw Error(eu.s_units+" is undefined!");this.units=i,void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e)});let n=e.get(eu.s_expansionSize);if(void 0==n)throw Error(eu.s_expansionSize+" is undefined!");this.expansionSize=parseFloat(n),void 0==e.get(eu.s_useSineTerms)?this.useSineTerms=!1:this.useSineTerms=!0}getFormat(){return this.format}setFormat(e){this.format=e,this.attributes.set(eu.s_format,e)}getUnits(){return this.units}setUnits(e){this.units=e,this.attributes.set(eu.s_units,e)}getExpansionSize(){return this.expansionSize}setExpansionSize(e){this.expansionSize=e,this.attributes.set(eu.s_expansionSize,e.toString())}getUseSineTerms(){return this.useSineTerms}setUseSineTerms(e){this.useSineTerms=e,this.attributes.set(eu.s_useSineTerms,e?"yes":"no")}getPotentialPoint(e){return this.nodes.get(e)}setPotentialPoint(e,t){this.nodes.set(e,t)}setPotentialPoints(e){this.nodes.clear(),e.forEach(e=>{this.nodes.set(this.nodes.size,e)})}addPotentialPoint(e){return this.nodes.set(this.nodes.size,e),this.nodes.size-1}removePotentialPoint(e){this.nodes.delete(e)}}class ep extends k{static{this.tagName="me:periodicity"}constructor(e,t){super(e,ep.tagName,t)}}class eN extends F{static{this.tagName="me:ExtraDOSCMethod"}constructor(e,t,s,i){super(e,eN.tagName),this.index=new Map,t&&(this.nodes.set(this.nodes.size,t),this.index.set(em.tagName,this.nodes.size-1)),s&&(this.nodes.set(this.nodes.size,s),this.index.set(eu.tagName,this.nodes.size-1)),i&&(this.nodes.set(this.nodes.size,i),this.index.set(ep.tagName,this.nodes.size-1))}getBondRef(){let e=this.index.get(em.tagName);if(void 0!=e)return this.nodes.get(e)}setBondRef(e){let t=this.index.get(em.tagName);void 0!=t?this.nodes.set(t,e):(this.nodes.set(this.nodes.size,e),this.index.set(em.tagName,this.nodes.size-1))}getHinderedRotorPotential(){let e=this.index.get(eu.tagName);if(void 0!=e)return this.nodes.get(e)}setHinderedRotorPotential(e){let t=this.index.get(eu.tagName);void 0!=t?this.nodes.set(t,e):(this.nodes.set(this.nodes.size,e),this.index.set(eu.tagName,this.nodes.size-1))}getPeriodicity(){let e=this.index.get(ep.tagName);if(void 0!=e)return this.nodes.get(e)}setPeriodicity(e){let t=this.index.get(ep.tagName);void 0!=t?this.nodes.set(t,e):(this.nodes.set(this.nodes.size,e),this.index.set(ep.tagName,this.nodes.size-1))}}class ex extends k{static{this.tagName="me:reservoirSize"}constructor(e,t){super(e,ex.tagName,t)}}class ev extends F{static{this.tagName="molecule"}static{this.s_id="id"}static{this.s_description="description"}static{this.s_active="active"}constructor(e,t,s,i,n,a,o,d,r){super(e,ev.tagName),this.index=new Map,this.id=t;let l=0;s||(s=new V(new Map)),this.nodes.set(l,s),this.index.set(V.tagName,l),l++,i||(i=new j(new Map)),this.nodes.set(l,i),this.index.set(j.tagName,l),l++,n&&(this.nodes.set(l,n),this.index.set(ea.tagName,l),l++),a&&(this.nodes.set(l,a),this.index.set(eg.tagName,l),l++),o&&(this.nodes.set(l,o),this.index.set(eh.tagName,l)),d&&(this.nodes.set(l,d),this.index.set(eN.tagName,l)),r&&(this.nodes.set(l,r),this.index.set(ex.tagName,l))}getDescription(){let e=this.attributes.get(ev.s_description);return void 0!=e?e:this.id}setDescription(e){this.attributes.set(ev.s_description,e)}getActive(){let e=this.attributes.get(ev.s_active);if(void 0!=e)return"true"==e}setActive(e){this.attributes.set(ev.s_active,e.toString())}getLabel(){let e=this.id,t=this.getDescription();return void 0!=t&&(e+=" ("+t+")"),this.getActive()&&(e+=" ("+ev.s_active+")"),e}getAttributesAsString(){return Array.from(this.attributes,([e,t])=>`${e}="${t}"`).join(", ")}getProperties(){let e=this.index.get(ea.tagName);if(void 0!=e||void 0!=(e=this.index.get(J.tagName)))return this.nodes.get(e)}setProperties(e){let t=this.index.get(ea.tagName);void 0==t?(this.index.set(ea.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getProperty(e){let t=this.getProperties();if(void 0!=t)return t instanceof ea?t.getProperty(e):t}setProperty(e){let t=this.getProperties();void 0!=t?t instanceof ea?t.setProperty(e):this.setProperties(t):this.setProperties(e)}getAtom(e){return this.getAtoms().getAtom(e)}getAtoms(){let e=this.index.get(V.tagName);return this.nodes.get(e)}setAtoms(e){this.index.set(V.tagName,this.nodes.size),this.nodes.set(this.nodes.size,e)}getBond(e){return this.getBonds().getBond(e)}getBonds(){let e=this.index.get(j.tagName);return this.nodes.get(e)}setBonds(e){this.index.set(j.tagName,this.nodes.size),this.nodes.set(this.nodes.size,e)}getEnergyTransferModel(){let e=this.index.get(eg.tagName);if(void 0!=e)return this.nodes.get(e)}setEnergyTransferModel(e){let t=this.index.get(eg.tagName);void 0==t?(this.index.set(eg.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getDOSCMethod(){let e=this.index.get(eh.tagName);if(void 0!=e)return this.nodes.get(e)}setDOSCMethod(e){let t=this.index.get(eh.tagName);void 0==t?(this.index.set(eh.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getExtraDOSCMethod(){let e=this.index.get(eN.tagName);if(void 0!=e)return this.nodes.get(e)}setExtraDOSCMethod(e){let t=this.index.get(eN.tagName);void 0==t?(this.index.set(eN.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getReservoirSize(){let e=this.index.get(ex.tagName);if(void 0!=e)return this.nodes.get(e)}setReservoirSize(e){let t=this.index.get(ex.tagName);void 0==t?(this.index.set(ex.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getEnergy(){let e=this.getProperty(Q.dictRef);if(void 0==e)throw console.log(this.toString()),Error(Q.dictRef+" property not found!");return e.getProperty().value}}class ef extends D{static{this.tagName="molecule"}constructor(e){super(e,ef.tagName),this.ref=e.get("ref"),this.role=e.get("role")}setRole(e){this.role=e}}class eE extends F{static{this.tagName="reactant"}static{this.roleOptions=["deficientReactant","excessReactant","modelled"]}constructor(e,t){super(e,eE.tagName),this.addNode(t)}getMolecule(){return this.nodes.get(0)}}class eb extends F{static{this.tagName="product"}static{this.roleOptions=["modelled","sink"]}constructor(e,t){super(e,eb.tagName),this.addNode(t)}getMolecule(){return this.nodes.get(0)}}class eC extends F{static{this.tagName="me:transitionState"}constructor(e,t){super(e,eC.tagName),this.addNode(t)}getMolecule(){return this.nodes.get(0)}}class ey extends k{static{this.tagName="me:preExponential"}constructor(e,t){super(e,ey.tagName,t)}}class ew extends k{static{this.tagName="me:activationEnergy"}constructor(e,t){super(e,ew.tagName,t)}}class eS extends k{static{this.tagName="me:TInfinity"}constructor(e,t){super(e,eS.tagName,t)}}class eT extends k{static{this.tagName="me:nInfinity"}constructor(e,t){super(e,eT.tagName,t)}}class eM extends F{static{this.tagName="me:MCRCMethod"}constructor(e){super(e,eM.tagName)}}class e_ extends eM{static{this.xsiType="me:MesmerILT"}static{this.xsiType2="MesmerILT"}constructor(e,t,s,i,n){super(e),this.index=new Map,void 0!=t&&(this.index.set(ey.tagName,this.index.size),this.addNode(t)),void 0!=s&&(this.index.set(ew.tagName,this.index.size),this.addNode(s)),void 0!=i&&(this.index.set(eS.tagName,this.index.size),this.addNode(i)),void 0!=n&&(this.index.set(eT.tagName,this.index.size),this.addNode(n))}getPreExponential(){let e=this.index.get(ey.tagName);if(void 0!=e)return this.nodes.get(e)}setPreExponential(e){let t=this.index.get(ey.tagName);void 0==t?(this.index.set(ey.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getActivationEnergy(){let e=this.index.get(ew.tagName);if(void 0!=e)return this.nodes.get(e)}setActivationEnergy(e){let t=this.index.get(ew.tagName);void 0==t?(this.index.set(ew.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getTInfinity(){let e=this.index.get(eS.tagName);if(void 0!=e)return this.nodes.get(e)}setTInfinity(e){let t=this.index.get(eS.tagName);void 0==t?(this.index.set(eS.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getNInfinity(){let e=this.index.get(eT.tagName);if(void 0!=e)return this.nodes.get(e)}setNInfinity(e){let t=this.index.get(eT.tagName);void 0==t?(this.index.set(eT.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}}class eR extends D{static{this.tagName="me:tunneling"}static{this.options=["Eckart","WKB"]}static{this.s_name="name"}constructor(e){super(e,eR.tagName)}getName(){return this.attributes.get(eR.s_name)}setName(e){this.attributes.set(eR.s_name,e)}}class ez extends k{static{this.tagName="me:excessReactantConc"}constructor(e,t){super(e,ez.tagName,t)}}class eP extends F{static{this.tagName="reaction"}static{this.s_id="id"}constructor(e,t,s,i,n,a,o){super(e,eP.tagName),this.index=new Map,this.reactantsIndex=new Map,this.productsIndex=new Map,this.transitionStatesIndex=new Map;let d=e.get(eP.s_id);if(void 0==d)throw Error(eP.s_id+" is undefined!");this.id=d,void 0!=t&&(t.forEach(e=>{this.reactantsIndex.set(e.getMolecule().ref,this.nodes.size),this.addNode(e)}),this.index.set(eE.tagName,this.reactantsIndex)),void 0!=s&&(s.forEach(e=>{this.productsIndex.set(e.getMolecule().ref,this.nodes.size),this.addNode(e)}),this.index.set(eb.tagName,this.productsIndex)),void 0!=i&&(this.index.set(eR.tagName,this.nodes.size),this.addNode(i)),void 0!=n&&(n.forEach(e=>{this.transitionStatesIndex.set(e.getMolecule().ref,this.nodes.size),this.addNode(e)}),this.index.set(eC.tagName,this.transitionStatesIndex)),void 0!=a&&(this.index.set(eM.tagName,this.nodes.size),this.addNode(a)),void 0!=o&&(this.index.set(ez.tagName,this.nodes.size),this.addNode(o))}addToIndex(e,t){let s=this.index.get(e);if(void 0==s)this.index.set(e,this.nodes.size);else if(s instanceof Map)s.set(t.tagName,this.nodes.size);else{let i=new Map;i.set(this.nodes.get(s).ref,s),i.set(t.tagName,this.nodes.size),this.index.set(e,i)}}getReactants(){let e=this.index.get(eE.tagName);return void 0==e?[]:e instanceof Map?Array.from(e.values()).map(e=>this.nodes.get(e)):[this.nodes.get(e)]}setReactants(e){e.forEach(e=>{this.reactantsIndex.set(e.getMolecule().ref,this.nodes.size),this.addNode(e)}),this.index.set(eE.tagName,this.reactantsIndex)}getReactant(e){let t=this.reactantsIndex.get(e);if(void 0==t)throw Error(`Reactant with ref ${e} not found`);return this.nodes.get(t)}addReactant(e){this.reactantsIndex.set(e.getMolecule().ref,this.nodes.size),this.addNode(e)}removeReactant(e){let t=this.reactantsIndex.get(e);if(void 0==t)throw Error(`Reactant with ref ${e} not found`);this.nodes.delete(t),this.reactantsIndex.delete(e)}getProducts(){let e=this.index.get(eb.tagName);return void 0==e?[]:e instanceof Map?Array.from(e.values()).map(e=>this.nodes.get(e)):[this.nodes.get(e)]}setProducts(e){e.forEach(e=>{this.productsIndex.set(e.getMolecule().ref,this.nodes.size),this.addNode(e)}),this.index.set(eb.tagName,this.productsIndex)}getProduct(e){let t=this.productsIndex.get(e);if(void 0==t)throw Error(`Product with ref ${e} not found`);return this.nodes.get(t)}addProduct(e){this.productsIndex.set(e.getMolecule().ref,this.nodes.size),this.addNode(e)}removeProduct(e){let t=this.productsIndex.get(e);if(void 0==t)throw Error(`Product with ref ${e} not found`);this.nodes.delete(t),this.productsIndex.delete(e)}getTunneling(){let e=this.index.get(eR.tagName);if(void 0!=e)return this.nodes.get(e)}setTunneling(e){let t=this.index.get(eR.tagName);if(void 0==t)this.index.set(eR.tagName,this.nodes.size),this.addNode(e);else{if(t instanceof Map)throw Error("Tunneling is a map and it is assumed there would be only 1!");this.nodes.set(t,e)}}getTransitionStates(){let e=this.index.get(eC.tagName);return void 0==e?[]:e instanceof Map?Array.from(e.values()).map(e=>this.nodes.get(e)):[this.nodes.get(e)]}setTransitionStates(e){e.forEach(e=>{this.transitionStatesIndex.set(e.getMolecule().ref,this.nodes.size),this.addNode(e)}),this.index.set(eC.tagName,this.transitionStatesIndex)}getTransitionState(e){let t=this.transitionStatesIndex.get(e);if(void 0==t)throw Error(`Transition state with ref ${e} not found`);return this.nodes.get(t)}addTransitionState(e){this.transitionStatesIndex.set(e.getMolecule().ref,this.nodes.size),this.addNode(e)}removeTransitionState(e){let t=this.transitionStatesIndex.get(e);if(void 0==t)throw Error(`Transition State with ref ${e} not found`);this.nodes.delete(t),this.transitionStatesIndex.delete(e)}getMCRCMethod(){let e=this.index.get(eM.tagName);if(void 0!=e)return this.nodes.get(e)}setMCRCMethod(e){let t=this.index.get(eM.tagName);if(void 0==t)this.index.set(eM.tagName,this.nodes.size),this.addNode(e);else{if(t instanceof Map)throw Error("MCRCMethod is a map and it is assumed there would be only 1!");this.nodes.set(t,e)}}getExcessReactantConc(){let e=this.index.get(ez.tagName);if(void 0!=e)return this.nodes.get(e)}setExcessReactantConc(e){let t=this.index.get(ez.tagName);if(void 0==t)this.index.set(ez.tagName,this.nodes.size),this.addNode(e);else{if(t instanceof Map)throw Error("ExcessReactantConc is a map and it is assumed there would be only 1!");this.nodes.set(t,e)}}getReactantsLabel(){return this.getReactants().map(e=>e.getMolecule().ref).join(" + ")}getProductsLabel(){return this.getProducts().map(e=>e.getMolecule().ref).join(" + ")}getLabel(){return this.getReactantsLabel()+" -> "+this.getProductsLabel()}getReactantsEnergy(e){return Array.from(this.getReactants()).map(t=>{let s=e.get(t.getMolecule().ref);if(void 0==s)throw Error(`Molecule with ref ${t.getMolecule().ref} not found`);return s.getEnergy()}).reduce((e,t)=>e.add(t),new(d(r))(0))}getProductsEnergy(e){return Array.from(this.getProducts()).map(t=>{let s=e.get(t.getMolecule().ref);if(void 0==s)throw Error(`Molecule with ref ${t.getMolecule().ref} not found`);return s.getEnergy()}).reduce((e,t)=>e.add(t),new(d(r))(0))}get(e,t){if(this.index.has(e)){let s=this.index.get(e);if(void 0!=s){if(!(s instanceof Map))return this.nodes.get(s);{let e=s.get(t);if(void 0!=e)return this.nodes.get(e)}}}}}function eL(e,t,s,i,n,a,o,d,r,l,g){let h=i+(a-i)/2;eB(e,g,d,t,h-eA(e,g,d)/2,o+r),eB(e,l,d,t,h-eA(e,l,d)/2,o+3*r),eI(e,t,s,i,n,a,o)}function eI(e,t,s,i,n,a,o){e.beginPath(),e.strokeStyle=t,e.lineWidth=s,e.moveTo(i,n),e.lineTo(a,o),e.stroke()}function eB(e,t,s,i,n,a){e.save(),e.translate(n,a),e.scale(1,-1),e.font=s,e.fillStyle=i,e.fillText(t,0,0),e.restore()}function eA(e,t,s){return e.font=s,e.measureText(t).width}class eD extends G{static{this.tagName="me:bathGas"}constructor(e,t){super(e,eD.tagName,t)}}class eG extends k{static{this.tagName="me:experimentalRate"}static{this.s_ref1="ref1"}static{this.s_ref2="ref2"}static{this.s_refReaction="refReaction"}static{this.s_error="error"}constructor(e,t){super(e,eG.tagName,t)}getRef1(){return this.attributes.get(eG.s_ref1)}setRef1(e){this.attributes.set(eG.s_ref1,e)}getRef2(){return this.attributes.get(eG.s_ref2)}setRef2(e){this.attributes.set(eG.s_ref2,e)}getRefReaction(){return this.attributes.get(eG.s_refReaction)}setRefReaction(e){this.attributes.set(eG.s_refReaction,e)}getError(){return parseFloat(this.attributes.get(eG.s_error))}setError(e){this.attributes.set(eG.s_error,e.toString())}}class ek extends k{static{this.tagName="me:experimentalYield"}static{this.s_ref="ref"}static{this.s_error="error"}static{this.s_yieldTime="yieldTime"}constructor(e,t){super(e,ek.tagName,t)}getRef(){return this.attributes.get(ek.s_ref)}setRef(e){this.attributes.set(ek.s_ref,e)}getError(){return parseFloat(this.attributes.get(ek.s_error))}setError(e){this.attributes.set(ek.s_error,e.toString())}getYieldTime(){return parseFloat(this.attributes.get(ek.s_yieldTime))}setYieldTime(e){this.attributes.set(ek.s_yieldTime,e.toString())}}class eO extends k{static{this.tagName="me:experimentalEigenvalue"}static{this.s_EigenvalueID="EigenvalueID"}static{this.s_error="error"}constructor(e,t){super(e,eO.tagName,t)}getEigenvalueID(){return this.attributes.get(eO.s_EigenvalueID)}setEigenvalueID(e){this.attributes.set(eO.s_EigenvalueID,e)}getError(){return parseFloat(this.attributes.get(eO.s_error))}setError(e){this.attributes.set(eO.s_error,e.toString())}}class eF extends k{static{this.tagName="me:excessReactantConc"}static{this.s_percent="percent"}constructor(e,t){super(e,eF.tagName,t)}getPercent(){return this.attributes.get(eF.s_percent)}setPercent(e){this.attributes.set(eF.s_percent,e)}}class eU extends F{static{this.tagName="me:PTpair"}static{this.s_P="P"}static{this.s_T="T"}static{this.s_precision="precision"}static{this.s_excessReactantConc="excessReactantConc"}static{this.s_percentExcessReactantConc="percentExcessReactantConc"}constructor(e,t,s,i,n){super(e,eU.tagName),this.index=new Map,void 0!=t&&(this.index.set(eD.tagName,this.nodes.size),this.addNode(t)),void 0!=s&&(this.index.set(eG.tagName,this.nodes.size),this.addNode(s)),void 0!=i&&(this.index.set(ek.tagName,this.nodes.size),this.addNode(i)),void 0!=n&&(this.index.set(eO.tagName,this.nodes.size),this.addNode(n))}getP(){let e=this.attributes.get(eU.s_P);return void 0!==e?parseFloat(e):NaN}setP(e){this.attributes.set(eU.s_P,e.toString())}getT(){let e=this.attributes.get(eU.s_T);return void 0!==e?parseFloat(e):NaN}setT(e){this.attributes.set(eU.s_T,e.toString())}getPrecision(){return this.attributes.get(eU.s_precision)}setPrecision(e){this.attributes.set(eU.s_precision,e)}getBathGas(){let e=this.index.get(eD.tagName);return void 0!=e?this.nodes.get(e):void 0}setBathGas(e){let t=this.index.get(eD.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eD.tagName,this.nodes.size),this.addNode(e))}removeBathGas(){let e=this.index.get(eD.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eD.tagName))}getExperimentalRate(){let e=this.index.get(eG.tagName);return void 0!=e?this.nodes.get(e):void 0}setExperimentalRate(e){let t=this.index.get(eG.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eG.tagName,this.nodes.size),this.addNode(e))}removeExperimentalRate(){let e=this.index.get(eG.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eG.tagName))}getExperimentalYield(){let e=this.index.get(ek.tagName);return void 0!=e?this.nodes.get(e):void 0}setExperimentalYield(e){let t=this.index.get(ek.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ek.tagName,this.nodes.size),this.addNode(e))}removeExperimentalYield(){let e=this.index.get(ek.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ek.tagName))}getExperimentalEigenvalue(){let e=this.index.get(eO.tagName);return void 0!=e?this.nodes.get(e):void 0}setExperimentalEigenvalue(e){let t=this.index.get(eO.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eO.tagName,this.nodes.size),this.addNode(e))}removeExperimentalEigenvalue(){let e=this.index.get(eO.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eO.tagName))}getExcessReactantConc(){return this.attributes.get(eU.s_excessReactantConc)}setExcessReactantConc(e){this.attributes.set(eU.s_excessReactantConc,e)}getPercentExcessReactantConc(){return this.attributes.get(eU.s_percentExcessReactantConc)}setPercentExcessReactantConc(e){this.attributes.set(eU.s_percentExcessReactantConc,e)}}class eq extends F{static{this.tagName="me:PTs"}constructor(e,t){super(e,eq.tagName),void 0!=t?(t.forEach(e=>{this.addNode(e)}),this.pTpairs=t):this.pTpairs=[]}getPTpair(e){return this.pTpairs[e]}setPTpair(e,t){this.nodes.set(e,t),this.pTpairs[e]=t}addPTpair(e){return this.addNode(e),this.pTpairs.push(e),this.nodes.size-1}removePTpair(e){this.nodes.delete(e),this.pTpairs.splice(e,1)}setPTpairs(e){this.nodes.clear(),e.forEach(e=>{this.addNode(e),this.pTpairs.push(e)})}removePTpairs(){this.nodes.clear(),this.pTpairs=[]}}class eH extends F{static{this.tagName="me:conditions"}constructor(e,t,s,i){super(e,eH.tagName),this.id=t,this.index=new Map,this.bathGasesIndex=new Map,this.bathGases=new Map,void 0!=s&&(this.index.set(eD.tagName,this.nodes.size),s.forEach(e=>{this.bathGasesIndex.set(e.value,this.nodes.size),this.addNode(e),this.bathGases.set(e,s.size)})),void 0!=i&&(this.index.set(eq.tagName,this.nodes.size),this.addNode(i))}getBathGases(){return this.bathGases}addBathGas(e){if(this.bathGases.has(e))return this.bathGases.get(e);{let t=this.bathGases.size;return this.bathGases.set(e,t),this.bathGasesIndex.set(e.value,this.nodes.size),this.addNode(e),t}}removeBathGas(e){this.bathGases.has(e)?(this.bathGases.delete(e),this.nodes.delete(this.bathGasesIndex.get(e.value))):console.warn("Conditions.removeBathGas: bathGas not found to remove.")}getPTs(){let e=this.index.get(eq.tagName);if(void 0!=e)return this.nodes.get(e)}setPTs(e){let t=this.index.get(eq.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eq.tagName,this.nodes.size),this.addNode(e))}}class eY extends k{static{this.tagName="me:grainSize"}constructor(e,t){super(e,eY.tagName,t)}}class e$ extends k{static{this.tagName="me:automaticallySetMaxEne"}constructor(e,t){super(e,e$.tagName,t)}}class eV extends k{static{this.tagName="me:energyAboveTheTopHill"}constructor(e,t){super(e,eV.tagName,t)}}class eX extends k{static{this.tagName="me:maxTemperature"}constructor(e,t){super(e,eX.tagName,t)}}class ej extends F{static{this.tagName="me:modelParameters"}constructor(e,t,s,i,n){super(e,ej.tagName),this.index=new Map,void 0!=t&&(this.index.set(eY.tagName,this.nodes.size),this.addNode(t)),void 0!=s&&(this.index.set(e$.tagName,this.nodes.size),this.addNode(s)),void 0!=i&&(this.index.set(eV.tagName,this.nodes.size),this.addNode(i)),void 0!=n&&(this.index.set(eX.tagName,this.nodes.size),this.addNode(n))}getGrainSize(){let e=this.index.get(eY.tagName);if(e)return this.nodes.get(e)}setGrainSize(e){let t=this.index.get(eY.tagName);t?this.nodes.set(t,e):(this.index.set(eY.tagName,this.nodes.size),this.addNode(e))}removeGrainSize(){let e=this.index.get(eY.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eY.tagName))}getAutomaticallySetMaxEne(){let e=this.index.get(e$.tagName);if(e)return this.nodes.get(e)}setAutomaticallySetMaxEne(e){let t=this.index.get(e$.tagName);t?this.nodes.set(t,e):(this.index.set(e$.tagName,this.nodes.size),this.addNode(e))}removeAutomaticallySetMaxEne(){let e=this.index.get(e$.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e$.tagName))}getEnergyAboveTheTopHill(){let e=this.index.get(eV.tagName);if(e)return this.nodes.get(e)}setEnergyAboveTheTopHill(e){let t=this.index.get(eV.tagName);t?this.nodes.set(t,e):(this.index.set(eV.tagName,this.nodes.size),this.addNode(e))}removeEnergyAboveTheTopHill(){let e=this.index.get(eV.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eV.tagName))}getMaxTemperature(){let e=this.index.get(eX.tagName);if(e)return this.nodes.get(e)}setMaxTemperature(e){let t=this.index.get(eX.tagName);t?this.nodes.set(t,e):(this.index.set(eX.tagName,this.nodes.size),this.addNode(e))}removeMaxTemperature(){let e=this.index.get(eX.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eX.tagName))}}class eW extends A{static{this.tagName="me:calculateRateCoefficientsOnly"}constructor(){super(eW.tagName)}}class eZ extends A{static{this.tagName="me:printCellDOS"}constructor(){super(eZ.tagName)}}class eK extends A{static{this.tagName="me:printCellTransitionStateFlux"}constructor(){super(eK.tagName)}}class eJ extends A{static{this.tagName="me:printReactionOperatorColumnSums"}constructor(){super(eJ.tagName)}}class eQ extends A{static{this.tagName="me:printGrainBoltzmann"}constructor(){super(eQ.tagName)}}class e0 extends A{static{this.tagName="me:printGrainDOS"}constructor(){super(e0.tagName)}}class e1 extends A{static{this.tagName="me:printGrainkbE"}constructor(){super(e1.tagName)}}class e2 extends A{static{this.tagName="me:printGrainkfE"}constructor(){super(e2.tagName)}}class e3 extends A{static{this.tagName="me:printTSsos"}constructor(){super(e3.tagName)}}class e5 extends A{static{this.tagName="me:printGrainedSpeciesProfile"}constructor(){super(e5.tagName)}}class e4 extends A{static{this.tagName="me:printGrainTransitionStateFlux"}constructor(){super(e4.tagName)}}class e6 extends A{static{this.tagName="me:printReactionOperatorSize"}constructor(){super(e6.tagName)}}class e7 extends A{static{this.tagName="me:printSpeciesProfile"}constructor(){super(e7.tagName)}}class e9 extends A{static{this.tagName="me:printPhenomenologicalEvolution"}constructor(){super(e9.tagName)}}class e8 extends A{static{this.tagName="me:printTunnelingCoefficients"}constructor(){super(e8.tagName)}}class te extends A{static{this.tagName="me:printCrossingCoefficients"}constructor(){super(te.tagName)}}class tt extends A{static{this.tagName="me:testDOS"}constructor(){super(tt.tagName)}}class ts extends A{static{this.tagName="me:testRateConstant"}constructor(){super(ts.tagName)}}class ti extends A{static{this.tagName="me:useTheSameCellNumberForAllConditions"}constructor(){super(ti.tagName)}}class tn extends A{static{this.tagName="me:ForceMacroDetailedBalance"}constructor(){super(tn.tagName)}}class ta extends A{static{this.tagName="me:hideInactive"}constructor(){super(ta.tagName)}}class to extends F{static{this.tagName="me:calcMethod"}static{this.options=["simpleCalc","gridSearch","fitting","marquardt","analyticalRepresentation","ThermodynamicTable","sensitivityAnalysis","me:simpleCalc","me:gridSearch","me:fitting","me:marquardt","me:analyticalRepresentation","me:ThermodynamicTable","me:sensitivityAnalysis"]}constructor(e){super(e,to.tagName)}}class td extends to{static{this.xsi_type="me:simpleCalc"}static{this.xsi_type2="simpleCalc"}constructor(e){super(e)}}class tr extends to{static{this.xsi_type="me:gridSearch"}static{this.xsi_type2="gridSearch"}constructor(e){super(e)}}class tl extends k{static{this.tagName="me:fittingIterations"}constructor(e,t){super(e,tl.tagName,t)}}class tg extends to{static{this.xsi_type="me:fitting"}static{this.xsi_type2="fitting"}constructor(e,t){super(e),void 0!=t&&this.addNode(t)}getFittingIterations(){return this.nodes.get(0)}setFittingIterations(e){this.nodes.set(0,e)}removeFittingIterations(){this.nodes.delete(0)}}class th extends k{static{this.tagName="me:MarquardtIterations"}constructor(e,t){super(e,th.tagName,t)}}class tm extends k{static{this.tagName="me:MarquardtTolerance"}constructor(e,t){super(e,tm.tagName,t)}}class tc extends k{static{this.tagName="me:MarquardtDerivDelta"}constructor(e,t){super(e,tc.tagName,t)}}class tu extends to{static{this.xsi_type="me:marquardt"}static{this.xsi_type2="marquardt"}constructor(e,t,s,i){super(e),this.index=new Map,void 0!=t&&(this.index.set(th.tagName,this.nodes.size),this.addNode(t)),void 0!=s&&(this.index.set(tm.tagName,this.nodes.size),this.addNode(s)),void 0!=i&&(this.index.set(tc.tagName,this.nodes.size),this.addNode(i))}getMarquardtIterations(){let e=this.index.get(th.tagName);if(void 0!=e)return this.nodes.get(e)}setMarquardtIterations(e){let t=this.index.get(th.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(th.tagName,this.nodes.size),this.addNode(e))}removeMarquardtIterations(){let e=this.index.get(th.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(th.tagName))}getMarquardtTolerance(){let e=this.index.get(tm.tagName);if(void 0!=e)return this.nodes.get(e)}setMarquardtTolerance(e){let t=this.index.get(tm.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tm.tagName,this.nodes.size),this.addNode(e))}removeMarquardtTolerance(){let e=this.index.get(tm.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tm.tagName))}getMarquardtDerivDelta(){let e=this.index.get(tc.tagName);if(void 0!=e)return this.nodes.get(e)}setMarquardtDerivDelta(e){let t=this.index.get(tc.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tc.tagName,this.nodes.size),this.addNode(e))}removeMarquardtDerivDelta(){let e=this.index.get(tc.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tc.tagName))}}class tp extends A{static{this.tagName="me:useTraceWeighting"}constructor(){super(tp.tagName)}}class tN extends G{static{this.tagName="me:format"}static{this.options=["cantera","chemkin"]}static{this.rateUnits="rateUnits"}static{this.rateUnitsOptions=["cm3mole-1s-1","cm3molecule-1s-1"]}constructor(e,t){super(e,tN.tagName,t)}getRateUnits(){return this.attributes.get(tN.rateUnits)}setRateUnits(e){this.attributes.set(tN.rateUnits,e)}removeRateUnits(){this.attributes.delete(tN.rateUnits)}}class tx extends G{static{this.tagName="me:precision"}constructor(e,t){super(e,tx.tagName,t)}}class tv extends k{static{this.tagName="me:chebNumTemp"}constructor(e,t){super(e,tv.tagName,t)}}class tf extends k{static{this.tagName="me:chebNumConc"}constructor(e,t){super(e,tf.tagName,t)}}class tE extends k{static{this.tagName="me:chebMaxTemp"}constructor(e,t){super(e,tE.tagName,t)}}class tb extends k{static{this.tagName="me:chebMinTemp"}constructor(e,t){super(e,tb.tagName,t)}}class tC extends k{static{this.tagName="me:chebMaxConc"}constructor(e,t){super(e,tC.tagName,t)}getUnits(){return this.attributes.get("units")}setUnits(e){this.attributes.set("units",e)}}class ty extends k{static{this.tagName="me:chebMinConc"}constructor(e,t){super(e,ty.tagName,t)}}class tw extends k{static{this.tagName="me:chebTExSize"}constructor(e,t){super(e,tw.tagName,t)}}class tS extends k{static{this.tagName="me:chebPExSize"}constructor(e,t){super(e,tS.tagName,t)}}class tT extends to{static{this.xsi_type="me:analyticalRepresentation"}static{this.xsi_type2="analyticalRepresentation"}constructor(e,t,s,i,n,a,o,d,r,l,g){super(e),this.index=new Map,void 0!=t&&(this.index.set(tN.tagName,this.nodes.size),this.addNode(t)),void 0!=s&&(this.index.set(tx.tagName,this.nodes.size),this.addNode(s)),void 0!=i&&(this.index.set(tv.tagName,this.nodes.size),this.addNode(i)),void 0!=n&&(this.index.set(tf.tagName,this.nodes.size),this.addNode(n)),void 0!=a&&(this.index.set(tE.tagName,this.nodes.size),this.addNode(a)),void 0!=o&&(this.index.set(tb.tagName,this.nodes.size),this.addNode(o)),void 0!=d&&(this.index.set(tC.tagName,this.nodes.size),this.addNode(d)),void 0!=r&&(this.index.set(ty.tagName,this.nodes.size),this.addNode(r)),void 0!=l&&(this.index.set(tw.tagName,this.nodes.size),this.addNode(l)),void 0!=g&&(this.index.set(tS.tagName,this.nodes.size),this.addNode(g))}getFormat(){let e=this.index.get(tN.tagName);if(void 0!=e)return this.nodes.get(e)}setFormat(e){let t=this.index.get(tN.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tN.tagName,this.nodes.size),this.addNode(e))}removeFormat(){let e=this.index.get(tN.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tN.tagName))}getPrecision(){let e=this.index.get(tx.tagName);if(void 0!=e)return this.nodes.get(e)}setPrecision(e){let t=this.index.get(tx.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tx.tagName,this.nodes.size),this.addNode(e))}removePrecision(){let e=this.index.get(tx.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tx.tagName))}getChebNumTemp(){let e=this.index.get(tv.tagName);if(void 0!=e)return this.nodes.get(e)}setChebNumTemp(e){let t=this.index.get(tv.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tv.tagName,this.nodes.size),this.addNode(e))}removeChebNumTemp(){let e=this.index.get(tv.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tv.tagName))}getChebNumConc(){let e=this.index.get(tf.tagName);if(void 0!=e)return this.nodes.get(e)}setChebNumConc(e){let t=this.index.get(tf.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tf.tagName,this.nodes.size),this.addNode(e))}removeChebNumConc(){let e=this.index.get(tf.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tf.tagName))}getChebMaxTemp(){let e=this.index.get(tE.tagName);if(void 0!=e)return this.nodes.get(e)}setChebMaxTemp(e){let t=this.index.get(tE.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tE.tagName,this.nodes.size),this.addNode(e))}removeChebMaxTemp(){let e=this.index.get(tE.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tE.tagName))}getChebMinTemp(){let e=this.index.get(tb.tagName);if(void 0!=e)return this.nodes.get(e)}setChebMinTemp(e){let t=this.index.get(tb.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tb.tagName,this.nodes.size),this.addNode(e))}removeChebMinTemp(){let e=this.index.get(tb.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tb.tagName))}getChebMaxConc(){let e=this.index.get(tC.tagName);if(void 0!=e)return this.nodes.get(e)}setChebMaxConc(e){let t=this.index.get(tC.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tC.tagName,this.nodes.size),this.addNode(e))}removeChebMaxConc(){let e=this.index.get(tC.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tC.tagName))}getChebMinConc(){let e=this.index.get(ty.tagName);if(void 0!=e)return this.nodes.get(e)}setChebMinConc(e){let t=this.index.get(ty.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ty.tagName,this.nodes.size),this.addNode(e))}removeChebMinConc(){let e=this.index.get(ty.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ty.tagName))}getChebTExSize(){let e=this.index.get(tw.tagName);if(void 0!=e)return this.nodes.get(e)}setChebTExSize(e){let t=this.index.get(tw.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tw.tagName,this.nodes.size),this.addNode(e))}removeChebTExSize(){let e=this.index.get(tw.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tw.tagName))}getChebPExSize(){let e=this.index.get(tS.tagName);if(void 0!=e)return this.nodes.get(e)}setChebPExSize(e){let t=this.index.get(tS.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tS.tagName,this.nodes.size),this.addNode(e))}removeChebPExSize(){let e=this.index.get(tS.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tS.tagName))}}class tM extends k{static{this.tagName="me:Tmin"}constructor(e,t){super(e,tM.tagName,t)}}class t_ extends k{static{this.tagName="me:Tmid"}constructor(e,t){super(e,t_.tagName,t)}}class tR extends k{static{this.tagName="me:Tmax"}constructor(e,t){super(e,tR.tagName,t)}}class tz extends k{static{this.tagName="me:Tstep"}constructor(e,t){super(e,tM.tagName,t)}}class tP extends to{static{this.xsi_type="me:ThermodynamicTable"}static{this.xsi_type2="ThermodynamicTable"}constructor(e,t,s,i,n){super(e),this.index=new Map,void 0!=t&&(this.index.set(tM.tagName,this.nodes.size),this.addNode(t)),void 0!=s&&(this.index.set(t_.tagName,this.nodes.size),this.addNode(s)),void 0!=i&&(this.index.set(tR.tagName,this.nodes.size),this.addNode(i)),void 0!=n&&(this.index.set(tz.tagName,this.nodes.size),this.addNode(n))}getTmin(){let e=this.index.get(tM.tagName);if(void 0!=e)return this.nodes.get(e)}setTmin(e){let t=this.index.get(tM.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tM.tagName,this.nodes.size),this.addNode(e))}removeTmin(){let e=this.index.get(tM.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tM.tagName))}getTmid(){let e=this.index.get(t_.tagName);if(void 0!=e)return this.nodes.get(e)}setTmid(e){let t=this.index.get(t_.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(t_.tagName,this.nodes.size),this.addNode(e))}removeTmid(){let e=this.index.get(t_.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(t_.tagName))}getTmax(){let e=this.index.get(tR.tagName);if(void 0!=e)return this.nodes.get(e)}setTmax(e){let t=this.index.get(tR.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tR.tagName,this.nodes.size),this.addNode(e))}removeTmax(){let e=this.index.get(tR.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tR.tagName))}getTstep(){let e=this.index.get(tz.tagName);if(void 0!=e)return this.nodes.get(e)}setTstep(e){let t=this.index.get(tz.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tz.tagName,this.nodes.size),this.addNode(e))}removeTstep(){let e=this.index.get(tz.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tz.tagName))}}class tL extends k{static{this.tagName="me:sensitivityAnalysisSamples"}constructor(e,t){super(e,tL.tagName,t)}}class tI extends k{static{this.tagName="me:sensitivityAnalysisOrder"}constructor(e,t){super(e,tI.tagName,t)}}class tB extends k{static{this.tagName="me:sensitivityNumVarRedIters"}constructor(e,t){super(e,tB.tagName,t)}}class tA extends G{static{this.tagName="me:sensitivityVarRedMethod"}static{this.options=["AdditiveControl","RatioControl"]}constructor(e,t){super(e,tA.tagName,t)}}class tD extends to{static{this.xsi_type="me:sensitivityAnalysis"}static{this.xsi_type2="sensitivityAnalysis"}constructor(e,t,s,i,n){super(e),this.index=new Map,void 0!=t&&(this.index.set(tL.tagName,this.nodes.size),this.addNode(t)),void 0!=s&&(this.index.set(tI.tagName,this.nodes.size),this.addNode(s)),void 0!=i&&(this.index.set(tB.tagName,this.nodes.size),this.addNode(i)),void 0!=n&&(this.index.set(tA.tagName,this.nodes.size),this.addNode(n))}getSensitivityAnalysisSamples(){let e=this.index.get(tL.tagName);if(void 0!=e)return this.nodes.get(e)}setSensitivityAnalysisSamples(e){let t=this.index.get(tL.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tL.tagName,this.nodes.size),this.addNode(e))}removeSensitivityAnalysisSamples(){let e=this.index.get(tL.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tL.tagName))}getSensitivityAnalysisOrder(){let e=this.index.get(tI.tagName);if(void 0!=e)return this.nodes.get(e)}setSensitivityAnalysisOrder(e){let t=this.index.get(tI.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tI.tagName,this.nodes.size),this.addNode(e))}removeSensitivityAnalysisOrder(){let e=this.index.get(tI.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tI.tagName))}getSensitivityNumVarRedIters(){let e=this.index.get(tB.tagName);if(void 0!=e)return this.nodes.get(e)}setSensitivityNumVarRedIters(e){let t=this.index.get(tB.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tB.tagName,this.nodes.size),this.addNode(e))}removeSensitivityNumVarRedIters(){let e=this.index.get(tB.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tB.tagName))}getSensitivityVarRedMethod(){let e=this.index.get(tA.tagName);if(void 0!=e)return this.nodes.get(e)}setSensitivityVarRedMethod(e){let t=this.index.get(tA.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tA.tagName,this.nodes.size),this.addNode(e))}removeSensitivityVarRedMethod(){let e=this.index.get(tA.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tA.tagName))}}class tG extends k{static{this.tagName="me:eigenvalues"}constructor(e,t){super(e,tG.tagName,t)}}class tk extends k{static{this.tagName="me:shortestTimeOfInterest"}constructor(e,t){super(e,tk.tagName,t)}}class tO extends k{static{this.tagName="me:MaximumEvolutionTime"}constructor(e,t){super(e,tO.tagName,t)}}class tF extends k{static{this.tagName="me:automaticallySetMaxEne"}constructor(e,t){super(e,tF.tagName,t)}}class tU extends k{static{this.tagName="me:diagramEnergyOffset"}constructor(e,t){super(e,tU.tagName,t)}}class tq extends D{static{this.tagName="me:testMicroRates"}constructor(e){super(e,tq.tagName),this.tMin=parseFloat(e.get("Tmin")),this.tMax=parseFloat(e.get("Tmax")),this.tStep=parseFloat(e.get("Tstep"))}getTmin(){return this.tMin}setTmin(e){this.tMin=e,this.attributes?.set("Tmin",e.toString())}getTmax(){return this.tMax}setTmax(e){this.tMax=e,this.attributes?.set("Tmax",e.toString())}getTstep(){return this.tStep}setTstep(e){this.tStep=e,this.attributes?.set("Tstep",e.toString())}}class tH extends F{static{this.tagName="me:control"}constructor(e,t){super(e,tH.tagName),this.id=t,this.index=new Map}getCalculateRateCoefficientsOnly(){let e=this.index.get(eW.tagName);if(void 0!=e)return this.nodes.get(e)}setCalculateRateCoefficientsOnly(e){let t=this.index.get(eW.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eW.tagName,this.nodes.size),this.addNode(e))}removeCalculateRateCoefficientsOnly(){let e=this.index.get(eW.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eW.tagName))}getPrintCellDOS(){let e=this.index.get(eZ.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintCellDOS(e){let t=this.index.get(eZ.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eZ.tagName,this.nodes.size),this.addNode(e))}removePrintCellDOS(){let e=this.index.get(eZ.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eZ.tagName))}getPrintCellTransitionStateFlux(){let e=this.index.get(eK.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintCellTransitionStateFlux(e){let t=this.index.get(eK.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eK.tagName,this.nodes.size),this.addNode(e))}removePrintCellTransitionStateFlux(){let e=this.index.get(eK.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eK.tagName))}getPrintReactionOperatorColumnSums(){let e=this.index.get(eJ.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintReactionOperatorColumnSums(e){let t=this.index.get(eJ.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eJ.tagName,this.nodes.size),this.addNode(e))}removePrintReactionOperatorColumnSums(){let e=this.index.get(eJ.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eJ.tagName))}getPrintGrainBoltzmann(){let e=this.index.get(eQ.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintGrainBoltzmann(e){let t=this.index.get(eQ.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eQ.tagName,this.nodes.size),this.addNode(e))}removePrintGrainBoltzmann(){let e=this.index.get(eQ.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eQ.tagName))}getPrintGrainDOS(){let e=this.index.get(e0.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintGrainDOS(e){let t=this.index.get(e0.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e0.tagName,this.nodes.size),this.addNode(e))}removePrintGrainDOS(){let e=this.index.get(e0.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e0.tagName))}getPrintGrainkbE(){let e=this.index.get(e1.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintGrainkbE(e){let t=this.index.get(e1.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e1.tagName,this.nodes.size),this.addNode(e))}removePrintGrainkbE(){let e=this.index.get(e1.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e1.tagName))}getPrintGrainkfE(){let e=this.index.get(e2.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintGrainkfE(e){let t=this.index.get(e2.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e2.tagName,this.nodes.size),this.addNode(e))}removePrintGrainkfE(){let e=this.index.get(e2.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e2.tagName))}getPrintTSsos(){let e=this.index.get(e3.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintTSsos(e){let t=this.index.get(e3.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e3.tagName,this.nodes.size),this.addNode(e))}removePrintTSsos(){let e=this.index.get(e3.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e3.tagName))}getPrintGrainedSpeciesProfile(){let e=this.index.get(e5.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintGrainedSpeciesProfile(e){let t=this.index.get(e5.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e5.tagName,this.nodes.size),this.addNode(e))}removePrintGrainedSpeciesProfile(){let e=this.index.get(e5.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e5.tagName))}getPrintGrainTransitionStateFlux(){let e=this.index.get(e4.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintGrainTransitionStateFlux(e){let t=this.index.get(e4.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e4.tagName,this.nodes.size),this.addNode(e))}removePrintGrainTransitionStateFlux(){let e=this.index.get(e4.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e4.tagName))}getPrintReactionOperatorSize(){let e=this.index.get(e6.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintReactionOperatorSize(e){let t=this.index.get(e6.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e6.tagName,this.nodes.size),this.addNode(e))}removePrintReactionOperatorSize(){let e=this.index.get(e6.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e6.tagName))}getPrintSpeciesProfile(){let e=this.index.get(e7.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintSpeciesProfile(e){let t=this.index.get(e7.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e7.tagName,this.nodes.size),this.addNode(e))}removePrintSpeciesProfile(){let e=this.index.get(e7.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e7.tagName))}getPrintPhenomenologicalEvolution(){let e=this.index.get(e9.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintPhenomenologicalEvolution(e){let t=this.index.get(e9.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e9.tagName,this.nodes.size),this.addNode(e))}removePrintPhenomenologicalEvolution(){let e=this.index.get(e9.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e9.tagName))}getPrintTunnelingCoefficients(){let e=this.index.get(e8.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintTunnelingCoefficients(e){let t=this.index.get(e8.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e8.tagName,this.nodes.size),this.addNode(e))}removePrintTunnelingCoefficients(){let e=this.index.get(e8.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e8.tagName))}getPrintCrossingCoefficients(){let e=this.index.get(te.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintCrossingCoefficients(e){let t=this.index.get(te.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(te.tagName,this.nodes.size),this.addNode(e))}removePrintCrossingCoefficients(){let e=this.index.get(te.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(te.tagName))}getTestDOS(){let e=this.index.get(tt.tagName);if(void 0!=e)return this.nodes.get(e)}setTestDOS(e){let t=this.index.get(tt.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tt.tagName,this.nodes.size),this.addNode(e))}removeTestDOS(){let e=this.index.get(tt.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tt.tagName))}getTestRateConstants(){let e=this.index.get(ts.tagName);if(void 0!=e)return this.nodes.get(e)}setTestRateConstants(e){let t=this.index.get(ts.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ts.tagName,this.nodes.size),this.addNode(e))}removeTestRateConstants(){let e=this.index.get(ts.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ts.tagName))}getUseTheSameCellNumberForAllConditions(){let e=this.index.get(ti.tagName);if(void 0!=e)return this.nodes.get(e)}setUseTheSameCellNumberForAllConditions(e){let t=this.index.get(ti.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ti.tagName,this.nodes.size),this.addNode(e))}removeUseTheSameCellNumberForAllConditions(){let e=this.index.get(ti.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ti.tagName))}getHideInactive(){let e=this.index.get(ta.tagName);if(void 0!=e)return this.nodes.get(e)}setHideInactive(e){let t=this.index.get(ta.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ta.tagName,this.nodes.size),this.addNode(e))}removeHideInactive(){let e=this.index.get(ta.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ta.tagName))}getForceMacroDetailedBalance(){let e=this.index.get(tn.tagName);if(void 0!=e)return this.nodes.get(e)}setForceMacroDetailedBalance(e){let t=this.index.get(tn.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tn.tagName,this.nodes.size),this.addNode(e))}removeForceMacroDetailedBalance(){let e=this.index.get(tn.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tn.tagName))}getCalcMethod(){let e=this.index.get(to.tagName);if(void 0!=e)return this.nodes.get(e)}setCalcMethod(e){let t=this.index.get(to.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(to.tagName,this.nodes.size),this.addNode(e))}removeCalcMethod(){let e=this.index.get(to.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(to.tagName))}getEigenvalues(){let e=this.index.get(tG.tagName);if(void 0!=e)return this.nodes.get(e)}setEigenvalues(e){let t=this.index.get(tG.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tG.tagName,this.nodes.size),this.addNode(e))}removeEigenvalues(){let e=this.index.get(tG.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tG.tagName))}getShortestTimeOfInterest(){let e=this.index.get(tk.tagName);if(void 0!=e)return this.nodes.get(e)}setShortestTimeOfInterest(e){let t=this.index.get(tk.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tk.tagName,this.nodes.size),this.addNode(e))}removeShortestTimeOfInterest(){let e=this.index.get(tk.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tk.tagName))}getMaximumEvolutionTime(){let e=this.index.get(tO.tagName);if(void 0!=e)return this.nodes.get(e)}setMaximumEvolutionTime(e){let t=this.index.get(tO.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tO.tagName,this.nodes.size),this.addNode(e))}removeMaximumEvolutionTime(){let e=this.index.get(tO.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tO.tagName))}getAutomaticallySetMaxEne(){let e=this.index.get(tF.tagName);if(void 0!=e)return this.nodes.get(e)}setAutomaticallySetMaxEne(e){let t=this.index.get(tF.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tF.tagName,this.nodes.size),this.addNode(e))}removeAutomaticallySetMaxEne(){let e=this.index.get(tF.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tF.tagName))}getDiagramEnergyOffset(){let e=this.index.get(tU.tagName);if(void 0!=e)return this.nodes.get(e)}setDiagramEnergyOffset(e){let t=this.index.get(tU.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tU.tagName,this.nodes.size),this.addNode(e))}removeDiagramEnergyOffset(){let e=this.index.get(tU.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tU.tagName))}getTestMicroRates(){let e=this.index.get(tq.tagName);if(void 0!=e)return this.nodes.get(e)}setTestMicroRates(e){let t=this.index.get(tq.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tq.tagName,this.nodes.size),this.addNode(e))}removeTestMicroRates(){let e=this.index.get(tq.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tq.tagName))}}class tY extends G{static{this.tagName="me:title"}constructor(e,t){super(e,tY.tagName,t)}}class t$ extends F{static{this.tagName="moleculeList"}constructor(e,t){super(e,t$.tagName),this.index=new Map,void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1)})}getMolecule(e){let t=this.index.get(e);if(void 0!=t)return this.nodes.get(t)}removeMolecule(e){let t=this.index.get(e);void 0!=t&&(this.nodes.delete(t),this.index.delete(e))}addMolecule(e){let t=this.index.get(e.id);void 0!==t?(this.nodes.set(t,e),console.log("Replaced molecule with id "+e.id)):(this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1))}}class tV extends F{static{this.tagName="reactionList"}constructor(e,t){super(e,tV.tagName),this.index=new Map,void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1)})}getReaction(e){let t=this.index.get(e);if(void 0!=t)return this.nodes.get(t)}removeReaction(e){let t=this.index.get(e);void 0!=t&&(this.nodes.delete(t),this.index.delete(e))}addReaction(e){let t=this.index.get(e.id);void 0!==t?(this.nodes.set(t,e),console.log("Replaced reaction with id "+e.id)):(this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1))}}class tX extends F{static{this.tagName="conditionsList"}constructor(e,t){super(e,tj.tagName),this.index=new Map,void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1)})}getConditions(e){let t=this.index.get(e);if(void 0!=t)return this.nodes.get(t)}removeConditions(e){let t=this.index.get(e);void 0!=t&&(this.nodes.delete(t),this.index.delete(e))}addConditions(e){let t=this.index.get(e.id);void 0!=t?(this.nodes.set(t,e),console.log("Replaced conditions with id "+e.id)):(this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1))}}class tj extends F{static{this.tagName="controlList"}constructor(e,t){super(e,tj.tagName),this.index=new Map,void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1)})}getControl(e){let t=this.index.get(e);if(void 0!=t)return this.nodes.get(t)}removeControl(e){let t=this.index.get(e);void 0!=t&&(this.nodes.delete(t),this.index.delete(e))}addControl(e){let t=this.index.get(e.id);void 0!==t?(this.nodes.set(t,e),console.log("Replaced control with id "+e.id)):(this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1))}}class tW extends F{static{this.tagName="me:mesmer"}static{this.precisionOptions=["d","dd","qd","double","double-double","quad-double"]}static{this.pressureUnits=["Torr","PPCC","atm","mbar","psi","mols/cc"]}static{this.energyUnits=["kJ/mol","cm-1","wavenumber","kcal/mol","Hartree","au"]}static{this.frequencyUnits=["cm-1","GHz","amuA^2"]}static{this.elementTypes=["H","He","Li","Be","B","C","N","O","F","Ne","Na","Mg","Al","Si","P","S","Cl","Ar","K","Ca","Sc","Ti","V","Cr","Mn","Fe","Co","Ni","Cu","Zn","Ga","Ge","As","Se","Br","Kr","Rb","Sr","Y","Zr","Nb","Mo","Tc","Ru","Rh","Pd","Ag","Cd","In","Sn","Sb","Te","I","Xe","Cs","Ba","La","Ce","Pr","Nd","Pm","Sm","Eu","Gd","Tb","Dy","Ho","Er","Tm","Yb","Lu","Hf","Ta","W","Re","Os","Ir","Pt","Au","Hg","Tl","Pb","Bi","Po","At","Rn","Fr","Ra","Ac","Th","Pa","U","Np","Pu","Am","Cm","Bk","Cf","Es","Fm","Md","No","Lr","Rf","Db","Sg","Bh","Hs","Mt","Ds","Rg","Cn","Nh","Fl","Mc","Lv","Ts","Og"]}static{this.atomMasses=new Map}static{this.atomRadii=new Map}static{this.atomColors=new Map}static{this.bondColors=new Map}static{this.header=`<?xml version="1.0" encoding="utf-8" ?>
<?xml-stylesheet type='text/xsl' href='../../mesmer2.xsl' media='other'?>
<?xml-stylesheet type='text/xsl' href='../../mesmer1.xsl' media='screen'?>`}constructor(e,t,s,i,n,a,o){super(e,tW.tagName);let d=["H","O","C","N","Cl","S","Ph","Fe"],r=["White","Red","DarkGrey","Blue","Green","Yellow","Orange","Brown"];for(let e=0;e<d.length;e++)tW.atomColors.set(d[e],r[e]);let l=[1.00784,15.999,12.011,14.007,35.453,32.06,77.845,55.845];for(let e=0;e<d.length;e++)tW.atomMasses.set(d[e],l[e]);let g=[37,66,67,56,99,102,110,124];for(let e=0;e<d.length;e++)tW.atomRadii.set(d[e],g[e]);let h=[1,1.5,2,2.5,3,3.5,4,4.5,5,5.5,6];r=["Black","Red","DarkRed","Blue","DarkBlue","Green","DarkGreen","Yellow","DarkYellow","Orange","DarkOrange"];for(let e=0;e<h.length;e++)tW.bondColors.set(h[e],r[e]);this.index=new Map,void 0!=t&&(this.index.set(tY.tagName,this.nodes.size),this.addNode(t)),void 0!=s&&(this.index.set(t$.tagName,this.nodes.size),this.addNode(s)),void 0!=i&&(this.index.set(tV.tagName,this.nodes.size),this.addNode(i)),this.conditionsIndex=new Map,void 0!=n&&n.forEach(e=>{this.index.set(eH.tagName+e.id,this.nodes.size),this.conditionsIndex.set(e.id,this.nodes.size),this.addNode(e)}),void 0!=a&&(this.index.set(ej.tagName,this.nodes.size),this.addNode(a)),this.controlIndex=new Map,void 0!=o&&o.forEach(e=>{this.index.set(tH.tagName+e.id,this.nodes.size),this.controlIndex.set(e.id,this.nodes.size),this.addNode(e)})}getTitle(){let e=this.index.get(tY.tagName);if(void 0!=e)return this.nodes.get(e)}setTitle(e){let t=this.index.get(tY.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tY.tagName,this.nodes.size),this.addNode(e))}getMoleculeList(){let e=this.index.get(t$.tagName);if(void 0!=e)return this.nodes.get(e)}setMoleculeList(e){let t=this.index.get(t$.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(t$.tagName,this.nodes.size),this.addNode(e))}getReactionList(){let e=this.index.get(tV.tagName);if(void 0!=e)return this.nodes.get(e)}setReactionList(e){let t=this.index.get(tV.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tV.tagName,this.nodes.size),this.addNode(e))}addConditions(e){let t=eH.tagName+e.id,s=this.index.get(t);void 0!=s?this.nodes.set(s,e):(this.index.set(t,this.nodes.size),this.conditionsIndex.set(e.id,this.nodes.size),this.addNode(e))}getConditions(e){let t=this.conditionsIndex.get(e);if(void 0!=t)return this.nodes.get(t)}getNextConditionsID(){let e=0,t=Array.from(this.conditionsIndex.keys()).sort((e,t)=>e-t);return console.log("sortedKeys "+h(t)),t.forEach(t=>{if(t>e)return e;e++}),e}removeConditions(e){let t=this.conditionsIndex.get(e);void 0!=t&&(this.nodes.delete(t),this.index.delete(eH.tagName+e),this.conditionsIndex.delete(e))}getModelParameters(){let e=this.index.get(ej.tagName);if(void 0!=e)return this.nodes.get(e)}setModelParameters(e){let t=this.index.get(ej.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ej.tagName,this.nodes.size),this.addNode(e))}addControl(e){let t=tH.tagName+e.id,s=this.index.get(t);void 0!=s?this.nodes.set(s,e):(this.index.set(t,this.nodes.size),this.controlIndex.set(e.id,this.nodes.size),this.addNode(e))}getControl(e){let t=this.controlIndex.get(e);if(void 0!=t)return this.nodes.get(t)}getNextControlID(){let e=0,t=Array.from(this.controlIndex.keys()).sort((e,t)=>e-t);return console.log("sortedKeys "+h(t)),t.forEach(t=>{if(t>e)return e;e++}),e}removeControl(e){let t=this.controlIndex.get(e);console.log("removeControl "+e+" "+t),console.log("controlIndex "+h(Array.from(this.controlIndex.keys()))),void 0!=t&&(this.nodes.delete(t),this.index.delete(tH.tagName+e),this.controlIndex.delete(e))}}let tZ="https://github.com/agdturner/mxg-pwa",tK=document.createElement("a");tK.href=tZ,tK.textContent=tZ;let tJ="https://github.com/agdturner/mxg-pwa/tree/main/data/examples",tQ=document.createElement("a");tQ.href=tJ,tQ.textContent=tJ;let t0="https://sourceforge.net/projects/mesmer/",t1=document.createElement("a");t1.href=t0,t1.textContent=t0;let t2="https://github.com/3dmol/3Dmol.js",t3=document.createElement("a");t3.href=t2,t3.textContent=t2;let t5={marginLeft:"0px",marginTop:"1px",marginBottom:"1px",marginRight:"0px"},t4={marginLeft:"25px",marginTop:"1px",marginBottom:"1px",marginRight:"0px"},t6={marginLeft:"50px",marginTop:"1px",marginBottom:"1px",marginRight:"0px"},t7={marginLeft:"75px",marginTop:"1px",marginBottom:"1px",marginRight:"0px"},t9={marginLeft:"1px",marginTop:"1px",marginBottom:"1px",marginRight:"1px"};const t8=" ✓",se=" ✗",st="Add ＋",ss="button",si="s_container",sn="Input",sa="optionOn",so="optionOff",sd="Select",sr="Select an option (use keys to cycle through options)...",sl=new(d(r))(0);let sg=new Set;function sh(...e){let t=g(...e);if(sg.has(t))throw Error(t+" already exists!");return sg.add(t),t}const sm="Reactions Diagram",sc=g(sm),su=g(sc,"Canvas");let sp="1em SensSerif";function sN(){null==o?it(document.getElementById(su),e,sp,4,2):it(o.document.getElementById(su),e,sp,4,2)}function sx(e,t){e.getAtoms().removeAtom(t),e.getBonds().bonds.forEach(s=>{let i=s.getAtomRefs2().split(" ");if(i[0]==t||i[1]==t){let i=s.getId();e.getBonds().removeBond(i);let n=document.getElementsByClassName(t);for(let e=0;e<n.length;e++)n[e].remove()}}),sv(X.s_atomRefs2,t)}function sv(e,t){let s=document.getElementsByClassName(e);for(let e=0;e<s.length;e++)s[e]instanceof HTMLSelectElement&&Array.from(s[e].options).forEach(e=>{e.value==t&&e.remove()})}function sf(e,t){let s=document.getElementsByClassName(e);for(let e=0;e<s.length;e++){let i=s[e];if(s[e]instanceof HTMLSelectElement){let e=document.createElement("option");e.value=t,e.text=t,i.add(e)}}}function sE(e,t,s,i){let n=g(t.id,X.s_atomRefs2),a=s.getAtomRefs2().split(" "),o=Array.from(e.getAtoms().atoms.keys()),d=T(X.s_atomRefs2+"[0]",o,$.tagName,a[0],g(n,0),i,i),r=d.querySelector("select");r.classList.add(X.s_atomRefs2),r.addEventListener("change",e=>{let t=e.target,i=t.value+" "+a[1];console.log(X.s_atomRefs2+" changed to "+i),s.setAtomRefs2(i),y(t)}),r.value=a[0],y(r),t.appendChild(d);let l=T(X.s_atomRefs2+"[1]",o,$.tagName,a[1],g(n,1),i,i),h=l.querySelector("select");h.classList.add(X.s_atomRefs2),h.addEventListener("change",e=>{let t=e.target,i=a[0]+" "+t.value;console.log(X.s_atomRefs2+" changed to "+i),s.setAtomRefs2(i),y(t)}),h.value=a[1],y(h),t.appendChild(l)}function sb(e,t,s,i,n){let a=new J(q(e));return a.dictRef==Q.dictRef?sR(a,tW.energyUnits,s,e,t,i,n):a.dictRef==es.dictRef?sR(a,tW.frequencyUnits,s,e,t,i,n):sR(a,void 0,s,e,t,i,n),a}function sC(e,t,s,i){let n=e.getElementType(),a=tW.elementTypes;void 0==n&&(n=sr,a=function(e,t){if(t)e.push(sr);else{let t=e.indexOf(sr);t>-1&&e.splice(t,1)}return e}(tW.elementTypes,s));let o=T($.s_elementType,a,$.s_elementType,n,g(t.id,$.s_elementType),i,i),d=o.querySelector("select");return d.addEventListener("change",t=>{let s=t.target;e.setElementType(s.value),y(s)}),d.value=n,y(d),s8(a,d),t.appendChild(o),o}function sy(e,t,s){sw(t,g(t.id,$.s_x3),$.s_x3,e.getX3.bind(e),e.setX3.bind(e),s),sw(t,g(t.id,$.s_y3),$.s_y3,e.getY3.bind(e),e.setY3.bind(e),s),sw(t,g(t.id,$.s_z3),$.s_z3,e.getZ3.bind(e),e.setZ3.bind(e),s)}function sw(e,t,s,i,n,a){let o=R(void 0,a);e.appendChild(o);let d=s+t8,r=s+se,l=M(r,g(t,ss),a);o.appendChild(l),l.classList.add(sa),l.classList.add(so);let h=g(t,s,"Input"),m=i();void 0==m?(l.textContent=r,l.classList.toggle(sa)):(sS(o,h,m,n,a),l.textContent=d,l.classList.toggle(so)),l.addEventListener("click",e=>{null==document.getElementById(h)?(sS(o,h,m,n,a),l.textContent=d):(document.getElementById(h)?.remove(),console.log("Removed "+h),l.textContent=r),l.classList.toggle(sa),l.classList.toggle(so)})}function sS(e,t,s,i,n){let a;a=void 0==s?"":s.toString();let o=E("number",t,n);o.addEventListener("change",e=>{let t=e.target;i(new(d(r))(t.value)),console.log("Coordinate changed from "+s+" to "+t.value),C(t)}),o.value=a,C(o),e.appendChild(o)}function sT(e,t,s,...i){let n=M("Remove ✕",void 0,t);return e.appendChild(n),n.addEventListener("click",()=>{s(...i),e.remove()}),n}function sM(e,t,s){let i=g(e.id,X.s_order),n=R(void 0,s);e.appendChild(n);let a=X.s_order+t8,o=X.s_order+se,d=M(o,void 0,s);n.appendChild(d),d.classList.add(sa),d.classList.add(so);let r=t.getOrder();void 0==r?(d.textContent=o,d.classList.toggle(sa)):(s_(n,t,i,r,s),d.textContent=a,d.classList.toggle(so)),d.addEventListener("click",e=>{null==document.getElementById(i)?(void 0==r&&(r=1),s_(n,t,i,r,s),d.textContent=a):(document.getElementById(i)?.remove(),console.log("Removed "+i),d.textContent=o),d.classList.toggle(sa),d.classList.toggle(so)})}function s_(e,t,s,i,n){let a=i.toString(),o=S(X.orderOptions,X.s_order,a,s,n);o.addEventListener("change",e=>{let s=e.target;t.setOrder(parseFloat(s.value)),console.log(X.s_order+" changed from "+a+" to "+s.value),y(s)}),o.value=a,y(o),o.id=s,e.appendChild(o)}function sR(e,t,s,a,o,l,h){let c=a.getElementsByTagName(W.tagName);if(c.length>0){if(1!=c.length)throw Error("Expecting 1 "+W.tagName+" but finding "+c.length+"!");let a=B(c[0]),m=new(d(r))(a),u=q(c[0]),p=new W(u,m);e.setProperty(p);let N=f("number",g(o.id,e.dictRef),t9,h,e=>{let t=e.target;sL(p,t)},a,e.dictRef),x=N.querySelector("input");C(x),x.addEventListener("change",t=>{a=t.target.value,(p=e.getProperty()).value=new(d(r))(a),console.log("Set "+e.dictRef+" of "+s.id+" to "+a),C(x),e.dictRef==Q.dictRef&&(m<n&&(n=m),m>i&&(i=m),sN())}),sz(t,u,N,g(o.id,e.dictRef,W.s_units),e.dictRef,l,l),o.appendChild(N)}else{let i=a.getElementsByTagName(Z.tagName);if(i.length>0){if(1!=i.length)throw Error("Expecting 1 "+Z.tagName+" but finding "+i.length+"!");let n=B(i[0]),a=m(n.split(/\s+/)),d=q(i[0]),r=new Z(d,a);e.setProperty(r);let c=f("text",g(o.id,e.dictRef),l,h,e=>{let t=e.target;sP(r,t)},n,e.dictRef),u=c.querySelector("input");u.value=n,C(u),u.addEventListener("change",t=>{n=t.target.value,r=e.getProperty(),a=m(n.split(/\s+/)),r.values=a,console.log("Set "+e.dictRef+" of "+s.id+" to "+n),C(u)}),sz(t,d,c,g(o.id,e.dictRef,sd,"Units"),e.dictRef,l,l),o.appendChild(c)}else{let i=a.getElementsByTagName(K.tagName);if(i.length>0){var u,p,N;let n,a,d,r;if(1!=i.length)throw Error("Expecting 1 "+K.tagName+" but finding "+i.length+"!");let c=B(i[0]),x=m(c.split(/\s+/)),v=q(i[0]),f=new K(v,x);e.setProperty(f);let E=e.dictRef,b=(u=g(o.id,e.dictRef),p=e=>{let t=e.target;sP(f,t)},N=c,n=R(void 0,h),((d=document.createElement("textarea")).id=u,Object.assign(d.style,l),d.style.fontSize="1em",d.classList.add("auto-width"),r=d).onchange=p,r.value=N,w(r),(a=z(E,l)).htmlFor=u,n.appendChild(a),n.appendChild(r),n),C=b.querySelector("textarea");C.value=c,w(C),C.addEventListener("change",t=>{c=t.target.value,f=e.getProperty(),x=m(c.split(/\s+/)),f.values=x,console.log("Set "+e.dictRef+" of "+s.id+" to "+c),w(C)}),sz(t,v,b,s.id+"_"+e.dictRef+"_Select_Units",e.dictRef,l,l),o.appendChild(b)}else throw Error("Expecting "+W.tagName+", "+Z.tagName+" or "+K.tagName+" but finding none!")}}}function sz(e,t,s,i,n,a,o){if(void 0!=e){let d=function(e,t,s,i,n,a){let o=t.get("units");if(void 0!=o){let d=T("units",e,"units",o,s,n,a),r=d.querySelector("select");return r.value=o,y(r),r.addEventListener("change",e=>{let s=e.target;t.set("units",s.value),console.log("Set "+i+" units to "+s.value),y(s)}),d}}(e,t,i,n,a,o);void 0!=d&&s.appendChild(d)}else{let e=t.get("units");if(void 0!=e){let t=z("units "+e,o);s.appendChild(t)}}}function sP(e,t){let s=t.value.trim();if(""==s){alert("Empty input resetting..."),t.value=h(e.values," ");return}let i=s.split(/\s+/),n=[],a=!0;if(i.forEach(function(e){c(e)||(a=!1),n.push(parseFloat(e))}),!a){alert("An input is not a number, resetting..."),t.value=h(e.values," ");return}n.length==e.values.length?console.log("Changed "+e.tagName+' from: "'+s+'" to: "'+h(e.values," ")+'"'):(alert("Expecting "+e.values.length+" values for, but finding "+n.length+" resetting..."),t.value=h(e.values," "))}function sL(e,t){c(t.value)?e.value=new(d(r))(t.value):(alert("Value is not numeric, resetting..."),t.value=function(e){if(e.eq(0))return"0";if(e.abs().gte(Number.MAX_SAFE_INTEGER)||e.abs().lt(1e-4))return e.toExponential();let t=e.toFixed().split(".")[1];return e.toFixed(t.length)}(e.value))}function sI(e,t,i,n,a,o){let d=document.createElement("div");t.appendChild(d),g(eH.tagName,i.toString(),eD.tagName);let r=M(st,void 0,o);if(d.appendChild(r),r.addEventListener("click",()=>{let t=new eD(new Map,sr),n=e.addBathGas(t),a=R(void 0,o),l=g(eH.tagName,i.toString(),eD.tagName,n.toString()),h=sH(Array.from(new Set(s.keys())),t,!0,l);h.classList.add(eD.tagName),a.appendChild(h),sT(a,t9,t=>{d.removeChild(a),e.removeBathGas(t)}),d.insertBefore(a,r)}),null!=n){let t=Array.from(n.children).filter(e=>e.tagName===eD.tagName);if(t.length>0)for(let n=0;n<t.length;n++){let a=new eD(q(t[n]),I(L(t[n])));console.log("bathGas"+a.toString());let l=e.addBathGas(a),h=g(eH.tagName,i.toString(),eD.tagName,l.toString()),m=R(h,o),c=sH(Array.from(new Set(s.keys())),a,!1,h);m.appendChild(c),sT(m,t9,t=>{d.removeChild(m),e.removeBathGas(t)}),d.insertBefore(m,r)}else{let t=R(void 0,o),n=g(eH.tagName,i.toString(),eD.tagName,"0");t.appendChild(sH(Array.from(new Set(s.keys())),void 0,!1,n)),sT(t,t9,s=>{d.removeChild(t),e.removeBathGas(s)}),d.insertBefore(t,r)}}}function sB(e,t,i,n,a,o){let l,h=new Set(s.keys()),m=_(void 0,t9);if(t.appendChild(m),n){let e=n.getElementsByTagName(eq.tagName);if(e.length>0){if(e.length>1)throw Error("Expecting 1 "+eq.tagName+" but finding "+e.length+"!");let s=q(e[0]),n=e[0].getElementsByTagName(eU.tagName);if(0==n.length)throw Error("Expecting 1 or more "+eU.tagName+" but finding 0!");l=new eq(s);for(let e=0;e<n.length;e++){let s=q(n[e]);var c=void 0;console.log("pTpairAttributes="+(null==s?"":(void 0==c&&(c=", "),Array.from(s.entries()).map(([e,t])=>`${null==e?"null":e.toString()}(${null==t?"null":t.toString()})`).join(c))));let a=new eU(s);l.addPTpair(a);let g=n[e].getElementsByTagName(eD.tagName);g.length>0&&(g.length>1&&console.warn("xml_bathGass.length="+g.length),a.setBathGas(new eD(q(g[0]),I(L(g[0])))));let u=n[e].getElementsByTagName(eG.tagName);u.length>0&&(u.length>1&&console.warn("xml_experimentRates.length="+u.length),a.setExperimentalRate(new eG(q(u[0]),new(d(r))(I(L(u[0]))))));let p=n[e].getElementsByTagName(ek.tagName);p.length>0&&(p.length>1&&console.warn("xml_experimentalYields.length="+p.length),a.setExperimentalYield(new ek(q(p[0]),new(d(r))(I(L(p[0]))))));let N=n[e].getElementsByTagName(eO.tagName);N.length>0&&(N.length>1&&console.warn("xml_experimentalEigenvalues.length="+N.length),a.setExperimentalEigenvalue(new eO(q(N[0]),new(d(r))(I(L(N[0])))))),m.append(sD(l,m,a,t.id,i,e,h,o))}}else l=new eq(new Map)}else l=new eq(new Map);e.setPTs(l),g(eH.tagName,i.toString(),eq.tagName);let u=_(void 0,o);m.appendChild(u);let p=M(st,void 0,t9);u.appendChild(p),p.addEventListener("click",()=>{let e=new Map;e.set("units","Torr");let s=new eU(e),n=l.addPTpair(s);console.log("Added new pTpair pTpairIndex="+n),m.insertBefore(sD(l,m,s,t.id,i,n,h,o),u)});let N=M("Add from spreadsheet ＋",void 0,t9);u.appendChild(N),N.addEventListener("click",()=>{let e=R(void 0,o),s=E("text",g(eq.tagName,"addFromSpreadsheet"),o);e.appendChild(s),m.insertBefore(e,u),s.addEventListener("change",()=>{if(console.log("inputElement.value="+s.value),console.log("inputElement.value.length="+s.value.length),s.value.length>0){let n=s.value.split(" "),a=new Map;n[0].split("	").forEach((e,t)=>{a.set(e,t)}),console.log("pTpairsArray.length="+n.length);for(let e=1;e<n.length;e++){let s=n[e].split("	"),g=parseFloat(s[a.get("P")]),c=a.get("units"),p=new Map;if(a.has("units")){let e=s[c];p.set("units",e)}let N=new eU(p);l.addPTpair(N);let x=parseFloat(s[a.get("T")]);if(N.setP(g),N.setT(x),a.has(eU.s_excessReactantConc)){let e=s[a.get(eU.s_excessReactantConc)];p.set(eU.s_excessReactantConc,e)}if(a.has(eU.s_percentExcessReactantConc)){let e=s[a.get(eU.s_percentExcessReactantConc)];p.set(eU.s_percentExcessReactantConc,e)}if(a.has(eU.s_precision)){console.log("index.has(PTpair.s_precision)");let e=s[a.get(eU.s_precision)];p.set(eU.s_precision,e)}if(a.has(eD.tagName)){let e=s[a.get(eD.tagName)];N.setBathGas(new eD(new Map,e))}if(a.has(eG.tagName)){let e=s[a.get(eG.tagName)];p.set(eG.tagName,e),N.setExperimentalRate(new eG(new Map,new(d(r))(e)));let t=s[a.get(eG.tagName+"_"+eG.s_ref1)];N.getExperimentalRate()?.setRef1(t);let i=s[a.get(eG.tagName+"_"+eG.s_ref2)];N.getExperimentalRate()?.setRef2(i);let n=s[a.get(eG.tagName+"_"+eG.s_refReaction)];N.getExperimentalRate()?.setRefReaction(n);let o=s[a.get(eG.tagName+"_"+eG.s_error)];N.getExperimentalRate()?.setError(parseFloat(o))}if(a.has(ek.tagName)){let e=s[a.get(ek.tagName)];N.setExperimentalYield(new ek(new Map,new(d(r))(e)));let t=s[a.get(ek.tagName+"_"+ek.s_ref)];N.getExperimentalYield()?.setRef(t);let i=s[a.get(ek.tagName+"_"+ek.s_yieldTime)];N.getExperimentalYield()?.setYieldTime(parseFloat(i));let n=s[a.get(ek.tagName+"_"+ek.s_error)];N.getExperimentalYield()?.setError(parseFloat(n))}if(a.has(eO.tagName)){let e=s[a.get(eO.tagName)];N.setExperimentalEigenvalue(new eO(new Map,new(d(r))(e)));let t=s[a.get(eO.tagName+"_"+eO.s_EigenvalueID)];N.getExperimentalEigenvalue()?.setEigenvalueID(t);let i=s[a.get(eO.tagName+"_"+eO.s_error)];N.getExperimentalEigenvalue()?.setError(parseFloat(i))}let v=l.pTpairs.length-1;m.insertBefore(sD(l,m,N,t.id,i,v,h,o),u)}m.removeChild(e)}})});let x=M("Remove All",void 0,t9);u.appendChild(x),x.addEventListener("click",()=>{l.removePTpairs();let e=m.firstChild;for(;null!=e&&e!=u;){let t=e.nextSibling;m.removeChild(e),e=t}})}function sA(e,s,i,n,a){let o=new eH(e,a);return t.addConditions(o),g(eH.tagName,a.toString()),o}function sD(e,t,s,i,n,a,o,d){let r=R(void 0,d);return sG(r,eU.s_P,s.getP.bind(s),s.setP.bind(s)),sz(tW.pressureUnits,s.attributes,r,eU.tagName,eU.tagName,t9,t4),sG(r,eU.s_T,s.getT.bind(s),s.setT.bind(s)),g(i,eU.tagName,a.toString()),sk(r,s,n,a,eU.s_excessReactantConc,sU),function(e,t,s,i){let n=g(s.toString(),i.toString(),eU.s_percentExcessReactantConc),a=_(n,t9);e.append(a);let o=eU.s_percentExcessReactantConc,d=o+t8,r=o+se,l=M(r,g(n,ss),t9);a.appendChild(l),l.classList.add(sa),l.classList.add(so),t.attributes.get(o)?.toLowerCase()=="true"?(l.classList.toggle(so),l.textContent=d):(l.classList.toggle(sa),l.textContent=r),l.addEventListener("click",e=>{l.classList.toggle(sa),l.classList.toggle(so),l.textContent===r?(l.textContent=d,t.attributes.set(o,"true")):(l.textContent=r,t.attributes.delete(o))})}(r,s,n,a),sk(r,s,n,a,eU.s_precision,sF),function(e,t,s,i,n){let a=g(s.toString(),i.toString(),eD.tagName),o=_(a,t9);e.append(o);let d=eD.tagName,r=d+t8,l=d+se,h=M(l,g(a,ss),t9);o.appendChild(h),h.classList.add(sa),h.classList.add(so);let m=g(a,sn),c=t.getBathGas();void 0==c?(h.classList.toggle(sa),h.textContent=l):(h.classList.toggle(so),h.textContent=r,!1==n.has(c.value)&&console.warn("moleculeKeys does not contain "+c.value),o.appendChild(sq(m,t,c,!1))),h.addEventListener("click",e=>{h.classList.toggle(sa),h.classList.toggle(so),h.textContent===l?(h.textContent=r,o.appendChild(sq(m,t,c,!1))):(h.textContent=l,N(m))})}(r,s,n,a,o),sO(r,s,n,a,eG.tagName,e=>e.getExperimentalRate(),sY),sO(r,s,n,a,ek.tagName,e=>e.getExperimentalYield(),s$),sO(r,s,n,a,ek.tagName,e=>e.getExperimentalEigenvalue(),sV),sT(r,t9,(s,i,n)=>{t.removeChild(s),void 0!==i&&e.removePTpair(i),n.removeBathGas()},r,a,s),r}function sG(e,t,s,i){let n=f("number",eU.tagName+"_"+t,t9,t5,e=>{let n=e.target;c(n.value)?(i(parseFloat(n.value)),console.log(`Set ${t} to ${n.value}`)):(alert("Value is not numeric, resetting..."),n.value=s().toString()),C(n)},s().toExponential(),t),a=n.querySelector("input");a.value=s().toString(),C(a),e.appendChild(n)}function sk(e,t,s,i,n,a){let o=g(s.toString(),i.toString(),n),d=_(o,t9);e.append(d);let r=n+t8,l=n+se,h=M(l,g(o,ss),t9);d.appendChild(h),h.classList.add(sa),h.classList.add(so);let m=g(o,sn);if(t.attributes.has(n)){h.classList.toggle(so),h.textContent=r;let e=a(m,t);d.insertBefore(e,h.nextSibling)}else h.classList.toggle(sa),h.textContent=l;h.addEventListener("click",e=>{if(h.classList.toggle(sa),h.classList.toggle(so),h.textContent===l){h.textContent=r;let e=a(m,t);d.insertBefore(e,h.nextSibling)}else h.textContent=l,N(m)})}function sO(e,t,s,i,n,a,o){let d=g(s.toString(),i.toString(),n),r=_(d,t9);e.append(r);let l=n+t8,h=n+se,m=M(h,g(d,ss),t9);r.appendChild(m),m.classList.add(sa),m.classList.add(so);let c=g(d,sn);void 0==a(t)?(m.classList.toggle(sa),m.textContent=h):(m.classList.toggle(so),m.textContent=l,r.appendChild(o(c,t,i))),m.addEventListener("click",e=>{m.classList.toggle(sa),m.classList.toggle(so),m.textContent===h?(m.textContent=l,r.appendChild(o(c,t,i))):(m.textContent=h,N(c))})}function sF(e,t){let s;s=t.attributes.has(eU.s_precision)?t.attributes.get(eU.s_precision):tW.precisionOptions[0];let i=S(tW.precisionOptions,eU.s_precision,s,e,t9);return i.addEventListener("change",e=>{let s=e.target;t.setPrecision(s.value),console.log("Set "+eU.s_precision+" to "+s.value),y(s)}),y(i),i}function sU(e,t){let s,i=E("number",e,t9);return s=t.attributes.has(eU.s_excessReactantConc)?t.attributes.get(eU.s_excessReactantConc):NaN.toString(),console.log(eU.s_excessReactantConc+"="+s),i.value=s,i.addEventListener("change",e=>{let s=e.target;t.setExcessReactantConc(s.value),console.log("Set "+eU.s_excessReactantConc+" to "+s.value),C(s)}),C(i),i}function sq(e,t,i,n){let a=sH(Array.from(new Set(s.keys())),i,n,e);return a.id=e,a.addEventListener("change",e=>{let s=e.target;t.setBathGas(new eD(new Map,s.value)),console.log("Set bathGas to "+s.value),y(s)}),y(a),a}function sH(e,t,s,i){let n;if(s)e.push(sr);else{let t=e.indexOf(sr);t>-1&&e.splice(t,1)}void 0==t?(t=new eD(new Map,sr),n=sr):n=t.value;let a=S(e,eD.tagName,n,g(i,sd),t9);return a.classList.add(eD.tagName),s8(e,a),a.addEventListener("change",e=>{let s=e.target;t.value=s.value,console.log("Added "+s.value+" as "+eD.tagName),y(s)}),a.value=n,y(a),a}function sY(e,t){return sX(t,e,e=>e.getExperimentalRate(),(e,t)=>e.setExperimentalRate(t),eG,[{tagName:eG.tagName,type:"number",eventHandler:(e,s)=>sL(t.getExperimentalRate(),s),valueGetter:()=>t.getExperimentalRate().value.toString()},{tagName:eG.tagName+"_"+eG.s_ref1,type:"text",eventHandler:(e,s)=>t.getExperimentalRate()?.setRef1(s.value),valueGetter:()=>t.getExperimentalRate().getRef1()},{tagName:eG.tagName+"_"+eG.s_ref2,type:"text",eventHandler:(e,s)=>t.getExperimentalRate()?.setRef2(s.value),valueGetter:()=>t.getExperimentalRate().getRef2()},{tagName:eG.tagName+"_"+eG.s_refReaction,type:"text",eventHandler:(e,s)=>t.getExperimentalRate()?.setRefReaction(s.value),valueGetter:()=>t.getExperimentalRate().getRefReaction()},{tagName:eG.tagName+"_"+eG.s_error,type:"number",eventHandler:(e,s)=>t.getExperimentalRate()?.setError(parseFloat(s.value)),valueGetter:()=>t.getExperimentalRate().getError().toString()}])}function s$(e,t){return sX(t,e,e=>e.getExperimentalYield(),(e,t)=>e.setExperimentalYield(t),ek,[{tagName:ek.tagName,type:"number",eventHandler:(e,s)=>sL(t.getExperimentalYield(),s),valueGetter:()=>t.getExperimentalYield().value.toString()},{tagName:ek.tagName+"_"+ek.s_ref,type:"text",eventHandler:(e,s)=>t.getExperimentalYield()?.setRef(s.value),valueGetter:()=>t.getExperimentalYield().getRef()},{tagName:ek.tagName+"_"+ek.s_yieldTime,type:"number",eventHandler:(e,s)=>t.getExperimentalYield()?.setYieldTime(parseFloat(s.value)),valueGetter:()=>t.getExperimentalYield().getYieldTime().toString()},{tagName:ek.tagName+"_"+ek.s_error,type:"number",eventHandler:(e,s)=>t.getExperimentalYield()?.setError(parseFloat(s.value)),valueGetter:()=>t.getExperimentalYield().getError().toString()}])}function sV(e,t){return sX(t,e,e=>e.getExperimentalEigenvalue(),(e,t)=>e.setExperimentalEigenvalue(t),eO,[{tagName:eO.tagName,type:"number",eventHandler:(e,s)=>sL(t.getExperimentalEigenvalue(),s),valueGetter:()=>t.getExperimentalEigenvalue().value.toString()},{tagName:eO.tagName+"_"+eO.s_EigenvalueID,type:"text",eventHandler:(e,s)=>t.getExperimentalEigenvalue()?.setEigenvalueID(s.value),valueGetter:()=>t.getExperimentalEigenvalue().getEigenvalueID()},{tagName:eO.tagName+"_"+eO.s_error,type:"number",eventHandler:(e,s)=>t.getExperimentalEigenvalue()?.setError(parseFloat(s.value)),valueGetter:()=>t.getExperimentalEigenvalue().getError().toString()}])}function sX(e,t,s,i,n,a){let o=_(void 0,t9);o.id=t;let d=s(e);for(let s of(void 0==d&&i(e,d=new n(new Map,sl)),a)){let e=t+"_"+s.tagName;o.appendChild(f(s.type,e,t9,t5,e=>{let t=e.target;s.eventHandler(e,t),console.log("Set "+s.tagName+" to "+t.value),C(t)},s.valueGetter(),s.label||""))}return o}function sj(e,t,s,i,n,a){let o,l,g=R(void 0,t4);s.appendChild(g);let h=i.tagName,m=h+t8,c=h+se,u=t.getElementsByTagName(h),p=M(h,void 0,t9);p.classList.add(sa),p.classList.add(so),g.appendChild(p);let N=ej.tagName+"_"+h+"_input",x=ej.tagName+"_"+h+"_select";if(1==u.length){l=I(L(u[0]));let t=new(d(r))(l);o=new i(q(u[0]),t),p.textContent=m,sW(e,g,o,N,x,l,n,void 0),p.classList.toggle(so)}else l="",o=new i(new Map,sl),p.textContent=c,p.classList.toggle(sa);p.addEventListener("click",()=>{e.index.has(h)?(l=o.value.toExponential(),a(),document.getElementById(N)?.remove(),p.textContent=c):(sW(e,g,o,N,x,l,n,void 0),p.textContent=m),p.classList.toggle(sa),p.classList.toggle(so)})}function sW(e,t,s,i,n,a,o,d){o.call(e,s);let r=E("number",i,t9);r.addEventListener("change",e=>{let t=e.target;sL(s,t),C(t)}),r.value=a,C(r),t.appendChild(r),sz(d,s.attributes,t,n,s.constructor.tagName,t9,t4)}function sZ(e){return[{class:eW,setMethod:e.setCalculateRateCoefficientsOnly,removeMethod:e.removeCalculateRateCoefficientsOnly},{class:eZ,setMethod:e.setPrintCellDOS,removeMethod:e.removePrintCellDOS},{class:eK,setMethod:e.setPrintCellTransitionStateFlux,removeMethod:e.removePrintCellTransitionStateFlux},{class:eJ,setMethod:e.setPrintReactionOperatorColumnSums,removeMethod:e.removePrintReactionOperatorColumnSums},{class:eQ,setMethod:e.setPrintGrainBoltzmann,removeMethod:e.removePrintGrainBoltzmann},{class:e0,setMethod:e.setPrintGrainDOS,removeMethod:e.removePrintGrainDOS},{class:e1,setMethod:e.setPrintGrainkbE,removeMethod:e.removePrintGrainkbE},{class:e2,setMethod:e.setPrintGrainkfE,removeMethod:e.removePrintGrainkfE},{class:e3,setMethod:e.setPrintTSsos,removeMethod:e.removePrintTSsos},{class:e5,setMethod:e.setPrintGrainedSpeciesProfile,removeMethod:e.removePrintGrainedSpeciesProfile},{class:e4,setMethod:e.setPrintGrainTransitionStateFlux,removeMethod:e.removePrintGrainTransitionStateFlux},{class:e6,setMethod:e.setPrintReactionOperatorSize,removeMethod:e.removePrintReactionOperatorSize},{class:e7,setMethod:e.setPrintSpeciesProfile,removeMethod:e.removePrintSpeciesProfile},{class:e9,setMethod:e.setPrintPhenomenologicalEvolution,removeMethod:e.removePrintPhenomenologicalEvolution},{class:e8,setMethod:e.setPrintTunnelingCoefficients,removeMethod:e.removePrintTunnelingCoefficients},{class:te,setMethod:e.setPrintCrossingCoefficients,removeMethod:e.removePrintCrossingCoefficients},{class:tt,setMethod:e.setTestDOS,removeMethod:e.removeTestDOS},{class:ts,setMethod:e.setTestRateConstants,removeMethod:e.removeTestRateConstants},{class:ti,setMethod:e.setUseTheSameCellNumberForAllConditions,removeMethod:e.removeUseTheSameCellNumberForAllConditions},{class:tn,setMethod:e.setForceMacroDetailedBalance,removeMethod:e.removeForceMacroDetailedBalance}]}function sK(e){return[{class:tG,setMethod:e.setEigenvalues,removeMethod:e.removeEigenvalues},{class:tk,setMethod:e.setShortestTimeOfInterest,removeMethod:e.removeShortestTimeOfInterest},{class:tO,setMethod:e.setMaximumEvolutionTime,removeMethod:e.removeMaximumEvolutionTime},{class:tF,setMethod:e.setAutomaticallySetMaxEne,removeMethod:e.removeAutomaticallySetMaxEne},{class:tU,setMethod:e.setDiagramEnergyOffset,removeMethod:e.removeDiagramEnergyOffset}]}function sJ(e,s,i,n,a){let o=new tH(e,a);return t.addControl(o),g(tH.tagName,a.toString()),o}function sQ(e,t,s,i,n,a){i.call(e,s);let o=E("number",n,t9);o.addEventListener("change",e=>{let t=e.target;sL(s,t),C(t)}),o.value=a,C(o),t.appendChild(o)}function s0(e,t,s,i,n,a,o,d,r,l=!1){let h,m,c,u=o.tagName,p=u+t8,x=u+se,v=M(x,void 0,t9);if(v.classList.add(sa),v.classList.add(so),i&&i.set(u,v),a&&(m=R(void 0,a),t.appendChild(m),m.appendChild(v),c=g(tH.tagName,u,sn)),n){let t=n.getElementsByTagName(u);if(1==t.length){if(l){let s=I(L(t[0])),i=parseFloat(s);h=new o(q(t[0]),i),sQ(e,m,h,d,c,s)}else d.call(e,h);v.textContent=p,v.classList.toggle(so)}else v.textContent=x,v.classList.toggle(sa)}else h=new o(new Map),v.textContent=x,v.classList.toggle(sa);v.addEventListener("click",t=>{e.index.has(u)?(l&&N(c),r.call(e),v.textContent=x):(l?sQ(e,m,h,d,c,""):d.call(e,h),v.textContent=p),v.classList.toggle(sa),v.classList.toggle(so)})}function s1(e,t,s,i,n){let a,o=R(void 0,n);t.appendChild(o);let l=to.tagName,h=l+t8,m=l+se,c=M(m,void 0,t9);o.appendChild(c),c.classList.add(sa),c.classList.add(so);let u=g(tH.tagName,l,s.toString()),p=R(u,t9);o.appendChild(p);let x=to.options,v=g(u,"details"),f=g(v,"select");if(i){let t=i.getElementsByTagName(l);if(t.length>0){if(t.length>1)throw Error("More than one CalcMethod element.");let s=q(t[0]),i=s.get("xsi:type");a=function(e,t,s,i,n,a,o,l,g){let h;let m=ie(e,t,i,a,o,l,g);m.value=o,t.appendChild(m);let c=R(void 0,t9);if(c.id=l,t.appendChild(c),o==td.xsi_type||o==td.xsi_type2)h=new td(n);else if(o==tr.xsi_type||o==tr.xsi_type2)h=new tr(n);else if(o==tg.xsi_type||o==tg.xsi_type2){let e=new tg(n);h=e;let t=s[0].getElementsByTagName(tl.tagName);if(t.length>0){if(1==t.length){let s=new(d(r))(I(L(t[0]))),i=new tl(q(t[0]),s);e.setFittingIterations(i)}else throw Error("More than one FittingIterations element.")}s5(c,e)}else if(o==tu.xsi_type||o==tu.xsi_type2){let e=new tu(n);function u(e,t,s){let i=th.tagName,n=e[0].getElementsByTagName(i);if(n.length>0){if(1==n.length){let e=parseFloat(I(L(n[0])));s(new t(q(n[0]),e))}else throw Error(`More than one ${i} element.`)}}h=e,u(s,th,e.setMarquardtIterations.bind(e)),u(s,tm,e.setMarquardtTolerance.bind(e)),u(s,tc,e.setMarquardtDerivDelta.bind(e)),s4(c,e)}else if(o==tT.xsi_type||o==tT.xsi_type2){let e=new tT(n);function u(e,t,s){let i=t.tagName,n=e[0].getElementsByTagName(i);if(n.length>0){if(1==n.length){let e=I(L(n[0]));isNaN(parseFloat(e))||(e=parseFloat(e)),s(new t(q(n[0]),e))}else throw Error(`More than one ${i} element.`)}}h=e,u(s,tN,e.setFormat.bind(e)),u(s,tx,e.setPrecision.bind(e)),u(s,tv,e.setChebNumTemp.bind(e)),u(s,tf,e.setChebNumConc.bind(e)),u(s,tE,e.setChebMaxTemp.bind(e)),u(s,tb,e.setChebMinTemp.bind(e)),u(s,tC,e.setChebMaxConc.bind(e)),u(s,ty,e.setChebMinConc.bind(e)),u(s,tw,e.setChebTExSize.bind(e)),u(s,tS,e.setChebPExSize.bind(e)),s6(c,e)}else if(o==tP.xsi_type||o==tP.xsi_type2){let e=new tP(n);function u(e,t,s){let i=t.tagName,n=e[0].getElementsByTagName(i);if(n.length>0){if(1==n.length){let e=parseFloat(I(L(n[0])));s(new t(q(n[0]),e))}else throw Error(`More than one ${i} element.`)}}h=e,u(s,tM,e.setTmin.bind(e)),u(s,t_,e.setTmid.bind(e)),u(s,tR,e.setTmax.bind(e)),u(s,tz,e.setTstep.bind(e)),s7(c,e)}else if(o==tD.xsi_type||o==tD.xsi_type2){let e=new tD(n);function u(e,t,s){let i=t.tagName,n=e[0].getElementsByTagName(i);if(n.length>0){if(1==n.length){let e=I(L(n[0]));isNaN(parseFloat(e))||(e=parseFloat(e)),s(new t(q(n[0]),e))}else throw Error(`More than one ${i} element.`)}}h=e,u(s,tL,e.setSensitivityAnalysisSamples.bind(e)),u(s,tI,e.setSensitivityAnalysisOrder.bind(e)),u(s,tB,e.setSensitivityNumVarRedIters.bind(e)),u(s,tA,e.setSensitivityVarRedMethod.bind(e)),s9(c,e)}else throw Error("Unknown xsi:type: "+o);return h}(e,p,t,x,s,l,i,v,f),e.setCalcMethod(a),c.classList.toggle(so),c.textContent=h}else c.classList.toggle(sa),c.textContent=m}else c.classList.toggle(sa),c.textContent=m;c.addEventListener("click",t=>{if(e.index.has(l))null!=e.getCalcMethod()&&(e.removeCalcMethod(),N(v),console.log("remove(divCmDetailsSelectId) "+f),console.log("button.textContent "+c.textContent),N(f),c.textContent=m,c.classList.toggle(sa),c.classList.toggle(so));else{x[x.length-1]!=sr&&x.push(sr),N(v),N(f);let t=ie(e,o,x,l,sr,v,f);p.appendChild(t),c.textContent=h,c.classList.toggle(sa),c.classList.toggle(so)}})}function s2(e,t,s,i){let n=R(void 0,i);t.appendChild(n);let a=tq.tagName,o=a+t8,d=a+se,r=M(a,void 0,t9);r.id=tH.tagName+"_"+a,n.appendChild(r),r.classList.add(sa),r.classList.add(so);let l=tH.tagName+"_"+a+"_Tmax",g=tH.tagName+"_"+a+"_Tmin",h=tH.tagName+"_"+a+"_Tstep";if(s){let t=s.getElementsByTagName(a);1==t.length?(s3(e,n,t,l,g,h),r.classList.toggle(so),r.textContent=o):(r.classList.toggle(sa),r.textContent=d)}else r.classList.toggle(sa),r.textContent=d;r.addEventListener("click",t=>{e.index.has(a)?(e.removeTestMicroRates(),document.getElementById(l)?.remove(),document.getElementById(g)?.remove(),document.getElementById(h)?.remove(),r.textContent=d):(s3(e,n,null,l,g,h),r.textContent=o),r.classList.toggle(sa),r.classList.toggle(so)})}function s3(e,t,s,i,n,a){let o,d;if(null!=s&&s.length>0){if(s.length>1)throw Error("More than one TestMicroRates element.");d=new tq(o=q(s[0]))}else(o=new Map).set("Tmax",""),o.set("Tmin",""),o.set("Tstep",""),d=new tq(o);e.setTestMicroRates(d);let r=d.getTmax(),l=f("number",i+"_input",t9,t5,e=>{let t=e.target;c(t.value)?(d.setTmax(parseFloat(t.value)),console.log("Set Tmax to "+t.value)):(alert("Value is not numeric, resetting..."),t.value=r.toExponential()),C(t)},r.toExponential(),"Tmax");l.id=i,C(l.querySelector("input")),t.appendChild(l);let g=f("number",n+"_input",t9,t5,e=>{let t=e.target;c(t.value)?(d.setTmin(parseFloat(t.value)),console.log("Set Tmin to "+t.value)):(alert("Value is not numeric, resetting..."),t.value=r.toExponential()),C(t)},d.getTmin().toExponential(),"Tmin");g.id=n,C(g.querySelector("input")),t.appendChild(g);let h=f("number",a+"_input",t9,t5,e=>{let t=e.target;c(t.value)?(d.setTstep(parseFloat(t.value)),console.log("Set Tstep to "+t.value)):(alert("Value is not numeric, resetting..."),t.value=r.toExponential()),C(t)},d.getTstep().toExponential(),"Tstep");h.id=a,C(h.querySelector("input")),t.appendChild(h)}function s5(e,t){let s=t.getFittingIterations()||new tl(new Map,sl);t.setFittingIterations(s),e.appendChild(f("number",e.id+"_FittingIterations_input",t9,t5,e=>{let t=e.target;c(t.value)?(s.value=new(d(r))(t.value),console.log("Set FittingIterations to "+t.value)):(alert("Value is not numeric, resetting..."),t.value=s.value.toString()),C(t)},s.value.toString(),tl.tagName))}function s4(e,t){function s(e,t,s,i){let n=g(t.id,e.tagName,"Input"),a=e.value.toString(),o=e.tagName;t.appendChild(f("number",n,s,i,t=>{let s=t.target;c(s.value)?(e.value=new(d(r))(s.value),console.log("Set "+e.tagName+" to "+s.value)):(alert("Value is not numeric, resetting..."),s.value=e.value.toString()),C(s)},a,o))}let i=t.getMarquardtIterations()||new th(new Map,sl);t.setMarquardtIterations(i),s(i,e,t9,t5);let n=t.getMarquardtTolerance()||new tm(new Map,sl);t.setMarquardtTolerance(n),s(n,e,t9,t5);let a=t.getMarquardtDerivDelta()||new tc(new Map,sl);t.setMarquardtDerivDelta(a),s(a,e,t9,t5)}function s6(e,t){let s=t.getFormat()||new tN(new Map,tN.options[0]);function i(t,s,i,n,a){let o=s()||new t(new Map,a[0]);i(o);let d=T(n,a,n,o.value,e.id,t9,t9);d.querySelector("select")?.addEventListener("change",e=>{let t=e.target;o.value=t.value,console.log(`Set ${n} to `+t.value),y(t)}),e.appendChild(d)}i(tN,t.getFormat.bind(t),t.setFormat.bind(t),tN.tagName,tN.options),i(tN,()=>s.getRateUnits(),s.setRateUnits.bind(s),tN.rateUnits,tN.rateUnitsOptions),i(tx,t.getPrecision.bind(t),t.setPrecision.bind(t),tx.tagName,tW.precisionOptions);let n=t.getChebNumTemp()||new tv(new Map,sl);function a(t,s,i,n){let a=s()||new t(new Map,NaN);i(a),e.appendChild(f("number",e.id+`_${n}_input`,t9,t5,e=>{let t=e.target;c(t.value)?(a.value=parseFloat(t.value),console.log(`Set ${n} to `+t.value)):(alert("Value is not numeric, resetting..."),t.value=NaN.toString()),C(t)},a.value.toString(),n))}t.setChebNumTemp(n),e.appendChild(f("number",e.id+"_ChebNumTemp_input",t9,t5,e=>{let t=e.target;c(t.value)?(n.value=new(d(r))(t.value),console.log("Set ChebNumTemp to "+t.value)):(alert("Value is not numeric, resetting..."),t.value=NaN.toString()),C(t)},n.value.toString(),tv.tagName)),a(tf,t.getChebNumConc.bind(t),t.setChebNumConc.bind(t),tf.tagName),a(tE,t.getChebMaxTemp.bind(t),t.setChebMaxTemp.bind(t),tE.tagName),a(tb,t.getChebMinTemp.bind(t),t.setChebMinTemp.bind(t),tb.tagName),a(tC,t.getChebMaxConc.bind(t),t.setChebMaxConc.bind(t),tC.tagName),a(ty,t.getChebMinConc.bind(t),t.setChebMinConc.bind(t),ty.tagName),a(tw,t.getChebTExSize.bind(t),t.setChebTExSize.bind(t),tw.tagName),a(tS,t.getChebPExSize.bind(t),t.setChebPExSize.bind(t),tS.tagName)}function s7(e,t){function s(t,s,i,n){let a=s()||new t(new Map,NaN);i(a),e.appendChild(f("number",e.id+`_${n}_input`,t9,t5,e=>{let t=e.target;c(t.value)?(a.value=parseFloat(t.value),console.log(`Set ${n} to `+t.value)):(alert("Value is not numeric, resetting..."),t.value=NaN.toString()),C(t)},a.value.toString(),n))}s(tM,t.getTmin.bind(t),t.setTmin.bind(t),tM.tagName),s(t_,t.getTmid.bind(t),t.setTmid.bind(t),t_.tagName),s(tR,t.getTmax.bind(t),t.setTmax.bind(t),tR.tagName),s(tz,t.getTstep.bind(t),t.setTstep.bind(t),tz.tagName)}function s9(e,t){function s(t,s,i,n){let a=s()||new t(new Map,NaN);i(a),e.appendChild(f("number",g(e.id,n,sn),t9,t5,e=>{let t=e.target;c(t.value)?(a.value=parseFloat(t.value),console.log(`Set ${n} to `+t.value)):(alert("Value is not numeric, resetting..."),t.value=NaN.toString()),C(t)},a.value.toString(),n))}s(tL,t.getSensitivityAnalysisSamples.bind(t),t.setSensitivityAnalysisSamples.bind(t),tL.tagName),s(tI,t.getSensitivityAnalysisOrder.bind(t),t.setSensitivityAnalysisOrder.bind(t),tI.tagName),s(tB,t.getSensitivityNumVarRedIters.bind(t),t.setSensitivityNumVarRedIters.bind(t),tB.tagName);let i=t.getSensitivityVarRedMethod()||new tA(new Map,"");t.setSensitivityVarRedMethod(i);let n=tA.tagName;e.appendChild(T(n,tA.options,n,tA.options[0],g(e.id,n,"select"),t9,t9));let a=e.querySelector("select");a?.addEventListener("change",e=>{let t=e.target;i.value=t.value,console.log(n+" set to "+t.value),y(t)})}function s8(e,t){t.addEventListener("click",s=>{e[e.length-1]==sr&&e.pop();let i=t.options.length-1;t.options[i].value==sr&&t.remove(i)})}function ie(e,t,s,i,n,a,o){let d=S(s,i,n,o,t9);return t.appendChild(d),s8(s,d),d.addEventListener("change",s=>{let i=document.getElementById(a);null!=i&&i.remove(),i=R(a,t9),t.appendChild(i);let n=s.target,o=n.value,d=new Map;if(d.set("xsi:type",o),o==td.xsi_type||o==td.xsi_type2)e.setCalcMethod(new td(d));else if(o==tr.xsi_type||o==tr.xsi_type2)e.setCalcMethod(new tr(d));else if(o==tg.xsi_type||o==tg.xsi_type2){let t=new tg(d);e.setCalcMethod(t),s5(i,t)}else if(o==tu.xsi_type||o==tu.xsi_type2){let t=new tu(d);e.setCalcMethod(t),s4(i,t)}else if(o==tT.xsi_type||o==tT.xsi_type2){let t=new tT(d);e.setCalcMethod(t),s6(i,t)}else if(o==tP.xsi_type||o==tP.xsi_type2){let t=new tP(d);e.setCalcMethod(t),s7(i,t)}else if(o==tD.xsi_type||o==tD.xsi_type2){let t=new tD(new Map);e.setCalcMethod(t),s9(i,t)}else throw Error("Unknown CalcMethod type.");y(n)}),d}function it(e,t,i,n,o){if(console.log("drawReactionDiagram"),null!=e){var d,r;let g,h,m,c,N,x,v,f,E;t?(g="lightgrey",h="lightblue",m="orange"):(g="darkgrey",h="blue",m="darkorange");let b=e.getContext("2d");b.clearRect(0,0,e.width,e.height),b.font="bold "+i;let C=(d=b.font,b.font=d,(r=b.measureText("Aj")).actualBoundingBoxAscent+r.actualBoundingBoxDescent),y=[],w=new Set,S=new Set,T=new Set,M=new Map,_=new Map,R=0;a.forEach(function(e,t){let i=e.getTransitionStates(),n=e.getReactantsLabel();if(void 0!=n){y.push(n),w.has(n)&&S.add(n);let t=e.getReactantsEnergy(s);c=p(c,t),N=u(N,t),_.set(n,t),!M.has(n)&&(M.set(n,R),R++)}let a=e.getProductsLabel();if(void 0!=a){w.add(a);let t=e.getProductsEnergy(s);if(c=p(c,t),N=u(N,t),_.set(a,t),M.has(a)){R--;let e=l(M,a);M.forEach(function(t,s){t>e&&M.set(s,t-1)}),void 0!=i&&(i.forEach(function(e){let i=e.getMolecule().ref;T.add(i),M.set(i,R),t=s.get(i)?.getEnergy()??sl,c=p(c,t),N=u(N,t),_.set(i,t),R++}),M.set(a,R),R++)}else void 0!=i&&i.forEach(function(e){let i=e.getMolecule().ref;T.add(i),M.set(i,R),t=s.get(i)?.getEnergy()??sl,c=p(c,t),N=u(N,t),_.set(i,t),R++}),M.set(a,R),R++}});let z=N.minus(c).toNumber(),P=[];M.forEach(function(e,t){P[e]=t});let L=0,I=0,B=new Map,A=new Map,D=new Map,G=new Map,k=new Map,O=new Map;P.forEach(function(e){let t=l(_,e),s=(t-c.toNumber())*400/(z+0)+0;E=Math.max(eA(b,t.toString(),i),eA(b,e,i)),v=L+E+5,f=x=s+n,B.set(e,[L,x]),A.set(e,[v,f]),w.has(e)&&(D.set(e,[L,x]),G.set(e,[v,f])),T.has(e)&&(k.set(e,[L,x]),O.set(e,[v,f])),L=v+10,I=v}),e.width=I;let F=400+4*C+2*n;e.height=F,b.transform(1,0,0,-1,0,F),a.forEach(function(e,t){let s=e.getTransitionStates(),i=e.getReactantsLabel(),n=e.getProductsLabel(),a=l(A,i),d=l(D,n);s.length>0?s.forEach(function(e){let t=e.getMolecule().ref,s=l(k,t);eI(b,g,o,a[0],a[1],s[0],s[1]);let i=l(O,t);eI(b,g,o,i[0],i[1],d[0],d[1])}):eI(b,g,o,a[0],a[1],d[0],d[1])}),y.forEach(function(e){let t=l(_,e),s=(t-c.toNumber())*400/(z+0)+0,a=l(B,e)[0],o=s+n,d=l(A,e)[0],r=t.toString();eL(b,h,n,a,o,d,o,i,C,e,r)}),w.forEach(function(e){let t=l(_,e),s=(t-c.toNumber())*400/(z+0)+0,a=l(D,e)[0],o=s+n,d=l(G,e)[0],r=t.toString();S.has(e)?eL(b,m,n,a,o,d,o,i,C,e,r):eL(b,"green",n,a,o,d,o,i,C,e,r)}),T.forEach(function(e){let t=l(_,e),s=(t-c.toNumber())*400/(z+0)+0,a=l(k,e)[0],o=s+n;eL(b,"red",n,a,o,l(O,e)[0],o,i,C,e,t.toString())})}}function is(){if(null==t){alert("No Mesmer object to save.");return}{console.log("saveXML");let e=new Blob([tW.header,t.toXML("  ","")],{type:"text/plain"}),s=URL.createObjectURL(e),i=document.createElement("a");i.href=s;let n=t.getTitle()?.value;i.download=n.replace(/[^a-z0-9]/gi,"_")+".xml",document.body.appendChild(i),i.click(),document.body.removeChild(i)}}document.addEventListener("DOMContentLoaded",()=>{document.body.className=e?"dark-mode":"light-mode",document.body.className=e?"dark-mode":"light-mode";let i=document.getElementById("menu");i.style.display="flex",i.style.justifyContent="center",i.style.margin="5px",i.style.padding="5px",i.style.border="1px solid black",i.style.backgroundColor="lightgrey";let n="Load",l=M(n,g(n),t9);l.addEventListener("click",i=>{let h;sg.forEach(e=>{N(e,sg)}),null!=s&&s.clear(),null!=a&&a.clear(),(h=document.createElement("input")).type="file",h.onchange=function(){if(h.files){for(let e=0;e<h.files.length;e++)console.log("inputElement.files["+e+"]="+h.files[e]);let i=h.files[0];console.log(i.name);let n=i.name,l=new FileReader,m=0,u="";l.onload=function(h){if(null==h.target)throw Error("Event target is null");if(u+=h.target.result,null!=i){if(m<i.size){let e=i.slice(m,m+1048576);l.readAsText(e),m+=1048576}else{var p;let i,l,h,m;p=u=u.trim(),i=document.getElementById("xml"),N(l=sh("xml",2),sg),h=_(l,t4),x(l,i,null,h,n,t9,t5),(m=document.createElement("pre")).textContent=p,h.appendChild(m),function(i){let n,l,h;console.log("parse: "+i);let m=H(i,tW.tagName);t=new tW(q(m));let u=i.getElementsByTagName(tY.tagName);if(1!=u.length)throw Error("Multiple "+tY.tagName+" tags found");{let e=u[0].childNodes[0].nodeValue.trim(),s=new tY(q(u[0]),e);t.setTitle(s);let i=document.getElementById("title"),n=sh("titleDiv");N(n,sg);let a=f("text",g(n,sn),t9,t5,e=>{let t=e.target;s.value=t.value,console.log(s.tagName+" changed to "+s.value),C(t)},e,tY.tagName);a.id=n,i.appendChild(a)}let p=document.getElementById("molecules"),v=sh(t$.tagName);N(v,sg),x(v,p,null,function(e){s=new Map;let t=_(void 0,t9),i=H(e,t$.tagName),n=new Set;if(i.childNodes.forEach(function(e){n.add(e.nodeName)}),1!=n.size&&!(2==n.size&&n.has("#text")))throw console.error("moleculeListTagNames:"),n.forEach(e=>console.error(e)),Error("Additional tag names in moleculeList:");if(!n.has(ev.tagName))throw Error('Expecting tags with "'+ev.tagName+'" tagName but there are none!');let a=i.getElementsByTagName(ev.tagName);console.log("Number of molecules="+a.length);for(let e=0;e<a.length;e++){let i=g(ev.tagName,e),n=_(i),o=q(a[e]),l=o.get(ev.s_id);if(void 0==l)throw Error(ev.s_id+" is undefined");let h=new ev(o,l);s.set(l,h),x(g(i,si),t,null,n,l,t9,t4);let m=new Set,u=a[e].childNodes;for(let e=0;e<u.length;e++){let t=u[e];m.has(t.nodeName)?"#text"!=t.nodeName&&console.warn("Another ChildNode with nodeName="+t.nodeName):m.add(t.nodeName)}let p=new V(new Map),v=a[e].getElementsByTagName(V.tagName);if(v.length>1)throw Error("Expecting 1 or 0 "+V.tagName+" but finding "+v.length+"!");let b=g(i,V.tagName),y=_(b);if(x(g(b,si),n,null,y,V.tagName,t9,t4),1==v.length){let e=v[0],t=e.getElementsByTagName($.tagName);if(t.length<2)throw Error("Expecting 2 or more atoms in "+V.tagName+", but finding "+t.length+"!");p=new V(q(e)),h.setAtoms(p);for(let e=0;e<t.length;e++){console.log("j="+e);let s=new $(q(t[e]),h),i=p.addAtom(s),n=R(g(b,e),t4);y.appendChild(n),n.appendChild(z(i,t9)),sC(s,n,!1,t9),sy(s,n,t9),sT(n,t9,sx,h,i)}m.delete(V.tagName)}else{let t=a[e].getElementsByTagName($.tagName);if(1==t.length)(p=new V(new Map)).addAtom(new $(q(t[0]),h)),h.setAtoms(p);else if(t.length>1)throw Error("Expecting 1 "+$.tagName+" but finding "+t.length+". Should these be in an "+V.tagName+"?")}y.appendChild(function(e,t,s,i,n){let a=M(st,g(e.id,"Add"+s+"Button"),n);return a.addEventListener("click",()=>{let s=new $(new Map,e),o=e.getAtoms().addAtom(s),d=R(g(e.id,o),n);d.appendChild(z(o,i)),sC(s,d,!0,i),sy(s,d,i),sT(d,i,sx,e,o),t.insertBefore(d,a),sf(X.s_atomRefs2,o)}),a}(h,y,$.tagName,t9,t4)),m.delete($.tagName);let w=new j(new Map),S=e=>h.getBonds().removeBond(e),P=a[e].getElementsByTagName(j.tagName),A=g(i,j.tagName),D=_(A);if(x(g(A,si),n,null,D,j.tagName,t9,t4),P.length>0){if(P.length>1)throw Error("Expecting 1 or 0 "+j.tagName+" but finding "+P.length+"!");let e=P[0].getElementsByTagName(X.tagName);w=new j(q(P[0]));for(let t=0;t<e.length;t++){let s=new X(q(e[t]),h),i=w.addBond(s),n=R(g(A,t),t4);D.appendChild(n),n.appendChild(z(i,t9)),sE(h,n,s,t9),sM(n,s,t9),sT(n,t9,S,i)}h.setBonds(w),m.delete(j.tagName)}else{let t=a[e].getElementsByTagName(X.tagName);if(t.length>0){if(t.length>1)throw Error("Expecting 1 "+X.tagName+" but finding "+t.length+". Should these be in a "+j.tagName+"?");(w=new j(new Map)).addBond(new X(q(t[0]),h)),h.setBonds(w)}}D.appendChild(function(e,t,s,i,n,a){let o=M(st,g(t,"Add"+i+"Button"),a);return o.addEventListener("click",()=>{let i=e.getAtoms().atoms;if(i.size<2){alert("There must be at least 2 atoms to create a bond.");return}let d=new Map,r=Array.from(i.keys()).slice(0,2).join(" ");d.set(X.s_atomRefs2,r);let l=new X(d,e),h=e.getBonds().addBond(l),m=R(g(t,h),a);Array.from(i.keys()).forEach(e=>{m.classList.add(e)}),s.insertBefore(m,o),m.appendChild(z(h,n)),sE(e,m,l,n),sM(m,l,n),sT(m,n,t=>e.getBonds().removeBond(t),h),sf(X.tagName,h)}),s.appendChild(o),o}(h,l,D,X.tagName,t9,t4)),m.delete(X.tagName);let G=g(i,"viewer"),k=_(G);x(g(G,si),n,null,k,"viewer",t9,t4),function(e,t,s,i){let n;let a=_(g(e.id,"viewerContainer"),i);t.appendChild(a);let o=g(e.id,"viewer"),d=!1,r=!1;function l(t,i){let n=_(o,s);n.className="mol-container",a.appendChild(n);let d=$3Dmol.createViewer(n,{backgroundColor:"grey"});return d.setStyle({stick:{}}),e.getAtoms().atoms.forEach(function(e){let s,i,n=e.getElementType();s=void 0==n?"Purple":tW.atomColors.get(n)||"Purple",i=void 0==n?100:tW.atomRadii.get(e.getElementType())||100;let a=e.getX3()?.toNumber()||0,o=e.getY3()?.toNumber()||0,r=e.getZ3()?.toNumber()||0;d.addSphere({center:{x:a,y:o,z:r},radius:i/110,color:s}),t&&d.addLabel(e.getId(),{position:{x:a,y:o,z:r}})}),console.log("molecule.getBonds().bonds.size "+e.getBonds().bonds.size),e.getBonds().bonds.forEach(function(t){console.log("bond.atomRefs2 "+t.getAtomRefs2());let s=t.getAtomRefs2().split(" "),n=e.getAtoms(),a=n.getAtom(s[0]),o=n.getAtom(s[1]),r=t.getOrder()||1,l=tW.bondColors.get(r)||"Purple",g=a.getX3()?.toNumber()||0,h=a.getY3()?.toNumber()||0,m=a.getZ3()?.toNumber()||0,c=o.getX3()?.toNumber()||0,u=o.getY3()?.toNumber()||0,p=o.getZ3()?.toNumber()||0;d.addCylinder({start:{x:g,y:h,z:m},end:{x:c,y:u,z:p},radius:.06*r,color:l}),i&&d.addLabel(t.getId(),{position:{x:(g+c)/2,y:(h+u)/2,z:(m+p)/2}})}),d.zoomTo(),d.render(),d.zoom(.8,2e3),d}let h=M("Draw/Redraw",void 0);function m(e,t,i,a){let g=M((i?"Hide ":"Show ")+e,t,s);return g.addEventListener("click",()=>{i?(g.textContent="Show "+e,i=!1):(g.textContent="Hide "+e,i=!0),a(i),N(o,sg),n=l(d,r)}),g}h.addEventListener("click",()=>{N(o,sg),n=l(d,r)}),a.appendChild(h);let c="Atom Labels",u=m(c,g(e.id,c),d,e=>d=e);a.appendChild(u);let p="Bond Labels",x=m(p,g(e.id,p),r,e=>r=e);a.appendChild(x);let v=M("Save as PNG",g(e.id,"save"),t9);v.addEventListener("click",()=>{let e=n.pngURI(),t=document.createElement("a");t.href=e,t.download="mol.png",document.body.appendChild(t),t.click(),document.body.removeChild(t),console.log("Save Image")}),a.appendChild(v)}(h,k,t9,t4);let O=a[e].getElementsByTagName(ea.tagName);if(O.length>1)throw Error("Expecting 1 or 0 "+ea.tagName+" but finding "+O.length+"!");if(1==O.length){let e=g(i,ea.tagName),t=_(e);x(g(e,si),n,null,t,ea.tagName,t9,t4);let s=new ea(q(O[0]));h.setProperties(s);let a=O[0].getElementsByTagName(J.tagName);for(let e=0;e<a.length;e++){let i=sb(a[e],t,h,t9,t4);s.setProperty(i)}m.delete(ea.tagName)}else{let t=a[e].getElementsByTagName(J.tagName);if(1!=t.length)throw Error("Expecting 1 "+J.tagName+" but finding "+t.length+". Should these be in a "+ea.tagName+"?");let s=sb(t[0],n,h,t9,t6);h.setProperties(s),m.delete(J.tagName)}let F=a[e].getElementsByTagName(eg.tagName);if(F.length>0){if(F.length>1)throw Error("Expecting 1 or 0 "+eg.tagName+" but finding "+F.length+"!");(function(e,t,s,i,n){let a=s.getElementsByTagName(eo.tagName);if(a.length>0){let s=document.createElement("div");g(t.id,eg.tagName);let i=[];for(let e=0;e<a.length;e++){let n=B(a[e]),o=new(d(r))(n),l=new eo(q(a[e]),o);i.push(l);let g=eo.tagName,h=t.id+"_"+eg.tagName+"_"+eo.tagName+"_"+e,m=f("number",h,t9,t7,t=>{let s=t.target;sL(l,s),n=s.value,i[e].setValue(new(d(r))(n)),console.log("Set "+h+" to "+n),C(s)},n,g);s.appendChild(m);let c=document.createElement("label");c.textContent="units cm-1",m.appendChild(c)}e.setDeltaEDowns(i),t.setEnergyTransferModel(e)}})(new eg(q(F[0])),h,F[0],0,0),m.delete(eg.tagName)}let U=a[e].getElementsByTagName(eh.tagName);if(U.length>0){if(U.length>1)throw Error("Expecting 1 or 0 "+eh.tagName+" but finding "+U.length+"!");let e=new eh(q(U[0]));n.appendChild(T(eh.tagName,eh.xsi_typeOptions,eh.tagName,e.getXsiType(),h.id,t9,t4)),m.delete(eh.tagName)}let H=a[e].getElementsByTagName(eN.tagName);if(H.length>0){if(1!=H.length)throw Error("Expecting only 1 extra DOSCMethod, but there are "+H.length);let e=new eN(q(U[0])),t=g(i,eN.tagName),s=_(t);x(g(t,si),n,null,s,eN.tagName,t9,t4);let a=H[0].getElementsByTagName(em.tagName);if(a.length>0){if(1!=a.length)throw Error("Expecting only 1 bondRef, but there are "+a.length);let e=h.getBonds().getBondIds(),t=new em(q(a[0]),I(L(a[0]))),i=T(em.tagName,e,em.tagName,t.value,h.id,t9,t4);i.getElementsByTagName("select")[0].classList.add(X.tagName),s.appendChild(i)}let o=H[0].getElementsByTagName(eu.tagName);if(o.length>0){if(1!=o.length)throw Error("Expecting only 1 HinderedRotorPotential, but there are "+o.length);let a=q(o[0]),d=new eu(a),r=g(t,eu.tagName),l=_(r);x(g(r,si),s,null,l,eu.tagName,t9,t4),l.appendChild(T(eu.s_format,eu.formats,eu.tagName,d.getFormat(),g(r,eu.s_format),t9,t4)),sz(tW.energyUnits,a,l,g(r,eu.s_units),eu.tagName,t9,t4),l.appendChild(f("number",g(r,eu.s_expansionSize),t9,t4,e=>{let t=e.target;c(t.value)?d.setExpansionSize(parseInt(t.value)):(alert(eu.s_expansionSize+" input is not a number, resetting..."),t.value=d.getExpansionSize().toString()),C(t)},d.getExpansionSize().toExponential(),eu.s_expansionSize)),function(e,t,s){g(e.id,eu.s_useSineTerms);let i=eu.s_useSineTerms+t8,n=eu.s_useSineTerms+se,a=M(n,void 0,s);e.appendChild(a),a.classList.add(sa),a.classList.add(so),!0==t.getUseSineTerms()?(a.textContent=i,a.classList.toggle(so)):(a.textContent=n,a.classList.toggle(sa)),a.addEventListener("click",e=>{!1==t.getUseSineTerms()?(t.setUseSineTerms(!0),a.textContent=i):(t.setUseSineTerms(!1),a.textContent=n),a.classList.toggle(sa),a.classList.toggle(so)})}(l,d,t4);let h=g(i,eu.tagName,ec.tagName),m=_(h),u=x(g(h,si),n,null,m,"PotentialPoints",t9,t4);l.appendChild(u);let p=[],N=o[0].getElementsByTagName(ec.tagName);for(let e=0;e<N.length;e++){let t=new ec(q(N[e]));p.push(t);let s=g(h,ec.tagName,e),i=R(s,t4);m.appendChild(i);let n=z(ec.tagName+" "+e,t9);i.appendChild(n);let a=f("number",g(s,ec.s_angle),t9,t9,e=>{let s=e.target;if(c(s.value)){let e=parseFloat(s.value);t.setAngle(e)}else alert("Angle input is not a number, resetting..."),s.value=t.getAngle().toExponential();C(s)},t.getAngle().toExponential(),ec.s_angle);i.appendChild(a);let o=z(ec.s_potential,t9);i.appendChild(o);let d=E("number",g(s,ec.s_potential),t9);i.appendChild(d),d.addEventListener("change",e=>{let s=e.target;if(c(s.value)){let e=parseFloat(s.value);t.setPotential(e),console.log("Set "+ec.tagName+" to "+e.toExponential())}else alert("Potential input is not a number, resetting..."),d.value=t.getPotential().toExponential();C(d)}),d.value=t.getPotential().toExponential(),C(d)}d.setPotentialPoints(p),e.setHinderedRotorPotential(d)}let l=U[0].getElementsByTagName(ep.tagName);if(l.length>0){if(1!=l.length)throw Error("Expecting only 1 Periodicity, but there are "+l.length);let t=I(L(l[0])),i=new ep(q(l[0]),new(d(r))(t));e.setPeriodicity(i);let n=f("number",h.id+"_"+ep.tagName,t9,t7,s=>{let n=s.target;if(c(t=n.value)){let s=new(d(r))(t);i.value=s,e.getPeriodicity().value=s,console.log("Set "+ep.tagName+" to "+s)}else alert("Periodicity input is not a number, resetting..."),n.value=i.value.toExponential()},t,ep.tagName);s.appendChild(n)}h.setExtraDOSCMethod(e),m.delete(eN.tagName)}m.delete(ex.tagName);let Y=a[e].getElementsByTagName(ex.tagName);if(Y.length>0){if(1!=Y.length)throw Error("Expecting only 1 reservoirSize, but there are "+Y.length);let e=I(L(Y[0])),t=new(d(r))(e),s=new ex(q(Y[0]),t);h.setReservoirSize(s);let i=f("number",h.id+"_"+ex.tagName,t9,t6,e=>{let t=e.target;s.value=new(d(r))(t.value),C(t)},e,ex.tagName);n.appendChild(i)}m.delete("#text"),m.size>0&&(console.warn("There are additional unexpected moleculeTagNames:"),m.forEach(e=>console.warn(e)));let W=document.createElement("div");W.id=g(h.id,"molstar"),n.appendChild(W)}let o=M(st,void 0,t4);return t.appendChild(o),o.addEventListener("click",()=>{let e=prompt("Please enter the chemical formular:","Kr"),i=new ev(new Map,e);s.set(e,i),sf(eD.tagName,i.id);let n=g(),a=_(e,t4);t.insertBefore(a,o);let d=g(i.tagName,e),r=g(d,ss);x(g(n,si),t,null,a,ev.tagName,t9,t4);let l="✎ ID",h=M(l,g(d,l),t4),m=new Map;m.set(h.id,{moleculeId:i.id,contentDivId:d}),h.addEventListener("click",()=>{let e=m.get(h.id),t=prompt("Please enter molecule ID:");if(null!=t){let s=g(t);sf(eD.tagName,s),sv(eD.tagName,e.moleculeId),i.id=s,a.id=s;let n=document.getElementById(r);n.textContent=i.getLabel()+" ▲",d=g(i.tagName,s),n.id=g(d,ss),m.set(h.id,{moleculeId:s,contentDivId:d})}}),a.appendChild(h);let c="✎ Description",u=M(c,g(d,c),t4);u.addEventListener("click",()=>{let e=prompt("Please enter molecule description:");null!=e&&(i.setDescription(e),document.getElementById(r).textContent=i.getLabel()+" ▲")}),a.appendChild(u)}),t}(i),t$.tagName,t9,t5),t.setMoleculeList(new t$(new Map,Array.from(s.values())));let b=document.getElementById("reactions"),w=sh(tV.tagName);N(w,sg),x(w,b,null,function(e){a=new Map;let t=_(void 0,t9),s=H(e,tV.tagName),i=new Set;if(s.childNodes.forEach(function(e){i.add(e.nodeName)}),1!=i.size&&!(2==i.size&&i.has("#text")))throw console.error("reactionListTagNames:"),i.forEach(e=>console.error(e)),Error("Additional tag names in reactionList:");if(!i.has(eP.tagName))throw Error('Expecting tags with "'+eP.tagName+'" tagName but there are none!');let n=s.getElementsByTagName(eP.tagName);console.log("Number of reactions="+n.length);for(let e=0;e<n.length;e++){let t=_(void 0,t9),s=q(n[e]),i=new Set,o=n[e].childNodes;for(let e=0;e<o.length;e++){let t=o[e];i.has(t.nodeName)?"#text"!=t.nodeName&&console.warn("Another ChildNode with nodeName="+t.nodeName):i.add(t.nodeName)}let l=new eP(s);a.set(l.id,l);let h=n[e].getElementsByTagName(eE.tagName);if(i.delete(eE.tagName),h.length>0){let e=document.createElement("div"),t=[];for(let s=0;s<h.length;s++){let i=new ef(q(P(h[s],ev.tagName))),n=new eE(q(h[s]),i);t.push(n);let a=T(i.ref+" role",eE.roleOptions,"Role",i.role,i.ref,t9,t7);a.querySelector("select")?.addEventListener("change",e=>{let t=e.target;i.setRole(t.value),console.log("Set Role to "+t.value),y(t)}),e.appendChild(a)}l.setReactants(t),g(l.id,eE.tagName)}let m=n[e].getElementsByTagName(eb.tagName);if(i.delete(eb.tagName),m.length>0){let e=document.createElement("div"),t=[];for(let s=0;s<m.length;s++){let i=new ef(q(P(m[s],ev.tagName))),n=new eb(q(m[s]),i);t.push(n);let a=T(i.ref+" role",eb.roleOptions,i.role,i.ref,"Role",t9,t7),o=a.querySelector("select");o.value=i.role,o.addEventListener("change",e=>{let t=e.target;i.setRole(t.value),console.log("Set Role to "+t.value),y(t)}),y(o),e.appendChild(a)}l.setProducts(t),g(l.id,eb.tagName)}let c=n[e].getElementsByTagName(eR.tagName);if(c.length>0){if(c.length>1)throw Error("Expecting 1 "+eR.tagName+" but finding "+c.length+"!");let e=new eR(q(c[0]));l.setTunneling(e);let s=T(eR.tagName,eR.options,"Tunneling",e.getName(),l.id,t9,t7);s.querySelector("select")?.addEventListener("change",t=>{let s=t.target;e.setName(s.value),console.log("Set Tunneling to "+s.value),y(s)}),t.appendChild(s)}let u=n[e].getElementsByTagName(eC.tagName);if(u.length>0){let e=document.createElement("div"),t=[];for(let s=0;s<u.length;s++){let i=new ef(q(P(u[s],ev.tagName))),n=new eC(q(u[s]),i);t.push(n);let a=z(i.ref+" role transitionState",t7);e.appendChild(a)}l.setTransitionStates(t),g(l.id,eC.tagName)}let p=n[e].getElementsByTagName(eM.tagName);if(p.length>0){if(p.length>1)throw Error("Expecting 1 "+eM.tagName+" but finding "+p.length+"!");{let e,s=document.createElement("div"),i=q(p[0]),n=i.get("name");if(void 0==n||n==e_.xsiType2){let t=i.get("xsi:type");if(e=new e_(i),t==e_.xsiType||t==e_.xsiType2){let t=p[0].getElementsByTagName(ey.tagName);if(null!=t&&null!=t[0]){let i=B(t[0]),n=new(d(r))(i),a=q(t[0]),o=new ey(a,n);e.setPreExponential(o);let g=ey.tagName,h=l.id+"_"+e_.tagName+"_"+ey.tagName,m=f("number",h,t9,t7,e=>{sL(o,e.target)},i,g);s.appendChild(m);let c=m.querySelector("input");c.value=i,C(c),c.addEventListener("change",e=>{i=e.target.value,o.value=new(d(r))(i),console.log("Set "+h+" to "+i),C(c)}),sz(void 0,a,m,l.id+"_"+e_.xsiType+"_"+ey.tagName,ey.tagName,t9,t4),s.appendChild(m)}let i=p[0].getElementsByTagName(ew.tagName);if(null!=i&&null!=i[0]){let t=B(i[0]),n=new(d(r))(t),a=q(i[0]),o=new ew(a,n);e.setActivationEnergy(o);let g=ew.tagName,h=l.id+"_"+e_.tagName+"_"+ew.tagName,m=f("number",h,t9,t7,e=>{sL(o,e.target)},t,g),c=m.querySelector("input");c.value=t,C(c),c.addEventListener("change",e=>{t=e.target.value,o.value=new(d(r))(t),console.log("Set "+h+" to "+t),C(c)}),sz(void 0,a,m,l.id+"_"+e_.xsiType+"_"+ew.tagName,ew.tagName,t9,t4),s.appendChild(m)}let n=p[0].getElementsByTagName(eS.tagName);if(null!=n&&null!=n[0]){let t=B(n[0]),i=new(d(r))(t),a=q(n[0]),o=new eS(a,i);e.setTInfinity(o);let g=eS.tagName,h=l.id+"_"+e_.tagName+"_"+eS.tagName,m=f("number",h,t9,t7,e=>{sL(o,e.target)},t,g),c=m.querySelector("input");c.value=t,C(c),c.addEventListener("change",e=>{t=e.target.value,o.value=new(d(r))(t),console.log("Set "+h+" to "+t),C(c)}),sz(void 0,a,m,l.id+"_"+e_.xsiType+"_"+eS.tagName,eS.tagName,t9,t4),s.appendChild(m)}let a=p[0].getElementsByTagName(eT.tagName);if(null!=a&&null!=a[0]){let t=B(a[0]),i=new(d(r))(t),n=q(a[0]),o=new eT(n,i);e.setNInfinity(o);let g=eT.tagName,h=l.id+"_"+e_.tagName+"_"+eT.tagName,m=f("number",h,t9,t7,e=>{sL(o,e.target)},t,g);s.appendChild(m);let c=m.querySelector("input");c.value=t,C(c),c.addEventListener("change",e=>{t=e.target.value,o.value=new(d(r))(t),console.log("Set "+h+" to "+t),C(c)}),sz(void 0,n,m,l.id+"_"+e_.xsiType+"_"+eT.tagName,eT.tagName,t9,t4),s.appendChild(m)}g(l.id,eM.tagName)}else throw Error("Unexpected xsi:type="+t)}else{e=new eM(i);let n=document.createElement("label");n.textContent=eM.tagName+": "+i.get("name"),Object.assign(n.style,t6),s.appendChild(n),t.appendChild(s)}l.setMCRCMethod(e)}}let N=n[e].getElementsByTagName(ez.tagName);if(N.length>0){if(N.length>1)throw Error("Expecting 1 "+ez.tagName+" but finding "+N.length+"!");let e=new(d(r))(I(L(N[0]))),s=new ez(q(N[0]),e);l.setExcessReactantConc(s);let i=f("number",l.id+"_"+ez.tagName,t9,t6,e=>{sL(s,e.target)},e.toExponential(),ez.tagName);t.appendChild(i)}g(eP.tagName,l.id)}return t}(i),tV.tagName,t9,t5),t.setReactionList(new tV(new Map,Array.from(a.values())));let S=document.getElementById("reactionsDiagram"),A=sh(sm);null!=o&&(o.close(),o=null),N(A,sg);let D=_(void 0,t4);x(A,S,null,D,sm,t9,t5);let G=g(A,"pop"),k=_(G);D.appendChild(k);let O=g(G,ss),F="Pop into a new Window",U=M(F,O);k.appendChild(U);let Y=document.createElement("canvas");Y.id=su,D.appendChild(Y),Y.height=400,Y.style.border="1px solid black",it(Y,e,sp,4,2),U.addEventListener("click",()=>{if(null==o){let t=document.createElement("canvas");t.id=su,(o=window.open("",sm,"width="+Y.width+", height="+Y.height)).document.body.appendChild(t),it(t,e,sp,4,2),N(su,sg),U.textContent="Pop into this Window"}else(Y=document.createElement("canvas")).id=su,D.appendChild(Y),it(Y,e,sp,4,2),o.close(),o=null,U.textContent=F});let W=M("Save as PNG",g("saveButton"),t9);k.appendChild(W),W.addEventListener("click",()=>{let e=Y.toDataURL(),s=document.createElement("a");s.href=e;let i=t.getTitle()?.value;s.download=(i+sm).replace(/[^a-z0-9]/gi,"_")+".png",s.click()});let Z=document.getElementById("conditions"),K=sh(eH.tagName);N(K,sg),x(K,Z,null,function(e){let s;console.log(eH.tagName);let i=_(void 0,t9),n=e.getElementsByTagName(eH.tagName);for(let e=0;e<n.length;e++){let s=n[e],a=g(eH.tagName,e.toString()),o=_(a,t9),d=sA(q(s),o,null,i,e);sI(d,o,e,s,t6,t7),sB(d,o,e,s,t6,t7),sT(o,t6,t.removeConditions.bind(t),e).addEventListener("click",e=>{N(a,sg)})}return s=M(st,void 0,t4),i.appendChild(s),s.addEventListener("click",e=>{let n,a=t.getNextConditionsID();console.log("Add Conditions "+a.toString());let o=g(eH.tagName,a.toString()),d=_(o,t9);if(a>0){let e=document.getElementById(g(eH.tagName,(a-1).toString())).nextElementSibling;n=null!=e&&e.parentElement==i?e:s}else n=s;let r=sA(new Map,d,n,i,a);sI(r,d,a,null,t6,t7),sB(r,d,a,null,t6,t7),sT(d,t6,t.removeConditions.bind(t),a).addEventListener("click",e=>{N(o,sg)})}),i}(i),"ConditionsList",t9,t5);let Q=document.getElementById("modelParameters"),ee=sh(ej.tagName);N(ee,sg),x(ee,Q,null,(console.log(ej.tagName),n=_(void 0,t9),l=H(i,ej.tagName),h=new ej(q(l)),t.setModelParameters(h),function(e,t,s){let i,n,a=R(void 0,t4);s.appendChild(a);let o=eY.tagName,l=o+t8,g=o+se,h=t.getElementsByTagName(o),m=M(o,void 0,t9);m.classList.add(sa),m.classList.add(so),a.appendChild(m);let c=ej.tagName+"_"+o+"_input",u=ej.tagName+"_"+o+"_select";if(1==h.length){n=I(L(h[0]));let t=new(d(r))(n);i=new eY(q(h[0]),t),m.textContent=l,sW(e,a,i,c,u,n,e.setGrainSize,tW.energyUnits),m.classList.toggle(so)}else n="",i=new eY(new Map,sl),m.textContent=g,m.classList.toggle(sa);m.addEventListener("click",()=>{e.index.has(eY.tagName)?(n=i.value.toExponential(),e.removeGrainSize(),document.getElementById(c)?.remove(),document.getElementById(u)?.remove(),m.textContent=g):(sW(e,a,i,c,u,n,e.setGrainSize,tW.energyUnits),m.textContent=l),m.classList.toggle(sa),m.classList.toggle(so)})}(h,l,n),sj(h,l,n,tF,h.setAutomaticallySetMaxEne,h.removeAutomaticallySetMaxEne),sj(h,l,n,eV,h.setEnergyAboveTheTopHill,h.removeEnergyAboveTheTopHill),sj(h,l,n,eX,h.setMaxTemperature,h.removeMaxTemperature),n),ej.tagName,t9,t5);let et=document.getElementById("control"),es=sh(tH.tagName);N(es,sg),x(es,et,null,function(e){let s;console.log(tH.tagName);let i=_(void 0,t9),n=e.getElementsByTagName(tH.tagName);for(let e=0;e<n.length;e++){let s=n[e],a=g(tH.tagName,e.toString()),o=_(a,t9),d=sJ(q(s),o,null,i,e),r=new Map;sZ(d).forEach(t=>{s0(d,o,e,r,s,null,t.class,t.setMethod,t.removeMethod)});let l=R(void 0,t6);new Map([...r.entries()].sort()).forEach(e=>{l.appendChild(e)}),o.appendChild(l),s2(d,o,null,t6),s1(d,o,e,s,t6),sK(d).forEach(t=>{s0(d,o,e,r,s,t6,t.class,t.setMethod,t.removeMethod,!0)}),sT(o,t6,t.removeControl.bind(t),e).addEventListener("click",e=>{N(a,sg)})}return s=M(st,void 0,t4),i.appendChild(s),s.addEventListener("click",e=>{let n,a=t.getNextControlID();console.log("Add Control "+a.toString());let o=g(tH.tagName,a.toString()),d=_(o,t9);if(a>0){let e=document.getElementById(g(tH.tagName,(a-1).toString())).nextElementSibling;n=null!=e&&e.parentElement==i?e:s}else n=s;let r=sJ(new Map,d,n,i,a),l=new Map;sZ(r).forEach(e=>{s0(r,d,a,l,null,null,e.class,e.setMethod,e.removeMethod)});let h=R(void 0,t6);new Map([...l.entries()].sort()).forEach(e=>{h.appendChild(e)}),d.appendChild(h),s2(r,d,null,t6),s1(r,d,a,null,t6),sK(r).forEach(e=>{s0(r,d,a,l,null,t6,e.class,e.setMethod,e.removeMethod,!0)}),sT(d,t6,t.removeControl.bind(t),a).addEventListener("click",e=>{N(o,sg)})}),i}(i),"ControlList",t9,t5)}(new DOMParser().parseFromString(u,"text/xml"))}}};let p=i.slice(m,m+1048576);l.readAsText(p),m+=1048576}},h.click(),l.textContent=n}),i.appendChild(l);let h="Increase fontsize",m=M(h,g(h),t9);m.addEventListener("click",()=>{let e=parseFloat(getComputedStyle(document.body).fontSize);document.body.style.fontSize=e+1+"px",null!=o&&(o.document.body.style.fontSize=e+1+"px"),sN()}),i.appendChild(m);let u="Decrease fontsize",p=M(u,g(u),t9);p.addEventListener("click",()=>{let e=parseFloat(getComputedStyle(document.body).fontSize);document.body.style.fontSize=e-1+"px",null!=o&&(o.document.body.style.fontSize=e-1+"px"),sN()}),i.appendChild(p);let v="Light/Dark Mode",b=M(v,g(v),t9);b.addEventListener("click",()=>{(e=!e)?document.body.className="dark-mode":document.body.className="light-mode",sN()}),i.appendChild(b);let w="Save",S=M(w,g(w),t9);S.addEventListener("click",is),i.appendChild(S);let A=document.getElementById("welcome"),D=document.createElement("p");A.appendChild(D),D.textContent="Welcome to MXG - a Graphical User Interface (GUI) program to assist MESMER program users in creating, editing         and visualising MESMER data. Details of MESMER - the Master Equation Solver for Multi Energy-well Reactions can be found at: ",D.appendChild(t1),D.style.alignContent="center";let G=document.createElement("p");A.appendChild(G),G.textContent="MXG development is funded by the UK Engineering and Physical Sciences Research Council (EPSRC) from January     to April 2024.";let k=document.createElement("p");A.appendChild(k),k.textContent="There should be a Menu above containing buttons. The Load button can be actioned to select and load a file         the contents of which will not be modified. The file is expected to be in MESMER format. The data in the file should be         presented below the menu. Users can make changes to the data using the GUI and save a new MESMER file using the Menu Save         button. The saved file should have the same content as was loaded except it will contain no comments or blank lines, values         will be trimmed of white space, and some numbers may be output differently. The saved file will also reflect any changes         made to the data through use of the GUI.";let O=document.createElement("p");A.appendChild(O),O.textContent="Between the Menu Load and Save buttons are buttons to increase or decrease the font size and to change between a         light and dark theme. Changing the font size will redraw diagrams using a larger fontsize as well as changing the size of text         in the GUI.";let F=document.createElement("p");F.textContent+="MXG is not yet recommended for general use. A community release to be supported by the MESMER community is     scheduled for the end of April 2024. MXG is free and open source software based on free and open source software. The main     development GitHub repository is: ",F.appendChild(tK),A.appendChild(F);let U=document.createElement("p");A.appendChild(U),U.textContent="MXG can be used online or installed locally as a Progressive Web App (PWA). A PWA is a type of application         software that should work on platforms with a standard-compliant Web browser. PWA installation varies by Web browser/device.         Some details to help with installation of the MXG PWA are in the GitHub Repository README.";let Y=document.createElement("p");A.appendChild(Y),Y.textContent='The MESMER file loaded is expected to contain the following child elements of the parent "me:mesmer"         element: "me:title", "moleculeList", "reactionList", "me:conditions", "me:modelParameters", and "me:control". If a         child element is missing or there are multiple "me:title", "moleculeList", "reactionList", "me:conditions", or         "me:modelParameters" elements, an Error is currently thrown. In the future, the loading and creation of files with         multiple "me:conditions" sections will be supported... If you do not have a MESMER file, then feel free to download and         use the examples: ',Y.appendChild(tQ),document.body.appendChild(A);let W=_(g("Instructions"),t9);document.body.appendChild(W);let Z=document.createElement("p");W.appendChild(Z),Z.textContent='Upon loading a MESMER file, an input containing the "me:title" value should appear along side a label.         The value can be changed using the input. The "me:title" value is used to compose the filename for data saved using         the Save button. Characters that are unsuitable for filenames will be replaced with the underscore character "_" in         the filename.';let K=document.createElement("p");W.appendChild(K),K.textContent='The "moleculeList", "reactionList", "me:conditions", "me:modelParameters", and "me:control" details         are presented below the "me:title" in a series of buttons. There is also a Reactions Diagram button and a button         with text which is the filename of the file loaded. These buttons contain a triangular symbol which indicate a         collapsed (triangle orientated with a point down: ▼) or expanded (triangle with a point up: ▲) state. Actioning these         buttons will either expand or collapse content that should appear or be present below the button.';let Q=document.createElement("p");W.appendChild(Q),Q.textContent=' Actioning the Reaction Diagram button should reveal a well diagram for the reactions. This diagram     should redraw if the user edits any "me:ZPE" property value of a molecule. The diagram can opened in a new Window and saved     to a PNG format file.';let ee=document.createElement("p");W.appendChild(ee),Q.textContent="MXG supports the rendering of molecules with coordinates via 3DMol.js which is licensed under a     BSD-3-Clause license. For details of 3DMol.js please see the GitHub repository: ",Q.appendChild(t3)});
//# sourceMappingURL=index.5ec907f6.js.map
