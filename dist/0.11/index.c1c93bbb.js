let e,t,s,i,n;function a(e,t){if(!e.has(t))throw Error(`Key ${t} not found in map`);return e.get(t)}function o(...e){let t=e.join("-").replace(/[^a-zA-Z-_0-9]/g,"_");return/^[0-9]|^--|-^[0-9]/.test(t)&&(t="_"+t),t}function d(e,t){return void 0==t&&(t=", "),e.map(e=>null==e?"null":e.toString()).join(t)}function r(e){let t=[];for(let s=0;s<e.length;s++)l(e[s])&&t.push(parseFloat(e[s]));return t}function l(e){return""!==e&&!isNaN(Number(e))}function g(e,t){let s=document.getElementById(e);null!=s&&s.remove(),void 0!=t&&t.delete(e)}function h({divToAddTo:e,elementToInsertBefore:t,content:s,buttonLabel:i,buttonId:n,margin:a={marginLeft:"",marginTop:"",marginBottom:"",marginRight:""},contentDivId:o="",contentDivClassName:d=""}){let r=b(o);r.className=d;let l=E(`${i} \u{25BC}`,n,a);return l.className="collapsible",l.addEventListener("click",function(){let e=l.textContent.split(" ");e[e.length-1]="▼"===e[e.length-1]?"▲":"▼",l.textContent=e.join(" ")}),r.appendChild(l),r.appendChild(s),null!=t?e.insertBefore(r,t):e.appendChild(r),l.removeEventListener("click",m),l.addEventListener("click",m),r}function m(){this.classList.toggle("active");let e=this.nextElementSibling;null!=e?e instanceof HTMLDivElement?"block"===e.style.display?e.style.display="none":e.style.display="block":console.log("toggleCollapsible: nextElementSibling is not an HTMLDivElement"):console.log("toggleCollapsible: nextElementSibling is null")}function c(e,t,s,i,n,a,o){let d;let r=C(void 0,i),l=((d=u(e,t,s)).onchange=n,d.value=a,N(d),d),g=y(o,s);return g.htmlFor=t,r.appendChild(g),r.appendChild(l),r}function u(e,t,s){let i=document.createElement("input");return i.type=e,i.id=t,Object.assign(i.style,s),i.style.fontSize="1em",i.classList.add("auto-width"),i}function p(e,t){let s="<"+t;if(e)for(let[t,i]of e)s+=" "+t+'="'+i+'"';return s+" />"}function N(e,t){void 0==t&&(t=4),e.style.width=e.value.length+t+"ch"}function x(e,t){void 0==t&&(t=6),e.style.width=e.value.length+t+"ch"}function v(e,t,s,i,n){let a=document.createElement("select");return e.forEach(e=>{a.name=t,a.id=i;let s=document.createElement("option");s.value=e,s.text=e,a.appendChild(s)}),a.value=s,a.style.fontSize="1em",a.classList.add("auto-width"),x(a),Object.assign(a.style,n),a}function f(e,t,s,i,n,a,o){let d=C(void 0,o),r=y(e,a);return r.htmlFor=n,d.appendChild(r),d.appendChild(v(t,s,i,n,a)),d}function E(e,t,s){let i=document.createElement("button");return i.textContent=e,void 0!=t&&(i.id=t),void 0!=s&&Object.assign(i.style,s),i.style.fontSize="1em",i}function b(e,t){let s=document.createElement("div");return void 0!=e&&(s.id=e),void 0!=t&&Object.assign(s.style,t),s}function C(e,t){let s=b(e,t);return s.style.display="flex",s.style.flexWrap="wrap",s}function y(e,t){let s=document.createElement("label");return Object.assign(s.style,t),s.textContent=e,s.style.fontSize="1em",s}function T(e,t){let s=e.getElementsByTagName(t)[0];if(null==s)throw Error(t+" element not found");return s}function S(e){let t=e.childNodes;if(null==t)throw Error("Element has no childNodes");return t[0]}function w(e){let t=e.nodeValue;if(null==t)throw Error("nodeValue is null");return t}function M(e){let t=S(e);return t?w(t).trim():""}class _{constructor(e){this.tagName=e}toXML(e){let t=p(void 0,this.tagName);return e?"\n"+e+t:t}}class R extends _{constructor(e,t){super(t),this.attributes=e}toString(){let e=this.tagName+"(";return this.attributes&&this.attributes.forEach((t,s)=>{e+=`${s}(${t}), `}),e}toXML(e){let t="";for(let[s,i]of(void 0!=e&&(t+="\n"+e),t+="<"+this.tagName,this.attributes))t+=" "+s+'="'+i.toString()+'"';return t+" />"}}class z extends R{constructor(e,t,s){super(e,t),this.value=s}toString(){return super.toString()+`, ${this.value.toString()})`}toXML(e){return B(this.value.trim(),this.tagName,this.attributes,e,!1)}}class L extends R{constructor(e,t,s){super(e,t),this.value=s}toString(){return super.toString()+`, ${this.value.toString()})`}toXML(e){let t,s=this.value.toString().trim();return t=this.value<0?7:6,s.length>t&&(s=this.value.toExponential().trim()),B(s,this.tagName,this.attributes,e,!1)}}class P extends R{constructor(e,t,s,i){super(e,t),this.delimiter=",",this.values=s,void 0!=i&&(this.delimiter=i)}toString(){return super.toString()+`, ${this.values.toString()})`}setDelimiter(e){this.delimiter=e}toXML(e){return B(this.values.toString().replaceAll(",",this.delimiter),this.tagName,this.attributes,e,!1)}}class I extends R{constructor(e,t){super(e,t),this.nodes=new Map}addNode(e){this.nodes.set(this.nodes.size,e)}toString(){let e=super.toString();return this.nodes.forEach((t,s)=>{e+=`, ${t.toString()}`}),e+")"}toXML(e,t){let s;void 0!=e&&void 0!=t&&(s=t+e);let i="";if(this.nodes.size>0)return this.nodes.forEach(t=>{void 0==t?console.warn("Node 0 is undefined this.nodes.size = "+this.nodes.size):t instanceof I?i+=t.toXML(e,s):i+=t.toXML(s)}),B(i,this.tagName,this.attributes,t,!0);{let e=p(this.attributes,this.tagName);return void 0!=t?"\n"+t+e:e}}}function B(e,t,s,i,n){let a;return function(e,t,s){let i="";if(void 0!=s&&(i+="\n"+s),i+="<"+e,t)for(let[e,s]of t)i+=" "+e+'="'+s.toString()+'"';return i+">"}(t,s,i)+e+(a="",n&&void 0!=i&&(a+="\n"+i),a+"</"+t+">")}function A(e){let t=e.getAttributeNames(),s=new Map;return t.forEach(function(t){let i=e.getAttribute(t);null!=i&&s.set(t,i)}),s}function D(e,t){let s=e.getElementsByTagName(t);if(1!=s.length)throw Error("Expecting 1 "+t+" but finding "+s.length);return s[0]}class F extends L{static{this.s_units="units"}static{this.s_lower="lower"}static{this.s_upper="upper"}static{this.s_stepsize="stepsize"}constructor(e,t,s){super(e,t,s)}setValue(e){this.value=e}getUnits(){return this.attributes.get(F.s_units)}setUnits(e){this.attributes.set(F.s_units,e)}removeUnits(){this.attributes.delete(F.s_units)}getLower(){let e=this.attributes.get(F.s_lower);if(void 0!=e)return parseFloat(e)}setLower(e){this.attributes.set(F.s_lower,e.toString())}removeLower(){this.attributes.delete(F.s_lower)}getUpper(){let e=this.attributes.get(F.s_upper);if(void 0!=e)return parseFloat(e)}setUpper(e){this.attributes.set(F.s_upper,e.toString())}removeUpper(){this.attributes.delete(F.s_upper)}getStepsize(){let e=this.attributes.get(F.s_stepsize);if(void 0!=e)return parseFloat(e)}setStepsize(e){this.attributes.set(F.s_stepsize,e.toString())}removeStepsize(){this.attributes.delete(F.s_stepsize)}}class G extends R{static{this.tagName="atom"}static{this.s_id="id"}static{this.s_elementType="elementType"}static{this.s_x3="x3"}static{this.s_y3="y3"}static{this.s_z3="z3"}constructor(e,t){super(e,G.tagName),this.molecule=t}hasCoordinates(){return void 0!=this.attributes.get(G.s_x3)&&void 0!=this.attributes.get(G.s_y3)&&void 0!=this.attributes.get(G.s_z3)}getId(){return this.attributes.get(G.s_id)}setId(e){this.attributes.set(G.s_id,e)}getElementType(){return this.attributes.get(G.s_elementType)}setElementType(e){this.attributes.set(G.s_elementType,e)}getX3(){let e=this.attributes.get(G.s_x3);if(void 0!=e)return parseFloat(e)}setX3(e){this.attributes.set(G.s_x3,e.toString())}removeX3(){this.attributes.delete(G.s_x3)}getY3(){let e=this.attributes.get(G.s_y3);if(void 0!=e)return parseFloat(e)}setY3(e){this.attributes.set(G.s_y3,e.toString())}removeY3(){this.attributes.delete(G.s_y3)}getZ3(){let e=this.attributes.get(G.s_z3);if(void 0!=e)return parseFloat(e)}setZ3(e){this.attributes.set("z3",e.toString())}removeZ3(){this.attributes.delete("z3")}}class k extends I{static{this.tagName="atomArray"}constructor(e,t){super(e,k.tagName),this.index=new Map,this.reverseIndex=new Map,void 0==t?this.atoms=new Map:(this.atoms=t,t.forEach((e,t)=>{this.index.set(t,this.nodes.size),this.reverseIndex.set(this.nodes.size,t),this.nodes.set(this.nodes.size,e)}))}getAtom(e){return this.atoms.get(e)}addAtom(e){let t=e.getId();if(void 0==t)t=this.getNextAtomID(),e.setId(t);else if(this.atoms.has(t)){let s=this.getNextAtomID();console.warn("Atom with id "+t+" already exists, adding with id "+s),e.setId(s),t=s}return this.index.set(t,this.nodes.size),this.reverseIndex.set(this.nodes.size,t),this.nodes.set(this.nodes.size,e),this.atoms.set(t,e),t}getNextAtomID(){let e=1,t="a1";if(this.atoms.has(t))for(;this.atoms.has(t);)e++,t="a"+e.toString();return t}removeAtom(e){let t=this.index.get(e);if(void 0==t)throw Error("Atom with id "+e+" does not exist!");console.log("Removing atom with id "+e),this.atoms.delete(e),this.deleteNodeAndReindex(t,e)}deleteNodeAndReindex(e,t){this.nodes.delete(e),this.index.delete(t),this.reverseIndex.delete(e);let s=new Map,i=new Map,n=new Map;this.index.forEach((t,a)=>{t>e?(s.set(t-1,this.nodes.get(t)),i.set(a,t-1),n.set(t-1,a)):(s.set(t,this.nodes.get(t)),i.set(a,t),n.set(t,a))}),this.nodes=s,this.index=i,this.reverseIndex=n}}class O extends R{static{this.tagName="bond"}static{this.s_atomRefs2="atomRefs2"}static{this.s_id="id"}static{this.s_order="order"}static{this.orderOptions=["1","1.5","2","2.5","3","3.5","4","4.5","5","5.5","6"]}constructor(e,t){super(e,O.tagName),this.molecule=t}getAtomRefs2(){let e=this.attributes.get(O.s_atomRefs2);return(e?.split(" "),void 0==e)?"a1 a1":e}setAtomRefs2(e){this.attributes.set(O.s_atomRefs2,e)}getId(){return this.attributes.get(O.s_id)}setId(e){this.attributes.set(O.s_id,e)}getOrder(){let e=this.attributes.get(O.s_order);if(void 0!=e)return parseFloat(e)}setOrder(e){this.attributes.set(O.s_order,e.toString())}}class U extends I{static{this.tagName="bondArray"}constructor(e,t){super(e,U.tagName),this.index=new Map,this.reverseIndex=new Map,void 0==t?this.bonds=new Map:(this.bonds=t,t.forEach((e,t)=>{this.index.set(t,this.nodes.size),this.reverseIndex.set(this.nodes.size,t),this.nodes.set(this.nodes.size,e)}))}getBondIds(){return Array.from(this.bonds.keys())}getBond(e){return this.bonds.get(e)}addBond(e){let t=e.getId();if(void 0==t)t=this.getNextBondID(),e.setId(t);else if(this.bonds.has(t)){let s=this.getNextBondID();console.log("Bond with id "+t+" already exists, adding with id "+s),e.setId(s),t=s}return this.index.set(t,this.nodes.size),this.reverseIndex.set(this.nodes.size,t),this.nodes.set(this.nodes.size,e),this.bonds.set(t,e),t}getNextBondID(){let e=1,t="b1";for(;this.bonds.has(t);)e++,t="b"+e.toString();return t}removeBond(e){let t=this.index.get(e);if(void 0==t)throw Error("Bond with id "+e+" does not exist!");console.log("Removing bond with id "+e),this.bonds.delete(e),this.deleteNodeAndReindex(t,e)}deleteNodeAndReindex(e,t){this.nodes.delete(e),this.index.delete(t),this.reverseIndex.delete(e);let s=new Map,i=new Map,n=new Map;this.index.forEach((t,a)=>{t>e?(s.set(t-1,this.nodes.get(t)),i.set(a,t-1),n.set(t-1,a)):(s.set(t,this.nodes.get(t)),i.set(a,t),n.set(t,a))}),this.nodes=s,this.index=i,this.reverseIndex=n}}class q extends L{static{this.tagName="scalar"}static{this.s_units="units"}constructor(e,t){super(e,q.tagName,t)}updateUnits(e){if(e){let t=this.attributes.get(q.s_units);void 0!=t&&t!=e&&this.attributes.set(q.s_units,e)}}}class H extends P{static{this.tagName="array"}static{this.s_units="units"}constructor(e,t,s){super(e,H.tagName,t,s)}updateUnits(e){if(e){let t=this.attributes.get(H.s_units);void 0!=t&&t!=e&&(this.attributes.set(H.s_units,e),console.log("Units changed from "+t+" to "+e))}}}class Y extends P{static{this.tagName="matrix"}static{this.s_rows="rows"}static{this.s_matrixType="matrixType"}static{this.s_units="units"}constructor(e,t,s){super(e,H.tagName,t,s)}updateUnits(e){if(e){let t=this.attributes.get(H.s_units);void 0!=t&&t!=e&&(this.attributes.set(H.s_units,e),console.log("Units changed from "+t+" to "+e))}}}class V extends I{static{this.tagName="property"}static{this.s_dictRef="dictRef"}constructor(e,t){super(e,V.tagName);let s=e.get(V.s_dictRef);if(void 0==s)throw Error(V.s_dictRef+" is undefined!");this.dictRef=s,t&&this.nodes.set(0,t)}getProperty(){return this.nodes.get(0)}setProperty(e){this.nodes.set(0,e)}}class $ extends V{static{this.dictRef="me:ZPE"}constructor(e,t){super(e,t)}setUnits(e){this.getProperty().updateUnits(e)}}class X extends V{static{this.dictRef="me:frequenciesScaleFactor"}constructor(e,t){super(e,t)}}class j extends V{static{this.dictRef="me:vibFreqs"}constructor(e,t){super(e,t)}}class W extends V{static{this.dictRef="me:rotConsts"}static{this.unitOptions=["cm-1","GHz","amuA^2"]}constructor(e,t){super(e,t)}}class Z extends V{static{this.dictRef="me:MW"}constructor(e,t){super(e,t)}}class K extends V{static{this.dictRef="me:imFreqs"}constructor(e,t){super(e,t)}}class Q extends I{static{this.tagName="propertyList"}constructor(e,t){super(e,Q.tagName),this.index=new Map,void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e),this.index.set(e.dictRef,this.nodes.size-1)})}getProperty(e){let t=this.index.get(e);if(void 0!=t)return this.nodes.get(t);throw Error("Property "+e+" does not exist")}setProperty(e){let t=this.index.get(e.dictRef);void 0==t?(this.nodes.set(this.nodes.size,e),this.index.set(e.dictRef,this.nodes.size-1)):(console.log("Property "+e.dictRef+" already exists, updating..."),this.nodes.set(t,e))}}class J extends F{static{this.tagName="me:deltaEDown"}static{this.s_bathGas="bathGas"}constructor(e,t){super(e,J.tagName,t)}getBathGas(){return this.attributes.get(J.s_bathGas)}setBathGas(e){this.attributes.set(J.s_bathGas,e)}}class ee extends J{static{this.tagName="me:deltaEDown2"}constructor(e,t){super(e,t)}}class et extends F{static{this.tagName="me:deltaEDownTExponent"}static{this.s_referenceTemperature="referenceTemperature"}constructor(e,t){super(e,et.tagName,t)}getReferenceTemperature(){return parseFloat(a(this.attributes,et.s_referenceTemperature))}setReferenceTemperature(e){this.attributes.set(et.s_referenceTemperature,e.toString())}}class es extends F{static{this.tagName="me:deltaEDownLinEne"}constructor(e,t){super(e,es.tagName,t)}}class ei extends I{static{this.tagName="me:energyTransferModel"}constructor(e,t){super(e,ei.tagName),void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e)})}getDeltaEDowns(){let e=[];return this.nodes.forEach(t=>{t instanceof J&&e.push(t)}),e}setDeltaEDowns(e){this.nodes.clear(),e.forEach(e=>{this.nodes.set(this.nodes.size,e)})}getDeltaEDown(e){if(e<0||e>=this.nodes.size)throw Error("index out of range");return this.nodes.get(e)}setDeltaEDown(e,t){this.nodes.set(e,t)}addDeltaEDown(e){return this.nodes.set(this.nodes.size,e),this.nodes.size-1}}class en extends R{static{this.tagName="me:DOSCMethod"}static{this.xsi_typeOptions=["ClassicalRotors","QMRotors","me:ClassicalRotors","me:QMRotors"]}static{this.s_xsi_type="xsi:type"}constructor(e){if(super(e,en.tagName),void 0==e.get(en.s_xsi_type)){let t=e.get("name");if(void 0==t)throw Error("Neither xsi:type or name are defined.");e.set(en.s_xsi_type,t)}}getXsiType(){return this.attributes.get(en.s_xsi_type)}setXsiType(e){this.attributes.set(en.s_xsi_type,e)}}class ea extends z{static{this.tagName="me:bondRef"}constructor(e,t){super(e,ea.tagName,t)}}class eo extends R{static{this.tagName="me:PotentialPoint"}static{this.s_angle="angle"}static{this.s_potential="potential"}constructor(e){super(e,eo.tagName);let t=e.get(eo.s_angle);if(void 0==t)throw Error(eo.s_potential+" is undefined!");this.angle=parseFloat(t);let s=e.get(eo.s_potential);if(void 0==s)throw Error(eo.s_potential+" is undefined!");this.potential=parseFloat(s)}getAngle(){return this.angle}setAngle(e){this.angle=e,this.attributes.set(eo.s_angle,e.toString())}getPotential(){return this.potential}setPotential(e){this.potential=e,this.attributes.set(eo.s_potential,e.toString())}}class ed extends I{static{this.tagName="me:HinderedRotorPotential"}static{this.formats=new Set(["numerical","analytical"])}static{this.s_format="format"}static{this.s_units="units"}static{this.s_expansionSize="expansionSize"}static{this.s_useSineTerms="useSineTerms"}constructor(e,t){super(e,ed.tagName);let s=e.get(ed.s_format);if(void 0==s)throw Error(ed.s_format+" is undefined!");this.format=s;let i=e.get(ed.s_units);if(void 0==i)throw Error(ed.s_units+" is undefined!");this.units=i,void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e)});let n=e.get(ed.s_expansionSize);if(void 0==n)throw Error(ed.s_expansionSize+" is undefined!");this.expansionSize=parseFloat(n),void 0==e.get(ed.s_useSineTerms)?this.useSineTerms=!1:this.useSineTerms=!0}getFormat(){return this.format}setFormat(e){this.format=e,this.attributes.set(ed.s_format,e)}getUnits(){return this.units}setUnits(e){this.units=e,this.attributes.set(ed.s_units,e)}getExpansionSize(){return this.expansionSize}setExpansionSize(e){this.expansionSize=e,this.attributes.set(ed.s_expansionSize,e.toString())}getUseSineTerms(){return this.useSineTerms}setUseSineTerms(e){this.useSineTerms=e,this.attributes.set(ed.s_useSineTerms,e?"yes":"no")}getPotentialPoint(e){return this.nodes.get(e)}setPotentialPoint(e,t){this.nodes.set(e,t)}setPotentialPoints(e){this.nodes.clear(),e.forEach(e=>{this.nodes.set(this.nodes.size,e)})}addPotentialPoint(e){return this.nodes.set(this.nodes.size,e),this.nodes.size-1}removePotentialPoint(e){this.nodes.delete(e)}}class er extends L{static{this.tagName="me:periodicity"}constructor(e,t){super(e,er.tagName,t)}}class el extends I{static{this.tagName="me:ExtraDOSCMethod"}constructor(e,t,s,i){super(e,el.tagName),this.index=new Map,t&&(this.nodes.set(this.nodes.size,t),this.index.set(ea.tagName,this.nodes.size-1)),s&&(this.nodes.set(this.nodes.size,s),this.index.set(ed.tagName,this.nodes.size-1)),i&&(this.nodes.set(this.nodes.size,i),this.index.set(er.tagName,this.nodes.size-1))}getBondRef(){let e=this.index.get(ea.tagName);if(void 0!=e)return this.nodes.get(e)}setBondRef(e){let t=this.index.get(ea.tagName);void 0!=t?this.nodes.set(t,e):(this.nodes.set(this.nodes.size,e),this.index.set(ea.tagName,this.nodes.size-1))}getHinderedRotorPotential(){let e=this.index.get(ed.tagName);if(void 0!=e)return this.nodes.get(e)}setHinderedRotorPotential(e){let t=this.index.get(ed.tagName);void 0!=t?this.nodes.set(t,e):(this.nodes.set(this.nodes.size,e),this.index.set(ed.tagName,this.nodes.size-1))}getPeriodicity(){let e=this.index.get(er.tagName);if(void 0!=e)return this.nodes.get(e)}setPeriodicity(e){let t=this.index.get(er.tagName);void 0!=t?this.nodes.set(t,e):(this.nodes.set(this.nodes.size,e),this.index.set(er.tagName,this.nodes.size-1))}}class eg extends L{static{this.tagName="me:reservoirSize"}constructor(e,t){super(e,eg.tagName,t)}}class eh extends I{static{this.tagName="molecule"}static{this.s_id="id"}static{this.s_description="description"}static{this.s_active="active"}constructor(e,t,s,i,n,a,o,d,r){super(e,eh.tagName),this.index=new Map,this.id=t;let l=0;s||(s=new k(new Map)),this.nodes.set(l,s),this.index.set(k.tagName,l),l++,i||(i=new U(new Map)),this.nodes.set(l,i),this.index.set(U.tagName,l),l++,n&&(this.nodes.set(l,n),this.index.set(Q.tagName,l),l++),a&&(this.nodes.set(l,a),this.index.set(ei.tagName,l),l++),o&&(this.nodes.set(l,o),this.index.set(en.tagName,l)),d&&(this.nodes.set(l,d),this.index.set(el.tagName,l)),r&&(this.nodes.set(l,r),this.index.set(eg.tagName,l))}getDescription(){let e=this.attributes.get(eh.s_description);return void 0!=e?e:this.id}setDescription(e){this.attributes.set(eh.s_description,e)}getActive(){let e=this.attributes.get(eh.s_active);if(void 0!=e)return"true"==e}setActive(e){this.attributes.set(eh.s_active,e.toString())}getLabel(){let e=this.id,t=this.getDescription();return void 0!=t&&(e+=" ("+t+")"),this.getActive()&&(e+=" ("+eh.s_active+")"),e}getAttributesAsString(){return Array.from(this.attributes,([e,t])=>`${e}="${t}"`).join(", ")}getProperties(){let e=this.index.get(Q.tagName);if(void 0!=e||void 0!=(e=this.index.get(V.tagName)))return this.nodes.get(e)}setProperties(e){let t=this.index.get(Q.tagName);void 0==t?(this.index.set(Q.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getProperty(e){let t=this.getProperties();if(void 0!=t)return t instanceof Q?t.getProperty(e):t}setProperty(e){let t=this.getProperties();void 0!=t?t instanceof Q?t.setProperty(e):this.setProperties(t):this.setProperties(e)}getAtom(e){return this.getAtoms().getAtom(e)}getAtoms(){let e=this.index.get(k.tagName);return this.nodes.get(e)}setAtoms(e){this.index.set(k.tagName,this.nodes.size),this.nodes.set(this.nodes.size,e)}getBond(e){return this.getBonds().getBond(e)}getBonds(){let e=this.index.get(U.tagName);return this.nodes.get(e)}setBonds(e){this.index.set(U.tagName,this.nodes.size),this.nodes.set(this.nodes.size,e)}getEnergyTransferModel(){let e=this.index.get(ei.tagName);if(void 0!=e)return this.nodes.get(e)}setEnergyTransferModel(e){let t=this.index.get(ei.tagName);void 0==t?(this.index.set(ei.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getDOSCMethod(){let e=this.index.get(en.tagName);if(void 0!=e)return this.nodes.get(e)}setDOSCMethod(e){let t=this.index.get(en.tagName);void 0==t?(this.index.set(en.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getExtraDOSCMethod(){let e=this.index.get(el.tagName);if(void 0!=e)return this.nodes.get(e)}setExtraDOSCMethod(e){let t=this.index.get(el.tagName);void 0==t?(this.index.set(el.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getReservoirSize(){let e=this.index.get(eg.tagName);if(void 0!=e)return this.nodes.get(e)}setReservoirSize(e){let t=this.index.get(eg.tagName);void 0==t?(this.index.set(eg.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getEnergy(){let e=this.getProperty($.dictRef);if(void 0==e)throw console.log(this.toString()),Error($.dictRef+" property not found!");return e.getProperty().value}}class em extends R{static{this.tagName="molecule"}constructor(e){super(e,em.tagName),this.ref=e.get("ref"),this.role=e.get("role")}setRole(e){this.role=e}}class ec extends I{static{this.tagName="reactant"}static{this.roleOptions=["deficientReactant","excessReactant","modelled"]}constructor(e,t){super(e,ec.tagName),this.addNode(t)}getMolecule(){return this.nodes.get(0)}}class eu extends I{static{this.tagName="product"}static{this.roleOptions=["modelled","sink"]}constructor(e,t){super(e,eu.tagName),this.addNode(t)}getMolecule(){return this.nodes.get(0)}}class ep extends I{static{this.tagName="me:transitionState"}constructor(e,t){super(e,ep.tagName),this.addNode(t)}getMolecule(){return this.nodes.get(0)}}class eN extends L{static{this.tagName="me:preExponential"}constructor(e,t){super(e,eN.tagName,t)}}class ex extends L{static{this.tagName="me:activationEnergy"}constructor(e,t){super(e,ex.tagName,t)}}class ev extends L{static{this.tagName="me:TInfinity"}constructor(e,t){super(e,ev.tagName,t)}}class ef extends L{static{this.tagName="me:nInfinity"}constructor(e,t){super(e,ef.tagName,t)}}class eE extends I{static{this.tagName="me:MCRCMethod"}constructor(e){super(e,eE.tagName)}}class eb extends eE{static{this.xsiType="me:MesmerILT"}static{this.xsiType2="MesmerILT"}constructor(e,t,s,i,n){super(e),this.index=new Map,void 0!=t&&(this.index.set(eN.tagName,this.index.size),this.addNode(t)),void 0!=s&&(this.index.set(ex.tagName,this.index.size),this.addNode(s)),void 0!=i&&(this.index.set(ev.tagName,this.index.size),this.addNode(i)),void 0!=n&&(this.index.set(ef.tagName,this.index.size),this.addNode(n))}getPreExponential(){let e=this.index.get(eN.tagName);if(void 0!=e)return this.nodes.get(e)}setPreExponential(e){let t=this.index.get(eN.tagName);void 0==t?(this.index.set(eN.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getActivationEnergy(){let e=this.index.get(ex.tagName);if(void 0!=e)return this.nodes.get(e)}setActivationEnergy(e){let t=this.index.get(ex.tagName);void 0==t?(this.index.set(ex.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getTInfinity(){let e=this.index.get(ev.tagName);if(void 0!=e)return this.nodes.get(e)}setTInfinity(e){let t=this.index.get(ev.tagName);void 0==t?(this.index.set(ev.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getNInfinity(){let e=this.index.get(ef.tagName);if(void 0!=e)return this.nodes.get(e)}setNInfinity(e){let t=this.index.get(ef.tagName);void 0==t?(this.index.set(ef.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}}class eC extends R{static{this.tagName="me:tunneling"}static{this.options=["Eckart","WKB"]}static{this.s_name="name"}constructor(e){super(e,eC.tagName)}getName(){return this.attributes.get(eC.s_name)}setName(e){this.attributes.set(eC.s_name,e)}}class ey extends L{static{this.tagName="me:excessReactantConc"}constructor(e,t){super(e,ey.tagName,t)}}class eT extends I{static{this.tagName="reaction"}static{this.s_id="id"}constructor(e,t,s,i,n,a,o){super(e,eT.tagName),this.index=new Map,this.reactantsIndex=new Map,this.productsIndex=new Map,this.transitionStatesIndex=new Map;let d=e.get(eT.s_id);if(void 0==d)throw Error(eT.s_id+" is undefined!");this.id=d,void 0!=t&&(t.forEach(e=>{this.reactantsIndex.set(e.getMolecule().ref,this.nodes.size),this.addNode(e)}),this.index.set(ec.tagName,this.reactantsIndex)),void 0!=s&&(s.forEach(e=>{this.productsIndex.set(e.getMolecule().ref,this.nodes.size),this.addNode(e)}),this.index.set(eu.tagName,this.productsIndex)),void 0!=i&&(this.index.set(eC.tagName,this.nodes.size),this.addNode(i)),void 0!=n&&(n.forEach(e=>{this.transitionStatesIndex.set(e.getMolecule().ref,this.nodes.size),this.addNode(e)}),this.index.set(ep.tagName,this.transitionStatesIndex)),void 0!=a&&(this.index.set(eE.tagName,this.nodes.size),this.addNode(a)),void 0!=o&&(this.index.set(ey.tagName,this.nodes.size),this.addNode(o))}addToIndex(e,t){let s=this.index.get(e);if(void 0==s)this.index.set(e,this.nodes.size);else if(s instanceof Map)s.set(t.tagName,this.nodes.size);else{let i=new Map;i.set(this.nodes.get(s).ref,s),i.set(t.tagName,this.nodes.size),this.index.set(e,i)}}getReactants(){let e=this.index.get(ec.tagName);return void 0==e?[]:e instanceof Map?Array.from(e.values()).map(e=>this.nodes.get(e)):[this.nodes.get(e)]}setReactants(e){e.forEach(e=>{this.reactantsIndex.set(e.getMolecule().ref,this.nodes.size),this.addNode(e)}),this.index.set(ec.tagName,this.reactantsIndex)}getReactant(e){let t=this.reactantsIndex.get(e);if(void 0==t)throw Error(`Reactant with ref ${e} not found`);return this.nodes.get(t)}addReactant(e){this.reactantsIndex.set(e.getMolecule().ref,this.nodes.size),this.addNode(e)}removeReactant(e){let t=this.reactantsIndex.get(e);if(void 0==t)throw Error(`Reactant with ref ${e} not found`);this.nodes.delete(t),this.reactantsIndex.delete(e)}getProducts(){let e=this.index.get(eu.tagName);return void 0==e?[]:e instanceof Map?Array.from(e.values()).map(e=>this.nodes.get(e)):[this.nodes.get(e)]}setProducts(e){e.forEach(e=>{this.productsIndex.set(e.getMolecule().ref,this.nodes.size),this.addNode(e)}),this.index.set(eu.tagName,this.productsIndex)}getProduct(e){let t=this.productsIndex.get(e);if(void 0==t)throw Error(`Product with ref ${e} not found`);return this.nodes.get(t)}addProduct(e){this.productsIndex.set(e.getMolecule().ref,this.nodes.size),this.addNode(e)}removeProduct(e){let t=this.productsIndex.get(e);if(void 0==t)throw Error(`Product with ref ${e} not found`);this.nodes.delete(t),this.productsIndex.delete(e)}getTunneling(){let e=this.index.get(eC.tagName);if(void 0!=e)return this.nodes.get(e)}setTunneling(e){let t=this.index.get(eC.tagName);if(void 0==t)this.index.set(eC.tagName,this.nodes.size),this.addNode(e);else{if(t instanceof Map)throw Error("Tunneling is a map and it is assumed there would be only 1!");this.nodes.set(t,e)}}getTransitionStates(){let e=this.index.get(ep.tagName);return void 0==e?[]:e instanceof Map?Array.from(e.values()).map(e=>this.nodes.get(e)):[this.nodes.get(e)]}setTransitionStates(e){e.forEach(e=>{this.transitionStatesIndex.set(e.getMolecule().ref,this.nodes.size),this.addNode(e)}),this.index.set(ep.tagName,this.transitionStatesIndex)}getTransitionState(e){let t=this.transitionStatesIndex.get(e);if(void 0==t)throw Error(`Transition state with ref ${e} not found`);return this.nodes.get(t)}addTransitionState(e){this.transitionStatesIndex.set(e.getMolecule().ref,this.nodes.size),this.addNode(e)}removeTransitionState(e){let t=this.transitionStatesIndex.get(e);if(void 0==t)throw Error(`Transition State with ref ${e} not found`);this.nodes.delete(t),this.transitionStatesIndex.delete(e)}getMCRCMethod(){let e=this.index.get(eE.tagName);if(void 0!=e)return this.nodes.get(e)}setMCRCMethod(e){let t=this.index.get(eE.tagName);if(void 0==t)this.index.set(eE.tagName,this.nodes.size),this.addNode(e);else{if(t instanceof Map)throw Error("MCRCMethod is a map and it is assumed there would be only 1!");this.nodes.set(t,e)}}getExcessReactantConc(){let e=this.index.get(ey.tagName);if(void 0!=e)return this.nodes.get(e)}setExcessReactantConc(e){let t=this.index.get(ey.tagName);if(void 0==t)this.index.set(ey.tagName,this.nodes.size),this.addNode(e);else{if(t instanceof Map)throw Error("ExcessReactantConc is a map and it is assumed there would be only 1!");this.nodes.set(t,e)}}getReactantsLabel(){return this.getReactants().map(e=>e.getMolecule().ref).join(" + ")}getProductsLabel(){return this.getProducts().map(e=>e.getMolecule().ref).join(" + ")}getLabel(){return this.getReactantsLabel()+" -> "+this.getProductsLabel()}getReactantsEnergy(e){return Array.from(this.getReactants()).map(t=>{let s=e.get(t.getMolecule().ref);if(void 0==s)throw Error(`Molecule with ref ${t.getMolecule().ref} not found`);return s.getEnergy()}).reduce((e,t)=>e+t,0)}getProductsEnergy(e){return Array.from(this.getProducts()).map(t=>{let s=e.get(t.getMolecule().ref);if(void 0==s)throw Error(`Molecule with ref ${t.getMolecule().ref} not found`);return s.getEnergy()}).reduce((e,t)=>e+t,0)}get(e,t){if(this.index.has(e)){let s=this.index.get(e);if(void 0!=s){if(!(s instanceof Map))return this.nodes.get(s);{let e=s.get(t);if(void 0!=e)return this.nodes.get(e)}}}}}function eS(e,t,s,i,n,a,o,d,r,l,g){let h=i+(a-i)/2;eM(e,g,d,t,h-e_(e,g,d)/2,o+r),eM(e,l,d,t,h-e_(e,l,d)/2,o+3*r),ew(e,t,s,i,n,a,o)}function ew(e,t,s,i,n,a,o){e.beginPath(),e.strokeStyle=t,e.lineWidth=s,e.moveTo(i,n),e.lineTo(a,o),e.stroke()}function eM(e,t,s,i,n,a){e.save(),e.translate(n,a),e.scale(1,-1),e.font=s,e.fillStyle=i,e.fillText(t,0,0),e.restore()}function e_(e,t,s){return e.font=s,e.measureText(t).width}class eR extends z{static{this.tagName="me:bathGas"}constructor(e,t){super(e,eR.tagName,t)}}class ez extends L{static{this.tagName="me:experimentalRate"}static{this.s_ref1="ref1"}static{this.s_ref2="ref2"}static{this.s_refReaction="refReaction"}static{this.s_error="error"}constructor(e,t){super(e,ez.tagName,t)}getRef1(){return this.attributes.get(ez.s_ref1)}setRef1(e){this.attributes.set(ez.s_ref1,e)}getRef2(){return this.attributes.get(ez.s_ref2)}setRef2(e){this.attributes.set(ez.s_ref2,e)}getRefReaction(){return this.attributes.get(ez.s_refReaction)}setRefReaction(e){this.attributes.set(ez.s_refReaction,e)}getError(){return parseFloat(this.attributes.get(ez.s_error))}setError(e){this.attributes.set(ez.s_error,e.toString())}}class eL extends L{static{this.tagName="me:experimentalYield"}static{this.s_ref="ref"}static{this.s_error="error"}static{this.s_yieldTime="yieldTime"}constructor(e,t){super(e,eL.tagName,t)}getRef(){return this.attributes.get(eL.s_ref)}setRef(e){this.attributes.set(eL.s_ref,e)}getError(){return parseFloat(this.attributes.get(eL.s_error))}setError(e){this.attributes.set(eL.s_error,e.toString())}getYieldTime(){return parseFloat(this.attributes.get(eL.s_yieldTime))}setYieldTime(e){this.attributes.set(eL.s_yieldTime,e.toString())}}class eP extends L{static{this.tagName="me:experimentalEigenvalue"}static{this.s_EigenvalueID="EigenvalueID"}static{this.s_error="error"}constructor(e,t){super(e,eP.tagName,t)}getEigenvalueID(){return this.attributes.get(eP.s_EigenvalueID)}setEigenvalueID(e){this.attributes.set(eP.s_EigenvalueID,e)}getError(){return parseFloat(this.attributes.get(eP.s_error))}setError(e){this.attributes.set(eP.s_error,e.toString())}}class eI extends L{static{this.tagName="me:excessReactantConc"}static{this.s_percent="percent"}constructor(e,t){super(e,eI.tagName,t)}getPercent(){return this.attributes.get(eI.s_percent)}setPercent(e){this.attributes.set(eI.s_percent,e)}}class eB extends I{static{this.tagName="me:PTpair"}static{this.s_P="P"}static{this.s_T="T"}static{this.s_precision="precision"}static{this.s_excessReactantConc="excessReactantConc"}static{this.s_percentExcessReactantConc="percentExcessReactantConc"}constructor(e,t,s,i,n){super(e,eB.tagName),this.index=new Map,void 0!=t&&(this.index.set(eR.tagName,this.nodes.size),this.addNode(t)),void 0!=s&&(this.index.set(ez.tagName,this.nodes.size),this.addNode(s)),void 0!=i&&(this.index.set(eL.tagName,this.nodes.size),this.addNode(i)),void 0!=n&&(this.index.set(eP.tagName,this.nodes.size),this.addNode(n))}getP(){let e=this.attributes.get(eB.s_P);return void 0!==e?parseFloat(e):NaN}setP(e){this.attributes.set(eB.s_P,e.toString())}getT(){let e=this.attributes.get(eB.s_T);return void 0!==e?parseFloat(e):NaN}setT(e){this.attributes.set(eB.s_T,e.toString())}getPrecision(){return this.attributes.get(eB.s_precision)}setPrecision(e){this.attributes.set(eB.s_precision,e)}getBathGas(){let e=this.index.get(eR.tagName);return void 0!=e?this.nodes.get(e):void 0}setBathGas(e){let t=this.index.get(eR.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eR.tagName,this.nodes.size),this.addNode(e))}removeBathGas(){let e=this.index.get(eR.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eR.tagName))}getExperimentalRate(){let e=this.index.get(ez.tagName);return void 0!=e?this.nodes.get(e):void 0}setExperimentalRate(e){let t=this.index.get(ez.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ez.tagName,this.nodes.size),this.addNode(e))}removeExperimentalRate(){let e=this.index.get(ez.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ez.tagName))}getExperimentalYield(){let e=this.index.get(eL.tagName);return void 0!=e?this.nodes.get(e):void 0}setExperimentalYield(e){let t=this.index.get(eL.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eL.tagName,this.nodes.size),this.addNode(e))}removeExperimentalYield(){let e=this.index.get(eL.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eL.tagName))}getExperimentalEigenvalue(){let e=this.index.get(eP.tagName);return void 0!=e?this.nodes.get(e):void 0}setExperimentalEigenvalue(e){let t=this.index.get(eP.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eP.tagName,this.nodes.size),this.addNode(e))}removeExperimentalEigenvalue(){let e=this.index.get(eP.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eP.tagName))}getExcessReactantConc(){return this.attributes.get(eB.s_excessReactantConc)}setExcessReactantConc(e){this.attributes.set(eB.s_excessReactantConc,e)}getPercentExcessReactantConc(){return this.attributes.get(eB.s_percentExcessReactantConc)}setPercentExcessReactantConc(e){this.attributes.set(eB.s_percentExcessReactantConc,e)}}class eA extends I{static{this.tagName="me:PTs"}constructor(e,t){super(e,eA.tagName),void 0!=t?(t.forEach(e=>{this.addNode(e)}),this.pTpairs=t):this.pTpairs=[]}getPTpair(e){return this.pTpairs[e]}setPTpair(e,t){this.nodes.set(e,t),this.pTpairs[e]=t}addPTpair(e){return this.addNode(e),this.pTpairs.push(e),this.nodes.size-1}removePTpair(e){this.nodes.delete(e),this.pTpairs.splice(e,1)}setPTpairs(e){this.nodes.clear(),e.forEach(e=>{this.addNode(e),this.pTpairs.push(e)})}removePTpairs(){this.nodes.clear(),this.pTpairs=[]}}class eD extends I{static{this.tagName="me:conditions"}constructor(e,t,s,i){super(e,eD.tagName),this.id=t,this.index=new Map,this.bathGasesIndex=new Map,this.bathGases=new Map,void 0!=s&&(this.index.set(eR.tagName,this.nodes.size),s.forEach(e=>{this.bathGasesIndex.set(e.value,this.nodes.size),this.addNode(e),this.bathGases.set(e,s.size)})),void 0!=i&&(this.index.set(eA.tagName,this.nodes.size),this.addNode(i))}getBathGases(){return this.bathGases}addBathGas(e){if(this.bathGases.has(e))return this.bathGases.get(e);{let t=this.bathGases.size;return this.bathGases.set(e,t),this.bathGasesIndex.set(e.value,this.nodes.size),this.addNode(e),t}}removeBathGas(e){this.bathGases.has(e)?(this.bathGases.delete(e),this.nodes.delete(this.bathGasesIndex.get(e.value))):console.warn("Conditions.removeBathGas: bathGas not found to remove.")}getPTs(){let e=this.index.get(eA.tagName);if(void 0!=e)return this.nodes.get(e)}setPTs(e){let t=this.index.get(eA.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eA.tagName,this.nodes.size),this.addNode(e))}}class eF extends L{static{this.tagName="me:grainSize"}constructor(e,t){super(e,eF.tagName,t)}}class eG extends L{static{this.tagName="me:automaticallySetMaxEne"}constructor(e,t){super(e,eG.tagName,t)}}class ek extends L{static{this.tagName="me:energyAboveTheTopHill"}constructor(e,t){super(e,ek.tagName,t)}}class eO extends L{static{this.tagName="me:maxTemperature"}constructor(e,t){super(e,eO.tagName,t)}}class eU extends I{static{this.tagName="me:modelParameters"}constructor(e,t,s,i,n){super(e,eU.tagName),this.index=new Map,void 0!=t&&(this.index.set(eF.tagName,this.nodes.size),this.addNode(t)),void 0!=s&&(this.index.set(eG.tagName,this.nodes.size),this.addNode(s)),void 0!=i&&(this.index.set(ek.tagName,this.nodes.size),this.addNode(i)),void 0!=n&&(this.index.set(eO.tagName,this.nodes.size),this.addNode(n))}getGrainSize(){let e=this.index.get(eF.tagName);if(e)return this.nodes.get(e)}setGrainSize(e){let t=this.index.get(eF.tagName);t?this.nodes.set(t,e):(this.index.set(eF.tagName,this.nodes.size),this.addNode(e))}removeGrainSize(){let e=this.index.get(eF.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eF.tagName))}getAutomaticallySetMaxEne(){let e=this.index.get(eG.tagName);if(e)return this.nodes.get(e)}setAutomaticallySetMaxEne(e){let t=this.index.get(eG.tagName);t?this.nodes.set(t,e):(this.index.set(eG.tagName,this.nodes.size),this.addNode(e))}removeAutomaticallySetMaxEne(){let e=this.index.get(eG.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eG.tagName))}getEnergyAboveTheTopHill(){let e=this.index.get(ek.tagName);if(e)return this.nodes.get(e)}setEnergyAboveTheTopHill(e){let t=this.index.get(ek.tagName);t?this.nodes.set(t,e):(this.index.set(ek.tagName,this.nodes.size),this.addNode(e))}removeEnergyAboveTheTopHill(){let e=this.index.get(ek.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ek.tagName))}getMaxTemperature(){let e=this.index.get(eO.tagName);if(e)return this.nodes.get(e)}setMaxTemperature(e){let t=this.index.get(eO.tagName);t?this.nodes.set(t,e):(this.index.set(eO.tagName,this.nodes.size),this.addNode(e))}removeMaxTemperature(){let e=this.index.get(eO.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eO.tagName))}}class eq extends _{static{this.tagName="me:calculateRateCoefficientsOnly"}constructor(){super(eq.tagName)}}class eH extends _{static{this.tagName="me:printCellDOS"}constructor(){super(eH.tagName)}}class eY extends _{static{this.tagName="me:printCellTransitionStateFlux"}constructor(){super(eY.tagName)}}class eV extends _{static{this.tagName="me:printReactionOperatorColumnSums"}constructor(){super(eV.tagName)}}class e$ extends _{static{this.tagName="me:printGrainBoltzmann"}constructor(){super(e$.tagName)}}class eX extends _{static{this.tagName="me:printGrainDOS"}constructor(){super(eX.tagName)}}class ej extends _{static{this.tagName="me:printGrainkbE"}constructor(){super(ej.tagName)}}class eW extends _{static{this.tagName="me:printGrainkfE"}constructor(){super(eW.tagName)}}class eZ extends _{static{this.tagName="me:printTSsos"}constructor(){super(eZ.tagName)}}class eK extends _{static{this.tagName="me:printGrainedSpeciesProfile"}constructor(){super(eK.tagName)}}class eQ extends _{static{this.tagName="me:printGrainTransitionStateFlux"}constructor(){super(eQ.tagName)}}class eJ extends _{static{this.tagName="me:printReactionOperatorSize"}constructor(){super(eJ.tagName)}}class e0 extends _{static{this.tagName="me:printSpeciesProfile"}constructor(){super(e0.tagName)}}class e1 extends _{static{this.tagName="me:printPhenomenologicalEvolution"}constructor(){super(e1.tagName)}}class e2 extends _{static{this.tagName="me:printTunnelingCoefficients"}constructor(){super(e2.tagName)}}class e3 extends _{static{this.tagName="me:printCrossingCoefficients"}constructor(){super(e3.tagName)}}class e5 extends _{static{this.tagName="me:testDOS"}constructor(){super(e5.tagName)}}class e4 extends _{static{this.tagName="me:testRateConstant"}constructor(){super(e4.tagName)}}class e6 extends _{static{this.tagName="me:useTheSameCellNumberForAllConditions"}constructor(){super(e6.tagName)}}class e7 extends _{static{this.tagName="me:ForceMacroDetailedBalance"}constructor(){super(e7.tagName)}}class e9 extends _{static{this.tagName="me:hideInactive"}constructor(){super(e9.tagName)}}class e8 extends I{static{this.tagName="me:calcMethod"}static{this.options=["simpleCalc","gridSearch","fitting","marquardt","analyticalRepresentation","ThermodynamicTable","sensitivityAnalysis","me:simpleCalc","me:gridSearch","me:fitting","me:marquardt","me:analyticalRepresentation","me:ThermodynamicTable","me:sensitivityAnalysis"]}constructor(e){super(e,e8.tagName)}}class te extends e8{static{this.xsi_type="me:simpleCalc"}static{this.xsi_type2="simpleCalc"}constructor(e){super(e)}}class tt extends e8{static{this.xsi_type="me:gridSearch"}static{this.xsi_type2="gridSearch"}constructor(e){super(e)}}class ts extends L{static{this.tagName="me:fittingIterations"}constructor(e,t){super(e,ts.tagName,t)}}class ti extends e8{static{this.xsi_type="me:fitting"}static{this.xsi_type2="fitting"}constructor(e,t){super(e),void 0!=t&&this.addNode(t)}getFittingIterations(){return this.nodes.get(0)}setFittingIterations(e){this.nodes.set(0,e)}removeFittingIterations(){this.nodes.delete(0)}}class tn extends L{static{this.tagName="me:MarquardtIterations"}constructor(e,t){super(e,tn.tagName,t)}}class ta extends L{static{this.tagName="me:MarquardtTolerance"}constructor(e,t){super(e,ta.tagName,t)}}class to extends L{static{this.tagName="me:MarquardtDerivDelta"}constructor(e,t){super(e,to.tagName,t)}}class td extends e8{static{this.xsi_type="me:marquardt"}static{this.xsi_type2="marquardt"}constructor(e,t,s,i){super(e),this.index=new Map,void 0!=t&&(this.index.set(tn.tagName,this.nodes.size),this.addNode(t)),void 0!=s&&(this.index.set(ta.tagName,this.nodes.size),this.addNode(s)),void 0!=i&&(this.index.set(to.tagName,this.nodes.size),this.addNode(i))}getMarquardtIterations(){let e=this.index.get(tn.tagName);if(void 0!=e)return this.nodes.get(e)}setMarquardtIterations(e){let t=this.index.get(tn.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tn.tagName,this.nodes.size),this.addNode(e))}removeMarquardtIterations(){let e=this.index.get(tn.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tn.tagName))}getMarquardtTolerance(){let e=this.index.get(ta.tagName);if(void 0!=e)return this.nodes.get(e)}setMarquardtTolerance(e){let t=this.index.get(ta.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ta.tagName,this.nodes.size),this.addNode(e))}removeMarquardtTolerance(){let e=this.index.get(ta.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ta.tagName))}getMarquardtDerivDelta(){let e=this.index.get(to.tagName);if(void 0!=e)return this.nodes.get(e)}setMarquardtDerivDelta(e){let t=this.index.get(to.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(to.tagName,this.nodes.size),this.addNode(e))}removeMarquardtDerivDelta(){let e=this.index.get(to.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(to.tagName))}}class tr extends _{static{this.tagName="me:useTraceWeighting"}constructor(){super(tr.tagName)}}class tl extends z{static{this.tagName="me:format"}static{this.options=["cantera","chemkin"]}static{this.rateUnits="rateUnits"}static{this.rateUnitsOptions=["cm3mole-1s-1","cm3molecule-1s-1"]}constructor(e,t){super(e,tl.tagName,t)}getRateUnits(){return this.attributes.get(tl.rateUnits)}setRateUnits(e){this.attributes.set(tl.rateUnits,e)}removeRateUnits(){this.attributes.delete(tl.rateUnits)}}class tg extends z{static{this.tagName="me:precision"}constructor(e,t){super(e,tg.tagName,t)}}class th extends L{static{this.tagName="me:chebNumTemp"}constructor(e,t){super(e,th.tagName,t)}}class tm extends L{static{this.tagName="me:chebNumConc"}constructor(e,t){super(e,tm.tagName,t)}}class tc extends L{static{this.tagName="me:chebMaxTemp"}constructor(e,t){super(e,tc.tagName,t)}}class tu extends L{static{this.tagName="me:chebMinTemp"}constructor(e,t){super(e,tu.tagName,t)}}class tp extends L{static{this.tagName="me:chebMaxConc"}constructor(e,t){super(e,tp.tagName,t)}getUnits(){return this.attributes.get("units")}setUnits(e){this.attributes.set("units",e)}}class tN extends L{static{this.tagName="me:chebMinConc"}constructor(e,t){super(e,tN.tagName,t)}}class tx extends L{static{this.tagName="me:chebTExSize"}constructor(e,t){super(e,tx.tagName,t)}}class tv extends L{static{this.tagName="me:chebPExSize"}constructor(e,t){super(e,tv.tagName,t)}}class tf extends e8{static{this.xsi_type="me:analyticalRepresentation"}static{this.xsi_type2="analyticalRepresentation"}constructor(e,t,s,i,n,a,o,d,r,l,g){super(e),this.index=new Map,void 0!=t&&(this.index.set(tl.tagName,this.nodes.size),this.addNode(t)),void 0!=s&&(this.index.set(tg.tagName,this.nodes.size),this.addNode(s)),void 0!=i&&(this.index.set(th.tagName,this.nodes.size),this.addNode(i)),void 0!=n&&(this.index.set(tm.tagName,this.nodes.size),this.addNode(n)),void 0!=a&&(this.index.set(tc.tagName,this.nodes.size),this.addNode(a)),void 0!=o&&(this.index.set(tu.tagName,this.nodes.size),this.addNode(o)),void 0!=d&&(this.index.set(tp.tagName,this.nodes.size),this.addNode(d)),void 0!=r&&(this.index.set(tN.tagName,this.nodes.size),this.addNode(r)),void 0!=l&&(this.index.set(tx.tagName,this.nodes.size),this.addNode(l)),void 0!=g&&(this.index.set(tv.tagName,this.nodes.size),this.addNode(g))}getFormat(){let e=this.index.get(tl.tagName);if(void 0!=e)return this.nodes.get(e)}setFormat(e){let t=this.index.get(tl.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tl.tagName,this.nodes.size),this.addNode(e))}removeFormat(){let e=this.index.get(tl.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tl.tagName))}getPrecision(){let e=this.index.get(tg.tagName);if(void 0!=e)return this.nodes.get(e)}setPrecision(e){let t=this.index.get(tg.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tg.tagName,this.nodes.size),this.addNode(e))}removePrecision(){let e=this.index.get(tg.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tg.tagName))}getChebNumTemp(){let e=this.index.get(th.tagName);if(void 0!=e)return this.nodes.get(e)}setChebNumTemp(e){let t=this.index.get(th.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(th.tagName,this.nodes.size),this.addNode(e))}removeChebNumTemp(){let e=this.index.get(th.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(th.tagName))}getChebNumConc(){let e=this.index.get(tm.tagName);if(void 0!=e)return this.nodes.get(e)}setChebNumConc(e){let t=this.index.get(tm.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tm.tagName,this.nodes.size),this.addNode(e))}removeChebNumConc(){let e=this.index.get(tm.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tm.tagName))}getChebMaxTemp(){let e=this.index.get(tc.tagName);if(void 0!=e)return this.nodes.get(e)}setChebMaxTemp(e){let t=this.index.get(tc.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tc.tagName,this.nodes.size),this.addNode(e))}removeChebMaxTemp(){let e=this.index.get(tc.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tc.tagName))}getChebMinTemp(){let e=this.index.get(tu.tagName);if(void 0!=e)return this.nodes.get(e)}setChebMinTemp(e){let t=this.index.get(tu.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tu.tagName,this.nodes.size),this.addNode(e))}removeChebMinTemp(){let e=this.index.get(tu.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tu.tagName))}getChebMaxConc(){let e=this.index.get(tp.tagName);if(void 0!=e)return this.nodes.get(e)}setChebMaxConc(e){let t=this.index.get(tp.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tp.tagName,this.nodes.size),this.addNode(e))}removeChebMaxConc(){let e=this.index.get(tp.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tp.tagName))}getChebMinConc(){let e=this.index.get(tN.tagName);if(void 0!=e)return this.nodes.get(e)}setChebMinConc(e){let t=this.index.get(tN.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tN.tagName,this.nodes.size),this.addNode(e))}removeChebMinConc(){let e=this.index.get(tN.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tN.tagName))}getChebTExSize(){let e=this.index.get(tx.tagName);if(void 0!=e)return this.nodes.get(e)}setChebTExSize(e){let t=this.index.get(tx.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tx.tagName,this.nodes.size),this.addNode(e))}removeChebTExSize(){let e=this.index.get(tx.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tx.tagName))}getChebPExSize(){let e=this.index.get(tv.tagName);if(void 0!=e)return this.nodes.get(e)}setChebPExSize(e){let t=this.index.get(tv.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tv.tagName,this.nodes.size),this.addNode(e))}removeChebPExSize(){let e=this.index.get(tv.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tv.tagName))}}class tE extends L{static{this.tagName="me:Tmin"}constructor(e,t){super(e,tE.tagName,t)}}class tb extends L{static{this.tagName="me:Tmid"}constructor(e,t){super(e,tb.tagName,t)}}class tC extends L{static{this.tagName="me:Tmax"}constructor(e,t){super(e,tC.tagName,t)}}class ty extends L{static{this.tagName="me:Tstep"}constructor(e,t){super(e,tE.tagName,t)}}class tT extends e8{static{this.xsi_type="me:ThermodynamicTable"}static{this.xsi_type2="ThermodynamicTable"}constructor(e,t,s,i,n){super(e),this.index=new Map,void 0!=t&&(this.index.set(tE.tagName,this.nodes.size),this.addNode(t)),void 0!=s&&(this.index.set(tb.tagName,this.nodes.size),this.addNode(s)),void 0!=i&&(this.index.set(tC.tagName,this.nodes.size),this.addNode(i)),void 0!=n&&(this.index.set(ty.tagName,this.nodes.size),this.addNode(n))}getTmin(){let e=this.index.get(tE.tagName);if(void 0!=e)return this.nodes.get(e)}setTmin(e){let t=this.index.get(tE.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tE.tagName,this.nodes.size),this.addNode(e))}removeTmin(){let e=this.index.get(tE.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tE.tagName))}getTmid(){let e=this.index.get(tb.tagName);if(void 0!=e)return this.nodes.get(e)}setTmid(e){let t=this.index.get(tb.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tb.tagName,this.nodes.size),this.addNode(e))}removeTmid(){let e=this.index.get(tb.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tb.tagName))}getTmax(){let e=this.index.get(tC.tagName);if(void 0!=e)return this.nodes.get(e)}setTmax(e){let t=this.index.get(tC.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tC.tagName,this.nodes.size),this.addNode(e))}removeTmax(){let e=this.index.get(tC.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tC.tagName))}getTstep(){let e=this.index.get(ty.tagName);if(void 0!=e)return this.nodes.get(e)}setTstep(e){let t=this.index.get(ty.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ty.tagName,this.nodes.size),this.addNode(e))}removeTstep(){let e=this.index.get(ty.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ty.tagName))}}class tS extends L{static{this.tagName="me:sensitivityAnalysisSamples"}constructor(e,t){super(e,tS.tagName,t)}}class tw extends L{static{this.tagName="me:sensitivityAnalysisOrder"}constructor(e,t){super(e,tw.tagName,t)}}class tM extends L{static{this.tagName="me:sensitivityNumVarRedIters"}constructor(e,t){super(e,tM.tagName,t)}}class t_ extends z{static{this.tagName="me:sensitivityVarRedMethod"}static{this.options=["AdditiveControl","RatioControl"]}constructor(e,t){super(e,t_.tagName,t)}}class tR extends e8{static{this.xsi_type="me:sensitivityAnalysis"}static{this.xsi_type2="sensitivityAnalysis"}constructor(e,t,s,i,n){super(e),this.index=new Map,void 0!=t&&(this.index.set(tS.tagName,this.nodes.size),this.addNode(t)),void 0!=s&&(this.index.set(tw.tagName,this.nodes.size),this.addNode(s)),void 0!=i&&(this.index.set(tM.tagName,this.nodes.size),this.addNode(i)),void 0!=n&&(this.index.set(t_.tagName,this.nodes.size),this.addNode(n))}getSensitivityAnalysisSamples(){let e=this.index.get(tS.tagName);if(void 0!=e)return this.nodes.get(e)}setSensitivityAnalysisSamples(e){let t=this.index.get(tS.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tS.tagName,this.nodes.size),this.addNode(e))}removeSensitivityAnalysisSamples(){let e=this.index.get(tS.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tS.tagName))}getSensitivityAnalysisOrder(){let e=this.index.get(tw.tagName);if(void 0!=e)return this.nodes.get(e)}setSensitivityAnalysisOrder(e){let t=this.index.get(tw.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tw.tagName,this.nodes.size),this.addNode(e))}removeSensitivityAnalysisOrder(){let e=this.index.get(tw.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tw.tagName))}getSensitivityNumVarRedIters(){let e=this.index.get(tM.tagName);if(void 0!=e)return this.nodes.get(e)}setSensitivityNumVarRedIters(e){let t=this.index.get(tM.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tM.tagName,this.nodes.size),this.addNode(e))}removeSensitivityNumVarRedIters(){let e=this.index.get(tM.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tM.tagName))}getSensitivityVarRedMethod(){let e=this.index.get(t_.tagName);if(void 0!=e)return this.nodes.get(e)}setSensitivityVarRedMethod(e){let t=this.index.get(t_.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(t_.tagName,this.nodes.size),this.addNode(e))}removeSensitivityVarRedMethod(){let e=this.index.get(t_.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(t_.tagName))}}class tz extends L{static{this.tagName="me:eigenvalues"}constructor(e,t){super(e,tz.tagName,t)}}class tL extends L{static{this.tagName="me:shortestTimeOfInterest"}constructor(e,t){super(e,tL.tagName,t)}}class tP extends L{static{this.tagName="me:MaximumEvolutionTime"}constructor(e,t){super(e,tP.tagName,t)}}class tI extends L{static{this.tagName="me:automaticallySetMaxEne"}constructor(e,t){super(e,tI.tagName,t)}}class tB extends L{static{this.tagName="me:diagramEnergyOffset"}constructor(e,t){super(e,tB.tagName,t)}}class tA extends R{static{this.tagName="me:testMicroRates"}constructor(e){super(e,tA.tagName),this.tMin=parseFloat(e.get("Tmin")),this.tMax=parseFloat(e.get("Tmax")),this.tStep=parseFloat(e.get("Tstep"))}getTmin(){return this.tMin}setTmin(e){this.tMin=e,this.attributes?.set("Tmin",e.toString())}getTmax(){return this.tMax}setTmax(e){this.tMax=e,this.attributes?.set("Tmax",e.toString())}getTstep(){return this.tStep}setTstep(e){this.tStep=e,this.attributes?.set("Tstep",e.toString())}}class tD extends I{static{this.tagName="me:control"}constructor(e,t){super(e,tD.tagName),this.id=t,this.index=new Map}getCalculateRateCoefficientsOnly(){let e=this.index.get(eq.tagName);if(void 0!=e)return this.nodes.get(e)}setCalculateRateCoefficientsOnly(e){let t=this.index.get(eq.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eq.tagName,this.nodes.size),this.addNode(e))}removeCalculateRateCoefficientsOnly(){let e=this.index.get(eq.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eq.tagName))}getPrintCellDOS(){let e=this.index.get(eH.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintCellDOS(e){let t=this.index.get(eH.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eH.tagName,this.nodes.size),this.addNode(e))}removePrintCellDOS(){let e=this.index.get(eH.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eH.tagName))}getPrintCellTransitionStateFlux(){let e=this.index.get(eY.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintCellTransitionStateFlux(e){let t=this.index.get(eY.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eY.tagName,this.nodes.size),this.addNode(e))}removePrintCellTransitionStateFlux(){let e=this.index.get(eY.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eY.tagName))}getPrintReactionOperatorColumnSums(){let e=this.index.get(eV.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintReactionOperatorColumnSums(e){let t=this.index.get(eV.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eV.tagName,this.nodes.size),this.addNode(e))}removePrintReactionOperatorColumnSums(){let e=this.index.get(eV.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eV.tagName))}getPrintGrainBoltzmann(){let e=this.index.get(e$.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintGrainBoltzmann(e){let t=this.index.get(e$.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e$.tagName,this.nodes.size),this.addNode(e))}removePrintGrainBoltzmann(){let e=this.index.get(e$.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e$.tagName))}getPrintGrainDOS(){let e=this.index.get(eX.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintGrainDOS(e){let t=this.index.get(eX.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eX.tagName,this.nodes.size),this.addNode(e))}removePrintGrainDOS(){let e=this.index.get(eX.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eX.tagName))}getPrintGrainkbE(){let e=this.index.get(ej.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintGrainkbE(e){let t=this.index.get(ej.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ej.tagName,this.nodes.size),this.addNode(e))}removePrintGrainkbE(){let e=this.index.get(ej.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ej.tagName))}getPrintGrainkfE(){let e=this.index.get(eW.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintGrainkfE(e){let t=this.index.get(eW.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eW.tagName,this.nodes.size),this.addNode(e))}removePrintGrainkfE(){let e=this.index.get(eW.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eW.tagName))}getPrintTSsos(){let e=this.index.get(eZ.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintTSsos(e){let t=this.index.get(eZ.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eZ.tagName,this.nodes.size),this.addNode(e))}removePrintTSsos(){let e=this.index.get(eZ.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eZ.tagName))}getPrintGrainedSpeciesProfile(){let e=this.index.get(eK.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintGrainedSpeciesProfile(e){let t=this.index.get(eK.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eK.tagName,this.nodes.size),this.addNode(e))}removePrintGrainedSpeciesProfile(){let e=this.index.get(eK.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eK.tagName))}getPrintGrainTransitionStateFlux(){let e=this.index.get(eQ.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintGrainTransitionStateFlux(e){let t=this.index.get(eQ.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eQ.tagName,this.nodes.size),this.addNode(e))}removePrintGrainTransitionStateFlux(){let e=this.index.get(eQ.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eQ.tagName))}getPrintReactionOperatorSize(){let e=this.index.get(eJ.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintReactionOperatorSize(e){let t=this.index.get(eJ.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eJ.tagName,this.nodes.size),this.addNode(e))}removePrintReactionOperatorSize(){let e=this.index.get(eJ.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eJ.tagName))}getPrintSpeciesProfile(){let e=this.index.get(e0.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintSpeciesProfile(e){let t=this.index.get(e0.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e0.tagName,this.nodes.size),this.addNode(e))}removePrintSpeciesProfile(){let e=this.index.get(e0.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e0.tagName))}getPrintPhenomenologicalEvolution(){let e=this.index.get(e1.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintPhenomenologicalEvolution(e){let t=this.index.get(e1.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e1.tagName,this.nodes.size),this.addNode(e))}removePrintPhenomenologicalEvolution(){let e=this.index.get(e1.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e1.tagName))}getPrintTunnelingCoefficients(){let e=this.index.get(e2.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintTunnelingCoefficients(e){let t=this.index.get(e2.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e2.tagName,this.nodes.size),this.addNode(e))}removePrintTunnelingCoefficients(){let e=this.index.get(e2.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e2.tagName))}getPrintCrossingCoefficients(){let e=this.index.get(e3.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintCrossingCoefficients(e){let t=this.index.get(e3.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e3.tagName,this.nodes.size),this.addNode(e))}removePrintCrossingCoefficients(){let e=this.index.get(e3.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e3.tagName))}getTestDOS(){let e=this.index.get(e5.tagName);if(void 0!=e)return this.nodes.get(e)}setTestDOS(e){let t=this.index.get(e5.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e5.tagName,this.nodes.size),this.addNode(e))}removeTestDOS(){let e=this.index.get(e5.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e5.tagName))}getTestRateConstants(){let e=this.index.get(e4.tagName);if(void 0!=e)return this.nodes.get(e)}setTestRateConstants(e){let t=this.index.get(e4.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e4.tagName,this.nodes.size),this.addNode(e))}removeTestRateConstants(){let e=this.index.get(e4.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e4.tagName))}getUseTheSameCellNumberForAllConditions(){let e=this.index.get(e6.tagName);if(void 0!=e)return this.nodes.get(e)}setUseTheSameCellNumberForAllConditions(e){let t=this.index.get(e6.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e6.tagName,this.nodes.size),this.addNode(e))}removeUseTheSameCellNumberForAllConditions(){let e=this.index.get(e6.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e6.tagName))}getHideInactive(){let e=this.index.get(e9.tagName);if(void 0!=e)return this.nodes.get(e)}setHideInactive(e){let t=this.index.get(e9.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e9.tagName,this.nodes.size),this.addNode(e))}removeHideInactive(){let e=this.index.get(e9.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e9.tagName))}getForceMacroDetailedBalance(){let e=this.index.get(e7.tagName);if(void 0!=e)return this.nodes.get(e)}setForceMacroDetailedBalance(e){let t=this.index.get(e7.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e7.tagName,this.nodes.size),this.addNode(e))}removeForceMacroDetailedBalance(){let e=this.index.get(e7.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e7.tagName))}getCalcMethod(){let e=this.index.get(e8.tagName);if(void 0!=e)return this.nodes.get(e)}setCalcMethod(e){let t=this.index.get(e8.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e8.tagName,this.nodes.size),this.addNode(e))}removeCalcMethod(){let e=this.index.get(e8.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e8.tagName))}getEigenvalues(){let e=this.index.get(tz.tagName);if(void 0!=e)return this.nodes.get(e)}setEigenvalues(e){let t=this.index.get(tz.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tz.tagName,this.nodes.size),this.addNode(e))}removeEigenvalues(){let e=this.index.get(tz.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tz.tagName))}getShortestTimeOfInterest(){let e=this.index.get(tL.tagName);if(void 0!=e)return this.nodes.get(e)}setShortestTimeOfInterest(e){let t=this.index.get(tL.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tL.tagName,this.nodes.size),this.addNode(e))}removeShortestTimeOfInterest(){let e=this.index.get(tL.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tL.tagName))}getMaximumEvolutionTime(){let e=this.index.get(tP.tagName);if(void 0!=e)return this.nodes.get(e)}setMaximumEvolutionTime(e){let t=this.index.get(tP.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tP.tagName,this.nodes.size),this.addNode(e))}removeMaximumEvolutionTime(){let e=this.index.get(tP.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tP.tagName))}getAutomaticallySetMaxEne(){let e=this.index.get(tI.tagName);if(void 0!=e)return this.nodes.get(e)}setAutomaticallySetMaxEne(e){let t=this.index.get(tI.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tI.tagName,this.nodes.size),this.addNode(e))}removeAutomaticallySetMaxEne(){let e=this.index.get(tI.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tI.tagName))}getDiagramEnergyOffset(){let e=this.index.get(tB.tagName);if(void 0!=e)return this.nodes.get(e)}setDiagramEnergyOffset(e){let t=this.index.get(tB.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tB.tagName,this.nodes.size),this.addNode(e))}removeDiagramEnergyOffset(){let e=this.index.get(tB.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tB.tagName))}getTestMicroRates(){let e=this.index.get(tA.tagName);if(void 0!=e)return this.nodes.get(e)}setTestMicroRates(e){let t=this.index.get(tA.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tA.tagName,this.nodes.size),this.addNode(e))}removeTestMicroRates(){let e=this.index.get(tA.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tA.tagName))}}class tF extends z{static{this.tagName="me:title"}constructor(e,t){super(e,tF.tagName,t)}}class tG extends I{static{this.tagName="moleculeList"}constructor(e,t){super(e,tG.tagName),this.index=new Map,void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1)})}getMolecule(e){let t=this.index.get(e);if(void 0!=t)return this.nodes.get(t)}removeMolecule(e){let t=this.index.get(e);void 0!=t&&(this.nodes.delete(t),this.index.delete(e))}addMolecule(e){let t=this.index.get(e.id);void 0!==t?(this.nodes.set(t,e),console.log("Replaced molecule with id "+e.id)):(this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1))}}class tk extends I{static{this.tagName="reactionList"}constructor(e,t){super(e,tk.tagName),this.index=new Map,void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1)})}getReaction(e){let t=this.index.get(e);if(void 0!=t)return this.nodes.get(t)}removeReaction(e){let t=this.index.get(e);void 0!=t&&(this.nodes.delete(t),this.index.delete(e))}addReaction(e){let t=this.index.get(e.id);void 0!==t?(this.nodes.set(t,e),console.log("Replaced reaction with id "+e.id)):(this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1))}}class tO extends I{static{this.tagName="conditionsList"}constructor(e,t){super(e,tU.tagName),this.index=new Map,void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1)})}getConditions(e){let t=this.index.get(e);if(void 0!=t)return this.nodes.get(t)}removeConditions(e){let t=this.index.get(e);void 0!=t&&(this.nodes.delete(t),this.index.delete(e))}addConditions(e){let t=this.index.get(e.id);void 0!=t?(this.nodes.set(t,e),console.log("Replaced conditions with id "+e.id)):(this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1))}}class tU extends I{static{this.tagName="controlList"}constructor(e,t){super(e,tU.tagName),this.index=new Map,void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1)})}getControl(e){let t=this.index.get(e);if(void 0!=t)return this.nodes.get(t)}removeControl(e){let t=this.index.get(e);void 0!=t&&(this.nodes.delete(t),this.index.delete(e))}addControl(e){let t=this.index.get(e.id);void 0!==t?(this.nodes.set(t,e),console.log("Replaced control with id "+e.id)):(this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1))}}class tq extends I{static{this.tagName="me:mesmer"}static{this.precisionOptions=["d","dd","qd","double","double-double","quad-double"]}static{this.pressureUnits=["Torr","PPCC","atm","mbar","psi","mols/cc"]}static{this.energyUnits=["kJ/mol","cm-1","wavenumber","kcal/mol","Hartree","au"]}static{this.frequencyUnits=["cm-1","GHz","amuA^2"]}static{this.elementTypes=["H","He","Li","Be","B","C","N","O","F","Ne","Na","Mg","Al","Si","P","S","Cl","Ar","K","Ca","Sc","Ti","V","Cr","Mn","Fe","Co","Ni","Cu","Zn","Ga","Ge","As","Se","Br","Kr","Rb","Sr","Y","Zr","Nb","Mo","Tc","Ru","Rh","Pd","Ag","Cd","In","Sn","Sb","Te","I","Xe","Cs","Ba","La","Ce","Pr","Nd","Pm","Sm","Eu","Gd","Tb","Dy","Ho","Er","Tm","Yb","Lu","Hf","Ta","W","Re","Os","Ir","Pt","Au","Hg","Tl","Pb","Bi","Po","At","Rn","Fr","Ra","Ac","Th","Pa","U","Np","Pu","Am","Cm","Bk","Cf","Es","Fm","Md","No","Lr","Rf","Db","Sg","Bh","Hs","Mt","Ds","Rg","Cn","Nh","Fl","Mc","Lv","Ts","Og"]}static{this.atomMasses=new Map}static{this.atomRadii=new Map}static{this.atomColors=new Map}static{this.bondColors=new Map}static{this.header=`<?xml version="1.0" encoding="utf-8" ?>
<?xml-stylesheet type='text/xsl' href='../../mesmer2.xsl' media='other'?>
<?xml-stylesheet type='text/xsl' href='../../mesmer1.xsl' media='screen'?>`}constructor(e,t,s,i,n,a,o){super(e,tq.tagName);let d=["H","O","C","N","Cl","S","Ph","Fe"],r=["White","Red","DarkGrey","Blue","Green","Yellow","Orange","Brown"];for(let e=0;e<d.length;e++)tq.atomColors.set(d[e],r[e]);let l=[1.00784,15.999,12.011,14.007,35.453,32.06,77.845,55.845];for(let e=0;e<d.length;e++)tq.atomMasses.set(d[e],l[e]);let g=[37,66,67,56,99,102,110,124];for(let e=0;e<d.length;e++)tq.atomRadii.set(d[e],g[e]);let h=[1,1.5,2,2.5,3,3.5,4,4.5,5,5.5,6];r=["Black","Red","DarkRed","Blue","DarkBlue","Green","DarkGreen","Yellow","DarkYellow","Orange","DarkOrange"];for(let e=0;e<h.length;e++)tq.bondColors.set(h[e],r[e]);this.index=new Map,void 0!=t&&(this.index.set(tF.tagName,this.nodes.size),this.addNode(t)),void 0!=s&&(this.index.set(tG.tagName,this.nodes.size),this.addNode(s)),void 0!=i&&(this.index.set(tk.tagName,this.nodes.size),this.addNode(i)),this.conditionsIndex=new Map,void 0!=n&&n.forEach(e=>{this.index.set(eD.tagName+e.id,this.nodes.size),this.conditionsIndex.set(e.id,this.nodes.size),this.addNode(e)}),void 0!=a&&(this.index.set(eU.tagName,this.nodes.size),this.addNode(a)),this.controlIndex=new Map,void 0!=o&&o.forEach(e=>{this.index.set(tD.tagName+e.id,this.nodes.size),this.controlIndex.set(e.id,this.nodes.size),this.addNode(e)})}getTitle(){let e=this.index.get(tF.tagName);if(void 0!=e)return this.nodes.get(e)}setTitle(e){let t=this.index.get(tF.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tF.tagName,this.nodes.size),this.addNode(e))}getMoleculeList(){let e=this.index.get(tG.tagName);if(void 0!=e)return this.nodes.get(e)}setMoleculeList(e){let t=this.index.get(tG.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tG.tagName,this.nodes.size),this.addNode(e))}getReactionList(){let e=this.index.get(tk.tagName);if(void 0!=e)return this.nodes.get(e)}setReactionList(e){let t=this.index.get(tk.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tk.tagName,this.nodes.size),this.addNode(e))}addConditions(e){let t=eD.tagName+e.id,s=this.index.get(t);void 0!=s?this.nodes.set(s,e):(this.index.set(t,this.nodes.size),this.conditionsIndex.set(e.id,this.nodes.size),this.addNode(e))}getConditions(e){let t=this.conditionsIndex.get(e);if(void 0!=t)return this.nodes.get(t)}getNextConditionsID(){let e=0,t=Array.from(this.conditionsIndex.keys()).sort((e,t)=>e-t);return console.log("sortedKeys "+d(t)),t.forEach(t=>{if(t>e)return e;e++}),e}removeConditions(e){let t=this.conditionsIndex.get(e);void 0!=t&&(this.nodes.delete(t),this.index.delete(eD.tagName+e),this.conditionsIndex.delete(e))}getModelParameters(){let e=this.index.get(eU.tagName);if(void 0!=e)return this.nodes.get(e)}setModelParameters(e){let t=this.index.get(eU.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eU.tagName,this.nodes.size),this.addNode(e))}addControl(e){let t=tD.tagName+e.id,s=this.index.get(t);void 0!=s?this.nodes.set(s,e):(this.index.set(t,this.nodes.size),this.controlIndex.set(e.id,this.nodes.size),this.addNode(e))}getControl(e){let t=this.controlIndex.get(e);if(void 0!=t)return this.nodes.get(t)}getNextControlID(){let e=0,t=Array.from(this.controlIndex.keys()).sort((e,t)=>e-t);return console.log("sortedKeys "+d(t)),t.forEach(t=>{if(t>e)return e;e++}),e}removeControl(e){let t=this.controlIndex.get(e);console.log("removeControl "+e+" "+t),console.log("controlIndex "+d(Array.from(this.controlIndex.keys()))),void 0!=t&&(this.nodes.delete(t),this.index.delete(tD.tagName+e),this.controlIndex.delete(e))}}let tH="https://github.com/agdturner/mxg-pwa",tY=document.createElement("a");tY.href=tH,tY.textContent=tH;let tV="https://github.com/agdturner/mxg-pwa/tree/main/data/examples",t$=document.createElement("a");t$.href=tV,t$.textContent=tV;let tX="https://sourceforge.net/projects/mesmer/",tj=document.createElement("a");tj.href=tX,tj.textContent=tX;let tW="https://github.com/3dmol/3Dmol.js",tZ=document.createElement("a");tZ.href=tW,tZ.textContent=tW;let tK={marginLeft:"0px",marginTop:"1px",marginBottom:"1px",marginRight:"0px"},tQ={marginLeft:"25px",marginTop:"1px",marginBottom:"1px",marginRight:"0px"},tJ={marginLeft:"50px",marginTop:"1px",marginBottom:"1px",marginRight:"0px"},t0={marginLeft:"75px",marginTop:"1px",marginBottom:"1px",marginRight:"0px"},t1={marginLeft:"100px",marginTop:"1px",marginBottom:"1px",marginRight:"0px"},t2={marginLeft:"125px",marginTop:"1px",marginBottom:"1px",marginRight:"0px"},t3={marginLeft:"1px",marginTop:"1px",marginBottom:"1px",marginRight:"1px"},t5=" ✓",t4=" ✗",t6="Add ＋",t7="button",t9="Input",t8="optionOn",se="optionOff",st="Rename",ss="Select an option (use keys to cycle through options)...",si="conditions",sn="control",sa=-1/0,so=1/0,sd=new Set;function sr(...e){let t=o(...e);if(sd.has(t))throw Error(t+" already exists!");return sd.add(t),t}let sl=sr("reactionsDiagram"),sg=sr("reactionsDiagramCanvas"),sh="1em SensSerif";function sm(){null==n?it(document.getElementById(sg),e,sh,4,2):it(n.document.getElementById(sg),e,sh,4,2)}function sc(e,t,s,i,n,a){let d=document.createElement("div"),r=o(e,n);return h({divToAddTo:t,elementToInsertBefore:s,content:d,buttonLabel:i,buttonId:o(r,t7),margin:a,contentDivId:r}),d}function su(e,t,s,i,n){let a=E(t6,o(e.id,"Add"+s+"Button"),n);return a.addEventListener("click",()=>{let s=new G(new Map,e),d=e.getAtoms().addAtom(s),r=o(e.id,d),l=C(r,n);l.appendChild(y(d,i)),sb(r,s,l,!0,i),sC(r,s,l,i),sS(l,i,sp,e,d),t.insertBefore(l,a),sx(O.s_atomRefs2,d)}),a}function sp(e,t){e.getAtoms().removeAtom(t),e.getBonds().bonds.forEach(s=>{let i=s.getAtomRefs2().split(" ");if(i[0]==t||i[1]==t){let i=s.getId();e.getBonds().removeBond(i);let n=document.getElementsByClassName(t);for(let e=0;e<n.length;e++)n[e].remove()}}),sN(O.s_atomRefs2,t)}function sN(e,t){let s=document.getElementsByClassName(e);for(let e=0;e<s.length;e++)s[e]instanceof HTMLSelectElement&&Array.from(s[e].options).forEach(e=>{e.value==t&&e.remove()})}function sx(e,t){let s=document.getElementsByClassName(e);for(let e=0;e<s.length;e++){let i=s[e];if(s[e]instanceof HTMLSelectElement){let e=document.createElement("option");e.value=t,e.text=t,i.add(e)}}}function sv(e,t,s,i,n,a){let d=E(t6,o(t,"Add"+i+"Button"),a);return d.addEventListener("click",()=>{let i=e.getAtoms().atoms;if(i.size<2){alert("There must be at least 2 atoms to create a bond.");return}let r=new Map,l=Array.from(i.keys()).slice(0,2).join(" ");r.set(O.s_atomRefs2,l);let g=new O(r,e),h=e.getBonds().addBond(g),m=C(o(t,h),a);Array.from(i.keys()).forEach(e=>{m.classList.add(e)}),s.insertBefore(m,d);let c=o(t,h);m.appendChild(y(h,n)),sf(e,m,g,c,n),sw(m,g,c,O.s_order,n),sS(m,n,t=>e.getBonds().removeBond(t),h)}),s.appendChild(d),d}function sf(e,t,s,i,n){let a=s.getAtomRefs2().split(" "),d=Array.from(e.getAtoms().atoms.keys()),r=f(O.s_atomRefs2+"[0]",d,G.tagName,a[0],o(i,O.s_atomRefs2,"0"),n,n),l=r.querySelector("select");l.classList.add(O.s_atomRefs2),l.addEventListener("change",e=>{let t=e.target,i=t.value+" "+a[1];console.log(O.s_atomRefs2+" changed to "+i),s.setAtomRefs2(i),x(t)}),l.value=a[0],x(l),t.appendChild(r);let g=f(O.s_atomRefs2+"[1]",d,G.tagName,a[1],o(i,O.s_atomRefs2,"1"),n,n),h=g.querySelector("select");h.classList.add(O.s_atomRefs2),h.addEventListener("change",e=>{let t=e.target,i=a[0]+" "+t.value;console.log(O.s_atomRefs2+" changed to "+i),s.setAtomRefs2(i),x(t)}),h.value=a[1],x(h),t.appendChild(g)}function sE(e,t,s,i,n){let a=new V(A(e));return a.dictRef==$.dictRef?sR(a,tq.energyUnits,s,e,t,i,n):a.dictRef==W.dictRef?sR(a,tq.frequencyUnits,s,e,t,i,n):sR(a,void 0,s,e,t,i,n),a}function sb(e,t,s,i,n){let a=t.getElementType(),d=tq.elementTypes;void 0==a&&(a=ss,d=function(e,t){if(t)e.push(ss);else{let t=e.indexOf(ss);t>-1&&e.splice(t,1)}return e}(tq.elementTypes,i));let r=f(G.s_elementType,d,G.s_elementType,a,o(e,G.s_elementType),n,n),l=r.querySelector("select");return l.addEventListener("change",e=>{let s=e.target;t.setElementType(s.value),x(s)}),l.value=a,x(l),s8(d,l),s.appendChild(r),r}function sC(e,t,s,i){sy(s,e+"_"+G.s_x3,G.s_x3,t.getX3.bind(t),t.setX3.bind(t),i),sy(s,e+"_"+G.s_y3,G.s_y3,t.getY3.bind(t),t.setY3.bind(t),i),sy(s,e+"_"+G.s_z3,G.s_z3,t.getZ3.bind(t),t.setZ3.bind(t),i)}function sy(e,t,s,i,n,a){let d=C(void 0,a);e.appendChild(d);let r=s+t5,l=s+t4,g=E(l,o(t,"Button"),a);d.appendChild(g),g.classList.add(t8),g.classList.add(se);let h=o(t,s,"Input"),m=i();void 0==m?(g.textContent=l,g.classList.toggle(t8)):(sT(d,h,m,n,a),g.textContent=r,g.classList.toggle(se)),g.addEventListener("click",e=>{null==document.getElementById(h)?(sT(d,h,0,n,a),g.textContent=r):(document.getElementById(h)?.remove(),console.log("Removed "+h),g.textContent=l),g.classList.toggle(t8),g.classList.toggle(se)})}function sT(e,t,s,i,n){let a;a=void 0==s?"":s.toString();let o=u("text",t,n);o.addEventListener("change",e=>{let t=e.target;i(parseFloat(t.value)),console.log("Coordinate changed from "+s+" to "+t.value),N(t)}),o.value=a,N(o),e.appendChild(o)}function sS(e,t,s,...i){let n=E("Remove ✕",void 0,t);return e.appendChild(n),n.addEventListener("click",()=>{s(...i),e.remove()}),n}function sw(e,t,s,i,n){let a=o(s,O.s_order),d=C(void 0,n);e.appendChild(d);let r=i+t5,l=i+t4,g=E(l,void 0,n);d.appendChild(g),g.classList.add(t8),g.classList.add(se);let h=t.getOrder();void 0==h?(g.textContent=l,g.classList.toggle(t8)):(sM(d,t,a,h,n),g.textContent=r,g.classList.toggle(se)),g.addEventListener("click",e=>{null==document.getElementById(a)?(sM(d,t,a,1,n),g.textContent=r):(document.getElementById(a)?.remove(),console.log("Removed "+a),g.textContent=l),g.classList.toggle(t8),g.classList.toggle(se)})}function sM(e,t,s,i,n){let a=i.toString(),o=v(O.orderOptions,O.s_order,a,s,n);o.addEventListener("change",e=>{let s=e.target;t.setOrder(parseFloat(s.value)),console.log(O.s_order+" changed from "+a+" to "+s.value),x(s)}),o.value=a,x(o),o.id=s,e.appendChild(o)}function s_(e,t,s,i){let n;let a=b(o(e.id,"viewerContainer"),i);t.appendChild(a);let d=o(e.id,"viewer"),r=!1,l=!1;function h(t,i){let n=b(d,s);n.className="mol-container",a.appendChild(n);let o=$3Dmol.createViewer(n,{backgroundColor:"grey"});return o.setStyle({stick:{}}),e.getAtoms().atoms.forEach(function(e){let s,i,n=e.getElementType();s=void 0==n?"Purple":tq.atomColors.get(n)||"Purple",i=void 0==n?100:tq.atomRadii.get(e.getElementType())||100;let a=e.getX3()||0,d=e.getY3()||0,r=e.getZ3()||0;o.addSphere({center:{x:a,y:d,z:r},radius:i/110,color:s}),t&&o.addLabel(e.getId(),{position:{x:a,y:d,z:r}})}),console.log("molecule.getBonds().bonds.size "+e.getBonds().bonds.size),e.getBonds().bonds.forEach(function(t){console.log("bond.atomRefs2 "+t.getAtomRefs2());let s=t.getAtomRefs2().split(" "),n=e.getAtoms(),a=n.getAtom(s[0]),d=n.getAtom(s[1]),r=t.getOrder()||1,l=tq.bondColors.get(r)||"Purple",g=a.getX3()||0,h=a.getY3()||0,m=a.getZ3()||0,c=d.getX3()||0,u=d.getY3()||0,p=d.getZ3()||0;o.addCylinder({start:{x:g,y:h,z:m},end:{x:c,y:u,z:p},radius:.06*r,color:l}),i&&o.addLabel(t.getId(),{position:{x:(g+c)/2,y:(h+u)/2,z:(m+p)/2}})}),o.zoomTo(),o.render(),o.zoom(.8,2e3),o}let m=E("Draw/Redraw",void 0);function c(e,t,i,a){let o=E((i?"Hide ":"Show ")+e,t,s);return o.addEventListener("click",()=>{i?(o.textContent="Show "+e,i=!1):(o.textContent="Hide "+e,i=!0),a(i),g(d,sd),n=h(r,l)}),o}m.addEventListener("click",()=>{g(d,sd),n=h(r,l)}),a.appendChild(m);let u="Atom Labels",p=c(u,o(e.id,u),r,e=>r=e);a.appendChild(p);let N="Bond Labels",x=c(N,o(e.id,N),l,e=>l=e);a.appendChild(x);let v=E("Save Image",void 0);v.addEventListener("click",()=>{let e=n.pngURI(),t=document.createElement("a");t.href=e,t.download="mol.png",document.body.appendChild(t),t.click(),document.body.removeChild(t),console.log("Save Image")}),a.appendChild(v)}function sR(e,t,s,i,n,a,o){let d=i.getElementsByTagName(q.tagName);if(d.length>0){if(1!=d.length)throw Error("Expecting 1 "+q.tagName+" but finding "+d.length+"!");let i=M(d[0]),r=parseFloat(i),l=A(d[0]),g=new q(l,r);e.setProperty(g);let h=e.dictRef,m=c("number",s.id+"_"+e.dictRef,t3,o,e=>{let t=e.target;sP(g,t)},i,h),u=m.querySelector("input");N(u),u.addEventListener("change",t=>{i=t.target.value,(g=e.getProperty()).value=parseFloat(i),console.log("Set "+e.dictRef+" of "+s.id+" to "+i),N(u),e.dictRef==$.dictRef&&(r<so&&(so=r),r>sa&&(sa=r),sm())}),sz(t,l,m,s.id+"_"+e.dictRef+"_Select_Units",e.dictRef,a),n.appendChild(m)}else{let d=i.getElementsByTagName(H.tagName);if(d.length>0){if(1!=d.length)throw Error("Expecting 1 "+H.tagName+" but finding "+d.length+"!");let i=M(d[0]),l=r(i.split(/\s+/)),g=A(d[0]),h=new H(g,l);e.setProperty(h);let m=e.dictRef,u=c("text",s.id+"_"+e.dictRef,a,o,e=>{let t=e.target;sL(h,t)},i,m),p=u.querySelector("input");p.value=i,N(p),p.addEventListener("change",t=>{i=t.target.value,h=e.getProperty(),l=r(i.split(/\s+/)),h.values=l,console.log("Set "+e.dictRef+" of "+s.id+" to "+i),N(p)}),sz(t,g,u,s.id+"_"+e.dictRef+"_Select_Units",e.dictRef,a),n.appendChild(u)}else{let d=i.getElementsByTagName(Y.tagName);if(d.length>0){if(1!=d.length)throw Error("Expecting 1 "+Y.tagName+" but finding "+d.length+"!");let i=M(d[0]),l=r(i.split(/\s+/)),g=A(d[0]),h=new Y(g,l);e.setProperty(h);let m=e.dictRef,u=c("text",s.id+"_"+e.dictRef,a,o,e=>{let t=e.target;sL(h,t)},i,m),p=u.querySelector("input");p.value=i,N(p),p.addEventListener("change",t=>{i=t.target.value,h=e.getProperty(),l=r(i.split(/\s+/)),h.values=l,console.log("Set "+e.dictRef+" of "+s.id+" to "+i),N(p)}),sz(t,g,u,s.id+"_"+e.dictRef+"_Select_Units",e.dictRef,a),n.appendChild(u)}else throw Error("Expecting "+q.tagName+", "+H.tagName+" or "+Y.tagName+" but finding none!")}}}function sz(e,t,s,i,n,a){if(void 0!=e){let a=function(e,t,s,i){let n=t.get("units");if(void 0!=n){let a=f("units",e,"units",n,s,t3,t3),o=a.querySelector("select");return o.value=n,x(o),o.addEventListener("change",e=>{let s=e.target;t.set("units",s.value),console.log("Set "+i+" units to "+s.value),x(s)}),a}}(e,t,i,n);void 0!=a&&s.appendChild(a)}else{let e=t.get("units");if(void 0!=e){let t=y("units "+e,a);s.appendChild(t)}}}function sL(e,t){let s=t.value.trim();if(""==s){alert("Empty input resetting..."),t.value=d(e.values," ");return}let i=s.split(/\s+/),n=[],a=!0;if(i.forEach(function(e){l(e)||(a=!1),n.push(parseFloat(e))}),!a){alert("An input is not a number, resetting..."),t.value=d(e.values," ");return}n.length==e.values.length?console.log("Changed "+e.tagName+' from: "'+s+'" to: "'+d(e.values," ")+'"'):(alert("Expecting "+e.values.length+" values for, but finding "+n.length+" resetting..."),t.value=d(e.values," "))}function sP(e,t){if(l(t.value)){let s=parseFloat(t.value);e.value=s,console.log(e.tagName+" value set to "+s)}else alert("Value is not numeric, resetting..."),t.value=e.value.toExponential()}function sI(e,t,i,n,a,d){let r=document.createElement("div");t.appendChild(r);let l=o(eD.tagName,i.toString(),eR.tagName);h({divToAddTo:t,elementToInsertBefore:null,content:r,buttonLabel:eR.tagName,buttonId:o(l,t7),margin:a,contentDivId:l});let g=E(t6,void 0,d);if(r.appendChild(g),g.addEventListener("click",()=>{let t=new eR(new Map,ss),n=e.addBathGas(t),a=C(void 0,d),l=o(eD.tagName,i.toString(),eR.tagName,n.toString()),h=sH(Array.from(new Set(s.keys())),t,!0,l);h.classList.add(eR.tagName),a.appendChild(h),sS(a,t3,t=>{r.removeChild(a),e.removeBathGas(t)}),r.insertBefore(a,g)}),null!=n){let t=Array.from(n.children).filter(e=>e.tagName===eR.tagName);if(t.length>0)for(let n=0;n<t.length;n++){let a=new eR(A(t[n]),w(S(t[n])));console.log("bathGas"+a.toString());let l=e.addBathGas(a),h=o(eD.tagName,i.toString(),eR.tagName,l.toString()),m=C(h,d),c=sH(Array.from(new Set(s.keys())),a,!1,h);m.appendChild(c),sS(m,t3,t=>{r.removeChild(m),e.removeBathGas(t)}),r.insertBefore(m,g)}else{let t=C(void 0,d),n=o(eD.tagName,i.toString(),eR.tagName,"0");t.appendChild(sH(Array.from(new Set(s.keys())),void 0,!1,n)),sS(t,t3,s=>{r.removeChild(t),e.removeBathGas(s)}),r.insertBefore(t,g)}}}function sB(e,t,i,n,a,d){let r,l=new Set(s.keys()),g=b(void 0,t3);if(t.appendChild(g),n){let e=n.getElementsByTagName(eA.tagName);if(e.length>0){if(e.length>1)throw Error("Expecting 1 "+eA.tagName+" but finding "+e.length+"!");let s=A(e[0]),n=e[0].getElementsByTagName(eB.tagName);if(0==n.length)throw Error("Expecting 1 or more "+eB.tagName+" but finding 0!");r=new eA(s);for(let e=0;e<n.length;e++){let s=A(n[e]);var m=void 0;console.log("pTpairAttributes="+(null==s?"":(void 0==m&&(m=", "),Array.from(s.entries()).map(([e,t])=>`${null==e?"null":e.toString()}(${null==t?"null":t.toString()})`).join(m))));let a=new eB(s);r.addPTpair(a);let o=n[e].getElementsByTagName(eR.tagName);o.length>0&&(o.length>1&&console.warn("xml_bathGass.length="+o.length),a.setBathGas(new eR(A(o[0]),w(S(o[0])))));let h=n[e].getElementsByTagName(ez.tagName);h.length>0&&(h.length>1&&console.warn("xml_experimentRates.length="+h.length),a.setExperimentalRate(new ez(A(h[0]),parseFloat(w(S(h[0]))))));let c=n[e].getElementsByTagName(eL.tagName);c.length>0&&(c.length>1&&console.warn("xml_experimentalYields.length="+c.length),a.setExperimentalYield(new eL(A(c[0]),parseFloat(w(S(c[0]))))));let u=n[e].getElementsByTagName(eP.tagName);u.length>0&&(u.length>1&&console.warn("xml_experimentalEigenvalues.length="+u.length),a.setExperimentalEigenvalue(new eP(A(u[0]),parseFloat(w(S(u[0])))))),g.append(sD(r,g,a,t.id,i,e,l,d))}}else r=new eA(new Map)}else r=new eA(new Map);e.setPTs(r);let c=o(eD.tagName,i.toString(),eA.tagName);h({divToAddTo:t,elementToInsertBefore:null,content:g,buttonLabel:eA.tagName,buttonId:o(c,t7),margin:a,contentDivId:c});let p=b(void 0,d);g.appendChild(p);let N=E(t6,void 0,t3);p.appendChild(N),N.addEventListener("click",()=>{let e=new Map;e.set("units","Torr");let s=new eB(e),n=r.addPTpair(s);console.log("Added new pTpair pTpairIndex="+n),g.insertBefore(sD(r,g,s,t.id,i,n,l,d),p)});let x=E("Add from spreadsheet ＋",void 0,t3);p.appendChild(x),x.addEventListener("click",()=>{let e=C(void 0,d),s=u("text",o(eA.tagName,"addFromSpreadsheet"),d);e.appendChild(s),g.insertBefore(e,p),s.addEventListener("change",()=>{if(console.log("inputElement.value="+s.value),console.log("inputElement.value.length="+s.value.length),s.value.length>0){let n=s.value.split(" "),a=new Map;n[0].split("	").forEach((e,t)=>{a.set(e,t)}),console.log("pTpairsArray.length="+n.length);for(let e=1;e<n.length;e++){let s=n[e].split("	"),o=parseFloat(s[a.get("P")]),h=a.get("units"),m=new Map;if(a.has("units")){let e=s[h];m.set("units",e)}let c=new eB(m);r.addPTpair(c);let u=parseFloat(s[a.get("T")]);if(c.setP(o),c.setT(u),a.has(eB.s_excessReactantConc)){let e=s[a.get(eB.s_excessReactantConc)];m.set(eB.s_excessReactantConc,e)}if(a.has(eB.s_percentExcessReactantConc)){let e=s[a.get(eB.s_percentExcessReactantConc)];m.set(eB.s_percentExcessReactantConc,e)}if(a.has(eB.s_precision)){console.log("index.has(PTpair.s_precision)");let e=s[a.get(eB.s_precision)];m.set(eB.s_precision,e)}if(a.has(eR.tagName)){let e=s[a.get(eR.tagName)];c.setBathGas(new eR(new Map,e))}if(a.has(ez.tagName)){let e=s[a.get(ez.tagName)];m.set(ez.tagName,e),c.setExperimentalRate(new ez(new Map,parseFloat(e)));let t=s[a.get(ez.tagName+"_"+ez.s_ref1)];c.getExperimentalRate()?.setRef1(t);let i=s[a.get(ez.tagName+"_"+ez.s_ref2)];c.getExperimentalRate()?.setRef2(i);let n=s[a.get(ez.tagName+"_"+ez.s_refReaction)];c.getExperimentalRate()?.setRefReaction(n);let o=s[a.get(ez.tagName+"_"+ez.s_error)];c.getExperimentalRate()?.setError(parseFloat(o))}if(a.has(eL.tagName)){let e=s[a.get(eL.tagName)];c.setExperimentalYield(new eL(new Map,parseFloat(e)));let t=s[a.get(eL.tagName+"_"+eL.s_ref)];c.getExperimentalYield()?.setRef(t);let i=s[a.get(eL.tagName+"_"+eL.s_yieldTime)];c.getExperimentalYield()?.setYieldTime(parseFloat(i));let n=s[a.get(eL.tagName+"_"+eL.s_error)];c.getExperimentalYield()?.setError(parseFloat(n))}if(a.has(eP.tagName)){let e=s[a.get(eP.tagName)];c.setExperimentalEigenvalue(new eP(new Map,parseFloat(e)));let t=s[a.get(eP.tagName+"_"+eP.s_EigenvalueID)];c.getExperimentalEigenvalue()?.setEigenvalueID(t);let i=s[a.get(eP.tagName+"_"+eP.s_error)];c.getExperimentalEigenvalue()?.setError(parseFloat(i))}let N=r.pTpairs.length-1;g.insertBefore(sD(r,g,c,t.id,i,N,l,d),p)}g.removeChild(e)}})});let v=E("Remove All",void 0,t3);p.appendChild(v),v.addEventListener("click",()=>{r.removePTpairs();let e=g.firstChild;for(;null!=e&&e!=p;){let t=e.nextSibling;g.removeChild(e),e=t}})}function sA(e,s,i,n,a){let d=new eD(e,a);t.addConditions(d);let r=o(eD.tagName,a.toString());return h({divToAddTo:n,elementToInsertBefore:i,content:s,buttonLabel:"Conditions "+a.toString(),buttonId:o(r,t7),margin:tQ,contentDivId:r}),d}function sD(e,t,s,i,n,a,d,r){let l=C(void 0,r);return sF(l,eB.s_P,s.getP.bind(s),s.setP.bind(s)),sz(tq.pressureUnits,s.attributes,l,eB.tagName,eB.tagName,t3),sF(l,eB.s_T,s.getT.bind(s),s.setT.bind(s)),o(i,eB.tagName,a.toString()),sG(l,s,n,a,eB.s_excessReactantConc,sU),function(e,t,s,i){let n=o(s.toString(),i.toString(),eB.s_percentExcessReactantConc),a=b(n,t3);e.append(a);let d=eB.s_percentExcessReactantConc,r=d+t5,l=d+t4,g=E(l,o(n,t7),t3);a.appendChild(g),g.classList.add(t8),g.classList.add(se),t.attributes.get(d)?.toLowerCase()=="true"?(g.classList.toggle(se),g.textContent=r):(g.classList.toggle(t8),g.textContent=l),g.addEventListener("click",e=>{g.classList.toggle(t8),g.classList.toggle(se),g.textContent===l?(g.textContent=r,t.attributes.set(d,"true")):(g.textContent=l,t.attributes.delete(d))})}(l,s,n,a),sG(l,s,n,a,eB.s_precision,sO),function(e,t,s,i,n){let a=o(s.toString(),i.toString(),eR.tagName),d=b(a,t3);e.append(d);let r=eR.tagName,l=r+t5,h=r+t4,m=E(h,o(a,t7),t3);d.appendChild(m),m.classList.add(t8),m.classList.add(se);let c=o(a,t9),u=t.getBathGas();void 0==u?(m.classList.toggle(t8),m.textContent=h):(m.classList.toggle(se),m.textContent=l,!1==n.has(u.value)&&console.warn("moleculeKeys does not contain "+u.value),d.appendChild(sq(c,t,u,!1))),m.addEventListener("click",e=>{m.classList.toggle(t8),m.classList.toggle(se),m.textContent===h?(m.textContent=l,d.appendChild(sq(c,t,u,!1))):(m.textContent=h,g(c))})}(l,s,n,a,d),sk(l,s,n,a,ez.tagName,e=>e.getExperimentalRate(),sY),sk(l,s,n,a,eL.tagName,e=>e.getExperimentalYield(),sV),sk(l,s,n,a,eL.tagName,e=>e.getExperimentalEigenvalue(),s$),sS(l,t3,(s,i,n)=>{t.removeChild(s),void 0!==i&&e.removePTpair(i),n.removeBathGas()},l,a,s),l}function sF(e,t,s,i){let n=c("number",eB.tagName+"_"+t,t3,tK,e=>{let n=e.target;l(n.value)?(i(parseFloat(n.value)),console.log(`Set ${t} to ${n.value}`)):(alert("Value is not numeric, resetting..."),n.value=s().toString()),N(n)},s().toExponential(),t),a=n.querySelector("input");a.value=s().toString(),N(a),e.appendChild(n)}function sG(e,t,s,i,n,a){let d=o(s.toString(),i.toString(),n),r=b(d,t3);e.append(r);let l=n+t5,h=n+t4,m=E(h,o(d,t7),t3);r.appendChild(m),m.classList.add(t8),m.classList.add(se);let c=o(d,t9);if(t.attributes.has(n)){m.classList.toggle(se),m.textContent=l;let e=a(c,t);r.insertBefore(e,m.nextSibling)}else m.classList.toggle(t8),m.textContent=h;m.addEventListener("click",e=>{if(m.classList.toggle(t8),m.classList.toggle(se),m.textContent===h){m.textContent=l;let e=a(c,t);r.insertBefore(e,m.nextSibling)}else m.textContent=h,g(c)})}function sk(e,t,s,i,n,a,d){let r=o(s.toString(),i.toString(),n),l=b(r,t3);e.append(l);let h=n+t5,m=n+t4,c=E(m,o(r,t7),t3);l.appendChild(c),c.classList.add(t8),c.classList.add(se);let u=o(r,t9);void 0==a(t)?(c.classList.toggle(t8),c.textContent=m):(c.classList.toggle(se),c.textContent=h,l.appendChild(d(u,t,i))),c.addEventListener("click",e=>{c.classList.toggle(t8),c.classList.toggle(se),c.textContent===m?(c.textContent=h,l.appendChild(d(u,t,i))):(c.textContent=m,g(u))})}function sO(e,t){let s;s=t.attributes.has(eB.s_precision)?t.attributes.get(eB.s_precision):tq.precisionOptions[0];let i=v(tq.precisionOptions,eB.s_precision,s,e,t3);return i.addEventListener("change",e=>{let s=e.target;t.setPrecision(s.value),console.log("Set "+eB.s_precision+" to "+s.value),x(s)}),x(i),i}function sU(e,t){let s,i=u("number",e,t3);return s=t.attributes.has(eB.s_excessReactantConc)?t.attributes.get(eB.s_excessReactantConc):NaN.toString(),console.log(eB.s_excessReactantConc+"="+s),i.value=s,i.addEventListener("change",e=>{let s=e.target;t.setExcessReactantConc(s.value),console.log("Set "+eB.s_excessReactantConc+" to "+s.value),N(s)}),N(i),i}function sq(e,t,i,n){let a=sH(Array.from(new Set(s.keys())),i,n,e);return a.id=e,a.addEventListener("change",e=>{let s=e.target;t.setBathGas(new eR(new Map,s.value)),console.log("Set bathGas to "+s.value),x(s)}),x(a),a}function sH(e,t,s,i){let n;if(s)e.push(ss);else{let t=e.indexOf(ss);t>-1&&e.splice(t,1)}void 0==t?(t=new eR(new Map,ss),n=ss):n=t.value;let a=v(e,eR.tagName,n,o(i,"Select"),t3);return a.classList.add(eR.tagName),s8(e,a),a.addEventListener("change",e=>{let s=e.target;t.value=s.value,console.log("Added "+s.value+" as "+eR.tagName),x(s)}),a.value=n,x(a),a}function sY(e,t){return sX(t,e,e=>e.getExperimentalRate(),(e,t)=>e.setExperimentalRate(t),ez,[{tagName:ez.tagName,type:"number",eventHandler:(e,s)=>sP(t.getExperimentalRate(),s),valueGetter:()=>t.getExperimentalRate().value.toString()},{tagName:ez.tagName+"_"+ez.s_ref1,type:"text",eventHandler:(e,s)=>t.getExperimentalRate()?.setRef1(s.value),valueGetter:()=>t.getExperimentalRate().getRef1()},{tagName:ez.tagName+"_"+ez.s_ref2,type:"text",eventHandler:(e,s)=>t.getExperimentalRate()?.setRef2(s.value),valueGetter:()=>t.getExperimentalRate().getRef2()},{tagName:ez.tagName+"_"+ez.s_refReaction,type:"text",eventHandler:(e,s)=>t.getExperimentalRate()?.setRefReaction(s.value),valueGetter:()=>t.getExperimentalRate().getRefReaction()},{tagName:ez.tagName+"_"+ez.s_error,type:"number",eventHandler:(e,s)=>t.getExperimentalRate()?.setError(parseFloat(s.value)),valueGetter:()=>t.getExperimentalRate().getError().toString()}])}function sV(e,t){return sX(t,e,e=>e.getExperimentalYield(),(e,t)=>e.setExperimentalYield(t),eL,[{tagName:eL.tagName,type:"number",eventHandler:(e,s)=>sP(t.getExperimentalYield(),s),valueGetter:()=>t.getExperimentalYield().value.toString()},{tagName:eL.tagName+"_"+eL.s_ref,type:"text",eventHandler:(e,s)=>t.getExperimentalYield()?.setRef(s.value),valueGetter:()=>t.getExperimentalYield().getRef()},{tagName:eL.tagName+"_"+eL.s_yieldTime,type:"number",eventHandler:(e,s)=>t.getExperimentalYield()?.setYieldTime(parseFloat(s.value)),valueGetter:()=>t.getExperimentalYield().getYieldTime().toString()},{tagName:eL.tagName+"_"+eL.s_error,type:"number",eventHandler:(e,s)=>t.getExperimentalYield()?.setError(parseFloat(s.value)),valueGetter:()=>t.getExperimentalYield().getError().toString()}])}function s$(e,t){return sX(t,e,e=>e.getExperimentalEigenvalue(),(e,t)=>e.setExperimentalEigenvalue(t),eP,[{tagName:eP.tagName,type:"number",eventHandler:(e,s)=>sP(t.getExperimentalEigenvalue(),s),valueGetter:()=>t.getExperimentalEigenvalue().value.toString()},{tagName:eP.tagName+"_"+eP.s_EigenvalueID,type:"text",eventHandler:(e,s)=>t.getExperimentalEigenvalue()?.setEigenvalueID(s.value),valueGetter:()=>t.getExperimentalEigenvalue().getEigenvalueID()},{tagName:eP.tagName+"_"+eP.s_error,type:"number",eventHandler:(e,s)=>t.getExperimentalEigenvalue()?.setError(parseFloat(s.value)),valueGetter:()=>t.getExperimentalEigenvalue().getError().toString()}])}function sX(e,t,s,i,n,a){let o=b(void 0,t3);o.id=t;let d=s(e);for(let s of(void 0==d&&i(e,d=new n(new Map,NaN)),a)){let e=t+"_"+s.tagName;o.appendChild(c(s.type,e,t3,tK,e=>{let t=e.target;s.eventHandler(e,t),console.log("Set "+s.tagName+" to "+t.value),N(t)},s.valueGetter(),s.label||""))}return o}function sj(e,t,s,i,n,a){let o,d,r=C(void 0,tQ);s.appendChild(r);let l=i.tagName,g=l+t5,h=l+t4,m=t.getElementsByTagName(l),c=E(l,void 0,t3);c.classList.add(t8),c.classList.add(se),r.appendChild(c);let u=eU.tagName+"_"+l+"_input",p=eU.tagName+"_"+l+"_select";if(1==m.length){let t=parseFloat(d=w(S(m[0])));o=new i(A(m[0]),t),c.textContent=g,sW(e,r,o,u,p,d,n,void 0),c.classList.toggle(se)}else d="",o=new i(new Map,NaN),c.textContent=h,c.classList.toggle(t8);c.addEventListener("click",()=>{e.index.has(l)?(d=o.value.toExponential(),a(),document.getElementById(u)?.remove(),c.textContent=h):(sW(e,r,o,u,p,d,n,void 0),c.textContent=g),c.classList.toggle(t8),c.classList.toggle(se)})}function sW(e,t,s,i,n,a,o,d){o.call(e,s);let r=u("number",i,t3);r.addEventListener("change",e=>{let t=e.target;sP(s,t),N(t)}),r.value=a,N(r),t.appendChild(r),sz(d,s.attributes,t,n,s.constructor.tagName,t3)}function sZ(e){return[{class:eq,setMethod:e.setCalculateRateCoefficientsOnly,removeMethod:e.removeCalculateRateCoefficientsOnly},{class:eH,setMethod:e.setPrintCellDOS,removeMethod:e.removePrintCellDOS},{class:eY,setMethod:e.setPrintCellTransitionStateFlux,removeMethod:e.removePrintCellTransitionStateFlux},{class:eV,setMethod:e.setPrintReactionOperatorColumnSums,removeMethod:e.removePrintReactionOperatorColumnSums},{class:e$,setMethod:e.setPrintGrainBoltzmann,removeMethod:e.removePrintGrainBoltzmann},{class:eX,setMethod:e.setPrintGrainDOS,removeMethod:e.removePrintGrainDOS},{class:ej,setMethod:e.setPrintGrainkbE,removeMethod:e.removePrintGrainkbE},{class:eW,setMethod:e.setPrintGrainkfE,removeMethod:e.removePrintGrainkfE},{class:eZ,setMethod:e.setPrintTSsos,removeMethod:e.removePrintTSsos},{class:eK,setMethod:e.setPrintGrainedSpeciesProfile,removeMethod:e.removePrintGrainedSpeciesProfile},{class:eQ,setMethod:e.setPrintGrainTransitionStateFlux,removeMethod:e.removePrintGrainTransitionStateFlux},{class:eJ,setMethod:e.setPrintReactionOperatorSize,removeMethod:e.removePrintReactionOperatorSize},{class:e0,setMethod:e.setPrintSpeciesProfile,removeMethod:e.removePrintSpeciesProfile},{class:e1,setMethod:e.setPrintPhenomenologicalEvolution,removeMethod:e.removePrintPhenomenologicalEvolution},{class:e2,setMethod:e.setPrintTunnelingCoefficients,removeMethod:e.removePrintTunnelingCoefficients},{class:e3,setMethod:e.setPrintCrossingCoefficients,removeMethod:e.removePrintCrossingCoefficients},{class:e5,setMethod:e.setTestDOS,removeMethod:e.removeTestDOS},{class:e4,setMethod:e.setTestRateConstants,removeMethod:e.removeTestRateConstants},{class:e6,setMethod:e.setUseTheSameCellNumberForAllConditions,removeMethod:e.removeUseTheSameCellNumberForAllConditions},{class:e7,setMethod:e.setForceMacroDetailedBalance,removeMethod:e.removeForceMacroDetailedBalance}]}function sK(e){return[{class:tz,setMethod:e.setEigenvalues,removeMethod:e.removeEigenvalues},{class:tL,setMethod:e.setShortestTimeOfInterest,removeMethod:e.removeShortestTimeOfInterest},{class:tP,setMethod:e.setMaximumEvolutionTime,removeMethod:e.removeMaximumEvolutionTime},{class:tI,setMethod:e.setAutomaticallySetMaxEne,removeMethod:e.removeAutomaticallySetMaxEne},{class:tB,setMethod:e.setDiagramEnergyOffset,removeMethod:e.removeDiagramEnergyOffset}]}function sQ(e,s,i,n,a){let d=new tD(e,a);t.addControl(d);let r=o(tD.tagName,a.toString());return h({divToAddTo:n,elementToInsertBefore:i,content:s,buttonLabel:"Control "+a.toString(),buttonId:o(r,t7),margin:tQ,contentDivId:r}),d}function sJ(e,t,s,i,n,a){i.call(e,s);let o=u("number",n,t3);o.addEventListener("change",e=>{let t=e.target;sP(s,t),N(t)}),o.value=a,N(o),t.appendChild(o)}function s0(e,t,s,i,n,a,d,r,l,h=!1){let m,c,u,p=d.tagName,N=p+t5,x=p+t4,v=E(x,void 0,t3);if(v.classList.add(t8),v.classList.add(se),i&&i.set(p,v),a&&(c=C(void 0,a),t.appendChild(c),c.appendChild(v),u=o(tD.tagName,p,t9)),n){let t=n.getElementsByTagName(p);if(1==t.length){if(h){let s=w(S(t[0])),i=parseFloat(s);m=new d(A(t[0]),i),sJ(e,c,m,r,u,s)}else r.call(e,m);v.textContent=N,v.classList.toggle(se)}else v.textContent=x,v.classList.toggle(t8)}else m=new d(new Map),v.textContent=x,v.classList.toggle(t8);v.addEventListener("click",t=>{e.index.has(p)?(h&&g(u),l.call(e),v.textContent=x):(h?sJ(e,c,m,r,u,""):r.call(e,m),v.textContent=N),v.classList.toggle(t8),v.classList.toggle(se)})}function s1(e,t,s,i,n){let a,d=C(void 0,n);t.appendChild(d);let r=e8.tagName,l=r+t5,h=r+t4,m=E(h,void 0,t3);d.appendChild(m),m.classList.add(t8),m.classList.add(se);let c=o(tD.tagName,r,s.toString()),u=C(c,t3);d.appendChild(u);let p=e8.options,N=o(c,"details"),x=o(N,"select");if(i){let t=i.getElementsByTagName(r);if(t.length>0){if(t.length>1)throw Error("More than one CalcMethod element.");let s=A(t[0]),i=s.get("xsi:type");a=function(e,t,s,i,n,a,o,d,r){let l;let g=ie(e,t,i,a,o,d,r);g.value=o,t.appendChild(g);let h=C(void 0,t3);if(h.id=d,t.appendChild(h),o==te.xsi_type||o==te.xsi_type2)l=new te(n);else if(o==tt.xsi_type||o==tt.xsi_type2)l=new tt(n);else if(o==ti.xsi_type||o==ti.xsi_type2){let e=new ti(n);l=e;let t=s[0].getElementsByTagName(ts.tagName);if(t.length>0){if(1==t.length){let s=parseFloat(w(S(t[0]))),i=new ts(A(t[0]),s);e.setFittingIterations(i)}else throw Error("More than one FittingIterations element.")}s5(h,e)}else if(o==td.xsi_type||o==td.xsi_type2){let e=new td(n);function m(e,t,s){let i=tn.tagName,n=e[0].getElementsByTagName(i);if(n.length>0){if(1==n.length){let e=parseFloat(w(S(n[0])));s(new t(A(n[0]),e))}else throw Error(`More than one ${i} element.`)}}l=e,m(s,tn,e.setMarquardtIterations.bind(e)),m(s,ta,e.setMarquardtTolerance.bind(e)),m(s,to,e.setMarquardtDerivDelta.bind(e)),s4(h,e)}else if(o==tf.xsi_type||o==tf.xsi_type2){let e=new tf(n);function m(e,t,s){let i=t.tagName,n=e[0].getElementsByTagName(i);if(n.length>0){if(1==n.length){let e=w(S(n[0]));isNaN(parseFloat(e))||(e=parseFloat(e)),s(new t(A(n[0]),e))}else throw Error(`More than one ${i} element.`)}}l=e,m(s,tl,e.setFormat.bind(e)),m(s,tg,e.setPrecision.bind(e)),m(s,th,e.setChebNumTemp.bind(e)),m(s,tm,e.setChebNumConc.bind(e)),m(s,tc,e.setChebMaxTemp.bind(e)),m(s,tu,e.setChebMinTemp.bind(e)),m(s,tp,e.setChebMaxConc.bind(e)),m(s,tN,e.setChebMinConc.bind(e)),m(s,tx,e.setChebTExSize.bind(e)),m(s,tv,e.setChebPExSize.bind(e)),s6(h,e)}else if(o==tT.xsi_type||o==tT.xsi_type2){let e=new tT(n);function m(e,t,s){let i=t.tagName,n=e[0].getElementsByTagName(i);if(n.length>0){if(1==n.length){let e=parseFloat(w(S(n[0])));s(new t(A(n[0]),e))}else throw Error(`More than one ${i} element.`)}}l=e,m(s,tE,e.setTmin.bind(e)),m(s,tb,e.setTmid.bind(e)),m(s,tC,e.setTmax.bind(e)),m(s,ty,e.setTstep.bind(e)),s7(h,e)}else if(o==tR.xsi_type||o==tR.xsi_type2){let e=new tR(n);function m(e,t,s){let i=t.tagName,n=e[0].getElementsByTagName(i);if(n.length>0){if(1==n.length){let e=w(S(n[0]));isNaN(parseFloat(e))||(e=parseFloat(e)),s(new t(A(n[0]),e))}else throw Error(`More than one ${i} element.`)}}l=e,m(s,tS,e.setSensitivityAnalysisSamples.bind(e)),m(s,tw,e.setSensitivityAnalysisOrder.bind(e)),m(s,tM,e.setSensitivityNumVarRedIters.bind(e)),m(s,t_,e.setSensitivityVarRedMethod.bind(e)),s9(h,e)}else throw Error("Unknown xsi:type: "+o);return l}(e,u,t,p,s,r,i,N,x),e.setCalcMethod(a),m.classList.toggle(se),m.textContent=l}else m.classList.toggle(t8),m.textContent=h}else m.classList.toggle(t8),m.textContent=h;m.addEventListener("click",t=>{if(e.index.has(r))null!=e.getCalcMethod()&&(e.removeCalcMethod(),g(N),console.log("remove(divCmDetailsSelectId) "+x),console.log("button.textContent "+m.textContent),g(x),m.textContent=h,m.classList.toggle(t8),m.classList.toggle(se));else{p[p.length-1]!=ss&&p.push(ss),g(N),g(x);let t=ie(e,d,p,r,ss,N,x);u.appendChild(t),m.textContent=l,m.classList.toggle(t8),m.classList.toggle(se)}})}function s2(e,t,s,i){let n=C(void 0,i);t.appendChild(n);let a=tA.tagName,o=a+t5,d=a+t4,r=E(a,void 0,t3);r.id=tD.tagName+"_"+a,n.appendChild(r),r.classList.add(t8),r.classList.add(se);let l=tD.tagName+"_"+a+"_Tmax",g=tD.tagName+"_"+a+"_Tmin",h=tD.tagName+"_"+a+"_Tstep";if(s){let t=s.getElementsByTagName(a);1==t.length?(s3(e,n,t,l,g,h),r.classList.toggle(se),r.textContent=o):(r.classList.toggle(t8),r.textContent=d)}else r.classList.toggle(t8),r.textContent=d;r.addEventListener("click",t=>{e.index.has(a)?(e.removeTestMicroRates(),document.getElementById(l)?.remove(),document.getElementById(g)?.remove(),document.getElementById(h)?.remove(),r.textContent=d):(s3(e,n,null,l,g,h),r.textContent=o),r.classList.toggle(t8),r.classList.toggle(se)})}function s3(e,t,s,i,n,a){let o,d;if(null!=s&&s.length>0){if(s.length>1)throw Error("More than one TestMicroRates element.");d=new tA(o=A(s[0]))}else(o=new Map).set("Tmax",""),o.set("Tmin",""),o.set("Tstep",""),d=new tA(o);e.setTestMicroRates(d);let r=d.getTmax(),g=c("number",i+"_input",t3,tK,e=>{let t=e.target;l(t.value)?(d.setTmax(parseFloat(t.value)),console.log("Set Tmax to "+t.value)):(alert("Value is not numeric, resetting..."),t.value=r.toExponential()),N(t)},r.toExponential(),"Tmax");g.id=i,N(g.querySelector("input")),t.appendChild(g);let h=c("number",n+"_input",t3,tK,e=>{let t=e.target;l(t.value)?(d.setTmin(parseFloat(t.value)),console.log("Set Tmin to "+t.value)):(alert("Value is not numeric, resetting..."),t.value=r.toExponential()),N(t)},d.getTmin().toExponential(),"Tmin");h.id=n,N(h.querySelector("input")),t.appendChild(h);let m=c("number",a+"_input",t3,tK,e=>{let t=e.target;l(t.value)?(d.setTstep(parseFloat(t.value)),console.log("Set Tstep to "+t.value)):(alert("Value is not numeric, resetting..."),t.value=r.toExponential()),N(t)},d.getTstep().toExponential(),"Tstep");m.id=a,N(m.querySelector("input")),t.appendChild(m)}function s5(e,t){let s=t.getFittingIterations()||new ts(new Map,NaN);t.setFittingIterations(s),e.appendChild(c("number",e.id+"_FittingIterations_input",t3,tK,e=>{let t=e.target;l(t.value)?(s.value=parseInt(t.value),console.log("Set FittingIterations to "+t.value)):(alert("Value is not numeric, resetting..."),t.value=s.value.toString()),N(t)},s.value.toString(),ts.tagName))}function s4(e,t){function s(e,t,s,i){let n=o(t.id,e.tagName,"Input"),a=e.value.toString(),d=e.tagName;t.appendChild(c("number",n,s,i,t=>{let s=t.target;l(s.value)?(e.value=parseFloat(s.value),console.log("Set "+e.tagName+" to "+s.value)):(alert("Value is not numeric, resetting..."),s.value=e.value.toString()),N(s)},a,d))}let i=t.getMarquardtIterations()||new tn(new Map,NaN);t.setMarquardtIterations(i),s(i,e,t3,tK);let n=t.getMarquardtTolerance()||new ta(new Map,NaN);t.setMarquardtTolerance(n),s(n,e,t3,tK);let a=t.getMarquardtDerivDelta()||new to(new Map,NaN);t.setMarquardtDerivDelta(a),s(a,e,t3,tK)}function s6(e,t){let s=t.getFormat()||new tl(new Map,tl.options[0]);function i(t,s,i,n,a){let o=s()||new t(new Map,a[0]);i(o);let d=f(n,a,n,o.value,e.id,t3,t3);d.querySelector("select")?.addEventListener("change",e=>{let t=e.target;o.value=t.value,console.log(`Set ${n} to `+t.value),x(t)}),e.appendChild(d)}i(tl,t.getFormat.bind(t),t.setFormat.bind(t),tl.tagName,tl.options),i(tl,()=>s.getRateUnits(),s.setRateUnits.bind(s),tl.rateUnits,tl.rateUnitsOptions),i(tg,t.getPrecision.bind(t),t.setPrecision.bind(t),tg.tagName,tq.precisionOptions);let n=t.getChebNumTemp()||new th(new Map,NaN);function a(t,s,i,n){let a=s()||new t(new Map,NaN);i(a),e.appendChild(c("number",e.id+`_${n}_input`,t3,tK,e=>{let t=e.target;l(t.value)?(a.value=parseFloat(t.value),console.log(`Set ${n} to `+t.value)):(alert("Value is not numeric, resetting..."),t.value=NaN.toString()),N(t)},a.value.toString(),n))}t.setChebNumTemp(n),e.appendChild(c("number",e.id+"_ChebNumTemp_input",t3,tK,e=>{let t=e.target;l(t.value)?(n.value=parseFloat(t.value),console.log("Set ChebNumTemp to "+t.value)):(alert("Value is not numeric, resetting..."),t.value=NaN.toString()),N(t)},n.value.toString(),th.tagName)),a(tm,t.getChebNumConc.bind(t),t.setChebNumConc.bind(t),tm.tagName),a(tc,t.getChebMaxTemp.bind(t),t.setChebMaxTemp.bind(t),tc.tagName),a(tu,t.getChebMinTemp.bind(t),t.setChebMinTemp.bind(t),tu.tagName),a(tp,t.getChebMaxConc.bind(t),t.setChebMaxConc.bind(t),tp.tagName),a(tN,t.getChebMinConc.bind(t),t.setChebMinConc.bind(t),tN.tagName),a(tx,t.getChebTExSize.bind(t),t.setChebTExSize.bind(t),tx.tagName),a(tv,t.getChebPExSize.bind(t),t.setChebPExSize.bind(t),tv.tagName)}function s7(e,t){function s(t,s,i,n){let a=s()||new t(new Map,NaN);i(a),e.appendChild(c("number",e.id+`_${n}_input`,t3,tK,e=>{let t=e.target;l(t.value)?(a.value=parseFloat(t.value),console.log(`Set ${n} to `+t.value)):(alert("Value is not numeric, resetting..."),t.value=NaN.toString()),N(t)},a.value.toString(),n))}s(tE,t.getTmin.bind(t),t.setTmin.bind(t),tE.tagName),s(tb,t.getTmid.bind(t),t.setTmid.bind(t),tb.tagName),s(tC,t.getTmax.bind(t),t.setTmax.bind(t),tC.tagName),s(ty,t.getTstep.bind(t),t.setTstep.bind(t),ty.tagName)}function s9(e,t){function s(t,s,i,n){let a=s()||new t(new Map,NaN);i(a),e.appendChild(c("number",o(e.id,n,t9),t3,tK,e=>{let t=e.target;l(t.value)?(a.value=parseFloat(t.value),console.log(`Set ${n} to `+t.value)):(alert("Value is not numeric, resetting..."),t.value=NaN.toString()),N(t)},a.value.toString(),n))}s(tS,t.getSensitivityAnalysisSamples.bind(t),t.setSensitivityAnalysisSamples.bind(t),tS.tagName),s(tw,t.getSensitivityAnalysisOrder.bind(t),t.setSensitivityAnalysisOrder.bind(t),tw.tagName),s(tM,t.getSensitivityNumVarRedIters.bind(t),t.setSensitivityNumVarRedIters.bind(t),tM.tagName);let i=t.getSensitivityVarRedMethod()||new t_(new Map,"");t.setSensitivityVarRedMethod(i);let n=t_.tagName;e.appendChild(f(n,t_.options,n,t_.options[0],o(e.id,n,"select"),t3,t3));let a=e.querySelector("select");a?.addEventListener("change",e=>{let t=e.target;i.value=t.value,console.log(n+" set to "+t.value),x(t)})}function s8(e,t){t.addEventListener("click",s=>{e[e.length-1]==ss&&e.pop();let i=t.options.length-1;t.options[i].value==ss&&t.remove(i)})}function ie(e,t,s,i,n,a,o){let d=v(s,i,n,o,t3);return t.appendChild(d),s8(s,d),d.addEventListener("change",s=>{let i=document.getElementById(a);null!=i&&i.remove(),i=C(a,t3),t.appendChild(i);let n=s.target,o=n.value,d=new Map;if(d.set("xsi:type",o),o==te.xsi_type||o==te.xsi_type2)e.setCalcMethod(new te(d));else if(o==tt.xsi_type||o==tt.xsi_type2)e.setCalcMethod(new tt(d));else if(o==ti.xsi_type||o==ti.xsi_type2){let t=new ti(d);e.setCalcMethod(t),s5(i,t)}else if(o==td.xsi_type||o==td.xsi_type2){let t=new td(d);e.setCalcMethod(t),s4(i,t)}else if(o==tf.xsi_type||o==tf.xsi_type2){let t=new tf(d);e.setCalcMethod(t),s6(i,t)}else if(o==tT.xsi_type||o==tT.xsi_type2){let t=new tT(d);e.setCalcMethod(t),s7(i,t)}else if(o==tR.xsi_type||o==tR.xsi_type2){let t=new tR(new Map);e.setCalcMethod(t),s9(i,t)}else throw Error("Unknown CalcMethod type.");x(n)}),d}function it(e,t,n,o,d){if(console.log("drawReactionDiagram"),null!=e){var r,l;let g,h,m,c,u,p,N;t?(g="lightgrey",h="lightblue",m="orange"):(g="darkgrey",h="blue",m="darkorange");let x=e.getContext("2d");x.clearRect(0,0,e.width,e.height),x.font="bold "+n;let v=(r=x.font,x.font=r,(l=x.measureText("Aj")).actualBoundingBoxAscent+l.actualBoundingBoxDescent),f=[],E=new Set,b=new Set,C=new Set,y=new Map,T=new Map,S=0,w=Number.MAX_VALUE,M=Number.MIN_VALUE;i.forEach(function(e,t){let i=e.getTransitionStates(),n=e.getReactantsLabel();if(void 0!=n){f.push(n),E.has(n)&&b.add(n);let t=e.getReactantsEnergy(s);w=Math.min(w,t),M=Math.max(M,t),T.set(n,t),!y.has(n)&&(y.set(n,S),S++)}let o=e.getProductsLabel();if(void 0!=o){E.add(o);let t=e.getProductsEnergy(s);if(w=Math.min(w,t),M=Math.max(M,t),T.set(o,t),y.has(o)){S--;let e=a(y,o);y.forEach(function(t,s){t>e&&y.set(s,t-1)}),void 0!=i&&(i.forEach(function(e){let i=e.getMolecule().ref;C.add(i),y.set(i,S),t=s.get(i)?.getEnergy()??0,w=Math.min(w,t),M=Math.max(M,t),T.set(i,t),S++}),y.set(o,S),S++)}else void 0!=i&&i.forEach(function(e){let i=e.getMolecule().ref;C.add(i),y.set(i,S),t=s.get(i)?.getEnergy()??0,w=Math.min(w,t),M=Math.max(M,t),T.set(i,t),S++}),y.set(o,S),S++}});let _=M-w,R=[];y.forEach(function(e,t){R[e]=t});let z=0,L=0,P=new Map,I=new Map,B=new Map,A=new Map,D=new Map,F=new Map;R.forEach(function(e){let t=a(T,e),s=(t-w)*400/(_+0)+0;N=Math.max(e_(x,t.toString(),n),e_(x,e,n)),u=z+N+5,p=c=s+o,P.set(e,[z,c]),I.set(e,[u,p]),E.has(e)&&(B.set(e,[z,c]),A.set(e,[u,p])),C.has(e)&&(D.set(e,[z,c]),F.set(e,[u,p])),z=u+10,L=u}),e.width=L;let G=400+4*v+2*o;e.height=G,x.transform(1,0,0,-1,0,G),i.forEach(function(e,t){let s=e.getTransitionStates(),i=e.getReactantsLabel(),n=e.getProductsLabel(),o=a(I,i),r=a(B,n);s.length>0?s.forEach(function(e){let t=e.getMolecule().ref,s=a(D,t);ew(x,g,d,o[0],o[1],s[0],s[1]);let i=a(F,t);ew(x,g,d,i[0],i[1],r[0],r[1])}):ew(x,g,d,o[0],o[1],r[0],r[1])}),f.forEach(function(e){let t=a(T,e),s=(t-w)*400/(_+0)+0,i=a(P,e)[0],d=s+o,r=a(I,e)[0],l=t.toString();eS(x,h,o,i,d,r,d,n,v,e,l)}),E.forEach(function(e){let t=a(T,e),s=(t-w)*400/(_+0)+0,i=a(B,e)[0],d=s+o,r=a(A,e)[0],l=t.toString();b.has(e)?eS(x,m,o,i,d,r,d,n,v,e,l):eS(x,"green",o,i,d,r,d,n,v,e,l)}),C.forEach(function(e){let t=a(T,e),s=(t-w)*400/(_+0)+0,i=a(D,e)[0],d=s+o;eS(x,"red",o,i,d,a(F,e)[0],d,n,v,e,t.toString())})}}function is(){if(null==t){alert("No Mesmer object to save.");return}{console.log("saveXML");let e=new Blob([tq.header,t.toXML("  ","")],{type:"text/plain"}),s=URL.createObjectURL(e),i=document.createElement("a");i.href=s;let n=t.getTitle()?.value;i.download=n.replace(/[^a-z0-9]/gi,"_")+".xml",document.body.appendChild(i),i.click(),document.body.removeChild(i)}}document.addEventListener("DOMContentLoaded",()=>{document.body.className=e?"dark-mode":"light-mode",document.body.className=e?"dark-mode":"light-mode";let a=document.getElementById("menu");a.style.display="flex",a.style.justifyContent="center",a.style.margin="5px",a.style.padding="5px",a.style.border="1px solid black",a.style.backgroundColor="lightgrey";let d="Load",r=E(d,o(d),t3);r.addEventListener("click",a=>{let m;sd.forEach(e=>{g(e,sd)}),null!=s&&s.clear(),null!=i&&i.clear(),sa=-1/0,so=1/0,(m=document.createElement("input")).type="file",m.onchange=function(){if(m.files){for(let e=0;e<m.files.length;e++)console.log("inputElement.files["+e+"]="+m.files[e]);let a=m.files[0];console.log(a.name);let d=a.name,r=new FileReader,p=0,v="";r.onload=function(m){if(null==m.target)throw Error("Event target is null");if(v+=m.target.result,null!=a){if(p<a.size){let e=a.slice(p,p+1048576);r.readAsText(e),p+=1048576}else{var _;let a,r,m;_=v=v.trim(),a=document.getElementById("xml"),g("xmlHeading",sd),(r=document.createElement("h2")).textContent=d,a.appendChild(r),g("xmlParagraph",sd),(m=document.createElement("pre")).textContent=_,a.appendChild(m),function(a){let d,r,m;console.log("parse: "+a);let p=D(a,tq.tagName);t=new tq(A(p));let v=a.getElementsByTagName(tF.tagName);if(1!=v.length)throw Error("Multiple "+tF.tagName+" tags found");{let e=v[0].childNodes[0].nodeValue.trim(),s=new tF(A(v[0]),e);t.setTitle(s);let i=document.getElementById("title"),n=sr("titleDiv"),a=c("text",sr(n,"Input"),t3,tK,e=>{let t=e.target;s.value=t.value,console.log(s.tagName+" changed to "+s.value),N(t)},e,tF.tagName);a.id=n,i.appendChild(a)}let _=document.getElementById("molecules"),R=sr("moleculesList");g(R,sd);let z=function(e){s=new Map;let t=b(void 0,t3),i=D(e,tG.tagName),n=new Set;if(i.childNodes.forEach(function(e){n.add(e.nodeName)}),1!=n.size&&!(2==n.size&&n.has("#text")))throw console.error("moleculeListTagNames:"),n.forEach(e=>console.error(e)),Error("Additional tag names in moleculeList:");if(!n.has(eh.tagName))throw Error('Expecting tags with "'+eh.tagName+'" tagName but there are none!');let a=i.getElementsByTagName(eh.tagName);console.log("Number of molecules="+a.length);for(let e=0;e<a.length;e++){let i=document.createElement("div"),n=A(a[e]),d=n.get(eh.s_id);if(void 0==d)throw Error(eh.s_id+" is undefined");let r=new Set,g=a[e].childNodes;for(let e=0;e<g.length;e++){let t=g[e];r.has(t.nodeName)?"#text"!=t.nodeName&&console.warn("Another ChildNode with nodeName="+t.nodeName):r.add(t.nodeName)}let m=new eh(n,d);s.set(d,m);let p=new k(new Map),x=a[e].getElementsByTagName(k.tagName);if(x.length>1)throw Error("Expecting 1 or 0 "+k.tagName+" but finding "+x.length+"!");let v=sc(d,i,null,k.tagName,k.tagName,tJ);if(1==x.length){let e=x[0],t=e.getElementsByTagName(G.tagName);if(t.length<2)throw Error("Expecting 2 or more atoms in "+k.tagName+", but finding "+t.length+"!");p=new k(A(e)),m.setAtoms(p);for(let e=0;e<t.length;e++){let s=new G(A(t[e]),m),i=p.addAtom(s),n=C(void 0,t0);v.appendChild(n);let a=o(d,i);n.appendChild(y(i,t3)),sb(a,s,n,!1,t3),sC(a,s,n,t3),sS(n,t3,sp,m,i)}r.delete(k.tagName)}else{let t=a[e].getElementsByTagName(G.tagName);if(1==t.length)(p=new k(new Map)).addAtom(new G(A(t[0]),m)),m.setAtoms(p);else if(t.length>1)throw Error("Expecting 1 "+G.tagName+" but finding "+t.length+". Should these be in an "+k.tagName+"?")}v.appendChild(su(m,v,G.tagName,t3,t0)),r.delete(G.tagName);let E=new U(new Map),b=e=>m.getBonds().removeBond(e),T=a[e].getElementsByTagName(U.tagName),_=sc(d,i,null,U.tagName,U.tagName,tJ);if(T.length>0){if(T.length>1)throw Error("Expecting 1 or 0 "+U.tagName+" but finding "+T.length+"!");let e=T[0].getElementsByTagName(O.tagName);E=new U(A(T[0]));for(let t=0;t<e.length;t++){let s=new O(A(e[t]),m),i=E.addBond(s),n=C(void 0,t0);_.appendChild(n);let a=o(d,i);n.appendChild(y(i,t3)),sf(m,n,s,a,t3),sw(n,s,a,O.s_order,t3),sS(n,t3,b,i)}m.setBonds(E),r.delete(U.tagName)}else{let t=a[e].getElementsByTagName(O.tagName);if(t.length>0){if(t.length>1)throw Error("Expecting 1 "+O.tagName+" but finding "+t.length+". Should these be in a "+U.tagName+"?");(E=new U(new Map)).addBond(new O(A(t[0]),m)),m.setBonds(E)}}_.appendChild(sv(m,d,_,O.tagName,t3,t0)),r.delete(O.tagName),s_(m,i,t3,tJ);let R=a[e].getElementsByTagName(Q.tagName);if(R.length>1)throw Error("Expecting 1 or 0 "+Q.tagName+" but finding "+R.length+"!");if(1==R.length){let e=document.createElement("div"),t=o(m.id,Q.tagName);h({divToAddTo:i,elementToInsertBefore:null,content:e,buttonLabel:Q.tagName,buttonId:o(m.id,t7),margin:tJ,contentDivId:t});let s=new Q(A(R[0]));m.setProperties(s);let n=R[0].getElementsByTagName(V.tagName);for(let t=0;t<n.length;t++){let i=sE(n[t],e,m,t3,t0);s.setProperty(i)}r.delete(Q.tagName)}else{let t=a[e].getElementsByTagName(V.tagName);if(1!=t.length)throw Error("Expecting 1 "+V.tagName+" but finding "+t.length+". Should these be in a "+Q.tagName+"?");let s=sE(t[0],i,m,t3,tJ);m.setProperties(s),r.delete(V.tagName)}let z=a[e].getElementsByTagName(ei.tagName);if(z.length>0){if(z.length>1)throw Error("Expecting 1 or 0 "+ei.tagName+" but finding "+z.length+"!");(function(e,t,s,i,n){let a=s.getElementsByTagName(J.tagName);if(a.length>0){let s=document.createElement("div"),n=o(t.id,ei.tagName);h({divToAddTo:i,elementToInsertBefore:null,content:s,buttonLabel:ei.tagName,buttonId:o(n,t7),margin:tJ,contentDivId:n});let d=[];for(let e=0;e<a.length;e++){let i=M(a[e]),n=parseFloat(i),o=new J(A(a[e]),n);d.push(o);let r=J.tagName,l=t.id+"_"+ei.tagName+"_"+J.tagName+"_"+e,g=c("number",l,t3,t0,t=>{let s=t.target;sP(o,s),i=s.value,d[e].setValue(parseFloat(i)),console.log("Set "+l+" to "+i),N(s)},i,r);s.appendChild(g);let h=document.createElement("label");h.textContent="units cm-1",g.appendChild(h)}e.setDeltaEDowns(d),t.setEnergyTransferModel(e)}})(new ei(A(z[0])),m,z[0],i,0),r.delete(ei.tagName)}let L=a[e].getElementsByTagName(en.tagName);if(L.length>0){if(L.length>1)throw Error("Expecting 1 or 0 "+en.tagName+" but finding "+L.length+"!");let e=new en(A(L[0]));i.appendChild(f(en.tagName,en.xsi_typeOptions,en.tagName,e.getXsiType(),m.id,t3,tJ)),r.delete(en.tagName)}let P=a[e].getElementsByTagName(el.tagName);if(P.length>0){if(1!=P.length)throw Error("Expecting only 1 extra DOSCMethod, but there are "+P.length);let e=new el(A(L[0])),t=document.createElement("div"),s=o(m.id,el.tagName);h({divToAddTo:i,elementToInsertBefore:null,content:t,buttonLabel:el.tagName,buttonId:o(s,t7),margin:tJ,contentDivId:s});let n=P[0].getElementsByTagName(ea.tagName);if(n.length>0){if(1!=n.length)throw Error("Expecting only 1 bondRef, but there are "+n.length);let e=m.getBonds().getBondIds(),s=new ea(A(n[0]),w(S(n[0])));t.appendChild(f(ea.tagName,e,ea.tagName,s.value,m.id,t3,t0))}let a=P[0].getElementsByTagName(ed.tagName);if(a.length>0){if(1!=a.length)throw Error("Expecting only 1 HinderedRotorPotential, but there are "+a.length);let s=A(a[0]),i=new ed(s),n=C(void 0,t1),d=o(m.id,en.tagName,ed.tagName);h({divToAddTo:t,elementToInsertBefore:null,content:n,buttonLabel:ed.tagName,buttonId:o(d,t7),margin:t0,contentDivId:d}),n.appendChild(f(ed.s_format,ed.formats,ed.tagName,i.getFormat(),d,t3,t3)),sz(tq.energyUnits,s,n,d,ed.tagName,t3),n.appendChild(c("number",d+"_"+ed.s_expansionSize,t3,t3,e=>{let t=e.target;l(t.value)?i.setExpansionSize(parseInt(t.value)):(alert(ed.s_expansionSize+" input is not a number, resetting..."),t.value=i.getExpansionSize().toExponential()),N(t)},i.getExpansionSize().toExponential(),ed.s_expansionSize));let r=y(ed.s_useSineTerms,t3);n.appendChild(r);let g=u("checkbox",o(m.id,en.tagName,ed.tagName,ed.s_useSineTerms),t3);g.checked=i.getUseSineTerms(),g.addEventListener("change",e=>{let t=e.target;i.setUseSineTerms(t.checked)}),n.appendChild(g);let p=document.createElement("div"),x=o(m.id,en.tagName,ed.tagName,eo.tagName),v=h({divToAddTo:n,elementToInsertBefore:null,content:p,buttonLabel:eo.tagName,buttonId:o(x,t7),margin:t1,contentDivId:x});n.appendChild(v);let E=[],b=a[0].getElementsByTagName(eo.tagName);for(let e=0;e<b.length;e++){let t=new eo(A(b[e]));E.push(t);let s=C(void 0,t2);v.appendChild(s);let i=y(eo.s_angle,t3);s.appendChild(i);let n=u("number",o(m.id,eo.tagName,eo.s_angle),t3);n.addEventListener("change",e=>{let s=e.target;if(l(s.value)){let e=parseFloat(s.value);t.setAngle(e)}else alert("Angle input is not a number, resetting..."),n.value=t.getAngle().toExponential();N(n)}),n.value=t.getAngle().toExponential(),N(n),s.appendChild(n);let a=y(eo.s_potential,t3);s.appendChild(a);let d=u("number",o(m.id,eo.tagName,eo.s_potential),t3);d.addEventListener("change",e=>{let s=e.target;if(l(s.value)){let e=parseFloat(s.value);t.setPotential(e),console.log("Set "+eo.tagName+" to "+e.toExponential())}else alert("Potential input is not a number, resetting..."),d.value=t.getPotential().toExponential();N(d)}),d.value=t.getPotential().toExponential(),N(d),s.appendChild(d),p.appendChild(s)}v.appendChild(p),i.setPotentialPoints(E),e.setHinderedRotorPotential(i)}let d=L[0].getElementsByTagName(er.tagName);if(d.length>0){if(1!=d.length)throw Error("Expecting only 1 Periodicity, but there are "+d.length);let s=w(S(d[0])),i=new er(A(d[0]),parseFloat(s));e.setPeriodicity(i);let n=c("number",m.id+"_"+er.tagName,t3,t0,t=>{let n=t.target;if(l(s=n.value)){let t=parseFloat(s);i.value=t,e.getPeriodicity().value=t,console.log("Set "+er.tagName+" to "+t)}else alert("Periodicity input is not a number, resetting..."),n.value=i.value.toExponential()},s,er.tagName);t.appendChild(n)}m.setExtraDOSCMethod(e),r.delete(el.tagName)}r.delete(eg.tagName);let I=a[e].getElementsByTagName(eg.tagName);if(I.length>0){if(1!=I.length)throw Error("Expecting only 1 reservoirSize, but there are "+I.length);let e=w(S(I[0])),t=parseFloat(e),s=new eg(A(I[0]),t);m.setReservoirSize(s);let n=c("number",m.id+"_"+eg.tagName,t3,tJ,e=>{let t=e.target;s.value=parseFloat(t.value),N(t)},e,eg.tagName);i.appendChild(n)}r.delete("#text"),r.size>0&&(console.warn("There are additional unexpected moleculeTagNames:"),r.forEach(e=>console.warn(e)));let B=document.createElement("div");B.id=o(m.id,"molstar"),i.appendChild(B);let D=o(m.tagName,m.id),F=o(D,t7);h({divToAddTo:t,elementToInsertBefore:null,content:i,buttonLabel:m.getLabel(),buttonId:F,margin:tQ,contentDivId:D})}let d=E(t6,void 0,tQ);return t.appendChild(d),d.addEventListener("click",()=>{let e=prompt("Please enter the chemical formular:","Kr"),i=new eh(new Map,e);s.set(e,i),sx(eR.tagName,i.id);let n=b(e,tQ);t.insertBefore(n,d);let a=o(i.tagName,e),r=o(a,t7),l=h({divToAddTo:t,elementToInsertBefore:d,content:n,buttonLabel:i.getLabel(),buttonId:r,margin:tQ,contentDivId:a}),g=E(st,o(a,st),tQ);g.addEventListener("click",()=>{let e=prompt("Please enter the chemical formular:");if(null!=e){let t=o(e);sx(eR.tagName,t),sN(eR.tagName,i.id),i.id=t,n.id=t;let s=document.getElementById(r);s.textContent=i.getLabel()+" ▲",a=o(i.tagName,t),l.id=a,s.id=o(a,t7)}}),n.appendChild(g);let m=sc(e,n,null,k.tagName,k.tagName,tQ);m.appendChild(su(i,m,G.tagName,t3,tJ));let c=sc(e,n,null,U.tagName,U.tagName,tQ);c.appendChild(sv(i,e,c,O.tagName,t3,tJ)),s_(i,n,t3,tQ),sc(e,n,null,V.tagName,V.tagName,tQ)}),t}(a);z.id=R,h({divToAddTo:_,elementToInsertBefore:null,content:z,buttonLabel:"Molecules",buttonId:o(z.id,t7),margin:tK,contentDivId:z.id}),t.setMoleculeList(new tG(new Map,Array.from(s.values())));let L=document.getElementById("reactions"),P=sr("reactionsList");g(P,sd);let I=function(e){i=new Map;let t=b(void 0,t3),s=D(e,tk.tagName),n=new Set;if(s.childNodes.forEach(function(e){n.add(e.nodeName)}),1!=n.size&&!(2==n.size&&n.has("#text")))throw console.error("reactionListTagNames:"),n.forEach(e=>console.error(e)),Error("Additional tag names in reactionList:");if(!n.has(eT.tagName))throw Error('Expecting tags with "'+eT.tagName+'" tagName but there are none!');let a=s.getElementsByTagName(eT.tagName);console.log("Number of reactions="+a.length);for(let e=0;e<a.length;e++){let s=b(void 0,t3),n=A(a[e]),d=new Set,r=a[e].childNodes;for(let e=0;e<r.length;e++){let t=r[e];d.has(t.nodeName)?"#text"!=t.nodeName&&console.warn("Another ChildNode with nodeName="+t.nodeName):d.add(t.nodeName)}let l=new eT(n);i.set(l.id,l);let g=a[e].getElementsByTagName(ec.tagName);if(d.delete(ec.tagName),g.length>0){let e=document.createElement("div"),t=[];for(let s=0;s<g.length;s++){let i=new em(A(T(g[s],eh.tagName))),n=new ec(A(g[s]),i);t.push(n);let a=f(i.ref+" role",ec.roleOptions,"Role",i.role,i.ref,t3,t0);a.querySelector("select")?.addEventListener("change",e=>{let t=e.target;i.setRole(t.value),console.log("Set Role to "+t.value),x(t)}),e.appendChild(a)}l.setReactants(t);let i=o(l.id,ec.tagName);h({divToAddTo:s,elementToInsertBefore:null,content:e,buttonLabel:"Reactants",buttonId:o(i,t7),margin:tJ,contentDivId:i})}let m=a[e].getElementsByTagName(eu.tagName);if(d.delete(eu.tagName),m.length>0){let e=document.createElement("div"),t=[];for(let s=0;s<m.length;s++){let i=new em(A(T(m[s],eh.tagName))),n=new eu(A(m[s]),i);t.push(n);let a=f(i.ref+" role",eu.roleOptions,i.role,i.ref,"Role",t3,t0),o=a.querySelector("select");o.value=i.role,o.addEventListener("change",e=>{let t=e.target;i.setRole(t.value),console.log("Set Role to "+t.value),x(t)}),x(o),e.appendChild(a)}l.setProducts(t);let i=o(l.id,eu.tagName);h({divToAddTo:s,elementToInsertBefore:null,content:e,buttonLabel:"Products",buttonId:o(i,t7),margin:tJ,contentDivId:i})}let u=a[e].getElementsByTagName(eC.tagName);if(u.length>0){if(u.length>1)throw Error("Expecting 1 "+eC.tagName+" but finding "+u.length+"!");let e=new eC(A(u[0]));l.setTunneling(e);let t=f(eC.tagName,eC.options,"Tunneling",e.getName(),l.id,t3,t0);t.querySelector("select")?.addEventListener("change",t=>{let s=t.target;e.setName(s.value),console.log("Set Tunneling to "+s.value),x(s)}),s.appendChild(t)}let p=a[e].getElementsByTagName(ep.tagName);if(p.length>0){let e=document.createElement("div"),t=[];for(let s=0;s<p.length;s++){let i=new em(A(T(p[s],eh.tagName))),n=new ep(A(p[s]),i);t.push(n);let a=y(i.ref+" role transitionState",t0);e.appendChild(a)}l.setTransitionStates(t);let i=o(l.id,ep.tagName);h({divToAddTo:s,elementToInsertBefore:null,content:e,buttonLabel:"Transition States",buttonId:o(i,t7),margin:tJ,contentDivId:i})}let v=a[e].getElementsByTagName(eE.tagName);if(v.length>0){if(v.length>1)throw Error("Expecting 1 "+eE.tagName+" but finding "+v.length+"!");{let e,t=document.createElement("div"),i=A(v[0]),n=i.get("name");if(void 0==n||n==eb.xsiType2){let n=i.get("xsi:type");if(e=new eb(i),n==eb.xsiType||n==eb.xsiType2){let i=v[0].getElementsByTagName(eN.tagName);if(null!=i&&null!=i[0]){let s=M(i[0]),n=parseFloat(s),a=A(i[0]),o=new eN(a,n);e.setPreExponential(o);let d=eN.tagName,r=l.id+"_"+eb.tagName+"_"+eN.tagName,g=c("number",r,t3,t0,e=>{sP(o,e.target)},s,d);t.appendChild(g);let h=g.querySelector("input");h.value=s,N(h),h.addEventListener("change",e=>{s=e.target.value,o.value=parseFloat(s),console.log("Set "+r+" to "+s),N(h)}),sz(void 0,a,g,l.id+"_"+eb.xsiType+"_"+eN.tagName,eN.tagName,t3),t.appendChild(g)}let n=v[0].getElementsByTagName(ex.tagName);if(null!=n&&null!=n[0]){let s=M(n[0]),i=parseFloat(s),a=A(n[0]),o=new ex(a,i);e.setActivationEnergy(o);let d=ex.tagName,r=l.id+"_"+eb.tagName+"_"+ex.tagName,g=c("number",r,t3,t0,e=>{sP(o,e.target)},s,d),h=g.querySelector("input");h.value=s,N(h),h.addEventListener("change",e=>{s=e.target.value,o.value=parseFloat(s),console.log("Set "+r+" to "+s),N(h)}),sz(void 0,a,g,l.id+"_"+eb.xsiType+"_"+ex.tagName,ex.tagName,t3),t.appendChild(g)}let a=v[0].getElementsByTagName(ev.tagName);if(null!=a&&null!=a[0]){let s=M(a[0]),i=parseFloat(s),n=A(a[0]),o=new ev(n,i);e.setTInfinity(o);let d=ev.tagName,r=l.id+"_"+eb.tagName+"_"+ev.tagName,g=c("number",r,t3,t0,e=>{sP(o,e.target)},s,d),h=g.querySelector("input");h.value=s,N(h),h.addEventListener("change",e=>{s=e.target.value,o.value=parseFloat(s),console.log("Set "+r+" to "+s),N(h)}),sz(void 0,n,g,l.id+"_"+eb.xsiType+"_"+ev.tagName,ev.tagName,t3),t.appendChild(g)}let d=v[0].getElementsByTagName(ef.tagName);if(null!=d&&null!=d[0]){let s=M(d[0]),i=parseFloat(s),n=A(d[0]),a=new ef(n,i);e.setNInfinity(a);let o=ef.tagName,r=l.id+"_"+eb.tagName+"_"+ef.tagName,g=c("number",r,t3,t0,e=>{sP(a,e.target)},s,o);t.appendChild(g);let h=g.querySelector("input");h.value=s,N(h),h.addEventListener("change",e=>{s=e.target.value,a.value=parseFloat(s),console.log("Set "+r+" to "+s),N(h)}),sz(void 0,n,g,l.id+"_"+eb.xsiType+"_"+ef.tagName,ef.tagName,t3),t.appendChild(g)}let r=o(l.id,eE.tagName);h({divToAddTo:s,elementToInsertBefore:null,content:t,buttonLabel:eE.tagName,buttonId:o(r,t7),margin:tJ,contentDivId:r})}else throw Error("Unexpected xsi:type="+n)}else{e=new eE(i);let n=document.createElement("label");n.textContent=eE.tagName+": "+i.get("name"),Object.assign(n.style,tJ),t.appendChild(n),s.appendChild(t)}l.setMCRCMethod(e)}}let E=a[e].getElementsByTagName(ey.tagName);if(E.length>0){if(E.length>1)throw Error("Expecting 1 "+ey.tagName+" but finding "+E.length+"!");let e=parseFloat(w(S(E[0]))),t=new ey(A(E[0]),e);l.setExcessReactantConc(t);let i=c("number",l.id+"_"+ey.tagName,t3,tJ,e=>{sP(t,e.target)},e.toExponential(),ey.tagName);s.appendChild(i)}let C=o(eT.tagName,l.id);h({divToAddTo:t,elementToInsertBefore:null,content:s,buttonLabel:l.id+"("+l.getLabel()+")",buttonId:o(C,t7),margin:tQ,contentDivId:C})}return t}(a);I.id=P,h({divToAddTo:L,elementToInsertBefore:null,content:I,buttonLabel:"Reactions",buttonId:o(I.id,t7),margin:tK,contentDivId:I.id}),t.setReactionList(new tk(new Map,Array.from(i.values()))),null!=n&&(n.close(),n=null),g(sl);let B=b(sl,tK);L.append(B);let F=b(sr("popButtonDivId"));B.appendChild(F);let q=sr("popButtonId"),H="Reactions Diagram: Action to pop into a new Window",Y=E(H,q);F.appendChild(Y);let $=document.createElement("canvas");$.id=sg,B.appendChild($),$.height=400,$.style.border="1px solid black",it($,e,sh,4,2),Y.addEventListener("click",()=>{if(null==n){let t=document.createElement("canvas");t.id=sg,(n=window.open("","Reactions Diagram","width="+$.width+", height="+$.height)).document.body.appendChild(t),it(t,e,sh,4,2),g(sg,sd),Y.textContent="Reactions Diagram: Action to pop back"}else($=document.createElement("canvas")).id=sg,B.appendChild($),it($,e,sh,4,2),n.close(),n=null,Y.textContent=H});let X=E("Save To PNG Image File",sr("saveButton"),t3);F.appendChild(X),X.addEventListener("click",()=>{let e=$.toDataURL(),s=document.createElement("a");s.href=e;let i=t.getTitle()?.value;s.download=i.replace(/[^a-z0-9]/gi,"_")+"_ReactionDiagram.png",s.click()});let j=document.getElementById(si),W=sr(si,"conditionss");g(W);let Z=function(e){let s;console.log(eD.tagName);let i=b(void 0,t3),n=e.getElementsByTagName(eD.tagName);for(let e=0;e<n.length;e++){let s=n[e],a=o(eD.tagName,e.toString()),d=b(a,t3),r=sA(A(s),d,null,i,e);sI(r,d,e,s,tJ,t0),sB(r,d,e,s,tJ,t0),sS(d,tJ,t.removeConditions.bind(t),e).addEventListener("click",e=>{g(a,sd)})}return s=E(t6,void 0,tQ),i.appendChild(s),s.addEventListener("click",e=>{let n,a=t.getNextConditionsID();console.log("Add Conditions "+a.toString());let d=o(eD.tagName,a.toString()),r=b(d,t3);if(a>0){let e=document.getElementById(o(eD.tagName,(a-1).toString())).nextElementSibling;n=null!=e&&e.parentElement==i?e:s}else n=s;let l=sA(new Map,r,n,i,a);sI(l,r,a,null,tJ,t0),sB(l,r,a,null,tJ,t0),sS(r,tJ,t.removeConditions.bind(t),a).addEventListener("click",e=>{g(d,sd)})}),i}(a);Z.id=W,h({divToAddTo:j,elementToInsertBefore:null,content:Z,buttonLabel:"Conditions",buttonId:o(Z.id,t7),margin:tK,contentDivId:Z.id});let K=document.getElementById("modelParameters");g(sr("modelParametersList"));let ee=(console.log(eU.tagName),d=b(void 0,t3),r=D(a,eU.tagName),m=new eU(A(r)),t.setModelParameters(m),function(e,t,s){let i,n,a=C(void 0,tQ);s.appendChild(a);let o=eF.tagName,d=o+t5,r=o+t4,l=t.getElementsByTagName(o),g=E(o,void 0,t3);g.classList.add(t8),g.classList.add(se),a.appendChild(g);let h=eU.tagName+"_"+o+"_input",m=eU.tagName+"_"+o+"_select";if(1==l.length){let t=parseFloat(n=w(S(l[0])));i=new eF(A(l[0]),t),g.textContent=d,sW(e,a,i,h,m,n,e.setGrainSize,tq.energyUnits),g.classList.toggle(se)}else n="",i=new eF(new Map,NaN),g.textContent=r,g.classList.toggle(t8);g.addEventListener("click",()=>{e.index.has(eF.tagName)?(n=i.value.toExponential(),e.removeGrainSize(),document.getElementById(h)?.remove(),document.getElementById(m)?.remove(),g.textContent=r):(sW(e,a,i,h,m,n,e.setGrainSize,tq.energyUnits),g.textContent=d),g.classList.toggle(t8),g.classList.toggle(se)})}(m,r,d),sj(m,r,d,tI,m.setAutomaticallySetMaxEne,m.removeAutomaticallySetMaxEne),sj(m,r,d,ek,m.setEnergyAboveTheTopHill,m.removeEnergyAboveTheTopHill),sj(m,r,d,eO,m.setMaxTemperature,m.removeMaxTemperature),d);ee.id="modelParametersList",h({divToAddTo:K,elementToInsertBefore:null,content:ee,buttonLabel:"Model Parameters",buttonId:o(ee.id,t7),margin:tK,contentDivId:ee.id});let et=document.getElementById(sn),es=sr(sn,"controls");g(es);let eS=function(e){let s;console.log(tD.tagName);let i=b(void 0,t3),n=e.getElementsByTagName(tD.tagName);for(let e=0;e<n.length;e++){let s=n[e],a=o(tD.tagName,e.toString()),d=b(a,t3),r=sQ(A(s),d,null,i,e),l=new Map;sZ(r).forEach(t=>{s0(r,d,e,l,s,null,t.class,t.setMethod,t.removeMethod)});let h=C(void 0,tJ);new Map([...l.entries()].sort()).forEach(e=>{h.appendChild(e)}),d.appendChild(h),s2(r,d,null,tJ),s1(r,d,e,s,tJ),sK(r).forEach(t=>{s0(r,d,e,l,s,tJ,t.class,t.setMethod,t.removeMethod,!0)}),sS(d,tJ,t.removeControl.bind(t),e).addEventListener("click",e=>{g(a,sd)})}return s=E(t6,void 0,tQ),i.appendChild(s),s.addEventListener("click",e=>{let n,a=t.getNextControlID();console.log("Add Control "+a.toString());let d=o(tD.tagName,a.toString()),r=b(d,t3);if(a>0){let e=document.getElementById(o(tD.tagName,(a-1).toString())).nextElementSibling;n=null!=e&&e.parentElement==i?e:s}else n=s;let l=sQ(new Map,r,n,i,a),h=new Map;sZ(l).forEach(e=>{s0(l,r,a,h,null,null,e.class,e.setMethod,e.removeMethod)});let m=C(void 0,tJ);new Map([...h.entries()].sort()).forEach(e=>{m.appendChild(e)}),r.appendChild(m),s2(l,r,null,tJ),s1(l,r,a,null,tJ),sK(l).forEach(e=>{s0(l,r,a,h,null,tJ,e.class,e.setMethod,e.removeMethod,!0)}),sS(r,tJ,t.removeControl.bind(t),a).addEventListener("click",e=>{g(d,sd)})}),i}(a);eS.id=es,h({divToAddTo:et,elementToInsertBefore:null,content:eS,buttonLabel:"Controls",buttonId:o(eS.id,t7),margin:tK,contentDivId:eS.id})}(new DOMParser().parseFromString(v,"text/xml"))}}};let _=a.slice(p,p+1048576);r.readAsText(_),p+=1048576}},m.click(),r.textContent=d}),a.appendChild(r);let m="Increase fontsize",p=E(m,o(m),t3);p.addEventListener("click",()=>{let e=parseFloat(getComputedStyle(document.body).fontSize);document.body.style.fontSize=e+1+"px",null!=n&&(n.document.body.style.fontSize=e+1+"px"),sm()}),a.appendChild(p);let v="Decrease fontsize",_=E(v,o(v),t3);_.addEventListener("click",()=>{let e=parseFloat(getComputedStyle(document.body).fontSize);document.body.style.fontSize=e-1+"px",null!=n&&(n.document.body.style.fontSize=e-1+"px"),sm()}),a.appendChild(_);let R="Light/Dark Mode",z=E(R,o(R),t3);z.addEventListener("click",()=>{(e=!e)?document.body.className="dark-mode":document.body.className="light-mode",sm()}),a.appendChild(z);let L="Save",P=E(L,o(L),t3);P.addEventListener("click",is),a.appendChild(P);let I=b(o("Welcome"),t3),B=document.createElement("p");I.appendChild(B),B.textContent="Welcome to MXG - a Graphical User Interface (GUI) program to assist MEMSER users in creating, editing         and visualising MESMER data. MESMER is the Master Equation Solver for Multi Energy-well Reactions, details can be found         at: ",B.appendChild(tj),B.style.alignContent="center";let F=document.createElement("p");I.appendChild(F),F.textContent="MXG development is funded by the UK Engineering and Physical Sciences Research Council (EPSRC) from January     to April 2024.";let q=document.createElement("p");I.appendChild(q),q.textContent="The menu Load button is to be used to select a MESMER file to load (the file loaded will not be modified).         MXG reads the file and presents the data it contains so that the user can make changes and use the Save button to generate         a new MESMER file. The saved file should have the same content as was loaded except it will contain no comments or blank         lines, values will be trimmed of white space, and some numbers may be output in a standard scientific notation if they were         not already. The saved file will also reflect any changes specified using the GUI.";let H=document.createElement("p");I.appendChild(H),H.textContent="Between the Load and Save buttons are buttons to increase or decrease the font size. In addition to changing the         text size of any text components, this will also redraw the reaction diagram so that the text rendered onto the canvas reflects         this change. It is planned to have themes selectable to provide a dark mode rendering and to support users that struggle to         distinguish between certain colours.";let Y=document.createElement("p");Y.textContent+="The development is in an alpha release phase and is not recommended for general use. A community release that         is to be supported by the MESMER community is scheduled for the end of April 2024. MXG is free and open source software based on         free and open source software. The main development GitHub repository is: ",Y.appendChild(tY),I.appendChild(Y);let $=document.createElement("p");I.appendChild($),$.textContent="MXG can be used online or installed locally as a Progressive Web App (PWA). A PWA is a type of application         software that should work on platforms with a standard-compliant Web browser. PWA installation varies by Web browser/device.         Some details to help with installation of the MXG PWA are in the GitHub Repository README.";let X=document.createElement("p");I.appendChild(X),X.textContent='The MESMER file loaded is expected to contain the following child elements of the parent "me:mesmer"         element: "me:title", "moleculeList", "reactionList", "me:conditions", "me:modelParameters", and "me:control". If a         child element is missing or there are multiple "me:title", "moleculeList", "reactionList", "me:conditions", or         "me:modelParameters" elements, an Error is currently thrown. In the future, the loading and creation of files with         multiple "me:conditions" sections will be supported... If you do not have a MESMER file, then feel free to download and         use the examples: ',X.appendChild(t$),document.body.appendChild(I);let j=b(o("Instructions"),t3);document.body.appendChild(j);let W=document.createElement("p");j.appendChild(W),W.textContent='Upon loading a MESMER file, an input containing the "me:title" value should appear along side a label.         The value can be changed using the input. The "me:title" value is used to compose the filename for data saved using         the Save button. Characters that are unsuitable for filenames will be replaced with the underscore character "_" in         the filename.';let Z=document.createElement("p");j.appendChild(Z),Z.textContent='The "moleculeList", "reactionList", "me:conditions", "me:modelParameters", and "me:control" details         are presented below the "me:title" in a series of buttons. A canvas depicts a well diagram for the reactions. The         diagram redraws if an "me:ZPE" property value of a molecule a listed reaction are changed. Below all this is a text         representation of the file loaded.';let K=document.createElement("p");j.appendChild(K),K.textContent='The "moleculeList", "reactionList", "me:conditions", "me:modelParameters", and "me:control" buttons contain         a triangular symbol which indicate a collapsed (triangle orientated with a point down: ▼) or expanded (triangle with a point         up: ▲) state. Actioning these buttons will either expand or collapse content that should appear or be present below the button.';let ee=document.createElement("p");j.appendChild(ee),K.textContent="Rendering of molecules with coordinates is provded by 3DMol.js which incorporates code from GLmol,         Three.js, and jQuery and is licensed under a BSD-3-Clause license. For more details on 3DMol.js please visit the GitHub         repository: ",K.appendChild(tZ)});
//# sourceMappingURL=index.c1c93bbb.js.map
