let e,t,s,i,a;function n(e){return e&&e.__esModule?e.default:e}var o={};function d(e,t){if(!e.has(t))throw Error(`Key ${t} not found in map`);return e.get(t)}function l(...e){let t=e.map(e=>e.toString()).join("-").replace(/[^a-zA-Z-_0-9]/g,"_");return/^[0-9]|^--|-^[0-9]/.test(t)&&(t="_"+t),t}function r(e,t){return null==e?"":(void 0==t&&(t=", "),Array.from(e.entries()).map(([e,t])=>`${null==e?"null":e.toString()}(${null==t?"null":t.toString()})`).join(t))}function g(e,t){return void 0==t&&(t=", "),e.map(e=>null==e?"null":e.toString()).join(t)}function h(e){try{return new(n(o))(e),!0}catch(e){return!1}}function m(e,t){return void 0==t&&(t=" "),e.map(e=>e.toString()).join(t)}function c(e,t){return null==e||e.lt(t)?t:e}function u(e,t){return null==e||e.gt(t)?t:e}!function(e){var t,s="[big.js] ",i=s+"Invalid ",a=i+"decimal places",n=i+"rounding mode",d=s+"Division by zero",l={},r=void 0,g=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function h(e,t,s,i){var a=e.c;if(s===r&&(s=e.constructor.RM),0!==s&&1!==s&&2!==s&&3!==s)throw Error(n);if(t<1)i=3===s&&(i||!!a[0])||0===t&&(1===s&&a[0]>=5||2===s&&(a[0]>5||5===a[0]&&(i||a[1]!==r))),a.length=1,i?(e.e=e.e-t+1,a[0]=1):a[0]=e.e=0;else if(t<a.length){if(i=1===s&&a[t]>=5||2===s&&(a[t]>5||5===a[t]&&(i||a[t+1]!==r||1&a[t-1]))||3===s&&(i||!!a[0]),a.length=t,i){for(;++a[--t]>9;)if(a[t]=0,0===t){++e.e,a.unshift(1);break}}for(t=a.length;!a[--t];)a.pop()}return e}function m(e,t,s){var i=e.e,a=e.c.join(""),n=a.length;if(t)a=a.charAt(0)+(n>1?"."+a.slice(1):"")+(i<0?"e":"e+")+i;else if(i<0){for(;++i;)a="0"+a;a="0."+a}else if(i>0){if(++i>n)for(i-=n;i--;)a+="0";else i<n&&(a=a.slice(0,i)+"."+a.slice(i))}else n>1&&(a=a.charAt(0)+"."+a.slice(1));return e.s<0&&s?"-"+a:a}l.abs=function(){var e=new this.constructor(this);return e.s=1,e},l.cmp=function(e){var t,s=this.c,i=(e=new this.constructor(e)).c,a=this.s,n=e.s,o=this.e,d=e.e;if(!s[0]||!i[0])return s[0]?a:i[0]?-n:0;if(a!=n)return a;if(t=a<0,o!=d)return o>d^t?1:-1;for(a=-1,n=(o=s.length)<(d=i.length)?o:d;++a<n;)if(s[a]!=i[a])return s[a]>i[a]^t?1:-1;return o==d?0:o>d^t?1:-1},l.div=function(e){var t=this.constructor,s=this.c,i=(e=new t(e)).c,n=this.s==e.s?1:-1,o=t.DP;if(o!==~~o||o<0||o>1e6)throw Error(a);if(!i[0])throw Error(d);if(!s[0])return e.s=n,e.c=[e.e=0],e;var l,g,m,c,u,p=i.slice(),N=l=i.length,f=s.length,x=s.slice(0,l),v=x.length,E=e,w=E.c=[],y=0,C=o+(E.e=this.e-e.e)+1;for(E.s=n,n=C<0?0:C,p.unshift(0);v++<l;)x.push(0);do{for(m=0;m<10;m++){if(l!=(v=x.length))c=l>v?1:-1;else for(u=-1,c=0;++u<l;)if(i[u]!=x[u]){c=i[u]>x[u]?1:-1;break}if(c<0){for(g=v==l?i:p;v;){if(x[--v]<g[v]){for(u=v;u&&!x[--u];)x[u]=9;--x[u],x[v]+=10}x[v]-=g[v]}for(;!x[0];)x.shift()}else break}w[y++]=c?m:++m,x[0]&&c?x[v]=s[N]||0:x=[s[N]]}while((N++<f||x[0]!==r)&&n--)return!w[0]&&1!=y&&(w.shift(),E.e--,C--),y>C&&h(E,C,t.RM,x[0]!==r),E},l.eq=function(e){return 0===this.cmp(e)},l.gt=function(e){return this.cmp(e)>0},l.gte=function(e){return this.cmp(e)>-1},l.lt=function(e){return 0>this.cmp(e)},l.lte=function(e){return 1>this.cmp(e)},l.minus=l.sub=function(e){var t,s,i,a,n=this.constructor,o=this.s,d=(e=new n(e)).s;if(o!=d)return e.s=-d,this.plus(e);var l=this.c.slice(),r=this.e,g=e.c,h=e.e;if(!l[0]||!g[0])return g[0]?e.s=-d:l[0]?e=new n(this):e.s=1,e;if(o=r-h){for((a=o<0)?(o=-o,i=l):(h=r,i=g),i.reverse(),d=o;d--;)i.push(0);i.reverse()}else for(s=((a=l.length<g.length)?l:g).length,o=d=0;d<s;d++)if(l[d]!=g[d]){a=l[d]<g[d];break}if(a&&(i=l,l=g,g=i,e.s=-e.s),(d=(s=g.length)-(t=l.length))>0)for(;d--;)l[t++]=0;for(d=t;s>o;){if(l[--s]<g[s]){for(t=s;t&&!l[--t];)l[t]=9;--l[t],l[s]+=10}l[s]-=g[s]}for(;0===l[--d];)l.pop();for(;0===l[0];)l.shift(),--h;return l[0]||(e.s=1,l=[h=0]),e.c=l,e.e=h,e},l.mod=function(e){var t,s=this,i=s.constructor,a=s.s,n=(e=new i(e)).s;if(!e.c[0])throw Error(d);return(s.s=e.s=1,t=1==e.cmp(s),s.s=a,e.s=n,t)?new i(s):(a=i.DP,n=i.RM,i.DP=i.RM=0,s=s.div(e),i.DP=a,i.RM=n,this.minus(s.times(e)))},l.neg=function(){var e=new this.constructor(this);return e.s=-e.s,e},l.plus=l.add=function(e){var t,s,i,a=this.constructor;if(e=new a(e),this.s!=e.s)return e.s=-e.s,this.minus(e);var n=this.e,o=this.c,d=e.e,l=e.c;if(!o[0]||!l[0])return l[0]||(o[0]?e=new a(this):e.s=this.s),e;if(o=o.slice(),t=n-d){for(t>0?(d=n,i=l):(t=-t,i=o),i.reverse();t--;)i.push(0);i.reverse()}for(o.length-l.length<0&&(i=l,l=o,o=i),t=l.length,s=0;t;o[t]%=10)s=(o[--t]=o[t]+l[t]+s)/10|0;for(s&&(o.unshift(s),++d),t=o.length;0===o[--t];)o.pop();return e.c=o,e.e=d,e},l.pow=function(e){var t=this,s=new t.constructor("1"),a=s,n=e<0;if(e!==~~e||e<-1e6||e>1e6)throw Error(i+"exponent");for(n&&(e=-e);1&e&&(a=a.times(t)),e>>=1;)t=t.times(t);return n?s.div(a):a},l.prec=function(e,t){if(e!==~~e||e<1||e>1e6)throw Error(i+"precision");return h(new this.constructor(this),e,t)},l.round=function(e,t){if(e===r)e=0;else if(e!==~~e||e<-1e6||e>1e6)throw Error(a);return h(new this.constructor(this),e+this.e+1,t)},l.sqrt=function(){var e,t,i,a=this.constructor,n=this.s,o=this.e,d=new a("0.5");if(!this.c[0])return new a(this);if(n<0)throw Error(s+"No square root");0===(n=Math.sqrt(this+""))||n===1/0?((t=this.c.join("")).length+o&1||(t+="0"),o=((o+1)/2|0)-(o<0||1&o),e=new a(((n=Math.sqrt(t))==1/0?"5e":(n=n.toExponential()).slice(0,n.indexOf("e")+1))+o)):e=new a(n+""),o=e.e+(a.DP+=4);do i=e,e=d.times(i.plus(this.div(i)));while(i.c.slice(0,o).join("")!==e.c.slice(0,o).join(""))return h(e,(a.DP-=4)+e.e+1,a.RM)},l.times=l.mul=function(e){var t,s=this.constructor,i=this.c,a=(e=new s(e)).c,n=i.length,o=a.length,d=this.e,l=e.e;if(e.s=this.s==e.s?1:-1,!i[0]||!a[0])return e.c=[e.e=0],e;for(e.e=d+l,n<o&&(t=i,i=a,a=t,l=n,n=o,o=l),t=Array(l=n+o);l--;)t[l]=0;for(d=o;d--;){for(o=0,l=n+d;l>d;)o=t[l]+a[d]*i[l-d-1]+o,t[l--]=o%10,o=o/10|0;t[l]=o}for(o?++e.e:t.shift(),d=t.length;!t[--d];)t.pop();return e.c=t,e},l.toExponential=function(e,t){var s=this,i=s.c[0];if(e!==r){if(e!==~~e||e<0||e>1e6)throw Error(a);for(s=h(new s.constructor(s),++e,t);s.c.length<e;)s.c.push(0)}return m(s,!0,!!i)},l.toFixed=function(e,t){var s=this,i=s.c[0];if(e!==r){if(e!==~~e||e<0||e>1e6)throw Error(a);for(s=h(new s.constructor(s),e+s.e+1,t),e=e+s.e+1;s.c.length<e;)s.c.push(0)}return m(s,!1,!!i)},l.toJSON=l.toString=function(){var e=this.constructor;return m(this,this.e<=e.NE||this.e>=e.PE,!!this.c[0])},l.toNumber=function(){var e=Number(m(this,!0,!0));if(!0===this.constructor.strict&&!this.eq(e.toString()))throw Error(s+"Imprecise conversion");return e},l.toPrecision=function(e,t){var s=this,a=s.constructor,n=s.c[0];if(e!==r){if(e!==~~e||e<1||e>1e6)throw Error(i+"precision");for(s=h(new a(s),e,t);s.c.length<e;)s.c.push(0)}return m(s,e<=s.e||s.e<=a.NE||s.e>=a.PE,!!n)},l.valueOf=function(){var e=this.constructor;if(!0===e.strict)throw Error(s+"valueOf disallowed");return m(this,this.e<=e.NE||this.e>=e.PE,!0)},(t=function e(){function t(s){if(!(this instanceof t))return s===r?e():new t(s);if(s instanceof t)this.s=s.s,this.e=s.e,this.c=s.c.slice();else{if("string"!=typeof s){if(!0===t.strict&&"bigint"!=typeof s)throw TypeError(i+"value");s=0===s&&1/s<0?"-0":String(s)}(function(e,t){var s,a,n;if(!g.test(t))throw Error(i+"number");for(e.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(s=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(s<0&&(s=a),s+=+t.slice(a+1),t=t.substring(0,a)):s<0&&(s=t.length),n=t.length,a=0;a<n&&"0"==t.charAt(a);)++a;if(a==n)e.c=[e.e=0];else{for(;n>0&&"0"==t.charAt(--n););for(e.e=s-a-1,e.c=[],s=0;a<=n;)e.c[s++]=+t.charAt(a++)}})(this,s)}this.constructor=t}return t.prototype=l,t.DP=20,t.RM=1,t.NE=-7,t.PE=21,t.strict=!1,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}()).default=t.Big=t,"function"==typeof define&&define.amd?define(function(){return t}):o?o=t:e.Big=t}(o);const p="button",N="select";function f(e,t,s,i,a,n,o){let d=I(e,o),r=T(a+" ▼",l(e,p),n);return r.className="collapsible",r.addEventListener("click",function(){let e=r.textContent.split(" ");e[e.length-1]="▼"===e[e.length-1]?"▲":"▼",r.textContent=e.join(" ")}),d.appendChild(r),d.appendChild(i),null!=s?t.insertBefore(d,s):t.appendChild(d),r.removeEventListener("click",x),r.addEventListener("click",x),d}function x(){this.classList.toggle("active");let e=this.nextElementSibling;null!=e?e instanceof HTMLDivElement?"block"===e.style.display?e.style.display="none":e.style.display="block":console.log("toggleCollapsible: nextElementSibling is not an HTMLDivElement"):console.log("toggleCollapsible: nextElementSibling is null")}function v(e,t,s,i,a,n,o){let d;let l=R(void 0,i),r=((d=E(e,t,s)).onchange=a,d.value=n,y(d),d),g=z(o,s);return g.htmlFor=t,l.appendChild(g),l.appendChild(r),l}function E(e,t,s){let i=document.createElement("input");return i.type=e,i.id=t,Object.assign(i.style,s),i.style.fontSize="1em",i.classList.add("auto-width"),i}function w(e,t){let s="<"+t;if(e)for(let[t,i]of e)s+=" "+t+'="'+i+'"';return s+" />"}function y(e,t){void 0==t&&(t=4),e.style.width=e.value.length+t+"ch"}function C(e,t){void 0==t&&(t=6),e.style.width=e.value.length+t+"ch"}function b(e,t){void 0==t&&(t=6),e.style.width=e.value.length+t+"ch"}function M(e,t,s,i,a){let n=document.createElement("select");return e.forEach(e=>{n.name=t,n.id=i;let s=document.createElement("option");s.value=e,s.text=e,n.appendChild(s)}),n.value=s,n.style.fontSize="1em",n.classList.add("auto-width"),C(n),Object.assign(n.style,a),n}function S(e,t,s,i,a,n,o){let d=R(a,o),r=z(e,n);return d.appendChild(r),d.appendChild(M(t,s,i,l(a,N),n)),d}function T(e,t,s){let i=document.createElement("button");return i.textContent=e,void 0!=t&&(i.id=t),void 0!=s&&Object.assign(i.style,s),i.style.fontSize="1em",i}function I(e,t){let s=document.createElement("div");return void 0!=e&&(s.id=e),void 0!=t&&Object.assign(s.style,t),s}function R(e,t){let s=I(e,t);return s.style.display="flex",s.style.flexWrap="wrap",s}function z(e,t){let s=document.createElement("label");return Object.assign(s.style,t),s.textContent=e,s.style.fontSize="1em",s}function D(e,t){let s=document.createElement("table");return s.id=e,Object.assign(s.style,t),s}function _(e,t){let s=e.insertRow();return t.forEach(e=>{s.insertCell().textContent=e}),s}function L(e,t){let s=e.getElementsByTagName(t)[0];if(null==s)throw Error(t+" element not found");return s}function P(e){let t=e.childNodes;if(null==t)throw Error("Element has no childNodes");return t[0]}function B(e){let t=e.nodeValue;if(null==t)throw Error("nodeValue is null");return t}function A(e){let t=P(e);return t?B(t).trim():""}class k{constructor(e){this.tagName=e}toXML(e){let t=w(void 0,this.tagName);return e?"\n"+e+t:t}}class G extends k{constructor(e,t){super(t),this.attributes=e}toString(){let e=this.tagName+"(";return this.attributes&&this.attributes.forEach((t,s)=>{e+=`${s}(${t}), `}),e}toXML(e){let t="";for(let[s,i]of(void 0!=e&&(t+="\n"+e),t+="<"+this.tagName,this.attributes))t+=" "+s+'="'+i.toString()+'"';return t+" />"}}class O extends G{constructor(e,t,s){super(e,t),this.value=s}toString(){return super.toString()+`, ${this.value.toString()})`}toXML(e){return H(this.value.trim(),this.tagName,this.attributes,e,!1)}}class U extends G{constructor(e,t,s){super(e,t),this.value=s}toString(){return super.toString()+`, ${this.value.toString()})`}toXML(e){return H(this.value.toString(),this.tagName,this.attributes,e,!1)}}class q extends G{constructor(e,t,s,i){super(e,t),this.delimiter=" ",this.values=s,void 0!=i&&(this.delimiter=i)}getValues(){return this.values}setValues(e){this.values=e}toString(){return super.toString()+`, ${this.values.toString()})`}setDelimiter(e){this.delimiter=e}toXML(e){return H(m(this.values,this.delimiter),this.tagName,this.attributes,e,!1)}}class F extends G{constructor(e,t){super(e,t),this.nodes=new Map}addNode(e){this.nodes.set(this.nodes.size,e)}toString(){let e=super.toString();return this.nodes.forEach((t,s)=>{e+=`, ${t.toString()}`}),e+")"}toXML(e,t){let s;void 0!=e&&void 0!=t&&(s=t+e);let i="";if(this.nodes.size>0)return this.nodes.forEach(t=>{void 0==t?console.warn("Node 0 is undefined this.nodes.size = "+this.nodes.size):t instanceof F?i+=t.toXML(e,s):i+=t.toXML(s)}),H(i,this.tagName,this.attributes,t,!0);{let e=w(this.attributes,this.tagName);return void 0!=t?"\n"+t+e:e}}}function H(e,t,s,i,a){let n;return function(e,t,s){let i="";if(void 0!=s&&(i+="\n"+s),i+="<"+e,t)for(let[e,s]of t)i+=" "+e+'="'+s.toString()+'"';return i+">"}(t,s,i)+e+(n="",a&&void 0!=i&&(n+="\n"+i),n+"</"+t+">")}function V(e){let t=e.getAttributeNames(),s=new Map;return t.forEach(function(t){let i=e.getAttribute(t);null!=i&&s.set(t.trim(),i.trim())}),s}function j(e,t){let s=e.getElementsByTagName(t);if(1!=s.length)throw Error("Expecting 1 "+t+" but finding "+s.length);return s[0]}class X extends U{static{this.tagName="me:eigenvalue"}constructor(e,t){super(e,X.tagName,t)}}class Y extends F{static{this.tagName="me:eigenvalueList"}constructor(e,t){super(e,Y.tagName),t&&t.forEach(e=>{this.addNode(e)})}addEigenvalue(e){this.addNode(e)}}class $ extends U{static{this.tagName="me:pop"}constructor(e,t){super(e,$.tagName,t)}}class W extends F{static{this.tagName="me:population"}constructor(e,t){super(e,W.tagName)}addPop(e){this.addNode(e)}}class K extends F{static{this.tagName="me:populationList"}constructor(e,t){super(e,K.tagName),t&&t.forEach(e=>{this.addNode(e)})}addPopulation(e){this.addNode(e)}}class Z extends U{static{this.tagName="me:firstOrderLoss"}constructor(e,t){super(e,Z.tagName,t)}}class Q extends U{static{this.tagName="me:firstOrderRate"}constructor(e,t){super(e,Z.tagName,t)}}class J extends F{static{this.tagName="me:rateList"}constructor(e,t,s){if(super(e,ee.tagName),this.index=new Map,this.folIndex=new Map,t){let e=0;t.forEach(t=>{this.index.set(Z.tagName+e.toString(),this.nodes.size),this.folIndex.set(this.folIndex.size,this.nodes.size),this.addNode(t),e++}),this.fols=t}else this.fols=[];if(this.forIndex=new Map,s){let e=0;s.forEach(t=>{this.index.set(Q.tagName+e.toString(),this.nodes.size),this.forIndex.set(this.forIndex.size,this.nodes.size),this.addNode(t),e++}),this.fors=s}else this.fors=[]}addFirstOrderLoss(e){this.folIndex.set(this.folIndex.size,this.nodes.size),this.index.set(Z.tagName+this.folIndex.size.toString(),this.nodes.size),this.fols.push(e),this.addNode(e)}addFirstOrderRate(e){this.forIndex.set(this.forIndex.size,this.nodes.size),this.index.set(Q.tagName+this.forIndex.size.toString(),this.nodes.size),this.fors.push(e),this.addNode(e)}}class ee extends F{static{this.tagName="me:analysis"}constructor(e,t,s,i,a){super(e,ee.tagName),this.index=new Map,t&&(this.index.set(tC.tagName,this.nodes.size),this.addNode(t)),this.elIndex=new Map,s?(s.forEach(e=>{this.index.set(Y.tagName,this.nodes.size),this.elIndex.set(this.elIndex.size,this.nodes.size),this.addNode(e)}),this.els=s):this.els=[],this.plIndex=new Map,i?(i.forEach(e=>{this.index.set(K.tagName,this.nodes.size),this.plIndex.set(this.plIndex.size,this.nodes.size),this.addNode(e)}),this.pls=i):this.pls=[],this.rlIndex=new Map,a?(a.forEach(e=>{this.index.set(J.tagName,this.nodes.size),this.rlIndex.set(this.rlIndex.size,this.nodes.size),this.addNode(e)}),this.rls=a):this.rls=[]}getDescription(){if(this.index.has(tC.tagName)){let e=this.index.get(tC.tagName);return this.nodes.get(e)}}setDescription(e){if(this.index.has(tC.tagName)){let t=this.index.get(tC.tagName);this.nodes.set(t,e)}else this.index.set(tC.tagName,this.nodes.size),this.addNode(e)}addEigenvalueList(e){this.elIndex.set(this.elIndex.size,this.nodes.size),this.addNode(e),this.els.push(e)}addPopulationList(e){this.plIndex.set(this.plIndex.size,this.nodes.size),this.addNode(e),this.pls.push(e)}addRateList(e){this.rlIndex.set(this.rlIndex.size,this.nodes.size),this.addNode(e),this.rls.push(e)}}class et extends O{static{this.tagName="me:bathGas"}constructor(e,t){super(e,et.tagName,t)}}class es extends U{static{this.tagName="me:experimentalRate"}static{this.s_ref1="ref1"}static{this.s_ref2="ref2"}static{this.s_refReaction="refReaction"}static{this.s_error="error"}constructor(e,t){super(e,es.tagName,t)}getRef1(){return this.attributes.get(es.s_ref1)}setRef1(e){this.attributes.set(es.s_ref1,e)}getRef2(){return this.attributes.get(es.s_ref2)}setRef2(e){this.attributes.set(es.s_ref2,e)}getRefReaction(){return this.attributes.get(es.s_refReaction)}setRefReaction(e){this.attributes.set(es.s_refReaction,e)}getError(){return new(n(o))(this.attributes.get(es.s_error))}setError(e){this.attributes.set(es.s_error,e.toString())}}class ei extends U{static{this.tagName="me:experimentalYield"}static{this.s_ref="ref"}static{this.s_error="error"}static{this.s_yieldTime="yieldTime"}constructor(e,t){super(e,ei.tagName,t)}getRef(){return this.attributes.get(ei.s_ref)}setRef(e){this.attributes.set(ei.s_ref,e)}getError(){return new(n(o))(this.attributes.get(ei.s_error))}setError(e){this.attributes.set(ei.s_error,e.toString())}getYieldTime(){return new(n(o))(this.attributes.get(ei.s_yieldTime))}setYieldTime(e){this.attributes.set(ei.s_yieldTime,e.toString())}}class ea extends U{static{this.tagName="me:experimentalEigenvalue"}static{this.s_EigenvalueID="EigenvalueID"}static{this.s_error="error"}constructor(e,t){super(e,ea.tagName,t)}getEigenvalueID(){return this.attributes.get(ea.s_EigenvalueID)}setEigenvalueID(e){this.attributes.set(ea.s_EigenvalueID,e)}getError(){return new(n(o))(this.attributes.get(ea.s_error))}setError(e){this.attributes.set(ea.s_error,e.toString())}}class en extends U{static{this.tagName="me:excessReactantConc"}static{this.s_percent="percent"}constructor(e,t){super(e,en.tagName,t)}getPercent(){return this.attributes.get(en.s_percent)}setPercent(e){this.attributes.set(en.s_percent,e)}}class eo extends F{static{this.tagName="me:PTpair"}static{this.s_P="P"}static{this.s_T="T"}static{this.s_precision="precision"}static{this.s_excessReactantConc="excessReactantConc"}static{this.s_percentExcessReactantConc="percentExcessReactantConc"}constructor(e,t,s,i,a){super(e,eo.tagName),this.index=new Map,void 0!=t&&(this.index.set(et.tagName,this.nodes.size),this.addNode(t)),void 0!=s&&(this.index.set(es.tagName,this.nodes.size),this.addNode(s)),void 0!=i&&(this.index.set(ei.tagName,this.nodes.size),this.addNode(i)),void 0!=a&&(this.index.set(ea.tagName,this.nodes.size),this.addNode(a))}getP(){let e=this.attributes.get(eo.s_P);if(void 0!==e)return new(n(o))(e)}setP(e){this.attributes.set(eo.s_P,e.toString())}getT(){let e=this.attributes.get(eo.s_T);if(void 0!==e)return new(n(o))(e)}setT(e){this.attributes.set(eo.s_T,e.toString())}getPrecision(){return this.attributes.get(eo.s_precision)}setPrecision(e){this.attributes.set(eo.s_precision,e)}getBathGas(){let e=this.index.get(et.tagName);return void 0!=e?this.nodes.get(e):void 0}setBathGas(e){let t=this.index.get(et.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(et.tagName,this.nodes.size),this.addNode(e))}removeBathGas(){let e=this.index.get(et.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(et.tagName))}getExperimentalRate(){let e=this.index.get(es.tagName);return void 0!=e?this.nodes.get(e):void 0}setExperimentalRate(e){let t=this.index.get(es.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(es.tagName,this.nodes.size),this.addNode(e))}removeExperimentalRate(){let e=this.index.get(es.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(es.tagName))}getExperimentalYield(){let e=this.index.get(ei.tagName);return void 0!=e?this.nodes.get(e):void 0}setExperimentalYield(e){let t=this.index.get(ei.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ei.tagName,this.nodes.size),this.addNode(e))}removeExperimentalYield(){let e=this.index.get(ei.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ei.tagName))}getExperimentalEigenvalue(){let e=this.index.get(ea.tagName);return void 0!=e?this.nodes.get(e):void 0}setExperimentalEigenvalue(e){let t=this.index.get(ea.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ea.tagName,this.nodes.size),this.addNode(e))}removeExperimentalEigenvalue(){let e=this.index.get(ea.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ea.tagName))}getExcessReactantConc(){return this.attributes.get(eo.s_excessReactantConc)}setExcessReactantConc(e){this.attributes.set(eo.s_excessReactantConc,e)}getPercentExcessReactantConc(){return this.attributes.get(eo.s_percentExcessReactantConc)}setPercentExcessReactantConc(e){this.attributes.set(eo.s_percentExcessReactantConc,e)}}class ed extends F{static{this.tagName="me:PTs"}constructor(e,t){super(e,ed.tagName),void 0!=t?(t.forEach(e=>{this.addNode(e)}),this.ptps=t):this.ptps=[]}get(e){return this.ptps[e]}set(e,t){this.nodes.set(e,t),this.ptps[e]=t}add(e){return this.addNode(e),this.ptps.push(e),this.nodes.size-1}remove(e){this.nodes.delete(e),this.ptps.splice(e,1)}init(e){this.clear(),e.forEach(e=>{this.addNode(e),this.ptps.push(e)})}clear(){this.nodes.clear(),this.ptps=[]}}class el extends F{static{this.tagName="me:conditions"}constructor(e,t,s,i){super(e,el.tagName),this.id=t,this.index=new Map,this.bathGasesIndex=new Map,this.bathGases=new Map,void 0!=s&&(this.index.set(et.tagName,this.nodes.size),s.forEach(e=>{this.bathGasesIndex.set(e.value,this.nodes.size),this.addNode(e),this.bathGases.set(e,s.size)})),void 0!=i&&(this.index.set(ed.tagName,this.nodes.size),this.addNode(i))}getBathGases(){return this.bathGases}addBathGas(e){if(this.bathGases.has(e))return this.bathGases.get(e);{let t=this.bathGases.size;return this.bathGases.set(e,t),this.bathGasesIndex.set(e.value,this.nodes.size),this.addNode(e),t}}removeBathGas(e){this.bathGases.has(e)?(this.bathGases.delete(e),this.nodes.delete(this.bathGasesIndex.get(e.value))):console.warn("Conditions.removeBathGas: bathGas not found to remove.")}getPTs(){let e=this.index.get(ed.tagName);if(void 0!=e)return this.nodes.get(e)}setPTs(e){let t=this.index.get(ed.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ed.tagName,this.nodes.size),this.addNode(e))}}class er extends k{static{this.tagName="me:calculateRateCoefficientsOnly"}constructor(){super(er.tagName)}}class eg extends k{static{this.tagName="me:printCellDOS"}constructor(){super(eg.tagName)}}class eh extends k{static{this.tagName="me:printCellTransitionStateFlux"}constructor(){super(eh.tagName)}}class em extends k{static{this.tagName="me:printReactionOperatorColumnSums"}constructor(){super(em.tagName)}}class ec extends k{static{this.tagName="me:printGrainBoltzmann"}constructor(){super(ec.tagName)}}class eu extends k{static{this.tagName="me:printGrainDOS"}constructor(){super(eu.tagName)}}class ep extends k{static{this.tagName="me:printGrainkbE"}constructor(){super(ep.tagName)}}class eN extends k{static{this.tagName="me:printGrainkfE"}constructor(){super(eN.tagName)}}class ef extends k{static{this.tagName="me:printTSsos"}constructor(){super(ef.tagName)}}class ex extends k{static{this.tagName="me:printGrainedSpeciesProfile"}constructor(){super(ex.tagName)}}class ev extends k{static{this.tagName="me:printGrainTransitionStateFlux"}constructor(){super(ev.tagName)}}class eE extends k{static{this.tagName="me:printReactionOperatorSize"}constructor(){super(eE.tagName)}}class ew extends k{static{this.tagName="me:printSpeciesProfile"}constructor(){super(ew.tagName)}}class ey extends k{static{this.tagName="me:printPhenomenologicalEvolution"}constructor(){super(ey.tagName)}}class eC extends k{static{this.tagName="me:printTunnelingCoefficients"}constructor(){super(eC.tagName)}}class eb extends k{static{this.tagName="me:printCrossingCoefficients"}constructor(){super(eb.tagName)}}class eM extends k{static{this.tagName="me:testDOS"}constructor(){super(eM.tagName)}}class eS extends k{static{this.tagName="me:testRateConstant"}constructor(){super(eS.tagName)}}class eT extends k{static{this.tagName="me:useTheSameCellNumberForAllConditions"}constructor(){super(eT.tagName)}}class eI extends k{static{this.tagName="me:ForceMacroDetailedBalance"}constructor(){super(eI.tagName)}}class eR extends k{static{this.tagName="me:hideInactive"}constructor(){super(eR.tagName)}}class ez extends F{static{this.tagName="me:calcMethod"}static{this.options=["simpleCalc","gridSearch","fitting","marquardt","analyticalRepresentation","ThermodynamicTable","sensitivityAnalysis","me:simpleCalc","me:gridSearch","me:fitting","me:marquardt","me:analyticalRepresentation","me:ThermodynamicTable","me:sensitivityAnalysis"]}constructor(e){super(e,ez.tagName)}}class eD extends ez{static{this.xsi_type="me:simpleCalc"}static{this.xsi_type2="simpleCalc"}constructor(e){super(e)}}class e_ extends ez{static{this.xsi_type="me:gridSearch"}static{this.xsi_type2="gridSearch"}constructor(e){super(e)}}class eL extends U{static{this.tagName="me:fittingIterations"}constructor(e,t){super(e,eL.tagName,t)}}class eP extends ez{static{this.xsi_type="me:fitting"}static{this.xsi_type2="fitting"}constructor(e,t){super(e),void 0!=t&&this.addNode(t)}getFittingIterations(){return this.nodes.get(0)}setFittingIterations(e){this.nodes.set(0,e)}removeFittingIterations(){this.nodes.delete(0)}}class eB extends U{static{this.tagName="me:MarquardtIterations"}constructor(e,t){super(e,eB.tagName,t)}}class eA extends U{static{this.tagName="me:MarquardtTolerance"}constructor(e,t){super(e,eA.tagName,t)}}class ek extends U{static{this.tagName="me:MarquardtDerivDelta"}constructor(e,t){super(e,ek.tagName,t)}}class eG extends ez{static{this.xsi_type="me:marquardt"}static{this.xsi_type2="marquardt"}constructor(e,t,s,i){super(e),this.index=new Map,void 0!=t&&(this.index.set(eB.tagName,this.nodes.size),this.addNode(t)),void 0!=s&&(this.index.set(eA.tagName,this.nodes.size),this.addNode(s)),void 0!=i&&(this.index.set(ek.tagName,this.nodes.size),this.addNode(i))}getMarquardtIterations(){let e=this.index.get(eB.tagName);if(void 0!=e)return this.nodes.get(e)}setMarquardtIterations(e){let t=this.index.get(eB.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eB.tagName,this.nodes.size),this.addNode(e))}removeMarquardtIterations(){let e=this.index.get(eB.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eB.tagName))}getMarquardtTolerance(){let e=this.index.get(eA.tagName);if(void 0!=e)return this.nodes.get(e)}setMarquardtTolerance(e){let t=this.index.get(eA.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eA.tagName,this.nodes.size),this.addNode(e))}removeMarquardtTolerance(){let e=this.index.get(eA.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eA.tagName))}getMarquardtDerivDelta(){let e=this.index.get(ek.tagName);if(void 0!=e)return this.nodes.get(e)}setMarquardtDerivDelta(e){let t=this.index.get(ek.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ek.tagName,this.nodes.size),this.addNode(e))}removeMarquardtDerivDelta(){let e=this.index.get(ek.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ek.tagName))}}class eO extends k{static{this.tagName="me:useTraceWeighting"}constructor(){super(eO.tagName)}}class eU extends O{static{this.tagName="me:format"}static{this.options=["cantera","chemkin"]}static{this.rateUnits="rateUnits"}static{this.rateUnitsOptions=["cm3mole-1s-1","cm3molecule-1s-1"]}constructor(e,t){super(e,eU.tagName,t)}getRateUnits(){return this.attributes.get(eU.rateUnits)}setRateUnits(e){this.attributes.set(eU.rateUnits,e)}removeRateUnits(){this.attributes.delete(eU.rateUnits)}}class eq extends O{static{this.tagName="me:precision"}constructor(e,t){super(e,eq.tagName,t)}}class eF extends U{static{this.tagName="me:chebNumTemp"}constructor(e,t){super(e,eF.tagName,t)}}class eH extends U{static{this.tagName="me:chebNumConc"}constructor(e,t){super(e,eH.tagName,t)}}class eV extends U{static{this.tagName="me:chebMaxTemp"}constructor(e,t){super(e,eV.tagName,t)}}class ej extends U{static{this.tagName="me:chebMinTemp"}constructor(e,t){super(e,ej.tagName,t)}}class eX extends U{static{this.tagName="me:chebMaxConc"}constructor(e,t){super(e,eX.tagName,t)}getUnits(){return this.attributes.get("units")}setUnits(e){this.attributes.set("units",e)}}class eY extends U{static{this.tagName="me:chebMinConc"}constructor(e,t){super(e,eY.tagName,t)}}class e$ extends U{static{this.tagName="me:chebTExSize"}constructor(e,t){super(e,e$.tagName,t)}}class eW extends U{static{this.tagName="me:chebPExSize"}constructor(e,t){super(e,eW.tagName,t)}}class eK extends ez{static{this.xsi_type="me:analyticalRepresentation"}static{this.xsi_type2="analyticalRepresentation"}constructor(e,t,s,i,a,n,o,d,l,r,g){super(e),this.index=new Map,void 0!=t&&(this.index.set(eU.tagName,this.nodes.size),this.addNode(t)),void 0!=s&&(this.index.set(eq.tagName,this.nodes.size),this.addNode(s)),void 0!=i&&(this.index.set(eF.tagName,this.nodes.size),this.addNode(i)),void 0!=a&&(this.index.set(eH.tagName,this.nodes.size),this.addNode(a)),void 0!=n&&(this.index.set(eV.tagName,this.nodes.size),this.addNode(n)),void 0!=o&&(this.index.set(ej.tagName,this.nodes.size),this.addNode(o)),void 0!=d&&(this.index.set(eX.tagName,this.nodes.size),this.addNode(d)),void 0!=l&&(this.index.set(eY.tagName,this.nodes.size),this.addNode(l)),void 0!=r&&(this.index.set(e$.tagName,this.nodes.size),this.addNode(r)),void 0!=g&&(this.index.set(eW.tagName,this.nodes.size),this.addNode(g))}getFormat(){let e=this.index.get(eU.tagName);if(void 0!=e)return this.nodes.get(e)}setFormat(e){let t=this.index.get(eU.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eU.tagName,this.nodes.size),this.addNode(e))}removeFormat(){let e=this.index.get(eU.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eU.tagName))}getPrecision(){let e=this.index.get(eq.tagName);if(void 0!=e)return this.nodes.get(e)}setPrecision(e){let t=this.index.get(eq.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eq.tagName,this.nodes.size),this.addNode(e))}removePrecision(){let e=this.index.get(eq.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eq.tagName))}getChebNumTemp(){let e=this.index.get(eF.tagName);if(void 0!=e)return this.nodes.get(e)}setChebNumTemp(e){let t=this.index.get(eF.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eF.tagName,this.nodes.size),this.addNode(e))}removeChebNumTemp(){let e=this.index.get(eF.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eF.tagName))}getChebNumConc(){let e=this.index.get(eH.tagName);if(void 0!=e)return this.nodes.get(e)}setChebNumConc(e){let t=this.index.get(eH.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eH.tagName,this.nodes.size),this.addNode(e))}removeChebNumConc(){let e=this.index.get(eH.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eH.tagName))}getChebMaxTemp(){let e=this.index.get(eV.tagName);if(void 0!=e)return this.nodes.get(e)}setChebMaxTemp(e){let t=this.index.get(eV.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eV.tagName,this.nodes.size),this.addNode(e))}removeChebMaxTemp(){let e=this.index.get(eV.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eV.tagName))}getChebMinTemp(){let e=this.index.get(ej.tagName);if(void 0!=e)return this.nodes.get(e)}setChebMinTemp(e){let t=this.index.get(ej.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ej.tagName,this.nodes.size),this.addNode(e))}removeChebMinTemp(){let e=this.index.get(ej.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ej.tagName))}getChebMaxConc(){let e=this.index.get(eX.tagName);if(void 0!=e)return this.nodes.get(e)}setChebMaxConc(e){let t=this.index.get(eX.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eX.tagName,this.nodes.size),this.addNode(e))}removeChebMaxConc(){let e=this.index.get(eX.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eX.tagName))}getChebMinConc(){let e=this.index.get(eY.tagName);if(void 0!=e)return this.nodes.get(e)}setChebMinConc(e){let t=this.index.get(eY.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eY.tagName,this.nodes.size),this.addNode(e))}removeChebMinConc(){let e=this.index.get(eY.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eY.tagName))}getChebTExSize(){let e=this.index.get(e$.tagName);if(void 0!=e)return this.nodes.get(e)}setChebTExSize(e){let t=this.index.get(e$.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e$.tagName,this.nodes.size),this.addNode(e))}removeChebTExSize(){let e=this.index.get(e$.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e$.tagName))}getChebPExSize(){let e=this.index.get(eW.tagName);if(void 0!=e)return this.nodes.get(e)}setChebPExSize(e){let t=this.index.get(eW.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eW.tagName,this.nodes.size),this.addNode(e))}removeChebPExSize(){let e=this.index.get(eW.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eW.tagName))}}class eZ extends U{static{this.tagName="me:Tmin"}constructor(e,t){super(e,eZ.tagName,t)}}class eQ extends U{static{this.tagName="me:Tmid"}constructor(e,t){super(e,eQ.tagName,t)}}class eJ extends U{static{this.tagName="me:Tmax"}constructor(e,t){super(e,eJ.tagName,t)}}class e0 extends U{static{this.tagName="me:Tstep"}constructor(e,t){super(e,eZ.tagName,t)}}class e1 extends ez{static{this.xsi_type="me:ThermodynamicTable"}static{this.xsi_type2="ThermodynamicTable"}constructor(e,t,s,i,a){super(e),this.index=new Map,void 0!=t&&(this.index.set(eZ.tagName,this.nodes.size),this.addNode(t)),void 0!=s&&(this.index.set(eQ.tagName,this.nodes.size),this.addNode(s)),void 0!=i&&(this.index.set(eJ.tagName,this.nodes.size),this.addNode(i)),void 0!=a&&(this.index.set(e0.tagName,this.nodes.size),this.addNode(a))}getTmin(){let e=this.index.get(eZ.tagName);if(void 0!=e)return this.nodes.get(e)}setTmin(e){let t=this.index.get(eZ.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eZ.tagName,this.nodes.size),this.addNode(e))}removeTmin(){let e=this.index.get(eZ.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eZ.tagName))}getTmid(){let e=this.index.get(eQ.tagName);if(void 0!=e)return this.nodes.get(e)}setTmid(e){let t=this.index.get(eQ.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eQ.tagName,this.nodes.size),this.addNode(e))}removeTmid(){let e=this.index.get(eQ.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eQ.tagName))}getTmax(){let e=this.index.get(eJ.tagName);if(void 0!=e)return this.nodes.get(e)}setTmax(e){let t=this.index.get(eJ.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eJ.tagName,this.nodes.size),this.addNode(e))}removeTmax(){let e=this.index.get(eJ.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eJ.tagName))}getTstep(){let e=this.index.get(e0.tagName);if(void 0!=e)return this.nodes.get(e)}setTstep(e){let t=this.index.get(e0.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e0.tagName,this.nodes.size),this.addNode(e))}removeTstep(){let e=this.index.get(e0.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e0.tagName))}}class e2 extends U{static{this.tagName="me:sensitivityAnalysisSamples"}constructor(e,t){super(e,e2.tagName,t)}}class e3 extends U{static{this.tagName="me:sensitivityAnalysisOrder"}constructor(e,t){super(e,e3.tagName,t)}}class e5 extends U{static{this.tagName="me:sensitivityNumVarRedIters"}constructor(e,t){super(e,e5.tagName,t)}}class e4 extends O{static{this.tagName="me:sensitivityVarRedMethod"}static{this.options=["AdditiveControl","RatioControl"]}constructor(e,t){super(e,e4.tagName,t)}}class e6 extends ez{static{this.xsi_type="me:sensitivityAnalysis"}static{this.xsi_type2="sensitivityAnalysis"}constructor(e,t,s,i,a){super(e),this.index=new Map,void 0!=t&&(this.index.set(e2.tagName,this.nodes.size),this.addNode(t)),void 0!=s&&(this.index.set(e3.tagName,this.nodes.size),this.addNode(s)),void 0!=i&&(this.index.set(e5.tagName,this.nodes.size),this.addNode(i)),void 0!=a&&(this.index.set(e4.tagName,this.nodes.size),this.addNode(a))}getSensitivityAnalysisSamples(){let e=this.index.get(e2.tagName);if(void 0!=e)return this.nodes.get(e)}setSensitivityAnalysisSamples(e){let t=this.index.get(e2.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e2.tagName,this.nodes.size),this.addNode(e))}removeSensitivityAnalysisSamples(){let e=this.index.get(e2.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e2.tagName))}getSensitivityAnalysisOrder(){let e=this.index.get(e3.tagName);if(void 0!=e)return this.nodes.get(e)}setSensitivityAnalysisOrder(e){let t=this.index.get(e3.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e3.tagName,this.nodes.size),this.addNode(e))}removeSensitivityAnalysisOrder(){let e=this.index.get(e3.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e3.tagName))}getSensitivityNumVarRedIters(){let e=this.index.get(e5.tagName);if(void 0!=e)return this.nodes.get(e)}setSensitivityNumVarRedIters(e){let t=this.index.get(e5.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e5.tagName,this.nodes.size),this.addNode(e))}removeSensitivityNumVarRedIters(){let e=this.index.get(e5.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e5.tagName))}getSensitivityVarRedMethod(){let e=this.index.get(e4.tagName);if(void 0!=e)return this.nodes.get(e)}setSensitivityVarRedMethod(e){let t=this.index.get(e4.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e4.tagName,this.nodes.size),this.addNode(e))}removeSensitivityVarRedMethod(){let e=this.index.get(e4.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e4.tagName))}}class e8 extends U{static{this.tagName="me:eigenvalues"}constructor(e,t){super(e,e8.tagName,t)}}class e9 extends U{static{this.tagName="me:shortestTimeOfInterest"}constructor(e,t){super(e,e9.tagName,t)}}class e7 extends U{static{this.tagName="me:MaximumEvolutionTime"}constructor(e,t){super(e,e7.tagName,t)}}class te extends U{static{this.tagName="me:automaticallySetMaxEne"}constructor(e,t){super(e,te.tagName,t)}}class tt extends U{static{this.tagName="me:diagramEnergyOffset"}constructor(e,t){super(e,tt.tagName,t)}}class ts extends G{static{this.tagName="me:testMicroRates"}constructor(e){super(e,ts.tagName),this.tMin=new(n(o))(e.get("Tmin")),this.tMax=new(n(o))(e.get("Tmax")),this.tStep=new(n(o))(e.get("Tstep"))}getTmin(){return this.tMin}setTmin(e){this.tMin=e,this.attributes?.set("Tmin",e.toString())}getTmax(){return this.tMax}setTmax(e){this.tMax=e,this.attributes?.set("Tmax",e.toString())}getTstep(){return this.tStep}setTstep(e){this.tStep=e,this.attributes?.set("Tstep",e.toString())}}class ti extends F{static{this.tagName="me:control"}constructor(e,t){super(e,ti.tagName),this.id=t,this.index=new Map}getCalculateRateCoefficientsOnly(){let e=this.index.get(er.tagName);if(void 0!=e)return this.nodes.get(e)}setCalculateRateCoefficientsOnly(e){let t=this.index.get(er.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(er.tagName,this.nodes.size),this.addNode(e))}removeCalculateRateCoefficientsOnly(){let e=this.index.get(er.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(er.tagName))}getPrintCellDOS(){let e=this.index.get(eg.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintCellDOS(e){let t=this.index.get(eg.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eg.tagName,this.nodes.size),this.addNode(e))}removePrintCellDOS(){let e=this.index.get(eg.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eg.tagName))}getPrintCellTransitionStateFlux(){let e=this.index.get(eh.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintCellTransitionStateFlux(e){let t=this.index.get(eh.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eh.tagName,this.nodes.size),this.addNode(e))}removePrintCellTransitionStateFlux(){let e=this.index.get(eh.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eh.tagName))}getPrintReactionOperatorColumnSums(){let e=this.index.get(em.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintReactionOperatorColumnSums(e){let t=this.index.get(em.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(em.tagName,this.nodes.size),this.addNode(e))}removePrintReactionOperatorColumnSums(){let e=this.index.get(em.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(em.tagName))}getPrintGrainBoltzmann(){let e=this.index.get(ec.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintGrainBoltzmann(e){let t=this.index.get(ec.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ec.tagName,this.nodes.size),this.addNode(e))}removePrintGrainBoltzmann(){let e=this.index.get(ec.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ec.tagName))}getPrintGrainDOS(){let e=this.index.get(eu.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintGrainDOS(e){let t=this.index.get(eu.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eu.tagName,this.nodes.size),this.addNode(e))}removePrintGrainDOS(){let e=this.index.get(eu.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eu.tagName))}getPrintGrainkbE(){let e=this.index.get(ep.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintGrainkbE(e){let t=this.index.get(ep.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ep.tagName,this.nodes.size),this.addNode(e))}removePrintGrainkbE(){let e=this.index.get(ep.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ep.tagName))}getPrintGrainkfE(){let e=this.index.get(eN.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintGrainkfE(e){let t=this.index.get(eN.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eN.tagName,this.nodes.size),this.addNode(e))}removePrintGrainkfE(){let e=this.index.get(eN.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eN.tagName))}getPrintTSsos(){let e=this.index.get(ef.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintTSsos(e){let t=this.index.get(ef.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ef.tagName,this.nodes.size),this.addNode(e))}removePrintTSsos(){let e=this.index.get(ef.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ef.tagName))}getPrintGrainedSpeciesProfile(){let e=this.index.get(ex.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintGrainedSpeciesProfile(e){let t=this.index.get(ex.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ex.tagName,this.nodes.size),this.addNode(e))}removePrintGrainedSpeciesProfile(){let e=this.index.get(ex.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ex.tagName))}getPrintGrainTransitionStateFlux(){let e=this.index.get(ev.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintGrainTransitionStateFlux(e){let t=this.index.get(ev.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ev.tagName,this.nodes.size),this.addNode(e))}removePrintGrainTransitionStateFlux(){let e=this.index.get(ev.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ev.tagName))}getPrintReactionOperatorSize(){let e=this.index.get(eE.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintReactionOperatorSize(e){let t=this.index.get(eE.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eE.tagName,this.nodes.size),this.addNode(e))}removePrintReactionOperatorSize(){let e=this.index.get(eE.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eE.tagName))}getPrintSpeciesProfile(){let e=this.index.get(ew.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintSpeciesProfile(e){let t=this.index.get(ew.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ew.tagName,this.nodes.size),this.addNode(e))}removePrintSpeciesProfile(){let e=this.index.get(ew.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ew.tagName))}getPrintPhenomenologicalEvolution(){let e=this.index.get(ey.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintPhenomenologicalEvolution(e){let t=this.index.get(ey.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ey.tagName,this.nodes.size),this.addNode(e))}removePrintPhenomenologicalEvolution(){let e=this.index.get(ey.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ey.tagName))}getPrintTunnelingCoefficients(){let e=this.index.get(eC.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintTunnelingCoefficients(e){let t=this.index.get(eC.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eC.tagName,this.nodes.size),this.addNode(e))}removePrintTunnelingCoefficients(){let e=this.index.get(eC.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eC.tagName))}getPrintCrossingCoefficients(){let e=this.index.get(eb.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintCrossingCoefficients(e){let t=this.index.get(eb.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eb.tagName,this.nodes.size),this.addNode(e))}removePrintCrossingCoefficients(){let e=this.index.get(eb.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eb.tagName))}getTestDOS(){let e=this.index.get(eM.tagName);if(void 0!=e)return this.nodes.get(e)}setTestDOS(e){let t=this.index.get(eM.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eM.tagName,this.nodes.size),this.addNode(e))}removeTestDOS(){let e=this.index.get(eM.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eM.tagName))}getTestRateConstants(){let e=this.index.get(eS.tagName);if(void 0!=e)return this.nodes.get(e)}setTestRateConstants(e){let t=this.index.get(eS.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eS.tagName,this.nodes.size),this.addNode(e))}removeTestRateConstants(){let e=this.index.get(eS.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eS.tagName))}getUseTheSameCellNumberForAllConditions(){let e=this.index.get(eT.tagName);if(void 0!=e)return this.nodes.get(e)}setUseTheSameCellNumberForAllConditions(e){let t=this.index.get(eT.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eT.tagName,this.nodes.size),this.addNode(e))}removeUseTheSameCellNumberForAllConditions(){let e=this.index.get(eT.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eT.tagName))}getHideInactive(){let e=this.index.get(eR.tagName);if(void 0!=e)return this.nodes.get(e)}setHideInactive(e){let t=this.index.get(eR.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eR.tagName,this.nodes.size),this.addNode(e))}removeHideInactive(){let e=this.index.get(eR.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eR.tagName))}getForceMacroDetailedBalance(){let e=this.index.get(eI.tagName);if(void 0!=e)return this.nodes.get(e)}setForceMacroDetailedBalance(e){let t=this.index.get(eI.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eI.tagName,this.nodes.size),this.addNode(e))}removeForceMacroDetailedBalance(){let e=this.index.get(eI.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eI.tagName))}getCalcMethod(){let e=this.index.get(ez.tagName);if(void 0!=e)return this.nodes.get(e)}setCalcMethod(e){let t=this.index.get(ez.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ez.tagName,this.nodes.size),this.addNode(e))}removeCalcMethod(){let e=this.index.get(ez.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ez.tagName))}getEigenvalues(){let e=this.index.get(e8.tagName);if(void 0!=e)return this.nodes.get(e)}setEigenvalues(e){let t=this.index.get(e8.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e8.tagName,this.nodes.size),this.addNode(e))}removeEigenvalues(){let e=this.index.get(e8.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e8.tagName))}getShortestTimeOfInterest(){let e=this.index.get(e9.tagName);if(void 0!=e)return this.nodes.get(e)}setShortestTimeOfInterest(e){let t=this.index.get(e9.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e9.tagName,this.nodes.size),this.addNode(e))}removeShortestTimeOfInterest(){let e=this.index.get(e9.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e9.tagName))}getMaximumEvolutionTime(){let e=this.index.get(e7.tagName);if(void 0!=e)return this.nodes.get(e)}setMaximumEvolutionTime(e){let t=this.index.get(e7.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e7.tagName,this.nodes.size),this.addNode(e))}removeMaximumEvolutionTime(){let e=this.index.get(e7.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e7.tagName))}getAutomaticallySetMaxEne(){let e=this.index.get(te.tagName);if(void 0!=e)return this.nodes.get(e)}setAutomaticallySetMaxEne(e){let t=this.index.get(te.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(te.tagName,this.nodes.size),this.addNode(e))}removeAutomaticallySetMaxEne(){let e=this.index.get(te.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(te.tagName))}getDiagramEnergyOffset(){let e=this.index.get(tt.tagName);if(void 0!=e)return this.nodes.get(e)}setDiagramEnergyOffset(e){let t=this.index.get(tt.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tt.tagName,this.nodes.size),this.addNode(e))}removeDiagramEnergyOffset(){let e=this.index.get(tt.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tt.tagName))}getTestMicroRates(){let e=this.index.get(ts.tagName);if(void 0!=e)return this.nodes.get(e)}setTestMicroRates(e){let t=this.index.get(ts.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ts.tagName,this.nodes.size),this.addNode(e))}removeTestMicroRates(){let e=this.index.get(ts.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ts.tagName))}}class ta extends F{static{this.tagName="metadata"}constructor(e){super(e,ta.tagName)}getLabelText(){let e="";return this.attributes.forEach((t,s)=>{e+=s+": "+t+" "}),e}}class tn extends O{static{this.tagName="dc:title"}constructor(e,t){super(e,tn.tagName,t)}}class to extends O{static{this.tagName="dc:source"}constructor(e,t){super(e,to.tagName,t)}}class td extends O{static{this.tagName="dc:creator"}constructor(e,t){super(e,td.tagName,t)}}class tl extends O{static{this.tagName="dc:date"}constructor(e,t){super(e,tl.tagName,t)}}class tr extends O{static{this.tagName="dc:contributor"}constructor(e,t){super(e,tr.tagName,t)}}class tg extends F{static{this.tagName="metadataList"}constructor(e,t,s,i,a,n){super(e,tg.tagName),this.index=new Map,this.metadataIndex=new Map,t&&(this.index.set(tn.tagName,this.nodes.size),this.addNode(t)),s&&(this.index.set(to.tagName,this.nodes.size),this.addNode(s)),i&&(this.index.set(td.tagName,this.nodes.size),this.addNode(i)),a&&(this.index.set(tl.tagName,this.nodes.size),this.addNode(a)),n&&(this.index.set(tr.tagName,this.nodes.size),this.addNode(n))}getTitle(){if(this.index.has(tn.tagName)){let e=this.index.get(tn.tagName);return this.nodes.get(e)}}setTitle(e){if(this.index.has(tn.tagName)){let t=this.index.get(tn.tagName);this.nodes.set(t,e)}else this.index.set(tn.tagName,this.nodes.size),this.addNode(e)}getSource(){if(this.index.has(to.tagName)){let e=this.index.get(to.tagName);return this.nodes.get(e)}}setSource(e){if(this.index.has(to.tagName)){let t=this.index.get(to.tagName);this.nodes.set(t,e)}else this.index.set(to.tagName,this.nodes.size),this.addNode(e)}getCreator(){if(this.index.has(td.tagName)){let e=this.index.get(td.tagName);return this.nodes.get(e)}}setCreator(e){if(this.index.has(td.tagName)){let t=this.index.get(td.tagName);this.nodes.set(t,e)}else this.index.set(td.tagName,this.nodes.size),this.addNode(e)}getDate(){if(this.index.has(tl.tagName)){let e=this.index.get(tl.tagName);return this.nodes.get(e)}}setDate(e){if(this.index.has(tl.tagName)){let t=this.index.get(tl.tagName);this.nodes.set(t,e)}else this.index.set(tl.tagName,this.nodes.size),this.addNode(e)}getContributor(){if(this.index.has(tr.tagName)){let e=this.index.get(tr.tagName);return this.nodes.get(e)}}setContributor(e){if(this.index.has(tr.tagName)){let t=this.index.get(tr.tagName);this.nodes.set(t,e)}else this.index.set(tr.tagName,this.nodes.size),this.addNode(e)}addMetadata(e){this.metadataIndex.set(this.metadataIndex.size,this.nodes.size),this.addNode(e)}getMetadata(){let e=[];for(let t=0;t<this.metadataIndex.size;t++){let s=this.metadataIndex.get(t);e.push(this.nodes.get(s))}return e}}class th extends U{static{this.tagName="me:grainSize"}constructor(e,t){super(e,th.tagName,t)}}class tm extends U{static{this.tagName="me:automaticallySetMaxEne"}constructor(e,t){super(e,tm.tagName,t)}}class tc extends U{static{this.tagName="me:energyAboveTheTopHill"}constructor(e,t){super(e,tc.tagName,t)}}class tu extends U{static{this.tagName="me:maxTemperature"}constructor(e,t){super(e,tu.tagName,t)}}class tp extends F{static{this.tagName="me:modelParameters"}constructor(e,t,s,i,a,n){super(e,tp.tagName),this.id=t,this.index=new Map,void 0!=s&&(this.index.set(th.tagName,this.nodes.size),this.addNode(s)),void 0!=i&&(this.index.set(tm.tagName,this.nodes.size),this.addNode(i)),void 0!=a&&(this.index.set(tc.tagName,this.nodes.size),this.addNode(a)),void 0!=n&&(this.index.set(tu.tagName,this.nodes.size),this.addNode(n))}getGrainSize(){console.log("getGrainSize");let e=this.index.get(th.tagName);if(void 0!=e)return this.nodes.get(e);console.log("XgetGrainSize")}setGrainSize(e){console.log("setGrainSize");let t=this.index.get(th.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(th.tagName,this.nodes.size),this.addNode(e))}removeGrainSize(){let e=this.index.get(th.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(th.tagName))}getAutomaticallySetMaxEne(){let e=this.index.get(tm.tagName);if(e)return this.nodes.get(e)}setAutomaticallySetMaxEne(e){let t=this.index.get(tm.tagName);t?this.nodes.set(t,e):(this.index.set(tm.tagName,this.nodes.size),this.addNode(e))}removeAutomaticallySetMaxEne(){let e=this.index.get(tm.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tm.tagName))}getEnergyAboveTheTopHill(){let e=this.index.get(tc.tagName);if(e)return this.nodes.get(e)}setEnergyAboveTheTopHill(e){let t=this.index.get(tc.tagName);t?this.nodes.set(t,e):(this.index.set(tc.tagName,this.nodes.size),this.addNode(e))}removeEnergyAboveTheTopHill(){let e=this.index.get(tc.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tc.tagName))}getMaxTemperature(){let e=this.index.get(tu.tagName);if(e)return this.nodes.get(e)}setMaxTemperature(e){let t=this.index.get(tu.tagName);t?this.nodes.set(t,e):(this.index.set(tu.tagName,this.nodes.size),this.addNode(e))}removeMaxTemperature(){let e=this.index.get(tu.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tu.tagName))}}class tN extends O{static{this.tagName="me:title"}constructor(e,t){super(e,tN.tagName,t)}}class tf extends F{static{this.tagName="moleculeList"}constructor(e,t){super(e,tf.tagName),this.index=new Map,void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e),this.index.set(e.getID(),this.nodes.size-1)})}getMolecule(e){let t=this.index.get(e);if(void 0!=t)return this.nodes.get(t)}removeMolecule(e){let t=this.index.get(e);void 0!=t&&(this.nodes.delete(t),this.index.delete(e))}addMolecule(e){let t=e.getID(),s=this.index.get(t);void 0!==s?(this.nodes.set(s,e),console.log("Replaced molecule with id "+t)):(this.nodes.set(this.nodes.size,e),this.index.set(t,this.nodes.size-1))}}class tx extends F{static{this.tagName="reactionList"}constructor(e,t){super(e,tx.tagName),this.index=new Map,void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1)})}getReaction(e){let t=this.index.get(e);if(void 0!=t)return this.nodes.get(t)}removeReaction(e){let t=this.index.get(e);void 0!=t&&(this.nodes.delete(t),this.index.delete(e))}addReaction(e){let t=this.index.get(e.id);void 0!==t?(this.nodes.set(t,e),console.log("Replaced reaction with id "+e.id)):(this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1))}getNextReactionID(){let e=1;return Array.from(this.index.keys()).sort((e,t)=>{let s=e.match(/\d+/),i=t.match(/\d+/);return(s?parseInt(s[0]):0)-(i?parseInt(i[0]):0)}).forEach(t=>{if(parseInt(t.match(/\d+/)[0])>e)return e;e++}),e}}class tv extends F{static{this.tagName="conditionsList"}constructor(e,t){super(e,tw.tagName),this.index=new Map,void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1)})}getConditions(e){let t=this.index.get(e);if(void 0!=t)return this.nodes.get(t)}removeConditions(e){let t=this.index.get(e);void 0!=t&&(this.nodes.delete(t),this.index.delete(e))}addConditions(e){let t=this.index.get(e.id);void 0!=t?(this.nodes.set(t,e),console.log("Replaced conditions with id "+e.id)):(this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1))}}class tE extends F{static{this.tagName="modelParametersList"}constructor(e,t){super(e,tE.tagName),this.index=new Map,void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1)})}getModelParameters(e){let t=this.index.get(e);if(void 0!=t)return this.nodes.get(t)}removeModelParameters(e){let t=this.index.get(e);void 0!=t&&(this.nodes.delete(t),this.index.delete(e))}addModelParameters(e){let t=this.index.get(e.id);void 0!=t?(this.nodes.set(t,e),console.log("Replaced modelParameters with id "+e.id)):(this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1))}}class tw extends F{static{this.tagName="controlList"}constructor(e,t){super(e,tw.tagName),this.index=new Map,void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1)})}getControl(e){let t=this.index.get(e);if(void 0!=t)return this.nodes.get(t)}removeControl(e){let t=this.index.get(e);void 0!=t&&(this.nodes.delete(t),this.index.delete(e))}addControl(e){let t=this.index.get(e.id);void 0!==t?(this.nodes.set(t,e),console.log("Replaced control with id "+e.id)):(this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1))}}class ty extends F{static{this.tagName="me:mesmer"}static{this.precisionOptions=["d","dd","qd","double","double-double","quad-double"]}static{this.pressureUnits=["Torr","PPCC","atm","mbar","psi","mols/cc"]}static{this.energyUnits=["kJ/mol","kJ per mol","cm-1","wavenumber","kcal/mol","kcal per mol","Hartree","au"]}static{this.frequencyUnits=["cm-1","GHz","amuA^2"]}static{this.massUnits=["amu","g/mol","kg/mol"]}static{this.temperatureUnits=["K"]}static{this.timeUnits=["fs","ps","ns","s"]}static{this.lengthUnits=["Å","nm","um","mm","cm","m"]}static{this.hessianUnits=["kJ/mol/Å2","kcal/mol/Å2","Hartree/Å2"]}static{this.EinsteinAUnits=["s-1"]}static{this.EinsteinBUnits=["m3/J/s2"]}static{this.elementTypes=["H","He","Li","Be","B","C","N","O","F","Ne","Na","Mg","Al","Si","P","S","Cl","Ar","K","Ca","Sc","Ti","V","Cr","Mn","Fe","Co","Ni","Cu","Zn","Ga","Ge","As","Se","Br","Kr","Rb","Sr","Y","Zr","Nb","Mo","Tc","Ru","Rh","Pd","Ag","Cd","In","Sn","Sb","Te","I","Xe","Cs","Ba","La","Ce","Pr","Nd","Pm","Sm","Eu","Gd","Tb","Dy","Ho","Er","Tm","Yb","Lu","Hf","Ta","W","Re","Os","Ir","Pt","Au","Hg","Tl","Pb","Bi","Po","At","Rn","Fr","Ra","Ac","Th","Pa","U","Np","Pu","Am","Cm","Bk","Cf","Es","Fm","Md","No","Lr","Rf","Db","Sg","Bh","Hs","Mt","Ds","Rg","Cn","Nh","Fl","Mc","Lv","Ts","Og"]}static{this.atomMasses=new Map}static{this.atomRadii=new Map}static{this.atomColors=new Map}static{this.bondColors=new Map}static{this.header=`<?xml version="1.0" encoding="utf-8" ?>
<?xml-stylesheet type='text/xsl' href='../../mesmer2.xsl' media='other'?>
<?xml-stylesheet type='text/xsl' href='../../mesmer1.xsl' media='screen'?>`}constructor(e,t,s,i,a,n,o,d,l){super(e,ty.tagName);let r=["H","O","C","N","Cl","S","Ph","Fe"],g=["White","Red","DarkGrey","Blue","Green","Yellow","Orange","Brown"];for(let e=0;e<r.length;e++)ty.atomColors.set(r[e],g[e]);let h=[1.00784,15.999,12.011,14.007,35.453,32.06,77.845,55.845];for(let e=0;e<r.length;e++)ty.atomMasses.set(r[e],h[e]);let m=[37,66,67,56,99,102,110,124];for(let e=0;e<r.length;e++)ty.atomRadii.set(r[e],m[e]);let c=[1,1.5,2,2.5,3,3.5,4,4.5,5,5.5,6];g=["Black","Red","DarkRed","Blue","DarkBlue","Green","DarkGreen","Yellow","DarkYellow","Orange","DarkOrange"];for(let e=0;e<c.length;e++)ty.bondColors.set(c[e],g[e]);this.index=new Map,void 0!=t&&(this.index.set(tN.tagName,this.nodes.size),this.addNode(t)),void 0!=s&&(this.index.set(tf.tagName,this.nodes.size),this.addNode(s)),void 0!=i&&(this.index.set(tx.tagName,this.nodes.size),this.addNode(i)),this.conditionsIndex=new Map,void 0!=a&&a.forEach(e=>{this.index.set(el.tagName+e.id,this.nodes.size),this.conditionsIndex.set(e.id,this.nodes.size),this.addNode(e)}),this.modelParametersIndex=new Map,void 0!=n&&n.forEach(e=>{this.index.set(tp.tagName+e.id,this.nodes.size),this.modelParametersIndex.set(e.id,this.nodes.size),this.addNode(e)}),this.controlIndex=new Map,void 0!=o&&o.forEach(e=>{this.index.set(ti.tagName+e.id,this.nodes.size),this.controlIndex.set(e.id,this.nodes.size),this.addNode(e)}),void 0!=d&&(this.index.set(tg.tagName,this.nodes.size),this.addNode(d)),void 0!=l&&(this.index.set(ee.tagName,this.nodes.size),this.addNode(l))}getTitle(){let e=this.index.get(tN.tagName);if(void 0!=e)return this.nodes.get(e)}setTitle(e){let t=this.index.get(tN.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tN.tagName,this.nodes.size),this.addNode(e))}getMoleculeList(){let e=this.index.get(tf.tagName);if(void 0!=e)return this.nodes.get(e);{let e=new tf(new Map);return this.index.set(tf.tagName,this.nodes.size),this.addNode(e),e}}setMoleculeList(e){let t=this.index.get(tf.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tf.tagName,this.nodes.size),this.addNode(e))}getReactionList(){let e=this.index.get(tx.tagName);if(void 0!=e)return this.nodes.get(e);{let e=new tx(new Map);return this.index.set(tx.tagName,this.nodes.size),this.addNode(e),e}}setReactionList(e){let t=this.index.get(tx.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tx.tagName,this.nodes.size),this.addNode(e))}addConditions(e){let t=el.tagName+e.id,s=this.index.get(t);void 0!=s?this.nodes.set(s,e):(this.index.set(t,this.nodes.size),this.conditionsIndex.set(e.id,this.nodes.size),this.addNode(e))}getConditions(e){let t=this.conditionsIndex.get(e);if(void 0!=t)return this.nodes.get(t)}getConditionss(){let e=[];return this.conditionsIndex.forEach((t,s)=>{e.push(this.nodes.get(t))}),e}setConditionss(e){e.forEach(e=>{this.addConditions(e)})}getNextConditionsID(){let e=0;return Array.from(this.conditionsIndex.keys()).sort((e,t)=>e-t).forEach(t=>{if(t>e)return e;e++}),e}removeConditions(e){let t=this.conditionsIndex.get(e);void 0!=t&&(this.nodes.delete(t),this.index.delete(el.tagName+e),this.conditionsIndex.delete(e))}addModelParameters(e){let t=tp.tagName+e.id,s=this.index.get(t);void 0!=s?this.nodes.set(s,e):(this.index.set(t,this.nodes.size),this.modelParametersIndex.set(e.id,this.nodes.size),this.addNode(e))}getModelParameters(e){let t=this.modelParametersIndex.get(e);if(void 0!=t)return this.nodes.get(t)}getModelParameterss(){let e=[];return this.modelParametersIndex.forEach((t,s)=>{e.push(this.nodes.get(t))}),e}setModelParameterss(e){e.forEach(e=>{this.addModelParameters(e)})}getNextModelParametersID(){let e=0;return Array.from(this.modelParametersIndex.keys()).sort((e,t)=>e-t).forEach(t=>{if(t>e)return e;e++}),e}removeModelParameters(e){let t=this.modelParametersIndex.get(e);void 0!=t&&(this.nodes.delete(t),this.index.delete(tp.tagName+e),this.modelParametersIndex.delete(e))}addControl(e){let t=ti.tagName+e.id,s=this.index.get(t);void 0!=s?this.nodes.set(s,e):(this.index.set(t,this.nodes.size),this.controlIndex.set(e.id,this.nodes.size),this.addNode(e))}getControl(e){let t=this.controlIndex.get(e);if(void 0!=t)return this.nodes.get(t)}getControls(){let e=[];return this.controlIndex.forEach((t,s)=>{e.push(this.nodes.get(t))}),e}setControls(e){e.forEach(e=>{this.addControl(e)})}getNextControlID(){let e=0;return Array.from(this.controlIndex.keys()).sort((e,t)=>e-t).forEach(t=>{if(t>e)return e;e++}),e}removeControl(e){let t=this.controlIndex.get(e);void 0!=t&&(this.nodes.delete(t),this.index.delete(ti.tagName+e),this.controlIndex.delete(e))}getMetadataList(){let e=this.index.get(tg.tagName);if(void 0!=e)return this.nodes.get(e)}setMetadataList(e){let t=this.index.get(tg.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tg.tagName,this.nodes.size),this.addNode(e))}getAnalysis(){let e=this.index.get(ee.tagName);if(void 0!=e)return this.nodes.get(e)}setAnalysis(e){let t=this.index.get(ee.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ee.tagName,this.nodes.size),this.addNode(e))}}class tC extends O{static{this.tagName="me:description"}constructor(e,t){super(e,tC.tagName,t)}}class tb extends U{static{this.tagName="me:T"}constructor(e,t){super(e,tb.tagName,t)}}class tM extends U{static{this.s_units="units"}static{this.s_lower="lower"}static{this.s_upper="upper"}static{this.s_stepsize="stepsize"}constructor(e,t,s){super(e,t,s)}setValue(e){this.value=e}getUnits(){return this.attributes.get(tM.s_units)}setUnits(e){this.attributes.set(tM.s_units,e)}removeUnits(){this.attributes.delete(tM.s_units)}getLower(){let e=this.attributes.get(tM.s_lower);if(void 0!=e)return new o.Big(e)}setLower(e){this.attributes.set(tM.s_lower,e.toString())}removeLower(){this.attributes.delete(tM.s_lower)}getUpper(){let e=this.attributes.get(tM.s_upper);if(void 0!=e)return new o.Big(e)}setUpper(e){this.attributes.set(tM.s_upper,e.toString())}removeUpper(){this.attributes.delete(tM.s_upper)}getStepsize(){let e=this.attributes.get(tM.s_stepsize);if(void 0!=e)return new o.Big(e)}setStepsize(e){this.attributes.set(tM.s_stepsize,e.toString())}removeStepsize(){this.attributes.delete(tM.s_stepsize)}}class tS extends G{static{this.tagName="atom"}static{this.s_id="id"}static{this.s_elementType="elementType"}static{this.s_x3="x3"}static{this.s_y3="y3"}static{this.s_z3="z3"}constructor(e,t){super(e,tS.tagName),this.molecule=t}hasCoordinates(){return void 0!=this.attributes.get(tS.s_x3)&&void 0!=this.attributes.get(tS.s_y3)&&void 0!=this.attributes.get(tS.s_z3)}getID(){return this.attributes.get(tS.s_id)}setID(e){this.attributes.set(tS.s_id,e)}getElementType(){return this.attributes.get(tS.s_elementType)}setElementType(e){this.attributes.set(tS.s_elementType,e)}getX3(){let e=this.attributes.get(tS.s_x3);if(void 0!=e)return new o.Big(e)}setX3(e){this.attributes.set(tS.s_x3,e.toString())}removeX3(){this.attributes.delete(tS.s_x3)}getY3(){let e=this.attributes.get(tS.s_y3);if(void 0!=e)return new o.Big(e)}setY3(e){this.attributes.set(tS.s_y3,e.toString())}removeY3(){this.attributes.delete(tS.s_y3)}getZ3(){let e=this.attributes.get(tS.s_z3);if(void 0!=e)return new o.Big(e)}setZ3(e){this.attributes.set("z3",e.toString())}removeZ3(){this.attributes.delete("z3")}}class tT extends F{static{this.tagName="atomArray"}constructor(e,t){super(e,tT.tagName),this.index=new Map,this.reverseIndex=new Map,void 0==t?this.atoms=new Map:(this.atoms=t,t.forEach((e,t)=>{this.index.set(t,this.nodes.size),this.reverseIndex.set(this.nodes.size,t),this.nodes.set(this.nodes.size,e)}))}getAtom(e){return this.atoms.get(e)}addAtom(e,t){if(void 0==t){let s=e.getID();if(void 0==s)s=this.getNextAtomID(),e.setID(s);else if(this.atoms.has(s)){let t=this.getNextAtomID();console.warn("Atom with id "+s+" already exists, adding with id "+t),e.setID(t),s=t}t=s}return this.index.set(t,this.nodes.size),this.reverseIndex.set(this.nodes.size,t),this.nodes.set(this.nodes.size,e),this.atoms.set(t,e),t}getNextAtomID(){let e=1,t="a1";if(this.atoms.has(t))for(;this.atoms.has(t);)e++,t="a"+e.toString();return t}removeAtom(e){let t=this.index.get(e);if(void 0==t)throw Error("Atom with id "+e+" does not exist!");console.log("Removing atom with id "+e),this.atoms.delete(e),this.deleteNodeAndReindex(t,e)}deleteNodeAndReindex(e,t){this.nodes.delete(e),this.index.delete(t),this.reverseIndex.delete(e);let s=new Map,i=new Map,a=new Map;this.index.forEach((t,n)=>{t>e?(s.set(t-1,this.nodes.get(t)),i.set(n,t-1),a.set(t-1,n)):(s.set(t,this.nodes.get(t)),i.set(n,t),a.set(t,n))}),this.nodes=s,this.index=i,this.reverseIndex=a}}class tI extends G{static{this.tagName="bond"}static{this.s_atomRefs2="atomRefs2"}static{this.s_id="id"}static{this.s_order="order"}static{this.orderOptions=["1","1.5","2","2.5","3","3.5","4","4.5","5","5.5","6"]}constructor(e,t){super(e,tI.tagName),this.molecule=t}getAtomRefs2(){let e=this.attributes.get(tI.s_atomRefs2);return(e?.split(" "),void 0==e)?"a1 a1":e}setAtomRefs2(e){this.attributes.set(tI.s_atomRefs2,e)}getID(){return this.attributes.get(tI.s_id)}setID(e){this.attributes.set(tI.s_id,e)}getOrder(){let e=this.attributes.get(tI.s_order);if(void 0!=e)return parseFloat(e)}setOrder(e){this.attributes.set(tI.s_order,e.toString())}}class tR extends F{static{this.tagName="bondArray"}constructor(e,t){super(e,tR.tagName),this.index=new Map,this.reverseIndex=new Map,void 0==t?this.bonds=new Map:(this.bonds=t,t.forEach((e,t)=>{this.index.set(t,this.nodes.size),this.reverseIndex.set(this.nodes.size,t),this.nodes.set(this.nodes.size,e)}))}getBondIds(){return Array.from(this.bonds.keys())}getBond(e){return this.bonds.get(e)}addBond(e,t){if(void 0==t){let s=e.getID();if(void 0==s)s=this.getNextBondID(),e.setID(s);else if(this.bonds.has(s)){let t=this.getNextBondID();console.log("Bond with id "+s+" already exists, adding with id "+t),e.setID(t),s=t}t=s}return this.index.set(t,this.nodes.size),this.reverseIndex.set(this.nodes.size,t),this.nodes.set(this.nodes.size,e),this.bonds.set(t,e),t}getNextBondID(){let e=1,t="b1";for(;this.bonds.has(t);)e++,t="b"+e.toString();return t}removeBond(e){let t=this.index.get(e);if(void 0==t)throw Error("Bond with id "+e+" does not exist!");console.log("Removing bond with id "+e),this.bonds.delete(e),this.deleteNodeAndReindex(t,e)}deleteNodeAndReindex(e,t){this.nodes.delete(e),this.index.delete(t),this.reverseIndex.delete(e);let s=new Map,i=new Map,a=new Map;this.index.forEach((t,n)=>{t>e?(s.set(t-1,this.nodes.get(t)),i.set(n,t-1),a.set(t-1,n)):(s.set(t,this.nodes.get(t)),i.set(n,t),a.set(t,n))}),this.nodes=s,this.index=i,this.reverseIndex=a}}class tz extends O{static{this.tagName="scalar"}constructor(e,t){super(e,tz.tagName,t)}getValue(){return this.value}setValue(e){this.value=e}}class tD extends U{static{this.tagName="scalar"}static{this.s_units="units"}static{this.propertyDictRefs=new Set(["me:ZPE","me:Hf0","me:HfAT0","me:Hf298","me:symmetryNumber","me:TSOpticalSymmetryNumber","me:frequenciesScaleFactor","me:MW","me:spinMultiplicity","me:epsilon","me:sigma"])}constructor(e,t){super(e,tD.tagName,t)}updateUnits(e){if(e){let t=this.attributes.get(tD.s_units);void 0!=t&&t!=e&&this.attributes.set(tD.s_units,e)}}getValue(){return this.value}setValue(e){this.value=e}}class t_ extends q{static{this.tagName="array"}static{this.s_units="units"}static{this.propertyDictRefs=new Set(["me:rotConsts","me:vibFreqs","me:EinsteinAij","me:EinsteinBij"])}constructor(e,t,s){super(e,t_.tagName,t,s)}updateUnits(e){if(e){let t=this.attributes.get(t_.s_units);void 0!=t&&t!=e&&(this.attributes.set(t_.s_units,e),console.log("Units changed from "+t+" to "+e))}}setSize(e){let t=[];for(let s=0;s<e;s++)t.push(new o.Big(0));this.setValues(t)}}class tL extends q{static{this.tagName="matrix"}static{this.s_rows="rows"}static{this.s_matrixType="matrixType"}static{this.s_units="units"}static{this.propertyDictRefs=new Set(["me:hessian"])}constructor(e,t,s){super(e,t_.tagName,t,s)}updateUnits(e){if(e){let t=this.attributes.get(t_.s_units);void 0!=t&&t!=e&&(this.attributes.set(t_.s_units,e),console.log("Units changed from "+t+" to "+e))}}setSize(e,t){let s=[];for(let i=0;i<e;i++)for(let e=0;e<t;e++)s.push(new o.Big(0));this.setValues(s)}}class tP extends F{static{this.tagName="property"}static{this.s_dictRef="dictRef"}constructor(e,t){super(e,tP.tagName);let s=e.get(tP.s_dictRef);if(void 0==s){let t=e.get("title");if(void 0==t)throw Error(tP.s_dictRef+" and title are undefined!");if("MW"==t)s="me:MW";else if("Hf298"==t)s="me:Hf298";else if("Hf0"==t)s="me:Hf0";else if("program"==t)s="program";else if("basis"==t)s="basis";else if("method"==t)s="method";else if("File Format"==t)s="method";else throw Error("Title "+t+"not recognised!")}this.dictRef=s,t&&this.nodes.set(0,t)}getProperty(){return this.nodes.get(0)}setProperty(e){this.nodes.set(0,e)}}class tB extends tP{static{this.dictRef="me:ZPE"}constructor(e,t){super(e,t)}setUnits(e){this.getProperty().updateUnits(e)}}class tA extends tP{static{this.dictRef="me:Hf0"}constructor(e,t){super(e,t)}setUnits(e){this.getProperty().updateUnits(e)}}class tk extends tP{static{this.dictRef="me:HfAT0"}constructor(e,t){super(e,t)}setUnits(e){this.getProperty().updateUnits(e)}}class tG extends tP{static{this.dictRef="me:Hf298"}constructor(e,t){super(e,t)}setUnits(e){this.getProperty().updateUnits(e)}}class tO extends tP{static{this.dictRef="me:rotConsts"}static{this.unitOptions=["cm-1","GHz","amuA^2"]}constructor(e,t){super(e,t)}}class tU extends tP{static{this.dictRef="me:symmetryNumber"}constructor(e,t){super(e,t)}}class tq extends tP{static{this.dictRef="me:TSOpticalSymmetryNumber"}constructor(e,t){super(e,t)}}class tF extends tP{static{this.dictRef="me:frequenciesScaleFactor"}constructor(e,t){super(e,t)}}class tH extends tP{static{this.dictRef="me:vibFreqs"}constructor(e,t){super(e,t)}}class tV extends tP{static{this.dictRef="me:MW"}constructor(e,t){super(e,t)}}class tj extends tP{static{this.dictRef="me:spinMultiplicity"}constructor(e,t){super(e,t)}}class tX extends tP{static{this.dictRef="me:epsilon"}constructor(e,t){super(e,t)}}class tY extends tP{static{this.dictRef="me:sigma"}constructor(e,t){super(e,t)}}class t$ extends tP{static{this.dictRef="me:hessian"}static{this.unitOptions=["kJ/mol/Å2","kcal/mol/Å2","Hartree/Å2"]}constructor(e,t){super(e,t)}}class tW extends tP{static{this.dictRef="me:EinsteinAij"}constructor(e,t){super(e,t)}}class tK extends tP{static{this.dictRef="me:EinsteinBij"}constructor(e,t){super(e,t)}}class tZ extends tP{static{this.dictRef="me:imFreqs"}constructor(e,t){super(e,t)}}class tQ extends F{static{this.tagName="propertyList"}constructor(e,t){super(e,tQ.tagName),this.index=new Map,void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e),this.index.set(e.dictRef,this.nodes.size-1)})}getProperty(e){let t=this.index.get(e);return void 0!=t?this.nodes.get(t):void 0}setProperty(e){let t=this.index.get(e.dictRef);void 0==t?(console.log("Property "+e.dictRef+" does not exist, adding..."),this.nodes.set(this.nodes.size,e),this.index.set(e.dictRef,this.nodes.size-1)):(console.log("Property "+e.dictRef+" already exists, updating..."),this.nodes.set(t,e))}removeProperty(e){let t=this.index.get(e);if(void 0!=t){this.nodes.delete(t),this.index.delete(e);let s=new Map;this.index.forEach((e,i)=>{e>t?s.set(i,e-1):s.set(i,e)}),this.index=s}}}class tJ extends tM{static{this.tagName="me:deltaEDown"}static{this.s_bathGas="bathGas"}constructor(e,t){super(e,tJ.tagName,t)}getBathGas(){return this.attributes.get(tJ.s_bathGas)}setBathGas(e){this.attributes.set(tJ.s_bathGas,e)}}class t0 extends tJ{static{this.tagName="me:deltaEDown2"}constructor(e,t){super(e,t)}}class t1 extends tM{static{this.tagName="me:deltaEDownTExponent"}static{this.s_referenceTemperature="referenceTemperature"}constructor(e,t){super(e,t1.tagName,t)}getReferenceTemperature(){return parseFloat(d(this.attributes,t1.s_referenceTemperature))}setReferenceTemperature(e){this.attributes.set(t1.s_referenceTemperature,e.toString())}}class t2 extends tM{static{this.tagName="me:deltaEDownLinEne"}constructor(e,t){super(e,t2.tagName,t)}}class t3 extends F{static{this.tagName="me:energyTransferModel"}constructor(e,t){super(e,t3.tagName),void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e)})}getDeltaEDowns(){let e=[];return this.nodes.forEach(t=>{t instanceof tJ&&e.push(t)}),e}setDeltaEDowns(e){this.nodes.clear(),e.forEach(e=>{this.nodes.set(this.nodes.size,e)})}getDeltaEDown(e){if(e<0||e>=this.nodes.size)throw Error("index out of range");return this.nodes.get(e)}setDeltaEDown(e,t){this.nodes.set(e,t)}addDeltaEDown(e){return this.nodes.set(this.nodes.size,e),this.nodes.size-1}}class t5 extends G{static{this.tagName="me:DOSCMethod"}static{this.xsi_typeOptions=["ClassicalRotors","QMRotors","me:ClassicalRotors","me:QMRotors"]}static{this.s_xsi_type="xsi:type"}constructor(e){if(super(e,t5.tagName),void 0==e.get(t5.s_xsi_type)){let t=e.get("name");if(void 0==t)throw Error("Neither xsi:type or name are defined.");e.set(t5.s_xsi_type,t)}}getXsiType(){return this.attributes.get(t5.s_xsi_type)}setXsiType(e){this.attributes.set(t5.s_xsi_type,e)}}class t4 extends O{static{this.tagName="me:bondRef"}constructor(e,t){super(e,t4.tagName,t)}}class t6 extends G{static{this.tagName="me:PotentialPoint"}static{this.s_angle="angle"}static{this.s_potential="potential"}constructor(e){super(e,t6.tagName)}getAngle(){return this.attributes.get(t6.s_angle)}setAngle(e){this.attributes.set(t6.s_angle,e.toString())}getPotential(){return this.attributes.get(t6.s_potential)}setPotential(e){this.attributes.set(t6.s_potential,e.toString())}}class t8 extends G{static{this.tagName="me:DistributionCalcMethod"}static{this.s_default="default"}static{this.s_name="name"}constructor(e){super(e,t8.tagName)}getDefault(){return this.attributes.get(t8.s_default)}getName(){return this.attributes.get(t8.s_name)}}class t9 extends G{static{this.tagName="me:thermoValue"}static{this.s_T="T"}static{this.s_H="H"}static{this.s_S="S"}static{this.s_G="G"}static{this.s_Cp="Cp"}constructor(e){super(e,tS.tagName)}getT(){return new o.Big(this.attributes.get(t9.s_T))}getH(){return new o.Big(this.attributes.get(t9.s_H))}getS(){return new o.Big(this.attributes.get(t9.s_S))}getG(){return new o.Big(this.attributes.get(t9.s_G))}getCp(){return new o.Big(this.attributes.get(t9.s_Cp))}toStringArray(){return[this.getT().toString(),this.getH().toString(),this.getS().toString(),this.getG().toString(),this.getCp().toString()]}toCSV(){return this.toStringArray().join(",")}}class t7 extends F{static{this.tagName="me:thermoTable"}static{this.s_unitsT="unitsT"}static{this.s_unitsH="unitsH"}static{this.s_unitsS="unitsS"}static{this.s_unitsG="unitsG"}static{this.s_unitsCp="unitsCp"}constructor(e,t){super(e,t7.tagName),void 0!=t?(t.forEach(e=>{this.addNode(e)}),this.tvs=t):this.tvs=[]}get(e){return this.tvs[e]}set(e,t){this.nodes.set(e,t),this.tvs[e]=t}add(e){return this.addNode(e),this.tvs.push(e),this.nodes.size-1}remove(e){this.nodes.delete(e),this.tvs.splice(e,1)}init(e){this.clear(),e.forEach(e=>{this.addNode(e),this.tvs.push(e)})}clear(){this.nodes.clear(),this.tvs=[]}getHeader(){return["T ("+this.attributes.get(t7.s_unitsT)+")","H(T)-H(0) ("+this.attributes.get(t7.s_unitsH)+")","S(T) ("+this.attributes.get(t7.s_unitsS)+")","G(T) ("+this.attributes.get(t7.s_unitsG)+")","Cp(T) ("+this.attributes.get(t7.s_unitsCp)+")"]}toCSV(){let e=this.getHeader().join(",")+"\n";return this.tvs.forEach(t=>{e+=t.toCSV()+"\n"}),e}}class se extends F{static{this.tagName="me:HinderedRotorPotential"}static{this.formats=new Set(["numerical","analytical"])}static{this.s_format="format"}static{this.s_units="units"}static{this.s_expansionSize="expansionSize"}static{this.s_useSineTerms="useSineTerms"}constructor(e,t){super(e,se.tagName);let s=e.get(se.s_format);if(void 0==s)throw Error(se.s_format+" is undefined!");this.format=s;let i=e.get(se.s_units);if(void 0==i)throw Error(se.s_units+" is undefined!");this.units=i,void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e)}),void 0==e.get(se.s_useSineTerms)?this.useSineTerms=!1:this.useSineTerms=!0}getFormat(){return this.format}setFormat(e){this.format=e,this.attributes.set(se.s_format,e)}getUnits(){return this.units}setUnits(e){this.units=e,this.attributes.set(se.s_units,e)}getExpansionSize(){return this.attributes.get(se.s_expansionSize)}setExpansionSize(e){console.log(e.toString()),this.attributes.set(se.s_expansionSize,e.toString())}getUseSineTerms(){return this.useSineTerms}setUseSineTerms(e){this.useSineTerms=e,this.attributes.set(se.s_useSineTerms,e?"yes":"no")}getPotentialPoint(e){return this.nodes.get(e)}setPotentialPoint(e,t){this.nodes.set(e,t)}setPotentialPoints(e){this.nodes.clear(),e.forEach(e=>{this.nodes.set(this.nodes.size,e)})}addPotentialPoint(e){return this.nodes.set(this.nodes.size,e),this.nodes.size-1}removePotentialPoint(e){this.nodes.delete(e)}}class st extends U{static{this.tagName="me:periodicity"}constructor(e,t){super(e,st.tagName,t)}}class ss extends F{static{this.tagName="me:ExtraDOSCMethod"}constructor(e,t,s,i){super(e,ss.tagName),this.index=new Map,t&&(this.nodes.set(this.nodes.size,t),this.index.set(t4.tagName,this.nodes.size-1)),s&&(this.nodes.set(this.nodes.size,s),this.index.set(se.tagName,this.nodes.size-1)),i&&(this.nodes.set(this.nodes.size,i),this.index.set(st.tagName,this.nodes.size-1))}getBondRef(){let e=this.index.get(t4.tagName);if(void 0!=e)return this.nodes.get(e)}setBondRef(e){let t=this.index.get(t4.tagName);void 0!=t?this.nodes.set(t,e):(this.nodes.set(this.nodes.size,e),this.index.set(t4.tagName,this.nodes.size-1))}getHinderedRotorPotential(){let e=this.index.get(se.tagName);if(void 0!=e)return this.nodes.get(e)}setHinderedRotorPotential(e){let t=this.index.get(se.tagName);void 0!=t?this.nodes.set(t,e):(this.nodes.set(this.nodes.size,e),this.index.set(se.tagName,this.nodes.size-1))}getPeriodicity(){let e=this.index.get(st.tagName);if(void 0!=e)return this.nodes.get(e)}setPeriodicity(e){let t=this.index.get(st.tagName);void 0!=t?this.nodes.set(t,e):(this.nodes.set(this.nodes.size,e),this.index.set(st.tagName,this.nodes.size-1))}}class si extends U{static{this.tagName="me:reservoirSize"}constructor(e,t){super(e,si.tagName,t)}}class sa extends U{static{this.tagName="me:qtot"}constructor(e,t){super(e,sa.tagName,t)}}class sn extends U{static{this.tagName="me:sumc"}constructor(e,t){super(e,sn.tagName,t)}}class so extends U{static{this.tagName="me:sumg"}constructor(e,t){super(e,so.tagName,t)}}class sd extends F{static{this.tagName="me:densityOfStates"}static{this.header=[tb.tagName,sa.tagName,sn.tagName,so.tagName]}constructor(e){super(e,sd.tagName),this.index=new Map}getT(){let e=this.index.get(tb.tagName);if(void 0!=e)return this.nodes.get(e)}setT(e){let t=this.index.get(e.tagName);void 0!=t?this.nodes.set(t,e):(this.nodes.set(this.nodes.size,e),this.index.set(e.tagName,this.nodes.size-1))}getQtot(){let e=this.index.get(sa.tagName);if(void 0!=e)return this.nodes.get(e)}setQtot(e){let t=this.index.get(e.tagName);void 0!=t?this.nodes.set(t,e):(this.nodes.set(this.nodes.size,e),this.index.set(e.tagName,this.nodes.size-1))}getSumc(){let e=this.index.get(sn.tagName);if(void 0!=e)return this.nodes.get(e)}setSumc(e){let t=this.index.get(e.tagName);void 0!=t?this.nodes.set(t,e):(this.nodes.set(this.nodes.size,e),this.index.set(e.tagName,this.nodes.size-1))}getSumg(){let e=this.index.get(so.tagName);if(void 0!=e)return this.nodes.get(e)}setSumg(e){let t=this.index.get(e.tagName);void 0!=t?this.nodes.set(t,e):(this.nodes.set(this.nodes.size,e),this.index.set(e.tagName,this.nodes.size-1))}toStringArray(){return[this.getT().value.toString(),this.getQtot().value.toString(),this.getSumc().value.toString(),this.getSumg().value.toString()]}}class sl extends F{static{this.tagName="me:densityOfStatesList"}constructor(e,t,s){if(super(e,sl.tagName),this.index=new Map,this.dosIndex=new Map,t&&(this.nodes.set(this.nodes.size,t),this.index.set(tC.tagName,this.nodes.size-1)),s){let e=0;s.forEach(t=>{this.dosIndex.set(e,this.nodes.size),this.nodes.set(this.nodes.size,t),e++})}}getDescription(){let e=this.index.get(tC.tagName);if(void 0!=e)return this.nodes.get(e)}setDescription(e){let t=this.index.get(tC.tagName);void 0!=t?this.nodes.set(t,e):(this.nodes.set(this.nodes.size,e),this.index.set(tC.tagName,this.nodes.size-1))}getDensityOfStates(e){let t=this.dosIndex.get(e);if(void 0!=t)return this.nodes.get(t)}setDensityOfStates(e,t){let s=this.dosIndex.get(e);void 0!=s?this.nodes.set(s,t):(this.nodes.set(this.nodes.size,t),this.dosIndex.set(e,this.nodes.size-1))}addDensityOfStates(e){this.nodes.set(this.nodes.size,e);let t=this.nodes.size-1;return this.dosIndex.set(t,this.nodes.size-1),t}removeDensityOfStates(e){let t=this.dosIndex.get(e);void 0!=t&&this.nodes.delete(t)}toCSV(){let e="",t=sd.header;return e+=t.join(",")+"\n",this.nodes.forEach(t=>{e+=t.toStringArray().join(",")+"\n"}),e}}class sr extends F{static{this.tagName="molecule"}static{this.s_id="id"}static{this.s_description="description"}static{this.s_active="active"}constructor(e,t,s,i,a,n,o,d,l,r,g,h){super(e,sr.tagName),this.label=this.getID(),this.index=new Map,this.edmindex=new Map,this.id=t;let m=0;s&&(this.nodes.set(m,s),this.index.set(tg.tagName,m),m++),i&&(this.nodes.set(m,i),this.index.set(tT.tagName,m),m++),a&&(this.nodes.set(m,a),this.index.set(tR.tagName,m),m++),n&&(this.nodes.set(m,n),this.index.set(tQ.tagName,m),m++),o&&(this.nodes.set(m,o),this.index.set(t3.tagName,m),m++),d&&(this.nodes.set(m,d),this.index.set(t5.tagName,m),m++),l&&(this.nodes.set(m,l),this.index.set(t8.tagName,m),m++),r&&r.forEach(e=>{this.nodes.set(m,e),this.edmindex.set(m,m),m++}),g&&(this.nodes.set(m,g),this.index.set(si.tagName,m),m++),h&&(this.nodes.set(m,h),this.index.set(t7.tagName,m))}getLabel(){return this.getID()}getID(){return this.attributes.get(sr.s_id)}setID(e){this.attributes.set(sr.s_id,e)}getDescription(){let e=this.attributes.get(sr.s_description);return void 0!=e?e:this.getID()}setDescription(e){this.attributes.set(sr.s_description,e)}getActive(){let e=this.attributes.get(sr.s_active);if(void 0!=e)return"true"==e}setActive(e){this.attributes.set(sr.s_active,e.toString())}getMetadataList(){let e=this.index.get(tg.tagName);if(void 0!=e)return this.nodes.get(e)}setMetadataList(e){let t=this.index.get(tg.tagName);void 0==t?(this.index.set(tg.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getPropertyList(){let e=this.index.get(tQ.tagName);if(void 0!=e)return this.nodes.get(e)}setPropertyList(e){let t=this.index.get(tQ.tagName);void 0==t?(this.index.set(tQ.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getProperty(e){let t=this.getPropertyList();if(void 0!=t)return t.getProperty(e)}getAtom(e){return this.getAtoms().getAtom(e)}getAtoms(){let e=this.index.get(tT.tagName);return this.nodes.get(e)}setAtoms(e){this.index.set(tT.tagName,this.nodes.size),this.nodes.set(this.nodes.size,e)}getBond(e){return this.getBonds().getBond(e)}getBonds(){let e=this.index.get(tR.tagName);return this.nodes.get(e)}setBonds(e){this.index.set(tR.tagName,this.nodes.size),this.nodes.set(this.nodes.size,e)}getEnergyTransferModel(){let e=this.index.get(t3.tagName);if(void 0!=e)return this.nodes.get(e)}setEnergyTransferModel(e){let t=this.index.get(t3.tagName);void 0==t?(this.index.set(t3.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getDOSCMethod(){let e=this.index.get(t5.tagName);if(void 0!=e)return this.nodes.get(e)}setDOSCMethod(e){let t=this.index.get(t5.tagName);void 0==t?(this.index.set(t5.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getDistributionCalcMethod(){let e=this.index.get(t8.tagName);if(void 0!=e)return this.nodes.get(e)}setDistributionCalcMethod(e){let t=this.index.get(t8.tagName);void 0==t?(this.index.set(t8.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getExtraDOSCMethod(e){let t=this.edmindex.get(e);if(void 0!=t)return this.nodes.get(t)}setExtraDOSCMethod(e,t){let s=this.edmindex.get(e);void 0==s?(this.edmindex.set(e,this.nodes.size),this.nodes.set(this.nodes.size,t)):this.nodes.set(s,t)}getReservoirSize(){let e=this.index.get(si.tagName);if(void 0!=e)return this.nodes.get(e)}setReservoirSize(e){let t=this.index.get(si.tagName);void 0==t?(this.index.set(si.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getDensityOfStatesList(){let e=this.index.get(sl.tagName);if(void 0!=e)return this.nodes.get(e)}setDensityOfStatesList(e){let t=this.index.get(sl.tagName);void 0==t?(this.index.set(sl.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getThermoTable(){let e=this.index.get(t7.tagName);if(void 0!=e)return this.nodes.get(e)}setThermoTable(e){let t=this.index.get(t7.tagName);void 0==t?(this.index.set(t7.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getEnergy(){let e;try{e=this.getProperty(tB.dictRef)}catch(t){try{e=this.getProperty(tA.dictRef)}catch(t){try{e=this.getProperty(tG.dictRef)}catch(t){try{e=this.getProperty(tk.dictRef)}catch(t){e=void 0}}}}return void 0==e?(0,o.Big)(0):e.getProperty().value}}function sg(e,t,s){let i=T(i5,void 0,iJ);return e.appendChild(i),i.addEventListener("click",()=>{let a=sx(!0,void 0,void 0,s);console.log("mid="+a);let n=new sr(new Map,a);n.setID(a),aA(n,s),n.setAtoms(new tT(new Map)),n.setBonds(new tR(new Map));let o=t.addID(sr.tagName,a),d=I(o),l=f(t.addID(o,i8),e,i,d,a,i0,iJ);aY(et.tagName,a),sv(n,s,l.querySelector(p),t,d,iJ),d.appendChild(sE(t.addID(o,i9),t,n.getDescription.bind(n),n.setDescription.bind(n),i0,iJ));let r=t.addID(o,tT.tagName),g=I(r);f(t.addID(r,i8),d,null,g,tT.tagName,i0,iJ),g.appendChild(sy(t,n,g,tS.tagName,i0,iJ));let h=t.addID(o,tR.tagName),m=I(h);f(t.addID(h,i8),d,null,m,tR.tagName,i0,iJ),m.appendChild(sM(t,n,m,tI.tagName,i0,iJ)),sR(t,n,d,i0,iJ);let c=t.addID(o,tQ.tagName),u=I(c);f(t.addID(c,i8),d,null,u,tQ.tagName,i0,i0);let N=n.getPropertyList();void 0==N&&(console.log("PropertyList is undefined for molecule "+n.getLabel()),N=new tQ(new Map),n.setPropertyList(N)),console.log("pl.index.size"+N.index.size),sh(n,u,N),aZ(d,iJ,()=>{sI(e,l,t,s,o,n)})}),i}function sh(e,t,s){let i=new Set;sm(e,i,t,s,tB.dictRef,ty.energyUnits),sm(e,i,t,s,tA.dictRef,ty.energyUnits),sm(e,i,t,s,tk.dictRef,ty.energyUnits),sm(e,i,t,s,tG.dictRef,ty.energyUnits),sc(!1,e,i,t,s,tO.dictRef,ty.frequencyUnits),sm(e,i,t,s,tU.dictRef,void 0),sm(e,i,t,s,tq.dictRef,void 0),sm(e,i,t,s,tF.dictRef,void 0),sc(!1,e,i,t,s,tH.dictRef,ty.frequencyUnits),sm(e,i,t,s,tV.dictRef,ty.massUnits),sm(e,i,t,s,tj.dictRef,void 0),sm(e,i,t,s,tX.dictRef,ty.temperatureUnits),sm(e,i,t,s,tY.dictRef,ty.lengthUnits),sN(!1,e,i,t,s,t$.dictRef,ty.hessianUnits),sc(!1,e,i,t,s,tW.dictRef,ty.EinsteinAUnits),sc(!1,e,i,t,s,tK.dictRef,ty.EinsteinBUnits)}function sm(e,t,s,i,a,n){let o,d,l,r,g;(o=new Map).set(tP.s_dictRef,a),d=new Map,void 0!=n&&d.set(tD.s_units,n[0]),r=new tP(o,l=new tD(d,aT)),e.getPropertyList().setProperty(r),console.log("pl.index.size"+i.index.size),aQ(n,d,g=aW(s.id,t,a,l.getValue.bind(l),e=>(function(e,t,s,i){if(void 0==t.getProperty(e)){let i,a;(i=new Map).set(tP.s_dictRef,e),a=new tP(i,s),t.setProperty(a),console.log("Set property "+e)}else console.log("Property "+e+" already exists.");console.log("Value "+s.getValue()),console.log("Value "+s.getValue()),s.setValue.bind(s)(i),console.log("Value "+s.getValue())})(a,i,l,e),()=>i.removeProperty(r.dictRef),i0,iJ),g.querySelector(i7),au(s.id,a,tD.s_units),a,i0,i0),s.appendChild(g),g.querySelector(p).click()}function sc(e,t,s,i,a,n,o){let d,l,r,g,h;(d=new Map).set(tP.s_dictRef,n),l=new Map,void 0!=o&&l.set(tD.s_units,o[0]);let m=[];e&&su(n,m),g=new tP(d,r=new t_(l,m)),t.getPropertyList().setProperty(g),console.log("pl.index.size"+a.index.size),aQ(o,l,h=sz(i.id,s,n,r,r.getValues.bind(r),e=>sp(n,a,r,e),()=>a.removeProperty(g.dictRef),i0,iJ),h.querySelector(i7),au(i.id,n,tD.s_units),n,i0,i0),i.appendChild(h),h.querySelector(p).click()}function su(e,t){let s=aJ("Please enter the number of elements in the "+e+" array");for(let e=0;e<s;e++)t.push(aT)}function sp(e,t,s,i){if(void 0==t.getProperty(e)){let a,n;(a=new Map).set(tP.s_dictRef,e),n=new tP(a,s),su(e,i),t.setProperty(n),console.log("Set property "+e)}else console.log("Property "+e+" already exists.");console.log("Value "+s.getValues()),s.setValues.bind(s)(i)}function sN(e,t,s,i,a,n,o){let d,l,r,g,h;(d=new Map).set(tP.s_dictRef,n),l=new Map,void 0!=o&&l.set(tD.s_units,o[0]);let m=[];e&&su(n,m),g=new tP(d,r=new tL(l,m)),t.getPropertyList().setProperty(g),console.log("pl.index.size"+a.index.size),aQ(o,l,h=sz(i.id,s,n,r,r.getValues.bind(r),e=>sp(n,a,r,e),()=>a.removeProperty(g.dictRef),i0,iJ),h.querySelector(i7),au(i.id,n,tD.s_units),n,i0,i0),i.appendChild(h),h.querySelector(p).click()}function sf(e,t,s,i){let a=T(i4,void 0,i0);return e.appendChild(a),a.addEventListener("click",()=>{let a=l(sr.tagName,"div");ap(a);let n=I(s.addID(a),iJ),o=Array.from(aG(aB));if(0==o.length){alert("There are no additional molecules to add, please load data...");return}console.log("options.length="+o.length),a$(o,!0);let d=l(a,N);ap(d);let r=M(o,"Select molecule",an,s.addID(d),i0);r.classList.add(sr.tagName),n.appendChild(r),e.insertBefore(n,t),a0(o,r),r.addEventListener("change",a=>{let o=a.target,d=aO(o.options[o.selectedIndex].value,aB),l=d.getID();l=sx(!0,l,d,i),i.set(l,d);let r=s.addID(sr.tagName,i.size),g=I(r),h=f(s.addID(r,i8),e,t,g,d.getLabel(),i0,iJ);aY(et.tagName,d.getID()),sv(d,i,h.querySelector(p),s,g,iJ),g.appendChild(sE(s.addID(r,i9),s,d.getDescription.bind(d),d.setDescription.bind(d),i0,iJ));let m=s.addID(r,tg.tagName),c=I(m,iJ);f(s.addID(m,i8),g,null,c,tg.tagName,i0,iJ);let u=d.getMetadataList();void 0!=u&&u.getMetadata().forEach(e=>{let t=I();c.appendChild(t),t.appendChild(z(e.getLabelText(),i0))});let N=s.addID(r,tT.tagName),x=I(N);f(s.addID(N,i8),g,null,x,tT.tagName,i0,iJ);let v=d.getAtoms();void 0!=v&&v.atoms.forEach(e=>{x.appendChild(sC(s,d,N,d.getAtoms(),e,i0,iJ))}),x.appendChild(sy(s,d,x,tS.tagName,i0,iJ));let E=s.addID(r,tR.tagName),w=I(E);f(s.addID(E,i8),g,null,w,tR.tagName,i0,iJ),void 0!=d.getBonds()&&d.getBonds().bonds.forEach(e=>{if(void 0==v)throw Error("Atoms are not defined for molecule "+d.getLabel());w.appendChild(sS(s,d,E,v.atoms,d.getBonds(),e,i0,iJ))}),w.appendChild(sM(s,d,w,tI.tagName,i0,iJ)),sR(s,d,g,i0,iJ);let y=s.addID(r,tQ.tagName),C=I(y);f(s.addID(y,i8),g,null,C,tQ.tagName,i0,iJ);let b=d.getPropertyList(),M=new Set;console.log("Molecule "+d.getDescription()),tD.propertyDictRefs.forEach(function(e){console.log("dictRef="+e),sm(d,M,C,b,e,ty.energyUnits)}),t_.propertyDictRefs.forEach(function(e){console.log("dictRef="+e),sc(!1,d,M,C,b,e,ty.frequencyUnits)}),tL.propertyDictRefs.forEach(function(e){console.log("dictRef="+e),sN(!1,d,M,C,b,e,ty.hessianUnits)}),n.remove(),aZ(g,iJ,()=>{sI(e,h,s,i,r,d)})})}),a}function sx(e,t,s,i){for(;;){let a;if(null==(a=e?prompt("Please enter a name for the molecule",t):t))alert("The molecule ID cannot be null.");else if(""==a)alert("The molecule ID cannot be empty.");else{if(!i.has(a))return t=a,void 0!=s&&(s.setID(t),i.set(t,s)),t;if(t==a)return void 0!=s&&(s.setID(t),i.set(t,s)),t;alert("The molecule ID "+a+" is already in use.")}}}function sv(e,t,s,i,a,n){let o=i1+" Edit id",d=i.addID(a.id,o,p),l=T(o,d,n);a.appendChild(l),l.addEventListener("click",()=>{let i=e.getID();aX(et.tagName,e.getID()),i=sx(!0,i,e,t),aY(et.tagName,i),s.textContent=e.getLabel()+" ▲"})}function sE(e,t,s,i,a,n){let o=R(void 0,n),d=i9+i3,l=i9+i2,r=T(l,t.addID(e,p),a);o.appendChild(r),r.classList.add(ae),r.classList.add(at);let g=t.addID(e,i9,i7),h=s();return void 0==h?(r.textContent=l,r.classList.toggle(ae)):(sw(o,g,h,i,a),r.textContent=d,r.classList.toggle(at)),r.addEventListener("click",e=>{null==document.getElementById(g)?(sw(o,g,h,i,a),r.textContent=d):(document.getElementById(g)?.remove(),console.log("Removed "+g),r.textContent=l),r.classList.toggle(ae),r.classList.toggle(at)}),o}function sw(e,t,s,i,a){let n;n=void 0==s?"":s;let o=E("text",t,a);o.addEventListener("change",e=>{let a=e.target;i(a.value),console.log(t+" changed from "+s+" to "+a.value),y(a)}),o.value=n,y(o),e.appendChild(o)}function sy(e,t,s,i,a,n){let o=T(i5,e.addID(s.id,"Add"+i+"Button"),n);return o.addEventListener("click",()=>{let i=new tS(new Map,t);s.insertBefore(sC(e,t,s.id,t.getAtoms(),i,a,n),o)}),o}function sC(e,t,s,i,a,n,o){let d,l=i.addAtom(a,a.getID()),r=R(e.addID(s,l),o);r.appendChild(z(l,n));let g=new Set;return function(e,t,s,i,a,n){let o=t.getElementType(),d=ty.elementTypes;void 0==o&&(o=an,a$(d,a));let l=e.addID(s.id,tS.s_elementType);i.add(l);let r=S(tS.s_elementType,d,tS.s_elementType,o,l,n,n),g=r.querySelector("select");g.addEventListener("change",e=>{let s=e.target;t.setElementType(s.value),C(s)}),g.value=o,C(g),a0(d,g),s.appendChild(r)}(e,a,r,g,!0,n),d=e.addID(r.id,tS.s_x3),g.add(d),r.appendChild(aW(d,g,tS.s_x3,a.getX3.bind(a),a.setX3.bind(a),a.removeX3,n,n)),d=e.addID(r.id,tS.s_y3),g.add(d),r.appendChild(aW(d,g,tS.s_y3,a.getY3.bind(a),a.setY3.bind(a),a.removeY3,n,n)),d=e.addID(r.id,tS.s_z3),g.add(d),r.appendChild(aW(d,g,tS.s_z3,a.getZ3.bind(a),a.setZ3.bind(a),a.removeZ3,n,n)),aZ(r,n,sb,t,l,g),aY(tI.s_atomRefs2,l),r}function sb(e,t,s){e.getAtoms().removeAtom(t),s.forEach(e=>{console.log("Removing "+e),ap(e)}),aX(tI.s_atomRefs2,t),e.getBonds().bonds.forEach(t=>{let s=t.getAtomRefs2().split(" ");if(s[0]==s[1]){let s=t.getID();e.getBonds().removeBond(s),aX(tI.tagName,s);let i=l(sr.tagName,e.id,tR.tagName,s),a=document.getElementById(i);if(null==a)throw Error("Bond div with id "+i+" not found.");a.remove()}})}function sM(e,t,s,i,a,n){let o=T(i5,e.addID(s.id,i,p),n);return o.addEventListener("click",()=>{let i=t.getAtoms().atoms;if(i.size<2){alert("There must be at least 2 atoms to create a bond.");return}let d=new Map,l=Array.from(i.keys()).slice(0,2).join(" ");d.set(tI.s_atomRefs2,l);let r=new tI(d,t);s.insertBefore(sS(e,t,s.id,i,t.getBonds(),r,a,n),o)}),s.appendChild(o),o}function sS(e,t,s,i,a,n,o,d){let r,g,h,m,c,u,p,N,f,x=a.addBond(n,n.getID()),v=R(l(s,x),d);return v.appendChild(z(x,o)),r=e.addID(v.id,tI.s_atomRefs2),g=n.getAtomRefs2().split(" "),h=Array.from(t.getAtoms().atoms.keys()),m=e.addID(r,0),(u=(c=S(tI.s_atomRefs2+"[0]",h,tS.tagName,g[0],m,o,o)).querySelector("select")).classList.add(tI.s_atomRefs2),u.addEventListener("change",e=>{let t=e.target,s=t.value+" "+g[1];console.log(tI.s_atomRefs2+" changed to "+s),n.setAtomRefs2(s),C(t)}),u.value=g[0],C(u),v.appendChild(c),p=e.addID(r,1),(f=(N=S(tI.s_atomRefs2+"[1]",h,tS.tagName,g[1],p,o,o)).querySelector("select")).classList.add(tI.s_atomRefs2),f.addEventListener("change",e=>{let t=e.target,s=g[0]+" "+t.value;console.log(tI.s_atomRefs2+" changed to "+s),n.setAtomRefs2(s),C(t)}),f.value=g[1],C(f),v.appendChild(N),function(e,t,s,i){let a=e.addID(t.id,tI.s_order),n=R(void 0,i);t.appendChild(n);let o=tI.s_order+i3,d=tI.s_order+i2,l=T(d,void 0,i);n.appendChild(l),l.classList.add(ae),l.classList.add(at);let r=s.getOrder();void 0==r?(l.textContent=d,l.classList.toggle(ae)):(sT(n,s,a,r,i),l.textContent=o,l.classList.toggle(at)),l.addEventListener("click",e=>{null==document.getElementById(a)?(void 0==r&&(r=1),sT(n,s,a,r,i),l.textContent=o):(document.getElementById(a)?.remove(),console.log("Removed "+a),l.textContent=d),l.classList.toggle(ae),l.classList.toggle(at)})}(e,v,n,o),Array.from(i.keys()).forEach(e=>{v.classList.add(e)}),aZ(v,o,e=>t.getBonds().removeBond(e),x),aY(tI.tagName,x),v}function sT(e,t,s,i,a){let n=i.toString(),o=M(tI.orderOptions,tI.s_order,n,s,a);o.addEventListener("change",e=>{let s=e.target;t.setOrder(parseFloat(s.value)),console.log(tI.s_order+" changed from "+n+" to "+s.value),C(s)}),o.value=n,C(o),o.id=s,e.appendChild(o)}function sI(e,t,s,i,a,n){e.removeChild(t),s.removeIDs(a),s.removeIDs(l(a,i9)),s.removeIDs(l(a,tT.tagName)),s.removeIDs(l(a,tR.tagName)),s.removeIDs(l(a,ag)),s.removeIDs(l(a,tQ.tagName)),i.delete(n.getID())}function sR(e,t,i,a,n){let o;let d=I(e.addID(i.id,ag,i8),n);i.appendChild(d);let l=e.addID(i.id,ag),r=!1,g=!1;function h(e,s){let i=I(l,a);i.className="mol-container",d.appendChild(i);let n=$3Dmol.createViewer(i,{backgroundColor:"grey"});return n.setStyle({stick:{}}),t.getAtoms().atoms.forEach(function(t){let s,i,a=t.getElementType();s=void 0==a?"Purple":ty.atomColors.get(a)||"Purple",i=void 0==a?100:ty.atomRadii.get(t.getElementType())||100;let o=t.getX3()?.toNumber()||0,d=t.getY3()?.toNumber()||0,l=t.getZ3()?.toNumber()||0;n.addSphere({center:{x:o,y:d,z:l},radius:i/110,color:s}),e&&n.addLabel(t.getID(),{position:{x:o,y:d,z:l}})}),t.getBonds().bonds.forEach(function(e){let i=e.getAtomRefs2().split(" "),a=t.getAtoms(),o=a.getAtom(i[0]),d=a.getAtom(i[1]),l=e.getOrder()||1,r=ty.bondColors.get(l)||"Purple",g=o.getX3()?.toNumber()||0,h=o.getY3()?.toNumber()||0,m=o.getZ3()?.toNumber()||0,c=d.getX3()?.toNumber()||0,u=d.getY3()?.toNumber()||0,p=d.getZ3()?.toNumber()||0;n.addCylinder({start:{x:g,y:h,z:m},end:{x:c,y:u,z:p},radius:.06*l,color:r}),s&&n.addLabel(e.getID(),{position:{x:(g+c)/2,y:(h+u)/2,z:(m+p)/2}})}),n.zoomTo(),n.render(),n.zoom(.8,2e3),n}let m=T("Draw/Redraw",void 0);function c(e,t,s,i){let n=T((s?"Hide ":"Show ")+e,t,a);return n.addEventListener("click",()=>{s?(n.textContent="Show "+e,s=!1):(n.textContent="Hide "+e,s=!0),i(s),ap(l),o=h(r,g)}),n}m.addEventListener("click",()=>{ap(l),o=h(r,g)}),d.appendChild(m);let u="Atom Labels",p=c(u,e.addID(l,u),r,e=>r=e);d.appendChild(p);let N="Bond Labels",f=c(N,e.addID(l,N),g,e=>g=e);d.appendChild(f);let x=T("Save as PNG",e.addID(l,aa),i0);x.addEventListener("click",()=>{let e=o.pngURI(),t=document.createElement("a");t.href=e;let i=s.getTitle()?.value;t.download=i.replace(/[^a-z0-9]/gi,"_")+"mol.png",document.body.appendChild(t),t.click(),document.body.removeChild(t),console.log("Save Image")}),d.appendChild(x)}function sz(e,t,s,i,a,n,o,d,l){let r=R(void 0,l),g=s+i3,h=s+i2,m=au(e,s,p);t.add(m);let c=T(h,m,d);r.appendChild(c),c.classList.add(ae),c.classList.add(at);let u=au(e,s,i7);t.add(u);let N=a();return void 0==N?(c.textContent=h,c.classList.toggle(ae)):(sD(r,u,s,N,i,a,n,d),c.textContent=g,c.classList.toggle(at)),c.addEventListener("click",e=>{null==document.getElementById(u)?(sD(r,u,s,N,i,a,n,d),c.textContent=g):(document.getElementById(u)?.remove(),o(),console.log("Removed "+u),c.textContent=h),c.classList.toggle(ae),c.classList.toggle(at)}),r}function sD(e,t,s,i,a,d,l,r){let c,u;c=void 0==i?"":m(i);let p=((u=document.createElement("textarea")).id=t,Object.assign(u.style,r),u.style.fontSize="1em",u.classList.add("auto-width"),u);p.addEventListener("change",e=>{let t=e.target;(function(e,t,s){let i=s.value.trim(),a=g(t.values," ");if(0==t.getValues().length){let s=aJ("Please enter the number of elements in the "+e+" array"),i=[];for(let e=0;e<s;e++)i.push(new(n(o))(0));t.setValues(i)}if(""==i){alert("Empty input resetting..."),s.value=a;return}let d=i.split(/\s+/),l=[],r=!0;if(d.forEach(function(e){h(e)?l.push(new(n(o))(e)):r=!1}),!r){alert("An input is not a number, resetting..."),s.value=a;return}l.length==t.values.length?(t.setValues(l),console.log("Changed "+t.tagName+' from: "'+a+'" to: "'+g(t.values," ")+'"')):(alert("Expecting "+t.values.length+" values for, but finding "+l.length+" resetting..."),s.value=a)})(s,a,p),b(t)}),p.value=c,b(p),e.appendChild(p)}class s_{constructor(){}readFile(){return new Promise((e,t)=>{let s=document.createElement("input");s.type="file";let i=this;s.onchange=function(){if(s.files){let a=s.files[0];a.name;let n=new FileReader,o=0,d="";n.onload=function(s){if(null==s.target){t(Error("Event target is null"));return}if(d+=s.target.result,null!=a){if(o<a.size){let e=a.slice(o,o+1048576);n.readAsText(e),o+=1048576}else{d=d.trim();let t=new DOMParser().parseFromString(d,"text/xml");e(i.parse(t))}}};let l=a.slice(o,o+1048576);n.readAsText(l),o+=1048576}},s.click()})}parse(e){let t=new Map,s=j(e,tf.tagName),i=new Set;s.childNodes.forEach(function(e){i.add(e.nodeName)});let a=s.getElementsByTagName(sr.tagName),d=a.length;console.log("Number of molecules="+d);let l=0;for(let e=0;e<d;e++){let s=V(a[e]),i=s.get(sr.s_id);if(void 0==i)throw Error(sr.s_id+" is undefined");let d=a[e].childNodes;if(0==d.length){if(l++,void 0==s.get("ref"))throw Error("ref is undefined");continue}let r=sx(!1,i,void 0,t),g=new sr(s,r);t.set(r,g);let h=new Set;for(let e=0;e<d.length;e++){let t=d[e];h.has(t.nodeName)?"#text"!=t.nodeName&&console.warn("Another ChildNode with nodeName="+t.nodeName):h.add(t.nodeName)}let m=a[e].getElementsByTagName(tg.tagName);if(m.length>0){if(m.length>1)throw Error("Expecting 1 or 0 "+tg.tagName+" but finding "+m.length+"!");let e=new tg(V(m[0]));g.setMetadataList(e);let t=m[0].getElementsByTagName(ta.tagName);for(let s=0;s<t.length;s++){let i=new ta(V(t[s]));e.addMetadata(i)}h.delete(tg.tagName)}let c=a[e].getElementsByTagName(tT.tagName);if(c.length>1)throw Error("Expecting 1 or 0 "+tT.tagName+" but finding "+c.length+"!");if(1==c.length){let e=c[0],t=e.getElementsByTagName(tS.tagName);if(0==t.length)throw Error("Expecting 1 or more atoms in "+tT.tagName+", but finding 0!");let s=new tT(V(e));g.setAtoms(s);for(let e=0;e<t.length;e++)s.addAtom(new tS(V(t[e]),g));h.delete(tT.tagName)}else{let t=a[e].getElementsByTagName(tS.tagName);if(1==t.length){let e=new tT(new Map);e.addAtom(new tS(V(t[0]),g)),g.setAtoms(e)}else if(t.length>1)throw Error("Expecting 1 "+tS.tagName+" but finding "+t.length+". Should these be in an "+tT.tagName+"?")}h.delete(tS.tagName);let u=a[e].getElementsByTagName(tR.tagName);if(u.length>0){if(u.length>1)throw Error("Expecting 1 or 0 "+tR.tagName+" but finding "+u.length+"!");let e=u[0].getElementsByTagName(tI.tagName),t=new tR(V(u[0]));for(let s=0;s<e.length;s++)t.addBond(new tI(V(e[s]),g));g.setBonds(t),h.delete(tR.tagName)}else{let t=a[e].getElementsByTagName(tI.tagName);if(t.length>0){if(t.length>1)throw Error("Expecting 1 "+tI.tagName+" but finding "+t.length+". Should these be in a "+tR.tagName+"?");let e=new tR(new Map);e.addBond(new tI(V(t[0]),g)),g.setBonds(e)}}h.delete(tI.tagName);let p=a[e].getElementsByTagName(tQ.tagName);if(p.length>1)throw Error("Expecting 1 or 0 "+tQ.tagName+" but finding "+p.length+"!");if(1==p.length){let e=new tQ(V(p[0]));g.setPropertyList(e);let t=p[0].getElementsByTagName(tP.tagName);for(let s=0;s<t.length;s++)e.setProperty(new tP(V(t[s])));h.delete(tQ.tagName)}else{let t=new tQ(new Map);g.setPropertyList(t);let s=a[e].getElementsByTagName(tP.tagName);if(1!=s.length)throw Error("Expecting 1 "+tP.tagName+" but finding "+s.length+". Should these be in a "+tQ.tagName+"?");t.setProperty(new tP(V(s[0]))),h.delete(tP.tagName)}let N=a[e].getElementsByTagName(t3.tagName);if(N.length>0){if(N.length>1)throw Error("Expecting 1 or 0 "+t3.tagName+" but finding "+N.length+"!");let e=new t3(V(N[0]));g.setEnergyTransferModel(e),h.delete(t3.tagName)}let f=a[e].getElementsByTagName(t5.tagName);if(f.length>0){if(f.length>1)throw Error("Expecting 1 or 0 "+t5.tagName+" but finding "+f.length+"!");let e=new t5(V(f[0]));g.setDOSCMethod(e),h.delete(t5.tagName)}let x=a[e].getElementsByTagName(t8.tagName);if(x.length>0){if(x.length>1)throw Error("Expecting 1 or 0 "+t8.tagName+" but finding "+x.length+"!");let e=new t8(V(x[0]));g.setDistributionCalcMethod(e),h.delete(t8.tagName)}let v=a[e].getElementsByTagName(sl.tagName);if(v.length>0){if(v.length>1)throw Error("Expecting 1 or 0 "+sl.tagName+" but finding "+v.length+"!");let e=new sl(V(v[0]));g.setDensityOfStatesList(e);let t=v[0].getElementsByTagName(sd.tagName),s=v[0].getElementsByTagName(tC.tagName);if(s.length>0){if(s.length>1)throw Error("Expecting 1 or 0 "+tC.tagName+" but finding "+s.length+"!");let t=new tC(V(s[0]),B(P(s[0])));e.setDescription(t)}if(0==t.length)throw Error("Expecting 1 or more "+sd.tagName+" but finding 0!");for(let s=0;s<t.length;s++){let i=new sd(V(t[s]));e.addDensityOfStates(i);let a=t[s].getElementsByTagName(tb.tagName);if(1!=a.length)throw Error("Expecting 1 "+tb.tagName+" but finding "+a.length+"!");{let e=new tb(V(a[0]),new(n(o))(B(P(a[0]))));i.setT(e)}let d=t[s].getElementsByTagName(sa.tagName);if(1!=d.length)throw Error("Expecting 1 "+sa.tagName+" but finding "+d.length+"!");{let e=new sa(V(d[0]),new(n(o))(B(P(d[0]))));i.setQtot(e)}let l=t[s].getElementsByTagName(sn.tagName);if(1!=l.length)throw Error("Expecting 1 "+sn.tagName+" but finding "+l.length+"!");{let e=new sn(V(l[0]),new(n(o))(B(P(l[0]))));i.setSumc(e)}let r=t[s].getElementsByTagName(so.tagName);if(1!=r.length)throw Error("Expecting 1 "+so.tagName+" but finding "+r.length+"!");{let e=new so(V(r[0]),new(n(o))(B(P(r[0]))));i.setSumg(e)}}h.delete(sl.tagName)}h.delete("#text"),h.size>0&&(console.warn("There are additional unexpected moleculeTagNames:"),h.forEach(e=>console.warn(e)))}return console.log("Number of molecules="+t.size),console.log("Number of alias molecules="+l.toString()),t}}let sL="https://github.com/MESMER-kinetics",sP=sL+"/mxg",sB=document.createElement("a");sB.href=sP,sB.textContent=sP;let sA=sP+"/tree/main/data/examples",sk=document.createElement("a");sk.href=sA,sk.textContent=sA;let sG=sL+"/MESMER-code",sO=document.createElement("a");sO.href=sG,sO.textContent=sG;let sU=document.createElement("a");sU.href="https://epsrc.ukri.org/",sU.textContent="The UK Engineering and Physical Sciences Research Council (EPSRC)";let sq=document.createElement("a");sq.href="https://www.leeds.ac.uk/",sq.textContent="The University of Leeds";let sF="https://github.com/3dmol/3Dmol.js",sH=document.createElement("a");sH.href=sF,sH.textContent=sF;let sV=document.createElement("a");sV.href="http://doi.org/10.1093/bioinformatics/btu829",sV.textContent="doi:10.1093/bioinformatics/btu829";let sj="https://mikemcl.github.io/big.js/",sX=document.createElement("a");sX.href=sj,sX.textContent=sj;class sY extends G{static{this.tagName="molecule"}static{this.s_ref="ref"}static{this.s_role="role"}constructor(e){super(e,sY.tagName),this.ref=e.get(sY.s_ref),this.role=e.get(sY.s_role)}getRef(){return this.ref}setRef(e){this.ref=e,this.attributes.set("ref",e)}getRole(){return this.role}setRole(e){this.role=e,this.attributes.set("role",e)}}class s$ extends F{static{this.tagName="reactant"}static{this.s_deficientReactant="deficientReactant"}static{this.s_excessReactant="excessReactant"}static{this.s_modelled="modelled"}static{this.roleOptions=[s$.s_deficientReactant,s$.s_excessReactant,s$.s_modelled]}constructor(e,t){super(e,s$.tagName),this.addNode(t)}getMolecule(){return this.nodes.get(0)}}class sW extends F{static{this.tagName="product"}static{this.roleOptions=["modelled","sink"]}constructor(e,t){super(e,sW.tagName),this.addNode(t)}getMolecule(){return this.nodes.get(0)}}class sK extends F{static{this.tagName="me:transitionState"}static{this.role="transitionState"}constructor(e,t){super(e,sK.tagName),this.addNode(t)}getMolecule(){return this.nodes.get(0)}}class sZ extends U{static{this.tagName="me:preExponential"}constructor(e,t){super(e,sZ.tagName,t)}}class sQ extends U{static{this.tagName="me:activationEnergy"}constructor(e,t){super(e,sQ.tagName,t)}}class sJ extends U{static{this.tagName="me:TInfinity"}constructor(e,t){super(e,sJ.tagName,t)}}class s0 extends U{static{this.tagName="me:nInfinity"}constructor(e,t){super(e,s0.tagName,t)}}class s1 extends F{static{this.tagName="me:MCRCMethod"}constructor(e){super(e,s1.tagName)}}class s2 extends s1{static{this.xsiType="me:MesmerILT"}static{this.xsiType2="MesmerILT"}constructor(e,t,s,i,a){super(e),this.index=new Map,void 0!=t&&(this.index.set(sZ.tagName,this.index.size),this.addNode(t)),void 0!=s&&(this.index.set(sQ.tagName,this.index.size),this.addNode(s)),void 0!=i&&(this.index.set(sJ.tagName,this.index.size),this.addNode(i)),void 0!=a&&(this.index.set(s0.tagName,this.index.size),this.addNode(a))}getPreExponential(){let e=this.index.get(sZ.tagName);if(void 0!=e)return this.nodes.get(e)}setPreExponential(e){let t=this.index.get(sZ.tagName);void 0==t?(this.index.set(sZ.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getActivationEnergy(){let e=this.index.get(sQ.tagName);if(void 0!=e)return this.nodes.get(e)}setActivationEnergy(e){let t=this.index.get(sQ.tagName);void 0==t?(this.index.set(sQ.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getTInfinity(){let e=this.index.get(sJ.tagName);if(void 0!=e)return this.nodes.get(e)}setTInfinity(e){let t=this.index.get(sJ.tagName);void 0==t?(this.index.set(sJ.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getNInfinity(){let e=this.index.get(s0.tagName);if(void 0!=e)return this.nodes.get(e)}setNInfinity(e){let t=this.index.get(s0.tagName);void 0==t?(this.index.set(s0.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}}class s3 extends G{static{this.tagName="me:tunneling"}static{this.options=["Eckart","WKB"]}static{this.s_name="name"}constructor(e){super(e,s3.tagName)}getName(){return this.attributes.get(s3.s_name)}setName(e){this.attributes.set(s3.s_name,e)}}class s5 extends U{static{this.tagName="me:excessReactantConc"}constructor(e,t){super(e,s5.tagName,t)}}class s4 extends U{static{this.tagName="me:val"}constructor(e,t){super(e,s4.tagName,t)}}class s6 extends U{static{this.tagName="me:rev"}constructor(e,t){super(e,s6.tagName,t)}}class s8 extends U{static{this.tagName="me:Keq"}constructor(e,t){super(e,s8.tagName,t)}}class s9 extends F{static{this.tagName="me:kinf"}constructor(e,t,s,i,a){super(e,s9.tagName),this.index=new Map,void 0!=t&&(this.index.set(tb.tagName,this.nodes.size),this.addNode(t)),void 0!=s&&(this.index.set(s4.tagName,this.nodes.size),this.addNode(s)),void 0!=i&&(this.index.set(s6.tagName,this.nodes.size),this.addNode(i)),void 0!=a&&(this.index.set(s8.tagName,this.nodes.size),this.addNode(a))}getT(){let e=this.index.get(tb.tagName);if(void 0!=e)return this.nodes.get(e)}setT(e){let t=this.index.get(tb.tagName);void 0==t?(this.index.set(tb.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getVal(){let e=this.index.get(s4.tagName);if(void 0!=e)return this.nodes.get(e)}setVal(e){let t=this.index.get(s4.tagName);void 0==t?(this.index.set(s4.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getRev(){let e=this.index.get(s6.tagName);if(void 0!=e)return this.nodes.get(e)}setRev(e){let t=this.index.get(s6.tagName);void 0==t?(this.index.set(s6.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getKeq(){let e=this.index.get(s8.tagName);if(void 0!=e)return this.nodes.get(e)}setKeq(e){let t=this.index.get(s8.tagName);void 0==t?(this.index.set(s8.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getHeader(){let e=[];return e.push("T ("+this.getT()?.attributes.get("units")+")"),e.push("kf ("+this.getVal()?.attributes.get("units")+")"),e.push("krev ("+this.getRev()?.attributes.get("units")+")"),e.push("Keq ("+this.getKeq()?.attributes.get("units")+")"),e}toStringArray(){let e=this.getT(),t=this.getVal(),s=this.getRev(),i=this.getKeq();return[e.value.toString(),t.value.toString(),s.value.toString(),i.value.toString()]}toCSV(){return this.toStringArray().join(",")}}class s7 extends F{static{this.tagName="me:canonicalRateList"}constructor(e,t,s){super(e,s7.tagName),this.index=new Map,this.kinfIndex=new Map,void 0!=t&&(this.index.set(tC.tagName,this.nodes.size),this.addNode(t)),void 0!=s&&s.forEach(e=>{this.kinfIndex.set(this.nodes.size,this.nodes.size),this.addNode(e)})}getDescription(){let e=this.index.get(tC.tagName);if(void 0!=e)return this.nodes.get(e)}setDescription(e){let t=this.index.get(tC.tagName);void 0==t?(this.index.set(tC.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getKinfs(){return Array.from(this.kinfIndex.values()).map(e=>this.nodes.get(e))}addKinf(e){this.kinfIndex.set(this.kinfIndex.size,this.nodes.size),this.addNode(e)}toCSV(){let e="",t=!0;return this.getKinfs().forEach(s=>{t&&(t=!1,e+=s.getHeader().join(",")+"\n"),e+=s.toCSV()+"\n"}),e}}class ie extends F{static{this.tagName="reaction"}static{this.s_id="id"}constructor(e,t,s,i,a,n,o,d){super(e,ie.tagName),this.index=new Map,this.reactantsIndex=new Map,this.productsIndex=new Map,this.transitionStatesIndex=new Map;let l=e.get(ie.s_id);if(void 0==l)throw Error(ie.s_id+" is undefined!");this.id=l,void 0!=t&&(t.forEach((e,t)=>{this.reactantsIndex.set(e.getMolecule().getRef(),this.nodes.size),this.addNode(e)}),this.index.set(s$.tagName,this.reactantsIndex)),void 0!=s&&(s.forEach((e,t)=>{this.productsIndex.set(e.getMolecule().getRef(),this.nodes.size),this.addNode(e)}),this.index.set(sW.tagName,this.productsIndex)),void 0!=i&&(this.index.set(s3.tagName,this.nodes.size),this.addNode(i)),void 0!=a&&(a.forEach((e,t)=>{this.transitionStatesIndex.set(e.getMolecule().getRef(),this.nodes.size),this.addNode(e)}),this.index.set(sK.tagName,this.transitionStatesIndex)),void 0!=n&&(this.index.set(s1.tagName,this.nodes.size),this.addNode(n)),void 0!=o&&(this.index.set(s5.tagName,this.nodes.size),this.addNode(o)),void 0!=d&&(this.index.set(s7.tagName,this.nodes.size),this.addNode(d))}addToIndex(e,t){let s=this.index.get(e);if(void 0==s)this.index.set(e,this.nodes.size);else if(s instanceof Map)s.set(t.tagName,this.nodes.size);else{let i=new Map;i.set(this.nodes.get(s).getRef(),s),i.set(t.tagName,this.nodes.size),this.index.set(e,i)}}getReactants(){let e=this.index.get(s$.tagName);if(void 0==e)return new Map;let t=new Map;if(e instanceof Map)e.forEach((e,s)=>{t.set(s,this.nodes.get(e))});else{let s=this.nodes.get(e);t.set(s.getMolecule().getRef(),s)}return t}setReactants(e){e.forEach((e,t)=>{this.reactantsIndex.set(e.getMolecule().getRef(),this.nodes.size),this.addNode(e)}),this.index.set(s$.tagName,this.reactantsIndex)}getReactant(e){let t=this.reactantsIndex.get(e);if(void 0==t)throw Error(`Reactant with ref ${e} not found`);return this.nodes.get(t)}addReactant(e){this.reactantsIndex.set(e.getMolecule().getRef(),this.nodes.size),this.addNode(e)}removeReactant(e){let t=this.reactantsIndex.get(e);if(void 0==t)throw Error(`Reactant with ref ${e} not found`);this.nodes.delete(t),this.reactantsIndex.delete(e)}getProducts(){let e=this.index.get(sW.tagName);if(void 0==e)return new Map;let t=new Map;if(e instanceof Map)e.forEach((e,s)=>{t.set(s,this.nodes.get(e))});else{let s=this.nodes.get(e);t.set(s.getMolecule().getRef(),s)}return t}setProducts(e){e.forEach((e,t)=>{this.productsIndex.set(e.getMolecule().getRef(),this.nodes.size),this.addNode(e)}),this.index.set(sW.tagName,this.productsIndex)}getProduct(e){let t=this.productsIndex.get(e);if(void 0==t)throw Error(`Product with ref ${e} not found`);return this.nodes.get(t)}addProduct(e){this.productsIndex.set(e.getMolecule().getRef(),this.nodes.size),this.addNode(e)}removeProduct(e){let t=this.productsIndex.get(e);if(void 0==t)throw Error(`Product with ref ${e} not found`);this.nodes.delete(t),this.productsIndex.delete(e)}getTunneling(){let e=this.index.get(s3.tagName);if(void 0!=e)return this.nodes.get(e)}setTunneling(e){let t=this.index.get(s3.tagName);if(void 0==t)this.index.set(s3.tagName,this.nodes.size),this.addNode(e);else{if(t instanceof Map)throw Error("Tunneling is a map and it is assumed there would be only 1!");this.nodes.set(t,e)}}getTransitionStates(){let e=this.index.get(sK.tagName);if(void 0==e)return new Map;let t=new Map;if(e instanceof Map)e.forEach((e,s)=>{t.set(s,this.nodes.get(e))});else{let s=this.nodes.get(e);t.set(s.getMolecule().getRef(),s)}return t}setTransitionStates(e){e.forEach((e,t)=>{this.transitionStatesIndex.set(e.getMolecule().getRef(),this.nodes.size),this.addNode(e)}),this.index.set(sK.tagName,this.transitionStatesIndex)}getTransitionState(e){let t=this.transitionStatesIndex.get(e);if(void 0==t)throw Error(`Transition state with ref ${e} not found`);return this.nodes.get(t)}addTransitionState(e){this.transitionStatesIndex.set(e.getMolecule().getRef(),this.nodes.size),this.addNode(e)}removeTransitionState(e){let t=this.transitionStatesIndex.get(e);if(void 0==t)throw Error(`Transition State with ref ${e} not found`);this.nodes.delete(t),this.transitionStatesIndex.delete(e)}getMCRCMethod(){let e=this.index.get(s1.tagName);if(void 0!=e)return this.nodes.get(e)}setMCRCMethod(e){let t=this.index.get(s1.tagName);if(void 0==t)this.index.set(s1.tagName,this.nodes.size),this.addNode(e);else{if(t instanceof Map)throw Error("MCRCMethod is a map and it is assumed there would be only 1!");this.nodes.set(t,e)}}getExcessReactantConc(){let e=this.index.get(s5.tagName);if(void 0!=e)return this.nodes.get(e)}setExcessReactantConc(e){let t=this.index.get(s5.tagName);if(void 0==t)this.index.set(s5.tagName,this.nodes.size),this.addNode(e);else{if(t instanceof Map)throw Error("ExcessReactantConc is a map and it is assumed there would be only 1!");this.nodes.set(t,e)}}getCanonicalRateList(){let e=this.index.get(s7.tagName);if(void 0!=e)return this.nodes.get(e)}setCanonicalRateList(e){let t=this.index.get(s7.tagName);if(void 0==t)this.index.set(s7.tagName,this.nodes.size),this.addNode(e);else{if(t instanceof Map)throw Error("CanonicalRateList is a map and it is assumed there would be only 1!");this.nodes.set(t,e)}}getReactantsLabel(){return Array.from(this.getReactants().values()).map(e=>e.getMolecule().getRef()).join(" + ")}getProductsLabel(){return Array.from(this.getProducts().values()).map(e=>e.getMolecule().getRef()).join(" + ")}getLabel(){return this.id+" ("+this.getReactantsLabel()+" -> "+this.getProductsLabel()+")"}getReactantsEnergy(e,t){return Array.from(this.getReactants().values()).map(s=>{let i=s.getMolecule().getRef(),a=e(i,t);return void 0==a?(console.log("molecule with ref "+i+" not found"),alert("Molecule with ref "+i+" not found. Please add it to the list of molecules.                  In the meantime it will be treated ashaving an energy of 0."),aT):a.getEnergy()}).reduce((e,t)=>e.add(t),new o.Big(0))}getProductsEnergy(e,t){return Array.from(this.getProducts().values()).map(s=>{let i=s.getMolecule().getRef(),a=e(i,t);if(void 0==a)throw Error(`Molecule with ref ${i} not found`);return a.getEnergy()}).reduce((e,t)=>e.add(t),new o.Big(0))}get(e,t){if(this.index.has(e)){let s=this.index.get(e);if(void 0!=s){if(!(s instanceof Map))return this.nodes.get(s);{let e=s.get(t);if(void 0!=e)return this.nodes.get(e)}}}}}function it(e,t,i,a){let n=T(i5,au(ie.tagName,"add",p),iJ);return t.appendChild(n),n.addEventListener("click",()=>{let o=new Map,d=s.getReactionList(),l=d.getNextReactionID();console.log("Next Reaction ID="+l),o.set(ie.s_id,"R"+l);let r=new ie(o);i.set(r.id,r),d.addReaction(r);let g=e.addID(ie.tagName,r.id),h=I(g);t.appendChild(h);let m=f(e.addID(g,i8),t,n,h,r.getLabel(),i0,iJ),c=m.querySelector("button"),u=e.addID(g,s$.tagName),p=I(u);f(e.addID(u,i8),h,null,p,ai,i0,iJ);let N=new Map;r.setReactants(N),is(r,c,e,g,p,a,N);let x=e.addID(g,sW.tagName),v=I(x);f(e.addID(x,i8),h,null,v,as,i0,iJ);let E=new Map;r.setProducts(E),ii(r,c,e,g,v,a,E);let w=e.addID(g,sK.tagName),y=I(w);f(e.addID(w,i8),h,null,y,ad,i0,iJ);let C=new Map;r.setTransitionStates(C),ia(e,g,y,a,C),aZ(h,iJ,()=>{io(t,m,e,g,i,r)})}),n}function is(e,t,s,i,a,n,o){let d=T(i5,s.addID(i,s$.tagName,p),iJ);a.appendChild(d),d.addEventListener("click",()=>{if(0===n.size){alert("Please add a molecule to the moleculeList first.");return}let r=R(void 0);a.insertBefore(r,d);let g=M(aG(n),N,"",l(i,s$.tagName,N),iJ);g.classList.add(et.tagName),r.appendChild(g),g.addEventListener("click",e=>{1===g.options.length&&(alert("As there is only one molecule it will be selected."),g.selectedIndex=0,g.dispatchEvent(new Event("change")))}),g.addEventListener("change",d=>{let h=d.target,m=n.get(h.value),c=new Map,u=m.getID();if(o.has(u)){alert("Molecule already selected as a reactant. Please select a different molecule                 (you may want to add more molecules to the moleculeList)."),r.removeChild(g);return}r.id=s.addID(i,s$.tagName,u),c.set(sY.s_ref,u);let p=new sY(c),f=new s$(new Map,p);o.set(u,f),e.addReactant(f),t.textContent=e.getLabel(),console.log("ReactionLabel="+e.getLabel());let x=S(p.getRef()+" role",s$.roleOptions,"Role",p.getRole(),l(i,N),i0,iJ),v=x.querySelector("select");v?.addEventListener("change",e=>{let t=e.target;p.setRole(t.value),console.log("Set Role to "+t.value),C(t)}),r.appendChild(x),r.removeChild(g),aZ(r,i0,()=>{a.removeChild(r),o.delete(u)})}),1===g.options.length&&(g.selectedIndex=0,g.dispatchEvent(new Event("change")))})}function ii(e,t,s,i,a,n,o){let d=T(i5,s.addID(i,sW.tagName,p),iJ);a.appendChild(d),d.addEventListener("click",()=>{if(0===n.size){alert("Please add a molecule to the moleculeList first.");return}let r=R(void 0);a.insertBefore(r,d);let g=M(aG(n),N,"",l(i,sW.tagName,N),iJ);g.classList.add(et.tagName),r.appendChild(g),g.addEventListener("click",e=>{1===g.options.length&&(alert("As there is only one molecule it will be selected."),g.selectedIndex=0,g.dispatchEvent(new Event("change")))}),g.addEventListener("change",d=>{let h=d.target,m=n.get(h.value),c=new Map,u=m.getID();if(o.has(u)){alert("Molecule already selected as a product. Please select a different molecule (you may want to add more molecules to the moleculeList)."),r.removeChild(g);return}r.id=s.addID(i,sW.tagName,u),c.set(sY.s_ref,u);let p=new sY(c),f=new sW(new Map,p);o.set(u,f),e.addProduct(f),t.textContent=e.getLabel(),console.log("ReactionLabel="+e.getLabel());let x=S(p.getRef()+" role",sW.roleOptions,"Role",p.getRole(),l(i,N),i0,iJ),v=x.querySelector("select");v?.addEventListener("change",e=>{let t=e.target;p.setRole(t.value),console.log("Set Role to "+t.value),C(t)}),r.appendChild(x),r.removeChild(g),aZ(r,i0,()=>{a.removeChild(r),o.delete(u)})}),1===g.options.length&&(g.selectedIndex=0,g.dispatchEvent(new Event("change")))})}function ia(e,t,s,i,a){let n=T(i5,e.addID(t,sK.tagName,p),iJ);s.appendChild(n),n.addEventListener("click",()=>{if(0===i.size){alert("Please add a molecule to the moleculeList first.");return}let o=R(void 0);s.insertBefore(o,n);let d=M(aG(i),N,"",l(t,sK.tagName,N),iJ);d.classList.add(et.tagName),o.appendChild(d),d.addEventListener("click",e=>{1===d.options.length&&(alert("As there is only one molecule it will be selected."),d.selectedIndex=0,d.dispatchEvent(new Event("change")))}),d.addEventListener("change",n=>{let l=n.target,r=i.get(l.value),g=new Map,h=r.getID();if(a.has(h)){alert("Molecule already selected as a transitionState. Please select a different molecule (you may want to add more molecules to the moleculeList)."),s.removeChild(d);return}o.id=e.addID(t,sK.tagName,h),g.set(sY.s_ref,h);let m=new sY(g),c=new sK(new Map,m);a.set(h,c);let u=z(m.getRef()+" role "+sK.role,iJ);o.appendChild(u),o.removeChild(d),aZ(o,i0,()=>{o.removeChild(s),a.delete(h)})}),1===d.options.length&&(d.selectedIndex=0,d.dispatchEvent(new Event("change")))})}function io(e,t,i,a,n,o){e.removeChild(t),i.removeIDs(a),i.removeIDs(l(a,i8)),i.removeIDs(l(a,s$.tagName)),n.delete(o.id),s.getReactionList().removeReaction(o.id)}function id(e,t,s,i,a){let n=I(i.addID(t.id,et.tagName));f(i.addID(t.id,et.tagName,i8),t,null,n,et.tagName,i0,iJ);let o=T(i5,i.addID(t.id,et.tagName,p),iJ);if(n.appendChild(o),o.addEventListener("click",()=>{let s=new et(new Map,an),d=e.addBathGas(s),l=R(void 0,iJ),r=i.addID(t.id,et.tagName,d.toString()),g=iE(Array.from(aG(a)),s,!0,r);g.classList.add(et.tagName),l.appendChild(g),aZ(l,i0,t=>{n.removeChild(l),i.removeIDs(r),e.removeBathGas(t)}),n.insertBefore(l,o)}),null!=s){let d=Array.from(s.children).filter(e=>e.tagName===et.tagName);if(d.length>0)for(let s=0;s<d.length;s++){let l=new et(V(d[s]),B(P(d[s]))),r=e.addBathGas(l),g=i.addID(t.id,et.tagName,r.toString()),h=R(g,iJ);h.appendChild(iE(Array.from(aG(a)),l,!1,g)),aZ(h,i0,t=>{n.removeChild(h),i.removeIDs(g),e.removeBathGas(t)}),n.insertBefore(h,o)}else{let s=R(void 0,iJ),d=i.addID(t.id,et.tagName,0);s.appendChild(iE(Array.from(aG(a)),void 0,!1,d)),aZ(s,i0,t=>{n.removeChild(s),i.removeIDs(d),e.removeBathGas(t)}),n.insertBefore(s,o)}}}function il(e,t,s,i,a){let d=aG(a),l=i.addID(t.id,ed.tagName),r=I(l);f(i.addID(t.id,l,i8),t,null,r,ed.tagName,i0,iJ);let g=new ed(new Map);if(s){let i=s.getElementsByTagName(ed.tagName);if(i.length>0){if(i.length>1)throw Error("Expecting 1 "+ed.tagName+" but finding "+i.length+"!");let s=V(i[0]),a=i[0].getElementsByTagName(eo.tagName);if(0==a.length)console.warn("Expecting 1 or more "+eo.tagName+" but finding 0! Please add some PTpairs in "+el.tagName+" "+e.id+".");else{g=new ed(s);for(let e=0;e<a.length;e++){let s=new eo(V(a[e]));g.add(s);let i=a[e].getElementsByTagName(et.tagName);i.length>0&&(i.length>1&&console.warn("xml_bathGass.length="+i.length),s.setBathGas(new et(V(i[0]),B(P(i[0])))));let l=a[e].getElementsByTagName(es.tagName);l.length>0&&(l.length>1&&console.warn("xml_experimentRates.length="+l.length),s.setExperimentalRate(new es(V(l[0]),new(n(o))(B(P(l[0])).trim()))));let h=a[e].getElementsByTagName(ei.tagName);h.length>0&&(h.length>1&&console.warn("xml_experimentalYields.length="+h.length),s.setExperimentalYield(new ei(V(h[0]),new(n(o))(B(P(h[0])).trim()))));let m=a[e].getElementsByTagName(ea.tagName);m.length>0&&(m.length>1&&console.warn("xml_experimentalEigenvalues.length="+m.length),s.setExperimentalEigenvalue(new ea(V(m[0]),new(n(o))(B(P(m[0])).trim())))),r.appendChild(ih(g,r,s,t.id,e,d,iJ))}}}}e.setPTs(g);let h=I(void 0,iJ);r.appendChild(h);let m=T(i5,void 0,i0);h.appendChild(m),m.addEventListener("click",()=>{let e=new Map;e.set("units","Torr");let s=new eo(e),i=g.add(s);console.log("Added new pTpair pTpairIndex="+i),r.insertBefore(ih(g,r,s,t.id,i,d,iJ),h)});let c=T(i6,void 0,i0);h.appendChild(c),c.addEventListener("click",()=>{let e=R(void 0,iJ),s=E("text",au(ed.tagName,"addFromSpreadsheet"),iJ);e.appendChild(s),r.insertBefore(e,h),s.addEventListener("change",()=>{if(console.log("inputElement.value="+s.value),console.log("inputElement.value.length="+s.value.length),s.value.length>0){let i=s.value.split(" "),a=new Map;i[0].split("	").forEach((e,t)=>{a.set(e,t)}),console.log("pTpairsArray.length="+i.length);for(let e=1;e<i.length;e++){let s=i[e].split("	"),l=a.get("P"),m=new(n(o))(s[l]),c=a.get("units"),u=new Map;if(a.has("units")){let e=s[c];u.set("units",e)}let p=new eo(u);g.add(p);let N=a.get("T"),f=new(n(o))(s[N]);if(p.setP(m),p.setT(f),a.has(eo.s_excessReactantConc)){let e=s[a.get(eo.s_excessReactantConc)];u.set(eo.s_excessReactantConc,e)}if(a.has(eo.s_percentExcessReactantConc)){let e=s[a.get(eo.s_percentExcessReactantConc)];u.set(eo.s_percentExcessReactantConc,e)}if(a.has(eo.s_precision)){console.log("index.has(PTpair.s_precision)");let e=s[a.get(eo.s_precision)];u.set(eo.s_precision,e)}if(a.has(et.tagName)){let e=s[a.get(et.tagName)];p.setBathGas(new et(new Map,e))}if(a.has(es.tagName)){let e=s[a.get(es.tagName)];if(e.length>0){u.set(es.tagName,e),p.setExperimentalRate(new es(new Map,new(n(o))(e)));let t=s[a.get(es.tagName+"_"+es.s_ref1)];p.getExperimentalRate()?.setRef1(t);let i=s[a.get(es.tagName+"_"+es.s_ref2)];p.getExperimentalRate()?.setRef2(i);let d=s[a.get(es.tagName+"_"+es.s_refReaction)];p.getExperimentalRate()?.setRefReaction(d);let l=s[a.get(es.tagName+"_"+es.s_error)];p.getExperimentalRate()?.setError(new(n(o))(l))}}if(a.has(ei.tagName)){let e=s[a.get(ei.tagName)];if(e.length>0){p.setExperimentalYield(new ei(new Map,new(n(o))(e)));let t=s[a.get(ei.tagName+"_"+ei.s_ref)];p.getExperimentalYield()?.setRef(t);let i=s[a.get(ei.tagName+"_"+ei.s_yieldTime)];p.getExperimentalYield()?.setYieldTime(new(n(o))(i));let d=s[a.get(ei.tagName+"_"+ei.s_error)];p.getExperimentalYield()?.setError(new(n(o))(d))}}if(a.has(ea.tagName)){let e=s[a.get(ea.tagName)];if(e.length>0){p.setExperimentalEigenvalue(new ea(new Map,new(n(o))(e)));let t=s[a.get(ea.tagName+"_"+ea.s_EigenvalueID)];p.getExperimentalEigenvalue()?.setEigenvalueID(t);let i=s[a.get(ea.tagName+"_"+ea.s_error)];p.getExperimentalEigenvalue()?.setError(new(n(o))(i))}}let x=g.ptps.length-1;r.insertBefore(ih(g,r,p,t.id,x,d,iJ),h)}r.removeChild(e)}})});let u=T("Remove All",void 0,i0);h.appendChild(u),u.addEventListener("click",()=>{g.clear();let e=r.firstChild;for(;null!=e&&e!=h;){let t=e.nextSibling;r.removeChild(e),e=t}})}function ir(e,t,i){let a=T(i5,void 0,iJ);return e.appendChild(a),a.addEventListener("click",n=>{let o,d=s.getNextConditionsID();console.log("Add Conditions "+d.toString());let r=t.addID(el.tagName,d.toString()),g=I(r,i0),h=au(r,i8);if(d>0){let t=document.getElementById(l(el.tagName,(d-1).toString(),i8)).nextElementSibling;o=null!=t&&t.parentElement==e?t:a}else o=a;f(h,e,o,g,el.tagName+" "+d.toString(),i0,iJ);let m=ig(new Map,d);id(m,g,null,t,i),il(m,g,null,t,i),aZ(g,iJ,s.removeConditions.bind(s),d).addEventListener("click",e=>{ap(h),t.removeIDs(r)})}),a}function ig(e,t){let i=new el(e,t);return s.addConditions(i),i}function ih(e,t,s,i,a,n,o){let d=R(au(t.id,a),o);return im(d,eo.s_P,s.getP.bind(s),s.setP.bind(s)),aQ(ty.pressureUnits,s.attributes,d,null,eo.tagName,eo.tagName,i0,iJ),im(d,eo.s_T,s.getT.bind(s),s.setT.bind(s)),iu(d,s,eo.s_excessReactantConc,ix),function(e,t){let s=au(e.id,eo.s_percentExcessReactantConc),i=I(s,i0);e.appendChild(i);let a=eo.s_percentExcessReactantConc,n=a+i3,o=a+i2,d=T(o,au(s,p),i0);i.appendChild(d),d.classList.add(ae),d.classList.add(at),t.attributes.get(a)?.toLowerCase()=="true"?(d.classList.toggle(at),d.textContent=n):(d.classList.toggle(ae),d.textContent=o),d.addEventListener("click",e=>{d.classList.toggle(ae),d.classList.toggle(at),d.textContent===o?(d.textContent=n,t.attributes.set(a,"true")):(d.textContent=o,t.attributes.delete(a))})}(d,s),iu(d,s,eo.s_precision,iN),function(e,t,s){let i=au(e.id,et.tagName),a=I(i,i0);e.appendChild(a);let n=et.tagName,o=n+i3,d=n+i2,l=T(d,au(i,p),i0);a.appendChild(l),l.classList.add(ae),l.classList.add(at);let r=au(i,i7),g=t.getBathGas();void 0==g?(l.classList.toggle(ae),l.textContent=d):(l.classList.toggle(at),l.textContent=o,!1==s.has(g.value)&&console.warn("moleculeKeys does not contain "+g.value),a.appendChild(iv(r,t,g,!1,s))),l.addEventListener("click",e=>{l.classList.toggle(ae),l.classList.toggle(at),l.textContent===d?(l.textContent=o,a.appendChild(iv(r,t,g,!1,s))):(l.textContent=d,ap(r))})}(d,s,n),ip(d,s,a,es.tagName,e=>e.getExperimentalRate(),iw),ip(d,s,a,ei.tagName,e=>e.getExperimentalYield(),iy),ip(d,s,a,ea.tagName,e=>e.getExperimentalEigenvalue(),iC),aZ(d,i0,(s,i,a)=>{t.removeChild(s),void 0!==i&&e.remove(i),a.removeBathGas()},d,a,s),d}function im(e,t,s,i){let a=v("text",eo.tagName+"_"+t,i0,iQ,e=>{let a=e.target;try{i(new(n(o))(a.value)),console.log(`Set ${t} to ${a.value}`)}catch(e){alert("Invalid input, resetting..."),d.value=ic(s)}y(a)},ic(s),t),d=a.querySelector("input");d.value=ic(s),y(d),e.appendChild(a)}function ic(e){let t=e();return void 0!==t?t.toString():""}function iu(e,t,s,i){let a=au(e.id,s),n=I(a,i0);e.appendChild(n);let o=s+i3,d=s+i2,l=T(d,au(a,p),i0);n.appendChild(l),l.classList.add(ae),l.classList.add(at);let r=au(a,i7);if(t.attributes.has(s)){l.classList.toggle(at),l.textContent=o;let e=i(r,t);n.insertBefore(e,l.nextSibling)}else l.classList.toggle(ae),l.textContent=d;l.addEventListener("click",e=>{if(l.classList.toggle(ae),l.classList.toggle(at),l.textContent===d){l.textContent=o;let e=i(r,t);n.insertBefore(e,l.nextSibling)}else l.textContent=d,ap(r)})}function ip(e,t,s,i,a,n){let o=au(e.id,i),d=I(o,i0);e.appendChild(d);let l=i+i3,r=i+i2,g=T(r,au(o,p),i0);d.appendChild(g),g.classList.add(ae),g.classList.add(at);let h=au(o,i7);void 0==a(t)?(g.classList.toggle(ae),g.textContent=r):(g.classList.toggle(at),g.textContent=l,d.appendChild(n(h,t,s))),g.addEventListener("click",e=>{g.classList.toggle(ae),g.classList.toggle(at),g.textContent===r?(g.textContent=l,d.appendChild(n(h,t,s))):(g.textContent=r,ap(h))})}function iN(e,t){let s;s=t.attributes.has(eo.s_precision)?t.attributes.get(eo.s_precision):ty.precisionOptions[0];let i=M(ty.precisionOptions,eo.s_precision,s,e,i0);return i.addEventListener("change",e=>{let s=e.target;t.setPrecision(s.value),console.log("Set "+eo.s_precision+" to "+s.value),C(s)}),C(i),i}function ix(e,t){let s,i=E("number",e,i0);return s=t.attributes.has(eo.s_excessReactantConc)?t.attributes.get(eo.s_excessReactantConc):NaN.toString(),console.log(eo.s_excessReactantConc+"="+s),i.value=s,i.addEventListener("change",e=>{let s=e.target;t.setExcessReactantConc(s.value),console.log("Set "+eo.s_excessReactantConc+" to "+s.value),y(s)}),y(i),i}function iv(e,t,s,i,a){let n=iE(Array.from(a),s,i,e);return n.addEventListener("change",e=>{let s=e.target;t.setBathGas(new et(new Map,s.value)),console.log("Set bathGas to "+s.value),C(s)}),C(n),n}function iE(e,t,s,i){let a;if(s)e.push(an);else{let t=e.indexOf(an);t>-1&&e.splice(t,1)}void 0==t?(t=new et(new Map,an),a=an):a=t.value;let n=M(e,et.tagName,a,au(i,N),i0);return n.classList.add(et.tagName),a0(e,n),n.addEventListener("change",e=>{let s=e.target;t.value=s.value,console.log("Added "+s.value+" as "+et.tagName),C(s)}),n.value=a,C(n),n}function iw(e,t){return ib(t,e,e=>e.getExperimentalRate(),(e,t)=>e.setExperimentalRate(t),es,[{tagName:es.tagName,type:"number",eventHandler:(e,s)=>a9(t.getExperimentalRate(),s),valueGetter:()=>t.getExperimentalRate().value.toString()},{tagName:es.tagName+"_"+es.s_ref1,type:"text",eventHandler:(e,s)=>t.getExperimentalRate()?.setRef1(s.value),valueGetter:()=>t.getExperimentalRate().getRef1()},{tagName:es.tagName+"_"+es.s_ref2,type:"text",eventHandler:(e,s)=>t.getExperimentalRate()?.setRef2(s.value),valueGetter:()=>t.getExperimentalRate().getRef2()},{tagName:es.tagName+"_"+es.s_refReaction,type:"text",eventHandler:(e,s)=>t.getExperimentalRate()?.setRefReaction(s.value),valueGetter:()=>t.getExperimentalRate().getRefReaction()},{tagName:es.tagName+"_"+es.s_error,type:"number",eventHandler:(e,s)=>t.getExperimentalRate()?.setError(new(n(o))(s.value)),valueGetter:()=>t.getExperimentalRate().getError().toString()}])}function iy(e,t){return ib(t,e,e=>e.getExperimentalYield(),(e,t)=>e.setExperimentalYield(t),ei,[{tagName:ei.tagName,type:"number",eventHandler:(e,s)=>a9(t.getExperimentalYield(),s),valueGetter:()=>t.getExperimentalYield().value.toString()},{tagName:ei.tagName+"_"+ei.s_ref,type:"text",eventHandler:(e,s)=>t.getExperimentalYield()?.setRef(s.value),valueGetter:()=>t.getExperimentalYield().getRef()},{tagName:ei.tagName+"_"+ei.s_yieldTime,type:"number",eventHandler:(e,s)=>t.getExperimentalYield()?.setYieldTime(new(n(o))(s.value)),valueGetter:()=>t.getExperimentalYield().getYieldTime().toString()},{tagName:ei.tagName+"_"+ei.s_error,type:"number",eventHandler:(e,s)=>t.getExperimentalYield()?.setError(new(n(o))(s.value)),valueGetter:()=>t.getExperimentalYield().getError().toString()}])}function iC(e,t){return ib(t,e,e=>e.getExperimentalEigenvalue(),(e,t)=>e.setExperimentalEigenvalue(t),ea,[{tagName:ea.tagName,type:"number",eventHandler:(e,s)=>a9(t.getExperimentalEigenvalue(),s),valueGetter:()=>t.getExperimentalEigenvalue().value.toString()},{tagName:ea.tagName+"_"+ea.s_EigenvalueID,type:"text",eventHandler:(e,s)=>t.getExperimentalEigenvalue()?.setEigenvalueID(s.value),valueGetter:()=>t.getExperimentalEigenvalue().getEigenvalueID()},{tagName:ea.tagName+"_"+ea.s_error,type:"number",eventHandler:(e,s)=>t.getExperimentalEigenvalue()?.setError(new(n(o))(s.value)),valueGetter:()=>t.getExperimentalEigenvalue().getError().toString()}])}function ib(e,t,s,i,a,n){let o=I(void 0,i0);o.id=t;let d=s(e);for(let s of(void 0==d&&i(e,d=new a(new Map,aT)),n)){let e=t+"_"+s.tagName;o.appendChild(v(s.type,e,i0,iQ,e=>{let t=e.target;s.eventHandler(e,t),console.log("Set "+s.tagName+" to "+t.value),y(t)},s.valueGetter(),s.label||""))}return o}function iM(e,t){let i=new tp(e,t);return s.addModelParameters(i),i}function iS(e){let t,s;if(void 0!=aP){let i=aP.values.get(e)??"";t=""==i?aT:new(n(o))(i),s=aP.attributess.get(e)??new Map}else console.log(e+" set using hardcoded default."),t=new(n(o))(101),(s=new Map).set(ar,"cm-1");return new th(s,t)}function iT(e,t,s,i,a,d,l){let r,g,h=a.tagName,m=R(t.addID(i.id,h),iJ);i.appendChild(m);let c=h+i3,u=h+i2,N=T(h,t.addID(i.id,h,p),i0);N.classList.add(ae),N.classList.add(at),m.appendChild(N);let f=t.addID(i.id,h,i7);if(null!=s){let t=s.getElementsByTagName(h);if(1==t.length){g=B(P(t[0]));let s=new(n(o))(g);r=new a(V(t[0]),s),N.textContent=c,iI(e,m,r,f,g,d,void 0),N.classList.toggle(at)}else g="",r=new a(new Map,aT),N.textContent=u,N.classList.toggle(ae)}else g="",r=new a(new Map,aT),N.textContent=u,N.classList.toggle(ae);N.addEventListener("click",()=>{e.index.has(h)?(l(),ap(f),t.removeIDs(f),N.textContent=u):(iI(e,m,r,f,g,d,void 0),N.textContent=c),N.classList.toggle(ae),N.classList.toggle(at)})}function iI(e,t,s,i,a,n,o){n.call(e,s);let d=E("text",i,i0);t.appendChild(d),d.addEventListener("change",e=>{let t=e.target;a9(s,t),y(t)}),d.value=a,y(d),aQ(o,s.attributes,t,d,l(i,ar),s.constructor.tagName,i0,i0)}function iR(e,t){let i=T(i5,void 0,iJ),a=tp.tagName;return e.appendChild(i),i.addEventListener("click",n=>{let o,d=s.getNextModelParametersID();console.log("Add "+a+d.toString());let r=au(a,d.toString()),g=I(r,i0),h=au(r,i8);if(d>0){let t=document.getElementById(l(a,(d-1).toString(),i8)).nextElementSibling;o=null!=t&&t.parentElement==e?t:i}else o=i;f(h,e,o,g,a+" "+d.toString(),i0,iJ);let m=iM(new Map,d);(function(e,t,s){let i,a=th.tagName,n=R(s.addID(t.id,a),iJ);t.appendChild(n);let o=a+i3,d=a+i2,r=T(a,s.addID(t.id,a,p),i0);r.classList.add(ae),r.classList.add(at),n.appendChild(r);let g=s.addID(t.id,a,i7);r.textContent=d,r.classList.toggle(ae),r.addEventListener("click",()=>{e.index.has(th.tagName)?(console.log("Removing GrainSize input"),e.removeGrainSize(),document.getElementById(g)?.remove(),document.getElementById(l(g,ar))?.remove(),r.textContent=d):(console.log("Adding GrainSize input"),i=iS(a),e.setGrainSize(i),iI(e,n,i,g,i.value.toString(),e.setGrainSize,ty.energyUnits),r.textContent=o),r.classList.toggle(ae),r.classList.toggle(at)})})(m,g,t),iT(m,t,null,g,te,m.setAutomaticallySetMaxEne,m.removeAutomaticallySetMaxEne),iT(m,t,null,g,tc,m.setEnergyAboveTheTopHill,m.removeEnergyAboveTheTopHill),iT(m,t,null,g,tu,m.setMaxTemperature,m.removeMaxTemperature),aZ(g,iJ,s.removeModelParameters.bind(s),d).addEventListener("click",e=>{ap(h),t.removeIDs(r)})}),i}function iz(e){return[{class:er,setMethod:e.setCalculateRateCoefficientsOnly,removeMethod:e.removeCalculateRateCoefficientsOnly},{class:eg,setMethod:e.setPrintCellDOS,removeMethod:e.removePrintCellDOS},{class:eh,setMethod:e.setPrintCellTransitionStateFlux,removeMethod:e.removePrintCellTransitionStateFlux},{class:em,setMethod:e.setPrintReactionOperatorColumnSums,removeMethod:e.removePrintReactionOperatorColumnSums},{class:ec,setMethod:e.setPrintGrainBoltzmann,removeMethod:e.removePrintGrainBoltzmann},{class:eu,setMethod:e.setPrintGrainDOS,removeMethod:e.removePrintGrainDOS},{class:ep,setMethod:e.setPrintGrainkbE,removeMethod:e.removePrintGrainkbE},{class:eN,setMethod:e.setPrintGrainkfE,removeMethod:e.removePrintGrainkfE},{class:ef,setMethod:e.setPrintTSsos,removeMethod:e.removePrintTSsos},{class:ex,setMethod:e.setPrintGrainedSpeciesProfile,removeMethod:e.removePrintGrainedSpeciesProfile},{class:ev,setMethod:e.setPrintGrainTransitionStateFlux,removeMethod:e.removePrintGrainTransitionStateFlux},{class:eE,setMethod:e.setPrintReactionOperatorSize,removeMethod:e.removePrintReactionOperatorSize},{class:ew,setMethod:e.setPrintSpeciesProfile,removeMethod:e.removePrintSpeciesProfile},{class:ey,setMethod:e.setPrintPhenomenologicalEvolution,removeMethod:e.removePrintPhenomenologicalEvolution},{class:eC,setMethod:e.setPrintTunnelingCoefficients,removeMethod:e.removePrintTunnelingCoefficients},{class:eb,setMethod:e.setPrintCrossingCoefficients,removeMethod:e.removePrintCrossingCoefficients},{class:eM,setMethod:e.setTestDOS,removeMethod:e.removeTestDOS},{class:eS,setMethod:e.setTestRateConstants,removeMethod:e.removeTestRateConstants},{class:eT,setMethod:e.setUseTheSameCellNumberForAllConditions,removeMethod:e.removeUseTheSameCellNumberForAllConditions},{class:eI,setMethod:e.setForceMacroDetailedBalance,removeMethod:e.removeForceMacroDetailedBalance}]}function iD(e){return[{class:e8,setMethod:e.setEigenvalues,removeMethod:e.removeEigenvalues},{class:e9,setMethod:e.setShortestTimeOfInterest,removeMethod:e.removeShortestTimeOfInterest},{class:e7,setMethod:e.setMaximumEvolutionTime,removeMethod:e.removeMaximumEvolutionTime},{class:te,setMethod:e.setAutomaticallySetMaxEne,removeMethod:e.removeAutomaticallySetMaxEne},{class:tt,setMethod:e.setDiagramEnergyOffset,removeMethod:e.removeDiagramEnergyOffset}]}function i_(e,t){let i=T(i5,void 0,iJ);return e.appendChild(i),i.addEventListener("click",a=>{let n,o=s.getNextControlID();console.log("Add Control "+o.toString());let d=t.addID(ti.tagName,o.toString()),r=I(d,i0);if(o>0){let t=document.getElementById(l(ti.tagName,(o-1).toString(),i8)).nextElementSibling;n=null!=t&&t.parentElement==e?t:i}else n=i;let g=t.addID(d,i8);f(g,e,n,r,ti.tagName+" "+o.toString(),i0,iJ);let h=iL(new Map,o),m=new Map;iz(h).forEach(e=>{iB(h,r,t,m,null,null,e.class,e.setMethod,e.removeMethod)});let c=R(void 0,iJ);new Map([...m.entries()].sort()).forEach(e=>{c.appendChild(e)}),r.appendChild(c),ik(h,r,t,null,iJ),iA(h,r,t,null,iJ),iD(h).forEach(e=>{iB(h,r,t,m,null,iJ,e.class,e.setMethod,e.removeMethod,!0)}),aZ(r,iJ,s.removeControl.bind(s),o).addEventListener("click",e=>{ap(g),t.removeIDs(d);let s=l(d,ez.tagName);t.removeIDs(s);let i=l(s,"details");t.removeIDs(i);let a=l(i,"select");t.removeIDs(a)})}),i}function iL(e,t){let i=new ti(e,t);return s.addControl(i),i}function iP(e,t,s,i,a,n){i.call(e,s);let o=E("number",a,i0);o.addEventListener("change",e=>{let t=e.target;a9(s,t),y(t)}),o.value=n,y(o),t.appendChild(o)}function iB(e,t,s,i,a,d,l,r,g,h=!1){let m,c,u,p=l.tagName,N=p+i3,f=p+i2,x=T(f,void 0,i0);if(x.classList.add(ae),x.classList.add(at),i&&i.set(p,x),d&&(c=R(u=s.addID(t.id,p),d),t.appendChild(c),c.appendChild(x),u=s.addID(t.id,u,i7)),a){let t=a.getElementsByTagName(p);if(1==t.length){if(h){let s,i=B(P(t[0]));s=new(n(o))("all"==i?0:i),m=new l(V(t[0]),s),iP(e,c,m,r,u,i)}else m=new l(V(t[0])),r.call(e,m);x.textContent=N,x.classList.toggle(at)}else x.textContent=f,x.classList.toggle(ae)}else m=new l(new Map),x.textContent=f,x.classList.toggle(ae);x.addEventListener("click",t=>{e.index.has(p)?(h&&ap(u),g.call(e),x.textContent=f):(h?iP(e,c,m,r,u,""):r.call(e,m),x.textContent=N),x.classList.toggle(ae),x.classList.toggle(at)})}function iA(e,t,s,i,a){let d,l=R(void 0,a);t.appendChild(l);let r=ez.tagName,g=r+i3,h=r+i2,m=T(h,void 0,i0);l.appendChild(m),m.classList.add(ae),m.classList.add(at);let c=s.addID(t.id,r),u=R(c,i0);l.appendChild(u);let p=ez.options,N=s.addID(c,"details"),f=s.addID(N,"select");if(null!=i){let t=i.getElementsByTagName(r);if(t.length>0){if(t.length>1)throw Error("More than one CalcMethod element.");let i=V(t[0]),a=i.get("xsi:type");d=function e(t,s,i,a,d,l,r,g,h,m){let c;let u=ij(t,s,i,d,r,g,h,m);u.value=g,i.appendChild(u);let p=R(h,i0);if(i.appendChild(p),g==eD.xsi_type||g==eD.xsi_type2)c=new eD(l);else if(g==e_.xsi_type||g==e_.xsi_type2)c=new e_(l);else if(g==eP.xsi_type||g==eP.xsi_type2){let e=new eP(l);c=e;let t=a[0].getElementsByTagName(eL.tagName);if(t.length>0){if(1==t.length){let s=new(n(o))(B(P(t[0]))),i=new eL(V(t[0]),s);e.setFittingIterations(i)}else throw Error("More than one FittingIterations element.")}iO(p,e)}else if(g==eG.xsi_type||g==eG.xsi_type2){let e=new eG(l);function N(e,t,s){let i=eB.tagName,a=e[0].getElementsByTagName(i);if(a.length>0){if(1==a.length){let e=new(n(o))(B(P(a[0])));s(new t(V(a[0]),e))}else throw Error(`More than one ${i} element.`)}}c=e,N(a,eB,e.setMarquardtIterations.bind(e)),N(a,eA,e.setMarquardtTolerance.bind(e)),N(a,ek,e.setMarquardtDerivDelta.bind(e)),iU(p,e)}else if(g==eK.xsi_type||g==eK.xsi_type2){let e=new eK(l);function N(e,t,s,i){let a=t.tagName,d=e[0].getElementsByTagName(a);if(d.length>0){if(1==d.length){let e=B(P(d[0]));i&&void 0!=e&&""!=e&&"NaN"!=e&&(e=new(n(o))(e)),s(new t(V(d[0]),e))}else throw Error(`More than one ${a} element.`)}}c=e,N(a,eU,e.setFormat.bind(e),!1),N(a,eq,e.setPrecision.bind(e),!1),N(a,eF,e.setChebNumTemp.bind(e),!0),N(a,eH,e.setChebNumConc.bind(e),!0),N(a,eV,e.setChebMaxTemp.bind(e),!0),N(a,ej,e.setChebMinTemp.bind(e),!0),N(a,eX,e.setChebMaxConc.bind(e),!0),N(a,eY,e.setChebMinConc.bind(e),!0),N(a,e$,e.setChebTExSize.bind(e),!0),N(a,eW,e.setChebPExSize.bind(e),!0),iq(p,e)}else if(g==e1.xsi_type||g==e1.xsi_type2){let e=new e1(l);function N(e,t,s){let i=t.tagName,a=e[0].getElementsByTagName(i);if(a.length>0){if(1==a.length){let e=new(n(o))(B(P(a[0])));s(new t(V(a[0]),e))}else throw Error(`More than one ${i} element.`)}}c=e,N(a,eZ,e.setTmin.bind(e)),N(a,eQ,e.setTmid.bind(e)),N(a,eJ,e.setTmax.bind(e)),N(a,e0,e.setTstep.bind(e)),iF(p,e)}else if(g==e6.xsi_type||g==e6.xsi_type2){let e=new e6(l);function N(e,t,s){let i=t.tagName,a=e[0].getElementsByTagName(i);if(a.length>0){if(1==a.length){let e=B(P(a[0]));void 0!=e&&(e=new(n(o))(e)),s(new t(V(a[0]),e))}else throw Error(`More than one ${i} element.`)}}c=e,N(a,e2,e.setSensitivityAnalysisSamples.bind(e)),N(a,e3,e.setSensitivityAnalysisOrder.bind(e)),N(a,e5,e.setSensitivityNumVarRedIters.bind(e)),N(a,e4,e.setSensitivityVarRedMethod.bind(e)),iV(p,e)}else{let n=l.get("name");if(void 0!=n&&n!==g)return l.set("xsi:type",n),console.warn(`Using name attribute as xsi:type: ${n}`),e(t,s,i,a,d,l,r,n,h,m);throw Error(`Unable to determine calculation method for xsi_type: ${g}`)}return c}(s,e,u,t,p,i,r,a,N,f),e.setCalcMethod(d),m.classList.toggle(at),m.textContent=g}else m.classList.toggle(ae),m.textContent=h}else m.classList.toggle(ae),m.textContent=h;m.addEventListener("click",t=>{if(e.index.has(r))null!=e.getCalcMethod()&&(e.removeCalcMethod(),s.removeIDs(N),s.removeIDs(f),m.textContent=h,m.classList.toggle(ae),m.classList.toggle(at));else{p[p.length-1]!=an&&p.push(an),s.removeIDs(N),s.removeIDs(f);let t=ij(s,e,l,p,r,an,N,f);u.appendChild(t),m.textContent=g,m.classList.toggle(ae),m.classList.toggle(at)}})}function ik(e,t,s,i,a){let n=ts.tagName,o=R(s.addID(t.id,n),a);t.appendChild(o);let d=n+i3,l=n+i2,r=T(n,s.addID(t.id,n,p),i0);o.appendChild(r),r.classList.add(ae),r.classList.add(at);let g=s.addID(t.id,n,eJ.tagName),h=s.addID(t.id,n,eZ.tagName),m=s.addID(t.id,n,e0.tagName);if(i){let t=i.getElementsByTagName(n);1==t.length?(iG(e,o,t,g,h,m),r.classList.toggle(at),r.textContent=d):(r.classList.toggle(ae),r.textContent=l)}else r.classList.toggle(ae),r.textContent=l;r.addEventListener("click",t=>{e.index.has(n)?(e.removeTestMicroRates(),document.getElementById(g)?.remove(),document.getElementById(h)?.remove(),document.getElementById(m)?.remove(),r.textContent=l):(iG(e,o,null,g,h,m),r.textContent=d),r.classList.toggle(ae),r.classList.toggle(at)})}function iG(e,t,s,i,a,d){let l,r;if(null!=s&&s.length>0){if(s.length>1)throw Error("More than one TestMicroRates element.");r=new ts(l=V(s[0]))}else(l=new Map).set("Tmax","0"),l.set("Tmin","0"),l.set("Tstep","0"),r=new ts(l);e.setTestMicroRates(r);let g=r.getTmax(),m=v("text",i+"_input",i0,iQ,e=>{let t=e.target;try{r.setTmax(new(n(o))(t.value)),console.log("Set Tmax to "+t.value)}catch(e){alert("Invalid input, resetting..."),t.value=g.toString()}y(t)},g.toString(),"Tmax");m.id=i,y(m.querySelector("input")),t.appendChild(m);let c=r.getTmin(),u=v("number",a+"_input",i0,iQ,e=>{let t=e.target;h(t.value)?(r.setTmin(new(n(o))(t.value)),console.log("Set Tmin to "+t.value)):(alert("Value is not numeric, resetting..."),t.value=c.toString()),y(t)},c.toString(),"Tmin");u.id=a,y(u.querySelector("input")),t.appendChild(u);let p=r.getTstep(),N=v("text",d+"_input",i0,iQ,e=>{let t=e.target;h(t.value)?(r.setTstep(new(n(o))(t.value)),console.log("Set Tstep to "+t.value)):(alert("Value is not numeric, resetting..."),t.value=p.toString()),y(t)},p.toString(),"Tstep");N.id=d,y(N.querySelector("input")),t.appendChild(N)}function iO(e,t){let s=t.getFittingIterations()||new eL(new Map,aT);t.setFittingIterations(s),e.appendChild(v("number",l(e.id,eL.tagName,i7),i0,iQ,e=>{let t=e.target;h(t.value)?(s.value=new(n(o))(t.value),console.log("Set FittingIterations to "+t.value)):(alert("Value is not numeric, resetting..."),t.value=s.value.toString()),y(t)},s.value.toString(),eL.tagName))}function iU(e,t){function s(e,t,s,i){let a=l(t.id,e.tagName,i7),d=e.value.toString(),r=e.tagName;t.appendChild(v("number",a,s,i,t=>{let s=t.target;h(s.value)?(e.value=new(n(o))(s.value),console.log("Set "+e.tagName+" to "+s.value)):(alert("Value is not numeric, resetting..."),s.value=e.value.toString()),y(s)},d,r))}let i=t.getMarquardtIterations()||new eB(new Map,aT);t.setMarquardtIterations(i),s(i,e,i0,iQ);let a=t.getMarquardtTolerance()||new eA(new Map,aT);t.setMarquardtTolerance(a),s(a,e,i0,iQ);let d=t.getMarquardtDerivDelta()||new ek(new Map,aT);t.setMarquardtDerivDelta(d),s(d,e,i0,iQ)}function iq(e,t){let s=t.getFormat()||new eU(new Map,eU.options[0]);function i(t,s,i,a,n){let o=s()||new t(new Map,n[0]);i(o);let d=S(a,n,a,o.value,e.id,i0,i0);d.querySelector("select")?.addEventListener("change",e=>{let t=e.target;o.value=t.value,console.log(`Set ${a} to `+t.value),C(t)}),e.appendChild(d)}function a(t,s,i,a){let n=s()||new t(new Map,NaN);i(n),e.appendChild(v("text",e.id+`_${a}_input`,i0,iQ,iH(n,a),n.value.toString(),a))}i(eU,t.getFormat.bind(t),t.setFormat.bind(t),eU.tagName,eU.options),i(eU,()=>s.getRateUnits(),s.setRateUnits.bind(s),eU.rateUnits,eU.rateUnitsOptions),i(eq,t.getPrecision.bind(t),t.setPrecision.bind(t),eq.tagName,ty.precisionOptions),a(eF,t.getChebNumTemp.bind(t),t.setChebNumTemp.bind(t),eF.tagName),a(eH,t.getChebNumConc.bind(t),t.setChebNumConc.bind(t),eH.tagName),a(eV,t.getChebMaxTemp.bind(t),t.setChebMaxTemp.bind(t),eV.tagName),a(ej,t.getChebMinTemp.bind(t),t.setChebMinTemp.bind(t),ej.tagName),a(eX,t.getChebMaxConc.bind(t),t.setChebMaxConc.bind(t),eX.tagName),a(eY,t.getChebMinConc.bind(t),t.setChebMinConc.bind(t),eY.tagName),a(e$,t.getChebTExSize.bind(t),t.setChebTExSize.bind(t),e$.tagName),a(eW,t.getChebPExSize.bind(t),t.setChebPExSize.bind(t),eW.tagName)}function iF(e,t){function s(t,s,i,a){let n=s()||new t(new Map,NaN);i(n),e.appendChild(v("text",e.id+`_${a}_input`,i0,iQ,iH(n,a),n.value.toString(),a))}s(eZ,t.getTmin.bind(t),t.setTmin.bind(t),eZ.tagName),s(eQ,t.getTmid.bind(t),t.setTmid.bind(t),eQ.tagName),s(eJ,t.getTmax.bind(t),t.setTmax.bind(t),eJ.tagName),s(e0,t.getTstep.bind(t),t.setTstep.bind(t),e0.tagName)}function iH(e,t){return t=>{let s=t.target;try{e.value=new(n(o))(s.value)}catch(t){alert("Invalid input value "+s.value+" , resetting..."),s.value=e.value.toString()}y(s)}}function iV(e,t){function s(t,s,i,a){let n=s()||new t(new Map,NaN);i(n),e.appendChild(v("text",l(e.id,a,i7),i0,iQ,iH(n,a),n.value.toString(),a))}s(e2,t.getSensitivityAnalysisSamples.bind(t),t.setSensitivityAnalysisSamples.bind(t),e2.tagName),s(e3,t.getSensitivityAnalysisOrder.bind(t),t.setSensitivityAnalysisOrder.bind(t),e3.tagName),s(e5,t.getSensitivityNumVarRedIters.bind(t),t.setSensitivityNumVarRedIters.bind(t),e5.tagName);let i=t.getSensitivityVarRedMethod()||new e4(new Map,"");t.setSensitivityVarRedMethod(i);let a=e4.tagName;e.appendChild(S(a,e4.options,a,e4.options[0],l(e.id,a,"select"),i0,i0));let n=e.querySelector("select");n?.addEventListener("change",e=>{let t=e.target;i.value=t.value,console.log(a+" set to "+t.value),C(t)})}function ij(e,t,s,i,a,n,o,d){let l=M(i,a,n,d,i0);return s.appendChild(l),a0(i,l),l.addEventListener("change",i=>{let a=document.getElementById(o);null!=a&&(a.remove(),e.removeIDs(o)),a=R(o,i0),s.appendChild(a);let n=i.target,d=n.value,l=new Map;if(l.set("xsi:type",d),d==eD.xsi_type||d==eD.xsi_type2)t.setCalcMethod(new eD(l));else if(d==e_.xsi_type||d==e_.xsi_type2)t.setCalcMethod(new e_(l));else if(d==eP.xsi_type||d==eP.xsi_type2){let e=new eP(l);t.setCalcMethod(e),iO(a,e)}else if(d==eG.xsi_type||d==eG.xsi_type2){let e=new eG(l);t.setCalcMethod(e),iU(a,e)}else if(d==eK.xsi_type||d==eK.xsi_type2){let e=new eK(l);t.setCalcMethod(e),iq(a,e)}else if(d==e1.xsi_type||d==e1.xsi_type2){let e=new e1(l);t.setCalcMethod(e),iF(a,e)}else if(d==e6.xsi_type||d==e6.xsi_type2){let e=new e6(new Map);t.setCalcMethod(e),iV(a,e)}else throw Error("Unknown CalcMethod type.");C(n)}),l}function iX(e,t,s,i,a,n,o,d,l,r,g){let h=i+(n-i)/2;i$(e,g,d,t,h-iW(e,g,d)/2,o+l),i$(e,r,d,t,h-iW(e,r,d)/2,o+3*l),iY(e,t,s,i,a,n,o)}function iY(e,t,s,i,a,n,o){e.beginPath(),e.strokeStyle=t,e.lineWidth=s,e.moveTo(i,a),e.lineTo(n,o),e.stroke()}function i$(e,t,s,i,a,n){e.save(),e.translate(a,n),e.scale(1,-1),e.font=s,e.fillStyle=i,e.fillText(t,0,0),e.restore()}function iW(e,t,s){return e.font=s,e.measureText(t).width}function iK(e,t,s,i,a,n,o,d,l,r,g){let h=au(e.id,p+"s"),m=I(h);e.appendChild(m);let c=au(h,p),u="Pop into a new Window",N=T(u,c);m.appendChild(N);let f=document.createElement("canvas");f.id=t,e.appendChild(f),f.height=s,f.style.border="1px solid black",g&&iZ(f,s,i,a,n,o,l,r),N.addEventListener("click",()=>{if(null==d){let e=document.createElement("canvas");e.id=t,(d=window.open("",aq,"width="+f.width+", height="+f.height)).document.body.appendChild(e),g&&iZ(e,s,i,a,n,o,l,r),ap(t),N.textContent="Pop into this Window"}else(f=document.createElement("canvas")).id=t,e.appendChild(f),f.height=s,f.style.border="1px solid black",g&&iZ(f,s,i,a,n,o,l,r),d.close(),d=null,N.textContent=u}),a6(f,m,null,aq)}function iZ(e,t,s,i,a,n,o,l){if(console.log("drawReactionDiagram"),null!=e&&l.size>0){var r,g;let h,m,p,N,f,x,v,E,w;s?(h="lightgrey",m="lightblue",p="orange"):(h="darkgrey",m="blue",p="darkorange");let y=e.getContext("2d");y.clearRect(0,0,e.width,e.height),y.font="bold "+i;let C=(r=y.font,y.font=r,(g=y.measureText("Aj")).actualBoundingBoxAscent+g.actualBoundingBoxDescent),b=[],M=new Set,S=new Set,T=new Set,I=new Map,R=new Map,z=0;l.forEach(function(e,t){let s=e.getTransitionStates(),i=e.getReactantsLabel();if(void 0!=i){b.push(i),M.has(i)&&S.add(i);let t=e.getReactantsEnergy(aO,o);N=u(N,t),f=c(f,t),R.set(i,t),!I.has(i)&&(I.set(i,z),z++)}let a=e.getProductsLabel();if(void 0!=a){M.add(a);let t=e.getProductsEnergy(aO,o);if(N=u(N,t),f=c(f,t),R.set(a,t),I.has(a)){z--;let e=d(I,a);I.forEach(function(t,s){t>e&&I.set(s,t-1)}),void 0!=s&&(s.forEach(function(e,s){let i=e.getMolecule().getRef();T.add(i),I.set(i,z),t=aO(i,o).getEnergy()??aT,N=u(N,t),f=c(f,t),R.set(i,t),z++}),I.set(a,z),z++)}else void 0!=s&&s.forEach(function(e,s){let i=e.getMolecule().getRef();T.add(i),I.set(i,z),t=aO(i,o).getEnergy()??aT,N=u(N,t),f=c(f,t),R.set(i,t),z++}),I.set(a,z),z++}});let D=f.minus(N).toNumber(),_=[];I.forEach(function(e,t){_[e]=t});let L=0,P=0,B=new Map,A=new Map,k=new Map,G=new Map,O=new Map,U=new Map;_.forEach(function(e){let s=d(R,e),n=(s-N.toNumber())*t/(D+0)+0;w=Math.max(iW(y,s.toString(),i),iW(y,e,i)),v=L+w+5,E=x=n+a,B.set(e,[L,x]),A.set(e,[v,E]),M.has(e)&&(k.set(e,[L,x]),G.set(e,[v,E])),T.has(e)&&(O.set(e,[L,x]),U.set(e,[v,E])),L=v+10,P=v}),e.width=P;let q=t+4*C+2*a;e.height=q,y.transform(1,0,0,-1,0,q),l.forEach(function(e,t){let s=e.getTransitionStates(),i=e.getReactantsLabel(),a=e.getProductsLabel(),o=d(A,i),l=d(k,a);s.size>0?s.forEach(function(e,t){let s=d(O,t);iY(y,h,n,o[0],o[1],s[0],s[1]);let i=d(U,t);iY(y,h,n,i[0],i[1],l[0],l[1])}):iY(y,h,n,o[0],o[1],l[0],l[1])}),b.forEach(function(e){let s=d(R,e),n=(s-N.toNumber())*t/(D+0)+0,o=d(B,e)[0],l=n+a,r=d(A,e)[0],g=s.toString();iX(y,m,a,o,l,r,l,i,C,e,g)}),M.forEach(function(e){let s=d(R,e),n=(s-N.toNumber())*t/(D+0)+0,o=d(k,e)[0],l=n+a,r=d(G,e)[0],g=s.toString();S.has(e)?iX(y,p,a,o,l,r,l,i,C,e,g):iX(y,"green",a,o,l,r,l,i,C,e,g)}),T.forEach(function(e){let s=d(R,e),n=(s-N.toNumber())*t/(D+0)+0,o=d(O,e)[0],l=n+a;iX(y,"red",a,o,l,d(U,e)[0],l,i,C,e,s.toString())})}}o.Big.PE=7;let iQ={marginLeft:"0px",marginTop:"1px",marginBottom:"1px",marginRight:"0px"},iJ={marginLeft:"25px",marginTop:"1px",marginBottom:"1px",marginRight:"0px"},i0={marginLeft:"1px",marginTop:"1px",marginBottom:"1px",marginRight:"1px"};const i1="✎",i2=" ✗",i3=" ✓",i5="Add ＋",i4="Add from library ＋",i6="Add from spreadsheet ＋",i8="container",i9="description",i7="input",ae="optionOn",at="optionOff",as="Products",ai="Reactants",aa="save",an="Select an option (press a letter key to cycle through options for it)...",ao="table",ad="Transition States",al="undefined",ar="units",ag="viewer",ah=new Set,am=new Set;function ac(...e){let t=l(...e);if(ah.has(t))throw Error(t+" already exists!");return ah.add(t),t}function au(...e){let t=ac(...e);return am.add(t),t}function ap(e){let t=document.getElementById(e);null!=t&&t.remove(),am.delete(e),ah.delete(e)}const aN=ac("menu"),af=ac("title"),ax=ac("molecules"),av=ac("reactions"),aE=ac("reactionsDiagram"),aw=ac("conditions"),ay=ac("modelParameters"),aC=ac("control"),ab=ac("metadata"),aM=ac("analysis"),aS=ac("xml"),aT=new o.Big(0);class aI{addID(e,...t){let s=au(e,...t);return this.ids.has(e)||this.ids.set(e,new Set),this.ids.get(e)?.add(s),s}removeID(e){am.delete(e),ah.delete(e)}removeIDs(e){this.ids.has(e)&&(this.ids.get(e).forEach(e=>{console.log("remove id "+e),this.removeID(e)}),this.ids.delete(e))}removeAllIDs(){this.ids.forEach((e,t)=>{this.removeIDs(t)})}constructor(){this.ids=new Map}}let aR=new aI,az=new aI,aD=new aI,a_=new aI,aL=new aI,aP=new class{constructor(){this.tagName="defaults",this.values=new Map,this.attributess=new Map}readFile(){let e=document.createElement("input");e.type="file";let t=this;e.onchange=function(){if(e.files){for(let t=0;t<e.files.length;t++)console.log("inputElement.files["+t+"]="+e.files[t]);let s=e.files[0];console.log(s.name),s.name;let i=new FileReader,a=0,n="";i.onload=function(e){if(null==e.target)throw Error("Event target is null");if(n+=e.target.result,null!=s){if(a<s.size){let e=s.slice(a,a+1048576);i.readAsText(e),a+=1048576}else{n=n.trim();let e=new DOMParser().parseFromString(n,"text/xml");t.parse(e)}}};let o=s.slice(a,a+1048576);i.readAsText(o),a+=1048576}},e.click()}parse(e){let t=j(e,this.tagName);console.log("Default attributes: "+r(V(t)));let s=t.children;console.log("children.length="+s.length);for(let e=0;e<s.length;e++){let t=s[e],i=t.tagName;console.log("tagName="+i);let a=V(t);if(this.attributess.set(i,a),console.log("Attributes: "+r(a)),"property"==i){let e=t.getAttribute("dictRef");try{let s=j(t,"scalar").innerHTML;null!=s?(console.log("v="+s),this.values.set(e,s)):console.log("v is null")}catch(e){console.log("Error: "+e)}}else{let e=t.innerHTML;null!=e?(console.log("v="+e),this.values.set(i,e)):console.log("v is null")}}console.log("values: "+r(this.values)),this.attributess.forEach((e,t)=>{console.log("key="+t+" value="+r(e))})}},aB=new Map;function aA(e,t){e.getID();let s=1;for(;t.has(e.id);)e.id=e.id+s,s++;t.set(e.id,e)}let ak=new Map;function aG(e){let t=new Set;return e.forEach((e,s)=>{let i=e.getID();t.has(i)?t.add(i+"-"+s.toString()):t.add(i)}),t}function aO(e,t){for(let[s,i]of t)if(i.label==e)return i;return null}let aU=new Map;const aq="Reactions Diagram",aF=au(aq),aH=au(aF,"Canvas");let aV="1em SensSerif";function aj(e,t){let i=new tN(t,e);s.setTitle(i);let a=document.getElementById(af),n=au("titleDiv");ap(n);let o=v("text",au(n,i7),i0,iQ,e=>{let t=e.target;i.value=t.value,console.log(i.tagName+" changed to "+i.value),y(t)},e,tN.tagName);o.id=n,a.appendChild(o)}function aX(e,t){let s=document.getElementsByClassName(e);for(let e=0;e<s.length;e++)if(s[e]instanceof HTMLSelectElement){let i=s[e].options,a=s[e].value;Array.from(i).forEach(i=>{if(i.value==t&&(i.remove(),a==t)){let t=new Event("change");s[e].dispatchEvent(t)}})}}function aY(e,t){let s=document.getElementsByClassName(e);console.log("n elements with className "+e+"="+s.length);for(let e=0;e<s.length;e++){let i=s[e];if(s[e]instanceof HTMLSelectElement){let e=document.createElement("option");e.value=t,e.text=t,i.add(e)}}}function a$(e,t){if(t)e.push(an);else{let t=e.indexOf(an);t>-1&&e.splice(t,1)}}function aW(e,t,s,i,a,n,o,d){let l=R(e,d),r=s+i3,g=s+i2,h=au(e,s,p);t.add(h);let m=T(g,h,o);l.appendChild(m),m.classList.add(ae),m.classList.add(at);let c=au(e,s,i7);t.add(c);let u=i();return void 0==u?(m.textContent=g,m.classList.toggle(ae)):(aK(l,c,s,u,i,a,o),m.textContent=r,m.classList.toggle(at)),m.addEventListener("click",e=>{if(null==document.getElementById(c)){console.log("Adding "+c),aK(l,c,s,u,i,a,o);let e=l.querySelector(i7);e.value=u.toString();let t=new Event("change");e.dispatchEvent(t),m.textContent=r}else document.getElementById(c)?.remove(),console.log("Removed "+c),m.textContent=g;m.classList.toggle(ae),m.classList.toggle(at)}),l}function aK(e,t,s,i,a,n,d){let l;l=void 0==i?"":i.toString();let r=E("text",t,d);r.addEventListener("change",e=>{let t=e.target;try{n(new o.Big(t.value)),console.log(s+" changed from "+i+" to "+t.value)}catch(e){alert("Input invalid, resetting..."),t.value=a().toString()}y(t)}),r.value=l,y(r),e.appendChild(r)}function aZ(e,t,s,...i){let a=T("Remove ✕",void 0,t);return e.appendChild(a),a.addEventListener("click",()=>{s(...i),e.remove(),ap(e.id)}),a}function aQ(e,t,s,i,a,n,o,d){if(void 0!=e){let l=function(e,t,s,i,a,n){let o=t.get("units");if(void 0!=o){let d=S("units",e,"units",o,s,a,n),l=d.querySelector("select");return l.value=o,C(l),l.addEventListener("change",e=>{let s=e.target;t.set("units",s.value),console.log("Set "+i+" units to "+s.value),C(s)}),d}}(e,t,a,n,o,d);void 0!=l&&s.insertBefore(l,i)}else{let e=t.get("units");if(void 0!=e){let t=z("units "+e,d);s.insertBefore(t,i)}}}function aJ(e){let t=0,s=!1;for(;!s;){let i=prompt(e,"0");null!=i&&h(i)&&(t=parseInt(i))>0&&(s=!0)}return t}function a0(e,t){t.addEventListener("click",s=>{e[e.length-1]==an&&e.pop();let i=t.options.length-1;t.options[i].value==an&&t.remove(i)})}document.addEventListener("DOMContentLoaded",()=>{let d,m,c,u,x,w,b,M,k,G,O,U;document.body.className=t?"dark-mode":"light-mode";let q=new Map;q.set("xmlns","http://www.xml-cml.org/schema"),q.set("xmlns:me","http://www.chem.leeds.ac.uk/mesmer"),q.set("xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),s=new ty(q),(d=document.getElementById(aN)).style.display="flex",d.style.justifyContent="center",d.style.margin="5px",d.style.padding="5px",d.style.border="1px solid black",d.style.backgroundColor="lightgrey",c=T(m="About",ac(m),i0),d.appendChild(c),c.addEventListener("click",async e=>{!function(e){if(null==e)return;e.document.title="About MXG";let t=document.createElement("div");e.document.body.appendChild(t);let s=e.document.createElement("p");t.appendChild(s),s.appendChild(e.document.createTextNode("MXG is a free and open source program to assist in creating, editing and         visualising MESMER XML data. The MXG development repository is: ")),s.appendChild(sB),s.appendChild(e.document.createTextNode(". Details of MESMER - the Master Equation Solver for Multi Energy-well Reactions         can be found at: ")),s.appendChild(sO),s.appendChild(e.document.createTextNode("."));let i=document.createElement("p");t.appendChild(i),i.appendChild(e.document.createTextNode("MXG is being developed by a team based at ")),i.appendChild(sq),i.appendChild(e.document.createTextNode(" funded by ")),i.appendChild(sU),i.appendChild(e.document.createTextNode("Like MESMER, MXG development aims to be driven in part by users reporting issues,         submitting feature requests, and getting involved in development."));let a=e.document.createElement("p");t.appendChild(a),a.appendChild(e.document.createTextNode("MXG runs on the latest Firefox, Chrome, Edge or Safari Web browsers. It can         be used offline if installed as a Progressive Web App (PWA). PWA installation varies by Web browser and device, it         should only require user permission and is effectively a form of Web browser bookmark. For guidance please see the         MXG main development repository README: ")),a.appendChild(sB.cloneNode(!0)),a.appendChild(e.document.createTextNode(". MXG may work on small screen devices, but it is recommended to use a device         with at least a standard laptop sized screen."));let n=document.createElement("p");t.appendChild(n),n.appendChild(e.document.createTextNode('The Menu contains 5 buttons. The Load MESMER File button is for loading a         MESMER XML data file with a "me:mesmer" tag containing: "me:title", "moleculeList", "reactionList",         "me:conditions", "me:modelParameters", and "me:control" tags containing further details. A MESMER XML output         data file will also have "me:metadataList" and "me:analysis" tags as children of the "me:mesmer" tag. Additional         output is located in "moleculeList" and "reactionList" tags. The Load Molecules button is for loading molecule         data for selection, modification and for inclusion in saved MESMER files. The Load Defaults button is to load         default values. Whilst not necessary, loading defaults is for convenience, as often similar values and the same         units as defaults are wanted for specified variables. The Save MESMER File button is for saving a new MESMER XML         data file. The file should be saved to the Web browser downloads location. It should contain no comments or extra         white space between XML tags with the exception of new lines, tag values should be trimmed of white space,         numbers should be output in a particular format (decimals - where numbers with more than 8 digits are output in         scientific notation format). There should be: a single "atomArray" tag containing all "atom" tags (each atom         should have a unique id attribute); a single "bondArray" tag containing any "bond" tags (each bond should have a         unique id attribute); and, a single "propertyList" tag containing all "property" tags for each "molecule" tag in         the "moleculeList". The saved file should reflect what is specified via the interface.'));let o=e.document.createElement("p");t.appendChild(o),o.appendChild(e.document.createTextNode('The "me:title" value is presented in an input alongside an associated label.         The input can be used to change the value which is also used to compose filenames for files saved from MXG.         Details are presented via buttons which contain a triangular symbol. A triangle orientated with a point down: ▼ can be actioned to show more details (if there are any). A triangle orientated with a point         up: ▲ can be actioned to hide those details again.'));let d=e.document.createElement("p");t.appendChild(d),d.textContent='The Reaction Diagram button shows/hides a reaction well diagram which is redrawn if molecule "me:ZPE"         property values are changed. The diagram can be opened in a new Window and saved to a PNG format file.';let l=e.document.createElement("p");t.appendChild(l),l.textContent="MXG uses 3DMol.js under a BSD-3-Clause licence to visualise molecules with coordinates. For details         of 3DMol.js please see the GitHub repository: ",l.appendChild(sH),l.appendChild(e.document.createTextNode(". If you use the 3DMol.js visualisations, please cite: Nicholas Rego and         David Koes 3Dmol.js: molecular visualization with WebGL Bioinformatics (2015) 31 (8): 1322-1324 ")),l.appendChild(sV),l.appendChild(e.document.createTextNode("."));let r=e.document.createElement("p");t.appendChild(r),r.textContent="MXG uses Big.js under an MIT licence to handle numbers. For details of Big.js please see the GitHub         repository: ",r.appendChild(sX),r.appendChild(e.document.createTextNode("."))}(window.open("","","width=600,height=400"))}),x=T(u="Load Molecules",ac(u),i0),d.appendChild(x),w=new s_,x.addEventListener("click",async e=>{(await w.readFile()).forEach((e,t)=>{aA(e,aB)})}),(M=T(b="Load Defaults",ac(b),i0)).addEventListener("click",e=>{aP.readFile()}),d.appendChild(M),(G=T(k="Load MESMER File",ac(k),i0)).addEventListener("click",d=>{if(confirm("Any unsaved changes will be lost. Select OK to continue loading or Cancel to cancel.")){let d;am.forEach(e=>{ap(e)}),null!=ak&&ak.clear(),null!=aU&&aU.clear(),i=[],(d=document.createElement("input")).type="file",d.onchange=function(){if(d.files){for(let e=0;e<d.files.length;e++)console.log("inputElement.files["+e+"]="+d.files[e]);let m=d.files[0];console.log(m.name),e=m.name;let c=new FileReader,u=0,x="";c.onload=function(d){if(null==d.target)throw Error("Event target is null");if(x+=d.target.result,null!=m){if(u<m.size){let e=m.slice(u,u+1048576);c.readAsText(e),u+=1048576}else{var w;let d,m,c,u;w=x=x.trim(),d=document.getElementById(aS),ap(m=au(aS,2)),c=I(m,iJ),f(m,d,null,c,e,i0,iQ),(u=document.createElement("pre")).textContent=w,c.appendChild(u),function(d){let m,c;console.log("parse: "+d);let u=j(d,ty.tagName);s=new ty(V(u));let x=d.getElementsByTagName(tN.tagName);x.length>0?(x.length>1&&console.warn("Multiple "+tN.tagName+" tags found, using the first."),m=x[0].childNodes[0].nodeValue.trim(),c=V(x[0])):(m=e,console.warn("No "+tN.tagName+" tag found, using the filename: "+e+" as the title."),c=new Map),aj(m,c);let w=document.getElementById(ax),b=au(tf.tagName);ap(b),f(b,w,null,function(e,t,s){let i=I(void 0,i0),a=j(e,tf.tagName),d=new Set;if(a.childNodes.forEach(function(e){d.add(e.nodeName)}),1==d.size||2==d.size&&d.has("#text")||(console.error("moleculeListTagNames:"),d.forEach(e=>console.error(e)),console.warn("Additional tag names in moleculeList:")),!d.has(sr.tagName)){console.warn('Expecting tags with "'+sr.tagName+'" tagName but there are none! Please add molecules to the moleculeList.');let e=i.appendChild(sg(i,t,s));return i.appendChild(sf(i,e,t,s)),i}let l=a.getElementsByTagName(sr.tagName),g=l.length;console.log("Number of molecules="+g);for(let e=0;e<g;e++){let a=t.addID(sr.tagName,e),d=I(a),g=V(l[e]),m=new sr(g,g.get(sr.s_id));aA(m,s);let c=f(t.addID(a,i8),i,null,d,m.label,i0,iJ),u=new Set,N=l[e].childNodes;for(let e=0;e<N.length;e++){let t=N[e];u.has(t.nodeName)?"#text"!=t.nodeName&&console.warn("Another ChildNode with nodeName="+t.nodeName):u.add(t.nodeName)}sv(m,s,c.querySelector(p),t,d,iJ),d.appendChild(sE(t.addID(a,i9),t,m.getDescription.bind(m),m.setDescription.bind(m),i0,iJ));let x=l[e].getElementsByTagName(tg.tagName);if(x.length>0){x.length>1&&console.warn("Expecting 1 or 0 "+tg.tagName+" but finding "+x.length+". Loading the first of these...");let e=t.addID(a,tg.tagName),s=I(e);f(t.addID(e,i8),d,null,s,tg.tagName,i0,iJ);let i=x[0].getElementsByTagName(ta.tagName),n=new tg(V(x[0]));m.setMetadataList(n);for(let a=0;a<i.length;a++){let o=new ta(V(i[a]));s.appendChild(function(e,t,s,i,a,n){s.addMetadata(t);let o=R(i,iJ);return o.appendChild(z(e.getLabel(),i0)),o}(m,o,n,t.addID(e,a),0,0))}u.delete(tg.tagName)}let w=l[e].getElementsByTagName(tT.tagName),C=t.addID(a,tT.tagName),b=I(C);f(t.addID(C,i8),d,null,b,tT.tagName,i0,iJ);let M=new tT(new Map);m.setAtoms(M);for(let e=0;e<w.length;e++){let t=V(w[e]);t.size>0&&console.warn("AtomArray attributes lost/ignored: "+r(t))}let L=l[e].getElementsByTagName(tS.tagName);for(let e=0;e<L.length;e++)b.appendChild(sC(t,m,C,M,new tS(V(L[e]),m),i0,iJ));b.appendChild(sy(t,m,b,tS.tagName,i0,iJ)),u.delete(tS.tagName);let k=l[e].getElementsByTagName(tR.tagName),G=t.addID(a,tR.tagName),O=I(G);f(t.addID(G,i8),d,null,O,tR.tagName,i0,iJ);let U=new tR(new Map);m.setBonds(U);for(let e=0;e<k.length;e++){let t=V(k[e]);t.size>0&&console.warn("BondArray attributes lost/ignored: "+r(t))}let q=l[e].getElementsByTagName(tI.tagName);for(let e=0;e<q.length;e++)V(q[e]).has(tI.s_id)&&O.appendChild(sS(t,m,G,m.getAtoms().atoms,U,new tI(V(q[e]),m),i0,iJ));for(let e=0;e<q.length;e++)V(q[e]).has(tI.s_id)||O.appendChild(sS(t,m,G,m.getAtoms().atoms,U,new tI(V(q[e]),m),i0,iJ));O.appendChild(sM(t,m,O,tI.tagName,i0,iJ)),u.delete(tI.tagName);let F=t.addID(a,ag),H=I(F);f(t.addID(F,i8),d,null,H,ag,i0,iJ),sR(t,m,H,i0,iJ);let j=l[e].getElementsByTagName(tQ.tagName),X=t.addID(a,tQ.tagName),Y=I(X);f(t.addID(X,i8),d,null,Y,tQ.tagName,i0,iJ);let $=new tQ(new Map);m.setPropertyList($);for(let e=0;e<j.length;e++){let t=V(j[e]);t.size>0&&console.warn("PropertyList attributes lost/ignored: "+r(t))}let W=l[e].getElementsByTagName(tP.tagName);sh(m,Y,$);for(let e=0;e<W.length;e++){let t=new tP(V(W[e]));$.setProperty(t)}u.delete(tQ.tagName),u.delete(tP.tagName);let K=l[e].getElementsByTagName(t3.tagName);if(K.length>0){if(K.length>1)throw Error("Expecting 1 or 0 "+t3.tagName+" but finding "+K.length+"!");(function(e,t,s,i,a){let d=i.getElementsByTagName(tJ.tagName);if(d.length>0){let i=e.addID(a.id,t3.tagName),l=document.createElement("div");f(e.addID(i,i8),a,null,l,t3.tagName,i0,iJ);let r=[];for(let t=0;t<d.length;t++){let s=A(d[t]),a=new(n(o))(s),g=new tJ(V(d[t]),a);r.push(g);let h=tJ.tagName,m=e.addID(i,tJ.tagName,t),c=v("number",m,i0,iJ,e=>{let i=e.target;a9(g,i),s=i.value,r[t].setValue(new(n(o))(s)),console.log("Set "+m+" to "+s),y(i)},s,h);l.appendChild(c);let u=document.createElement("label");u.textContent="units cm-1",c.appendChild(u)}t.setDeltaEDowns(r),s.setEnergyTransferModel(t)}})(t,new t3(V(K[0])),m,K[0],d),u.delete(t3.tagName)}let Z=l[e].getElementsByTagName(t5.tagName);if(Z.length>0){if(Z.length>1)throw Error("Expecting 1 or 0 "+t5.tagName+" but finding "+Z.length+"!");let e=new t5(V(Z[0]));d.appendChild(S(t5.tagName,t5.xsi_typeOptions,t5.tagName,e.getXsiType(),t.addID(a,t5.tagName),i0,iJ)),u.delete(t5.tagName)}let Q=l[e].getElementsByTagName(t8.tagName);if(Q.length>0){if(Q.length>1)throw Error("Expecting 1 or 0 "+t8.tagName+" but finding "+Q.length+"!");let e=V(Q[0]),s=new t8(e);m.setDistributionCalcMethod(s);let i=I(t.addID(a,t8.tagName));d.appendChild(i),i.appendChild(z(t8.tagName+" "+r(e),iJ)),u.delete(t8.tagName)}let J=l[e].getElementsByTagName(sl.tagName);if(J.length>0){if(J.length>1)throw Error("Expecting 1 or 0 "+sl.tagName+" but finding "+J.length+"!");let e=new sl(V(J[0]));m.setDensityOfStatesList(e);let s=t.addID(a,sl.tagName),i=I(s);f(t.addID(s,i8),d,null,i,sl.tagName,i0,iJ);let l=J[0].getElementsByTagName(sd.tagName),r=J[0].getElementsByTagName(tC.tagName);if(r.length>0){if(r.length>1)throw Error("Expecting 1 or 0 "+tC.tagName+" but finding "+r.length+"!");let t=new tC(V(r[0]),B(P(r[0])));e.setDescription(t)}if(0==l.length)throw Error("Expecting 1 or more "+sd.tagName+" but finding 0!");{let a=D(t.addID(s,ao),iJ);_(a,sd.header),i.appendChild(a);for(let d=0;d<l.length;d++){let r=new sd(V(l[d]));e.addDensityOfStates(r);let g=R(t.addID(s,d),iJ);i.appendChild(g);let h=l[d].getElementsByTagName(tb.tagName);if(1!=h.length)throw Error("Expecting 1 "+tb.tagName+" but finding "+h.length+"!");{let e=new tb(V(h[0]),new(n(o))(B(P(h[0]))));r.setT(e)}let m=l[d].getElementsByTagName(sa.tagName);if(1!=m.length)throw Error("Expecting 1 "+sa.tagName+" but finding "+m.length+"!");{let e=new sa(V(m[0]),new(n(o))(B(P(m[0]))));r.setQtot(e)}let c=l[d].getElementsByTagName(sn.tagName);if(1!=c.length)throw Error("Expecting 1 "+sn.tagName+" but finding "+c.length+"!");{let e=new sn(V(c[0]),new(n(o))(B(P(c[0]))));r.setSumc(e)}let u=l[d].getElementsByTagName(so.tagName);if(1!=u.length)throw Error("Expecting 1 "+so.tagName+" but finding "+u.length+"!");{let e=new so(V(u[0]),new(n(o))(B(P(u[0]))));r.setSumg(e)}_(a,r.toStringArray())}a8(e.toCSV,i,a,m.getID()+"_"+sl.tagName,iJ)}u.delete(sl.tagName)}let ee=t7.tagName,et=l[e].getElementsByTagName(ee);if(et.length>0){let e;if(et.length>1)throw Error("Expecting 1 or 0 "+ee+" but finding "+et.length+"!");let s=new t7(V(et[0])),i=t.addID(a,t7.tagName),n=I(i);f(t.addID(i,i8),d,null,n,ee,i0,iJ);let o=t9.tagName,l=et[0].getElementsByTagName(o);if(0==l.length)throw Error("Expecting 1 or more "+o+" but finding 0!");{e=[];let a=D(t.addID(i,ao),iJ);_(a,s.getHeader());for(let t=0;t<l.length;t++){let s=new t9(V(l[t]));e.push(s),_(a,s.toStringArray())}n.appendChild(a),s.init(e),a8(s.toCSV.bind(s),n,a,t.addID(m.getID(),t7.tagName),iJ)}m.setThermoTable(s),u.delete(o),u.delete(ee)}let es=l[e].getElementsByTagName(ss.tagName);if(es.length>0)for(let e=0;e<es.length;e++){let s=new ss(V(es[e])),i=t.addID(a,ss.tagName,e),l=I(i);f(t.addID(i,i8),d,null,l,ss.tagName,i0,iJ);let r=es[e].getElementsByTagName(t4.tagName);if(r.length>0){if(1!=r.length)throw Error("Expecting only 1 bondRef, but there are "+r.length);let e=m.getBonds().getBondIds(),s=new t4(V(r[0]),B(P(r[0]))),a=S(t4.tagName,e,t4.tagName,s.value,t.addID(i,t4.tagName),i0,iJ);a.getElementsByTagName("select")[0].classList.add(tI.tagName),l.appendChild(a)}let g=es[e].getElementsByTagName(se.tagName);if(g.length>0){if(1!=g.length)throw Error("Expecting only 1 HinderedRotorPotential, but there are "+g.length);let e=V(g[0]),a=new se(e),r=t.addID(i,se.tagName),m=I(r);f(t.addID(r,i8),l,null,m,se.tagName,i0,iJ);let c=S(se.s_format,se.formats,se.tagName,a.getFormat(),t.addID(r,se.s_format),i0,iJ);m.appendChild(c),aQ(ty.energyUnits,e,m,c,t.addID(r,se.s_units),se.tagName,i0,iJ);let u=a.getExpansionSize()??al;m.appendChild(v("text",t.addID(r,se.s_expansionSize),i0,iJ,e=>{let t=e.target;try{console.log("Setting "+se.s_expansionSize+" to "+t.value),a.setExpansionSize(new(n(o))(t.value))}catch(e){alert("Invalid value, resetting..."),t.value=a.getExpansionSize()??al}y(t)},u,se.s_expansionSize)),function(e,t,s,i){e.addID(t.id,se.s_useSineTerms);let a=se.s_useSineTerms+i3,n=se.s_useSineTerms+i2,o=T(n,void 0,i);t.appendChild(o),o.classList.add(ae),o.classList.add(at),!0==s.getUseSineTerms()?(o.textContent=a,o.classList.toggle(at)):(o.textContent=n,o.classList.toggle(ae)),o.addEventListener("click",e=>{!1==s.getUseSineTerms()?(s.setUseSineTerms(!0),o.textContent=a):(s.setUseSineTerms(!1),o.textContent=n),o.classList.toggle(ae),o.classList.toggle(at)})}(t,m,a,iJ);let p=t.addID(r,t6.tagName),N=I(p),x=f(t.addID(p,i8),d,null,N,"PotentialPoints",i0,iJ);m.appendChild(x);let w=[],C=g[0].getElementsByTagName(t6.tagName);for(let e=0;e<C.length;e++){let s=new t6(V(C[e]));w.push(s);let i=t.addID(p,e),a=R(i,iJ);N.appendChild(a);let d=z(t6.tagName+" "+e,i0);a.appendChild(d);let l=s.getAngle()??al,r=v("text",t.addID(i,t6.s_angle),i0,i0,e=>{let t=e.target;if(h(t.value)){let e=new(n(o))(t.value);s.setAngle(e)}else alert("Angle input is not a number, resetting..."),t.value=s.getAngle()??al;y(t)},l,t6.s_angle);a.appendChild(r);let g=z(t6.s_potential,i0);a.appendChild(g);let m=E("text",t.addID(i,t6.s_potential),i0);a.appendChild(m);let c=s.getPotential()??al;m.addEventListener("change",e=>{let t=e.target;if(h(t.value)){let e=new(n(o))(t.value);s.setPotential(e),console.log("Set "+t6.tagName+" to "+e.toExponential())}else alert("Potential input is not a number, resetting..."),m.value=s.getPotential()??al;y(m)}),m.value=c,y(m)}a.setPotentialPoints(w),s.setHinderedRotorPotential(a)}let c=es[e].getElementsByTagName(st.tagName);if(c.length>0){if(1!=c.length)throw Error("Expecting only 1 Periodicity, but there are "+c.length);let e=B(P(c[0])),a=new st(V(c[0]),new(n(o))(e));s.setPeriodicity(a);let d=v("text",t.addID(i,st.tagName),i0,iJ,t=>{let i=t.target;if(h(e=i.value)){let t=new(n(o))(e);a.value=t,s.getPeriodicity().value=t,console.log("Set "+st.tagName+" to "+t)}else alert("Periodicity input is not a number, resetting..."),i.value=a.value.toExponential()},e,st.tagName);l.appendChild(d)}m.setExtraDOSCMethod(e,s),u.delete(ss.tagName)}u.delete(si.tagName);let ei=l[e].getElementsByTagName(si.tagName);if(ei.length>0){if(1!=ei.length)throw Error("Expecting only 1 reservoirSize, but there are "+ei.length);let e=B(P(ei[0])),t=new(n(o))(e),s=new si(V(ei[0]),t);m.setReservoirSize(s);let i=v("number",m.getID()+"_"+si.tagName,i0,iJ,e=>{let t=e.target;s.value=new(n(o))(t.value),y(t)},e,si.tagName);d.appendChild(i)}u.delete("#text"),u.size>0&&(console.warn("There are additional unexpected moleculeTagNames:"),u.forEach(e=>console.warn(e))),aZ(d,iJ,()=>{sI(i,c,t,s,a,m)})}let m=sg(i,t,s);return sf(i,m,t,s),i}(d,aR,ak),tf.tagName,i0,iQ);let M=document.getElementById(av),k=au(tx.tagName);ap(k),f(k,M,null,function(e,t,s,i,a){let d=l(s,p),g=document.querySelector(d),h=I(void 0,i0),m=j(e,tx.tagName),c=new Set;if(m.childNodes.forEach(function(e){c.add(e.nodeName)}),c.size>0){if(1!=c.size&&!(2==c.size&&c.has("#text")))throw console.error("reactionListTagNames:"),c.forEach(e=>console.error(e)),Error("Additional tag names in reactionList:");if(!c.has(ie.tagName))throw Error('Expecting tags with "'+ie.tagName+'" tagName but there are none!');let e=m.getElementsByTagName(ie.tagName);console.log("Number of reactions="+e.length);for(let s=0;s<e.length;s++){let d=new ie(V(e[s]));i.set(d.id,d);let m=new Set,c=e[s].childNodes,u=au(ie.tagName,s),p=I(u);for(let e=0;e<c.length;e++){let t=c[e];m.has(t.nodeName)?"#text"!=t.nodeName&&console.warn("Another ChildNode with nodeName="+t.nodeName):m.add(t.nodeName)}let x=e[s].getElementsByTagName(s$.tagName);m.delete(s$.tagName);let E=t.addID(u,s$.tagName),w=I(E);f(l(E,i8),p,null,w,ai,i0,iJ);let b=new Map;if(x.length>0){for(let e=0;e<x.length;e++){let s=l(E,s$.tagName,e),i=R(s);w.appendChild(i);let a=new sY(V(L(x[e],sr.tagName))),n=new s$(V(x[e]),a);b.set(a.getRef(),n);let o=S(a.getRef()+" role",s$.roleOptions,"Role",a.getRole(),t.addID(s,N),i0,iJ);o.querySelector("select")?.addEventListener("change",e=>{let t=e.target;a.setRole(t.value),console.log("Set Role to "+t.value),C(t)}),i.appendChild(o),aZ(i,i0,()=>{w.removeChild(i),t.removeIDs(s),b.delete(a.getRef())})}d.setReactants(b)}is(d,g,t,u,w,a,b);let M=e[s].getElementsByTagName(sW.tagName);m.delete(sW.tagName);let T=t.addID(u,sW.tagName),k=R(T);f(l(T,i8),p,null,k,as,i0,iJ);let G=new Map;if(M.length>0){for(let e=0;e<M.length;e++){let s=new sY(V(L(M[e],sr.tagName))),i=new sW(V(M[e]),s);G.set(s.getRef(),i);let a=S(s.getRef()+" role",sW.roleOptions,s.getRole(),s.getRef(),t.addID(T,e,"Role"),i0,iJ),n=a.querySelector("select");n.value=s.getRole(),n.addEventListener("change",e=>{let t=e.target;s.setRole(t.value),console.log("Set Role to "+t.value),C(t)}),C(n),k.appendChild(a),aZ(k,i0,()=>{k.removeChild(a),t.removeIDs(T),G.delete(s.getRef())})}d.setProducts(G)}ii(d,g,t,u,k,a,G);let O=f(au(u,i8),h,null,p,d.getLabel(),i0,iJ),U=e[s].getElementsByTagName(s3.tagName);if(U.length>0){if(U.length>1)throw Error("Expecting 1 "+s3.tagName+" but finding "+U.length+"!");let e=new s3(V(U[0]));d.setTunneling(e);let t=S(s3.tagName,s3.options,"Tunneling",e.getName(),au(u,s3.tagName),i0,iJ);t.querySelector("select")?.addEventListener("change",t=>{let s=t.target;e.setName(s.value),console.log("Set Tunneling to "+s.value),C(s)}),p.appendChild(t)}let q=e[s].getElementsByTagName(sK.tagName),F=au(u,sK.tagName),H=I(F);f(au(F,i8),p,null,H,ad,i0,iJ);let j=new Map;if(q.length>0){for(let e=0;e<q.length;e++){let t=new sY(V(L(q[e],sr.tagName))),s=new sK(V(q[e]),t);j.set(t.getRef(),s);let i=z(t.getRef()+" role "+sK.role,iJ);H.appendChild(i)}d.setTransitionStates(j)}ia(t,u,H,a,j);let X=e[s].getElementsByTagName(s1.tagName);if(X.length>0){if(X.length>1)throw Error("Expecting 1 "+s1.tagName+" but finding "+X.length+"!");{let e;let t=V(X[0]),s=t.get("xsi:type");void 0==s&&(s=t.get("name"));let i=au(u,s1.tagName),a=I(i);if(s==s2.xsiType||s==s2.xsiType2){let s=f(au(i,i8),p,null,a,s1.tagName,i0,iJ);p.appendChild(s),e=new s2(t);let d=X[0].getElementsByTagName(sZ.tagName);if(null!=d&&null!=d[0]){let t=A(d[0]),s=new(n(o))(t),l=V(d[0]),r=new sZ(l,s);e.setPreExponential(r);let g=v("number",au(i,sZ.tagName,i7),i0,iJ,e=>{a9(r,e.target)},t,sZ.tagName);a.appendChild(g);let h=g.querySelector("input");h.value=t,y(h),h.addEventListener("change",e=>{t=e.target.value,r.value=new(n(o))(t),console.log(sZ.tagName+" changed to "+t),y(h)}),aQ(void 0,l,g,null,au(i,sZ.tagName),sZ.tagName,i0,i0),a.appendChild(g)}let l=X[0].getElementsByTagName(sQ.tagName);if(null!=l&&null!=l[0]){let t=A(l[0]),s=new(n(o))(t),d=V(l[0]),r=new sQ(d,s);e.setActivationEnergy(r);let g=v("number",au(i,sQ.tagName,i7),i0,iJ,e=>{a9(r,e.target)},t,sQ.tagName),h=g.querySelector("input");h.value=t,y(h),h.addEventListener("change",e=>{t=e.target.value,r.value=new(n(o))(t),console.log(sQ.tagName+" changed to "+t),y(h)}),aQ(void 0,d,g,null,au(i,sQ.tagName),sQ.tagName,i0,i0),a.appendChild(g)}let r=X[0].getElementsByTagName(sJ.tagName);if(null!=r&&null!=r[0]){let t=A(r[0]),s=new(n(o))(t),d=V(r[0]),l=new sJ(d,s);e.setTInfinity(l);let g=v("number",au(i,sJ.tagName,i7),i0,iJ,e=>{a9(l,e.target)},t,sJ.tagName),h=g.querySelector("input");h.value=t,y(h),h.addEventListener("change",e=>{t=e.target.value,l.value=new(n(o))(t),console.log(sJ.tagName+" changed to "+t),y(h)}),aQ(void 0,d,g,null,au(i,sJ.tagName),sJ.tagName,i0,i0),a.appendChild(g)}let g=X[0].getElementsByTagName(s0.tagName);if(null!=g&&null!=g[0]){let t=A(g[0]),s=new(n(o))(t),d=V(g[0]),l=new s0(d,s);e.setNInfinity(l);let r=v("number",au(i,s0.tagName,i7),i0,iJ,e=>{a9(l,e.target)},t,s0.tagName);a.appendChild(r);let h=r.querySelector("input");h.value=t,y(h),h.addEventListener("change",e=>{t=e.target.value,l.value=new(n(o))(t),console.log(s0.tagName+" set to "+t),y(h)}),aQ(void 0,d,r,null,au(i,s0.tagName),s0.tagName,i0,i0),a.appendChild(r)}}else{e=new s1(t);let i=document.createElement("label");i.textContent=s1.tagName+": "+s,Object.assign(i.style,iJ),a.appendChild(i),p.appendChild(a)}d.setMCRCMethod(e)}}let Y=e[s].getElementsByTagName(s5.tagName);if(Y.length>0){if(Y.length>1)throw Error("Expecting 1 "+s5.tagName+" but finding "+Y.length+"!");let e=new(n(o))(B(P(Y[0]))),t=new s5(V(Y[0]),e);d.setExcessReactantConc(t);let s=v("number",au(u,s5.tagName),i0,iJ,e=>{a9(t,e.target)},e.toExponential(),s5.tagName);p.appendChild(s)}let $=e[s].getElementsByTagName(s7.tagName);if($.length>0){if($.length>1)throw Error("Expecting 1 "+s7.tagName+" but finding "+$.length+"!");let e=V($[0]),t=new s7(e);d.setCanonicalRateList(t);let s=au(u,s7.tagName),i=I(s),a=f(au(s,i8),p,null,i,s7.tagName,i0,iJ);p.appendChild(a);let l=$[0].getElementsByTagName(tC.tagName);if(l.length>0){if(l.length>1)throw Error("Expecting 1 "+tC.tagName+" but finding "+l.length+"!");let s=B(P(l[0]));t.setDescription(new tC(V(l[0]),s));let a=z(s+" ("+r(e)+")",i0),n=I(void 0,iJ);n.appendChild(a),i.appendChild(n)}let g=$[0].getElementsByTagName(s9.tagName);if(g.length>0){let e=D(au(s,s9.tagName,ao),iJ);i.appendChild(e);for(let s=0;s<g.length;s++){let i=new s9(V(g[s]));t.addKinf(i);let a=g[s].getElementsByTagName(tb.tagName);if(a.length>0){if(a.length>1)throw Error("Expecting 1 "+tb.tagName+" but finding "+a.length+"!");let e=new(n(o))(B(P(a[0])));i.setT(new tb(V(a[0]),e))}let d=g[s].getElementsByTagName(s4.tagName);if(d.length>0){if(d.length>1)throw Error("Expecting 1 "+s4.tagName+" but finding "+d.length+"!");let e=new(n(o))(B(P(d[0])));i.setVal(new s4(V(d[0]),e))}let l=g[s].getElementsByTagName(s6.tagName);if(l.length>0){if(l.length>1)throw Error("Expecting 1 "+s6.tagName+" but finding "+l.length+"!");let e=new(n(o))(B(P(l[0])));i.setRev(new s6(V(l[0]),e))}let r=g[s].getElementsByTagName(s8.tagName);if(r.length>0){if(r.length>1)throw Error("Expecting 1 "+s8.tagName+" but finding "+r.length+"!");let e=new(n(o))(B(P(r[0])));i.setKeq(new s8(V(r[0]),e))}0==s&&_(e,i.getHeader()),_(e,i.toStringArray())}a8(t.toCSV.bind(t),i,e,d.id+"_"+s7.tagName,iJ)}}aZ(p,iJ,()=>{io(h,O,t,u,i,d)})}}else console.warn("No reaction elements found! Please add a reaction in reactionList.");return it(t,h,i,a),h}(d,az,k,aU,ak),tx.tagName,i0,iQ);let G=document.getElementById(aE),O=au(aq);null!=a&&(a.close(),a=null),ap(O);let U=I(void 0,iJ);f(O,G,null,U,aq,i0,iQ),iK(U,aH,400,t,aV,4,2,a,ak,aU,!0);let q=document.getElementById(aw),F=au(el.tagName);ap(F),f(F,q,null,function(e,t,i){console.log(el.tagName);let a=I(void 0,i0),n=e.getElementsByTagName(el.tagName);for(let e=0;e<n.length;e++){let o=n[e],d=au(el.tagName,e.toString()),l=I(d,i0),r=au(d,i8);f(r,a,null,l,el.tagName+" "+e.toString(),i0,iJ);let g=ig(V(o),e);id(g,l,o,t,i),il(g,l,o,t,i),aZ(l,iJ,s.removeConditions.bind(s),e).addEventListener("click",e=>{ap(r),t.removeIDs(d)})}return ir(a,t,i),a}(d,aD,ak),"ConditionsList",i0,iQ);let H=document.getElementById(ay),et=au(tp.tagName,"list");ap(et),f(et,H,null,function(e,t){console.log(tp.tagName);let i=I(void 0,i0),a=e.getElementsByTagName(tp.tagName);for(let e=0;e<a.length;e++){let d=t.addID(tp.tagName,e.toString()),r=I(d,i0),g=t.addID(d,i8);f(g,i,null,r,tp.tagName+" "+e.toString(),i0,iJ);let h=iM(V(a[e]),e);(function(e,t,s,i){let a,d,r=th.tagName,g=R(i.addID(s.id,r),iJ);s.appendChild(g);let h=r+i3,m=r+i2,c=T(r,i.addID(s.id,r,p),i0);c.classList.add(ae),c.classList.add(at),g.appendChild(c);let u=i.addID(s.id,r,i7);if(null!=t){let s=t.getElementsByTagName(r);if(1==s.length){d=B(P(s[0]));let t=new(n(o))(d);a=new th(V(s[0]),t),c.textContent=h,iI(e,g,a,u,d,e.setGrainSize,ty.energyUnits),c.classList.toggle(at)}else a=iS(r),c.textContent=m,c.classList.toggle(ae)}else a=iS(r),c.textContent=m,c.classList.toggle(ae);c.addEventListener("click",()=>{e.index.has(th.tagName)?(e.removeGrainSize(),document.getElementById(u)?.remove(),document.getElementById(l(u,ar))?.remove(),c.textContent=m):(iI(e,g,a,u,d,e.setGrainSize,ty.energyUnits),c.textContent=h),c.classList.toggle(ae),c.classList.toggle(at)})})(h,a[e],r,t),iT(h,t,a[e],r,te,h.setAutomaticallySetMaxEne,h.removeAutomaticallySetMaxEne.bind(h)),iT(h,t,a[e],r,tc,h.setEnergyAboveTheTopHill,h.removeEnergyAboveTheTopHill.bind(h)),iT(h,t,a[e],r,tu,h.setMaxTemperature,h.removeMaxTemperature.bind(h)),aZ(r,iJ,s.removeModelParameters.bind(s),e).addEventListener("click",e=>{ap(g),t.removeIDs(d)})}return iR(i,t),i}(d,a_),"ModelParametersList",i0,iQ);let es=document.getElementById(aC),ei=au(ti.tagName);if(ap(ei),f(ei,es,null,function(e,t){console.log(ti.tagName);let i=I(void 0,i0),a=e.getElementsByTagName(ti.tagName);for(let e=0;e<a.length;e++){let n=a[e],o=t.addID(ti.tagName,e.toString()),d=I(o,i0);i.appendChild(d);let r=t.addID(o,i8);f(r,i,null,d,ti.tagName+" "+e.toString(),i0,iJ);let g=iL(V(n),e),h=new Map;iz(g).forEach(e=>{iB(g,d,t,h,n,null,e.class,e.setMethod,e.removeMethod)});let m=R(void 0,iJ);if(new Map([...h.entries()].sort()).forEach(e=>{m.appendChild(e)}),d.appendChild(m),ik(g,d,t,null,iJ),iA(g,d,t,n,iJ),iD(g).forEach(e=>{iB(g,d,t,h,n,iJ,e.class,e.setMethod,e.removeMethod,!0)}),1==n.getElementsByTagName(eI.tagName).length){let e=new eI;g.setForceMacroDetailedBalance(e);let s=R(t.addID(o,eI.tagName),iJ);d.appendChild(s);let i=z(eI.tagName,i0);s.appendChild(i)}aZ(d,iJ,s.removeControl.bind(s),e).addEventListener("click",e=>{ap(r),t.removeIDs(o);let s=l(o,ez.tagName);t.removeIDs(s);let i=l(s,"details");t.removeIDs(i);let a=l(i,"select");t.removeIDs(a)})}return i_(i,t),i}(d,aL),"ControlList",i0,iQ),d.getElementsByTagName(tg.tagName).length>0){let e=document.getElementById(ab),t=au(tg.tagName);ap(t),f(t,e,null,function(e){console.log(tg.tagName);let t=I(au(tg.tagName,0),i0),i=e.getElementsByTagName(tg.tagName);if(i.length>0){if(i.length>1)throw Error("More than one MetadataList element.");let e=new tg(V(i[0]));function a(s,a,n){let o=i[0].getElementsByTagName(s);if(o.length>0){if(1==o.length){let s=P(o[0])?.nodeValue??"",i=new a(V(o[0]),s),d=I(void 0,iJ);t.appendChild(d),d.appendChild(z(i.tagName+" "+s,i0)),n.call(e,i)}else throw Error(`More than one ${s} element.`)}}s.setMetadataList(e),a(to.tagName,to,e.setSource),a(td.tagName,td,e.setCreator),a(tl.tagName,tl,e.setDate),a(tr.tagName,tr,e.setContributor)}return t}(d),tg.tagName,i0,iQ)}if(d.getElementsByTagName(ee.tagName).length>0){let e=document.getElementById(aM),t=au(ee.tagName);ap(t),f(t,e,null,function(e){console.log(ee.tagName);let t=au(ee.tagName,0),a=I(t,i0),n=e.getElementsByTagName(ee.tagName);if(n.length>0){if(n.length>1)throw Error("More than one Analysis element.");let e=new ee(V(n[0]));s.setAnalysis(e);let d=n[0].getElementsByTagName(tC.tagName);if(d.length>0){if(1==d.length){let s=P(d[0])?.nodeValue??"",i=new tC(V(d[0]),s),n=I(au(t,tC.tagName),iJ);a.appendChild(n),n.appendChild(z(i.tagName+" "+s,i0)),e.setDescription(i)}else throw Error("More than one Description element.")}let l=n[0].getElementsByTagName(Y.tagName),h=au(t,Y.tagName),m=I(h,iJ);if(f(h,a,null,m,Y.tagName+"s",i0,iJ),l.length>0)for(let t=0;t<l.length;t++){let s=V(l[t]),i=new Y(s),a=i.tagName+" "+t.toString()+" "+r(s),n=au(m.id,t.toString()),d=I(h,iJ);f(n,m,null,d,a,i0,iQ),e.addEigenvalueList(i);let c=[],u=l[t].getElementsByTagName(X.tagName);if(u.length>0)for(let e=0;e<u.length;e++){let t=new o.Big(P(u[e])?.nodeValue);c.push(t),i.addEigenvalue(new X(V(u[e]),t))}d.appendChild(z(g(c,", "),i0))}let c=n[0].getElementsByTagName(K.tagName),u=au(t,K.tagName),p=I(u,iJ);if(f(u,a,null,p,K.tagName+"s",i0,iJ),c.length>0)for(let t=0;t<c.length;t++){let s=V(c[t]);void 0!=s.get("T")&&new o.Big(s.get("T")),void 0!=s.get("conc")&&new o.Big(s.get("conc"));let n=new K(s),d=n.tagName+" "+t.toString()+" "+r(s),l=au(a.id,K.tagName,t.toString()),g=au(l,t.toString()),h=I(l,iJ);f(g,p,null,h,d,i0,iQ),e.addPopulationList(n);let m=new Map,u=[];u.push("time");let N=c[t].getElementsByTagName(W.tagName);if(N.length>0)for(let e=0;e<N.length;e++){let t=V(N[e]),s=new W(t,[]);n.addPopulation(s);let i=void 0!=t.get("time")?new o.Big(t.get("time")):aT,a=new Map;m.set(i,a);let d=N[e].getElementsByTagName($.tagName);if(d.length>0)for(let t=0;t<d.length;t++){let i=V(d[t]),n=i.get("ref");0==e&&u.push(n);let l=new o.Big(P(d[t])?.nodeValue),r=new $(i,l);s.addPop(r),a.set(n,l)}}let x=I(au(g,"graph"),i0);h.appendChild(x);let v=document.createElement("canvas");x.appendChild(v);let E=new a1(v,m,"2em SensSerif");i.push(E),a6(v,h,x,d);let w=I(au(g,ao),i0);h.appendChild(w);let y=D(au(l,ao),i0);_(y,u),m.forEach((e,t)=>{let s=[];s.push(t.toString()),e.forEach((e,t)=>{s.push(e.toString())}),_(y,s)}),w.appendChild(y),a8(()=>a2(y),h,w,d,i0)}let N=n[0].getElementsByTagName(J.tagName),x=au(t,J.tagName),v=I(x,iJ);if(f(x,a,null,v,J.tagName+"s",i0,iJ),N.length>0){let t=I(au(x,ao),i0);v.appendChild(t);let s=D(au(u,ao),i0),i=["T","conc"];for(let t=0;t<N.length;t++){let a=V(N[t]),n=[];n.push(a.get("T")),n.push(a.get("conc"));let d=new J(a);e.addRateList(d);let l=N[t].getElementsByTagName(Q.tagName);if(l.length>0)for(let e=0;e<l.length;e++){let s=V(l[e]);if(0==t){let e=s.get("fromRef"),t=s.get("toRef");i.push(e+"->"+t)}let a=(P(l[e])?.nodeValue??"").trim();n.push(a);let r=new Q(s,new o.Big(a));d.addFirstOrderRate(r)}let r=N[t].getElementsByTagName(Z.tagName);if(r.length>0)for(let e=0;e<r.length;e++){let s=V(r[e]);0==t&&Array.from(s.values()).forEach(e=>{i.push("loss of "+e)});let a=(P(r[e])?.nodeValue??"").trim();n.push(a);let l=new Z(s,new o.Big(a));d.addFirstOrderLoss(l)}0==t&&_(s,i),_(s,n)}t.appendChild(s),a8(()=>a2(s),v,t,"Bartis-Widom Phenomenological Rate Coefficients",i0)}}return a}(d),ee.tagName,i0,iQ)}}(new DOMParser().parseFromString(x,"text/xml"))}}};let w=m.slice(u,u+1048576);c.readAsText(w),u+=1048576}},d.click()}}),d.appendChild(G),(U=T(O="Save MESMER File",ac(O),i0)).addEventListener("click",a5),d.appendChild(U),aj("Example_title",new Map);let F=document.getElementById(ax),H=au(tf.tagName),et=I(H);F.appendChild(et),f(H,F,null,et,tf.tagName,i0,iQ);let es=sg(et,aR,ak);sf(et,es,aR,ak);let ei=document.getElementById(av),ea=au(tx.tagName),en=I(ea);ei.appendChild(en),f(ea,ei,null,en,tx.tagName,i0,iQ),it(az,en,aU,ak);let eo=document.getElementById(aE),ed=I(void 0,iJ);eo.appendChild(ed),f(aF,eo,null,ed,aq,i0,iQ),iK(ed,aH,400,t,aV,4,2,a,ak,aU,!1);let er=document.getElementById(aw),eg=au(el.tagName),eh=I(eg);er.appendChild(eh);let em=I(void 0,i0);ir(em,aD,ak),f(eg,eh,null,em,"ConditionsList",i0,iQ);let ec=document.getElementById(ay),eu=au(tp.tagName,"list"),ep=I(eu);ec.appendChild(ep);let eN=I(void 0,i0);iR(eN,a_),f(eu,ep,null,eN,"ModelParametersList",i0,iQ);let ef=document.getElementById(aC),ex=au(ti.tagName),ev=I(ex);ef.appendChild(ev);let eE=I(void 0,i0);i_(eE,aL),f(ex,ev,null,eE,"ControlList",i0,iQ)});class a1{constructor(e,t,s){this.canvas=e,this.data=t,this.draw(s)}draw(e){this.canvas.width=800,this.canvas.height=400;let t=this.canvas.getContext("2d");t.font=e,t.clearRect(0,0,this.canvas.width,this.canvas.height);let s=this.canvas.width,i=this.canvas.height,a=Number.MAX_VALUE,n=Number.MIN_VALUE,o=0;this.data.forEach((e,s)=>{let i=Math.log10(s.toNumber());a=Math.min(a,i),n=Math.max(n,i),e.forEach((e,s)=>{o=Math.max(o,t.measureText(s).width)})});let d=0;for(let e=0;e<2;e++){let s=1-1*e;d=Math.max(d,t.measureText(s.toString()).width)}let l=t.measureText("0"),r=l.actualBoundingBoxAscent+l.actualBoundingBoxDescent,g=4*r,h=d+r+20,m=i-(h+3*r),c=s-(g+o+20),u=(c-h)/(n-a),p=(g-m)/1;t.beginPath(),t.moveTo(h,m),t.lineTo(c,m),t.stroke(),t.beginPath(),t.moveTo(h,m),t.lineTo(h,g),t.stroke();let N=["red","green","blue","orange","purple","grey","cyan","magenta","lightblue","lightgreen","pink","yellow","brown","black"],f=new Map;this.data.forEach((e,s)=>{let i=0;e.forEach((e,n)=>{let o=h+(Math.log10(s.toNumber())-a)*u,d=e.toNumber();if(d<1){let e=m+(d-0)*p;if(e>0){t.beginPath(),t.arc(o,e,2,0,2*Math.PI);let s=N[i%N.length];f.set(n,s),t.fillStyle=s,t.fill()}}i++})}),t.textAlign="center",t.textBaseline="top",t.fillStyle="black",t.fillText("log10(time/secs)",h+(c-h)/2,m+g/2),t.save(),t.rotate(-Math.PI/2),t.textAlign="center",t.textBaseline="top",t.fillText("fractional population",-m-(g-m)/2,h-h),t.restore();let x=n-a,v=Math.abs(Math.ceil(x/Math.pow(10,Math.floor(Math.log10(x))))),E=Math.ceil(a/v),w=E*v;for(;w<n;){let e=h+(w-a)*u;t.beginPath(),t.moveTo(e,m),t.lineTo(e,m+5),t.stroke(),t.fillText(w.toString(),e,m+5),w+=v}for(let e=0;e<2;e++){let s=m-1*e;t.beginPath(),t.moveTo(h,s),t.lineTo(h-5,s),t.stroke()}let y=0;f.forEach((e,s)=>{let i=t.measureText(s),a=i.actualBoundingBoxAscent+i.actualBoundingBoxDescent;y=Math.max(y,a)});let C=c+20,b=y;E=0,f.forEach((e,s)=>{let i=g+E*b;t.fillStyle=e,t.fillRect(C,i,y/2,y/2),t.fillStyle="black",t.fillText(s,C+r+t.measureText(s).width/2,i-y/2),E++})}}function a2(e){let t="",s=e.rows;for(let e=0;e<s.length;e++){let i=s[e].cells;for(let e=0;e<i.length;e++)t+=i[e].textContent,e<i.length-1&&(t+=",");t+="\n"}return t}function a3(e,t,s,i=!1){let a=document.createElement("a");a.href=i?e:`data:${t};charset=utf-8,`+encodeURIComponent(e),a.download=s,document.body.appendChild(a),a.click(),document.body.removeChild(a)}function a5(){if(null==s){alert("No Mesmer object to save.");return}{let e=new ty(s.attributes);e.setTitle(s.getTitle()),void 0!=ak&&e.setMoleculeList(new tf(new Map,Array.from(ak.values()))),void 0!=aU&&e.setReactionList(new tx(new Map,Array.from(aU.values()))),void 0!=s.getConditionss()&&e.setConditionss(s.getConditionss()),void 0!=s.getModelParameterss()&&e.setModelParameterss(s.getModelParameterss()),void 0!=s.getControls()&&e.setControls(s.getControls());let t=s.getMetadataList();void 0!=t&&e.setMetadataList(t);let i=s.getAnalysis();void 0!=i&&e.setAnalysis(i),console.log("saveXML"),a3(ty.header+e.toXML("  ",""),"text/xml",a4(e.getTitle()?.value)+".xml")}}function a4(e){return e.replace(/[^a-z0-9]/gi,"_")}function a6(e,t,i,a){let n=T("Save as PNG",au(t.id,"saveButton"),i0);null!=i?t.insertBefore(n,i):t.appendChild(n),n.addEventListener("click",()=>{a3(e.toDataURL(),"image/png",a4(s.getTitle()?.value+"_"+a)+".png",!0)})}function a8(e,t,i,a,n){let o=T("Save as CSV",au(t.id,p,aa),n);t.insertBefore(o,i),o.addEventListener("click",()=>{let t=e(),i=a4(s.getTitle()?.value+"_"+a)+".csv";a3(t,"text/csv",i),console.log("Saved "+i)})}function a9(e,t){try{let s=new o.Big(t.value);e.value=s}catch(e){alert("Value invalid, resetting...")}t.value=e.value.toString()}
//# sourceMappingURL=index.60386804.js.map
