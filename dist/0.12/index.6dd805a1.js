let e,t,s,i,n,a,o,d;function r(e){return e&&e.__esModule?e.default:e}var l={};function g(e,t){if(!e.has(t))throw Error(`Key ${t} not found in map`);return e.get(t)}function h(...e){let t=e.map(e=>e.toString()).join("-").replace(/[^a-zA-Z-_0-9]/g,"_");return/^[0-9]|^--|-^[0-9]/.test(t)&&(t="_"+t),t}function m(e,t){return null==e?"":(void 0==t&&(t=", "),Array.from(e.entries()).map(([e,t])=>`${null==e?"null":e.toString()}(${null==t?"null":t.toString()})`).join(t))}function c(e,t){return void 0==t&&(t=", "),e.map(e=>null==e?"null":e.toString()).join(t)}function u(e){let t=[];for(let s=0;s<e.length;s++)t.push(new(r(l))(e[s]));return t}function N(e){try{return new(r(l))(e),!0}catch(e){return!1}}function p(e,t){return void 0==t&&(t=" "),e.map(e=>e.toString()).join(t)}function f(e,t){return null==e||e.lt(t)?t:e}function x(e,t){return null==e||e.gt(t)?t:e}!function(e){var t,s="[big.js] ",i=s+"Invalid ",n=i+"decimal places",a=i+"rounding mode",o=s+"Division by zero",d={},r=void 0,g=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function h(e,t,s,i){var n=e.c;if(s===r&&(s=e.constructor.RM),0!==s&&1!==s&&2!==s&&3!==s)throw Error(a);if(t<1)i=3===s&&(i||!!n[0])||0===t&&(1===s&&n[0]>=5||2===s&&(n[0]>5||5===n[0]&&(i||n[1]!==r))),n.length=1,i?(e.e=e.e-t+1,n[0]=1):n[0]=e.e=0;else if(t<n.length){if(i=1===s&&n[t]>=5||2===s&&(n[t]>5||5===n[t]&&(i||n[t+1]!==r||1&n[t-1]))||3===s&&(i||!!n[0]),n.length=t,i){for(;++n[--t]>9;)if(n[t]=0,0===t){++e.e,n.unshift(1);break}}for(t=n.length;!n[--t];)n.pop()}return e}function m(e,t,s){var i=e.e,n=e.c.join(""),a=n.length;if(t)n=n.charAt(0)+(a>1?"."+n.slice(1):"")+(i<0?"e":"e+")+i;else if(i<0){for(;++i;)n="0"+n;n="0."+n}else if(i>0){if(++i>a)for(i-=a;i--;)n+="0";else i<a&&(n=n.slice(0,i)+"."+n.slice(i))}else a>1&&(n=n.charAt(0)+"."+n.slice(1));return e.s<0&&s?"-"+n:n}d.abs=function(){var e=new this.constructor(this);return e.s=1,e},d.cmp=function(e){var t,s=this.c,i=(e=new this.constructor(e)).c,n=this.s,a=e.s,o=this.e,d=e.e;if(!s[0]||!i[0])return s[0]?n:i[0]?-a:0;if(n!=a)return n;if(t=n<0,o!=d)return o>d^t?1:-1;for(n=-1,a=(o=s.length)<(d=i.length)?o:d;++n<a;)if(s[n]!=i[n])return s[n]>i[n]^t?1:-1;return o==d?0:o>d^t?1:-1},d.div=function(e){var t=this.constructor,s=this.c,i=(e=new t(e)).c,a=this.s==e.s?1:-1,d=t.DP;if(d!==~~d||d<0||d>1e6)throw Error(n);if(!i[0])throw Error(o);if(!s[0])return e.s=a,e.c=[e.e=0],e;var l,g,m,c,u,N=i.slice(),p=l=i.length,f=s.length,x=s.slice(0,l),v=x.length,E=e,w=E.c=[],y=0,b=d+(E.e=this.e-e.e)+1;for(E.s=a,a=b<0?0:b,N.unshift(0);v++<l;)x.push(0);do{for(m=0;m<10;m++){if(l!=(v=x.length))c=l>v?1:-1;else for(u=-1,c=0;++u<l;)if(i[u]!=x[u]){c=i[u]>x[u]?1:-1;break}if(c<0){for(g=v==l?i:N;v;){if(x[--v]<g[v]){for(u=v;u&&!x[--u];)x[u]=9;--x[u],x[v]+=10}x[v]-=g[v]}for(;!x[0];)x.shift()}else break}w[y++]=c?m:++m,x[0]&&c?x[v]=s[p]||0:x=[s[p]]}while((p++<f||x[0]!==r)&&a--)return!w[0]&&1!=y&&(w.shift(),E.e--,b--),y>b&&h(E,b,t.RM,x[0]!==r),E},d.eq=function(e){return 0===this.cmp(e)},d.gt=function(e){return this.cmp(e)>0},d.gte=function(e){return this.cmp(e)>-1},d.lt=function(e){return 0>this.cmp(e)},d.lte=function(e){return 1>this.cmp(e)},d.minus=d.sub=function(e){var t,s,i,n,a=this.constructor,o=this.s,d=(e=new a(e)).s;if(o!=d)return e.s=-d,this.plus(e);var r=this.c.slice(),l=this.e,g=e.c,h=e.e;if(!r[0]||!g[0])return g[0]?e.s=-d:r[0]?e=new a(this):e.s=1,e;if(o=l-h){for((n=o<0)?(o=-o,i=r):(h=l,i=g),i.reverse(),d=o;d--;)i.push(0);i.reverse()}else for(s=((n=r.length<g.length)?r:g).length,o=d=0;d<s;d++)if(r[d]!=g[d]){n=r[d]<g[d];break}if(n&&(i=r,r=g,g=i,e.s=-e.s),(d=(s=g.length)-(t=r.length))>0)for(;d--;)r[t++]=0;for(d=t;s>o;){if(r[--s]<g[s]){for(t=s;t&&!r[--t];)r[t]=9;--r[t],r[s]+=10}r[s]-=g[s]}for(;0===r[--d];)r.pop();for(;0===r[0];)r.shift(),--h;return r[0]||(e.s=1,r=[h=0]),e.c=r,e.e=h,e},d.mod=function(e){var t,s=this,i=s.constructor,n=s.s,a=(e=new i(e)).s;if(!e.c[0])throw Error(o);return(s.s=e.s=1,t=1==e.cmp(s),s.s=n,e.s=a,t)?new i(s):(n=i.DP,a=i.RM,i.DP=i.RM=0,s=s.div(e),i.DP=n,i.RM=a,this.minus(s.times(e)))},d.neg=function(){var e=new this.constructor(this);return e.s=-e.s,e},d.plus=d.add=function(e){var t,s,i,n=this.constructor;if(e=new n(e),this.s!=e.s)return e.s=-e.s,this.minus(e);var a=this.e,o=this.c,d=e.e,r=e.c;if(!o[0]||!r[0])return r[0]||(o[0]?e=new n(this):e.s=this.s),e;if(o=o.slice(),t=a-d){for(t>0?(d=a,i=r):(t=-t,i=o),i.reverse();t--;)i.push(0);i.reverse()}for(o.length-r.length<0&&(i=r,r=o,o=i),t=r.length,s=0;t;o[t]%=10)s=(o[--t]=o[t]+r[t]+s)/10|0;for(s&&(o.unshift(s),++d),t=o.length;0===o[--t];)o.pop();return e.c=o,e.e=d,e},d.pow=function(e){var t=this,s=new t.constructor("1"),n=s,a=e<0;if(e!==~~e||e<-1e6||e>1e6)throw Error(i+"exponent");for(a&&(e=-e);1&e&&(n=n.times(t)),e>>=1;)t=t.times(t);return a?s.div(n):n},d.prec=function(e,t){if(e!==~~e||e<1||e>1e6)throw Error(i+"precision");return h(new this.constructor(this),e,t)},d.round=function(e,t){if(e===r)e=0;else if(e!==~~e||e<-1e6||e>1e6)throw Error(n);return h(new this.constructor(this),e+this.e+1,t)},d.sqrt=function(){var e,t,i,n=this.constructor,a=this.s,o=this.e,d=new n("0.5");if(!this.c[0])return new n(this);if(a<0)throw Error(s+"No square root");0===(a=Math.sqrt(this+""))||a===1/0?((t=this.c.join("")).length+o&1||(t+="0"),o=((o+1)/2|0)-(o<0||1&o),e=new n(((a=Math.sqrt(t))==1/0?"5e":(a=a.toExponential()).slice(0,a.indexOf("e")+1))+o)):e=new n(a+""),o=e.e+(n.DP+=4);do i=e,e=d.times(i.plus(this.div(i)));while(i.c.slice(0,o).join("")!==e.c.slice(0,o).join(""))return h(e,(n.DP-=4)+e.e+1,n.RM)},d.times=d.mul=function(e){var t,s=this.constructor,i=this.c,n=(e=new s(e)).c,a=i.length,o=n.length,d=this.e,r=e.e;if(e.s=this.s==e.s?1:-1,!i[0]||!n[0])return e.c=[e.e=0],e;for(e.e=d+r,a<o&&(t=i,i=n,n=t,r=a,a=o,o=r),t=Array(r=a+o);r--;)t[r]=0;for(d=o;d--;){for(o=0,r=a+d;r>d;)o=t[r]+n[d]*i[r-d-1]+o,t[r--]=o%10,o=o/10|0;t[r]=o}for(o?++e.e:t.shift(),d=t.length;!t[--d];)t.pop();return e.c=t,e},d.toExponential=function(e,t){var s=this,i=s.c[0];if(e!==r){if(e!==~~e||e<0||e>1e6)throw Error(n);for(s=h(new s.constructor(s),++e,t);s.c.length<e;)s.c.push(0)}return m(s,!0,!!i)},d.toFixed=function(e,t){var s=this,i=s.c[0];if(e!==r){if(e!==~~e||e<0||e>1e6)throw Error(n);for(s=h(new s.constructor(s),e+s.e+1,t),e=e+s.e+1;s.c.length<e;)s.c.push(0)}return m(s,!1,!!i)},d.toJSON=d.toString=function(){var e=this.constructor;return m(this,this.e<=e.NE||this.e>=e.PE,!!this.c[0])},d.toNumber=function(){var e=Number(m(this,!0,!0));if(!0===this.constructor.strict&&!this.eq(e.toString()))throw Error(s+"Imprecise conversion");return e},d.toPrecision=function(e,t){var s=this,n=s.constructor,a=s.c[0];if(e!==r){if(e!==~~e||e<1||e>1e6)throw Error(i+"precision");for(s=h(new n(s),e,t);s.c.length<e;)s.c.push(0)}return m(s,e<=s.e||s.e<=n.NE||s.e>=n.PE,!!a)},d.valueOf=function(){var e=this.constructor;if(!0===e.strict)throw Error(s+"valueOf disallowed");return m(this,this.e<=e.NE||this.e>=e.PE,!0)},(t=function e(){function t(s){if(!(this instanceof t))return s===r?e():new t(s);if(s instanceof t)this.s=s.s,this.e=s.e,this.c=s.c.slice();else{if("string"!=typeof s){if(!0===t.strict&&"bigint"!=typeof s)throw TypeError(i+"value");s=0===s&&1/s<0?"-0":String(s)}(function(e,t){var s,n,a;if(!g.test(t))throw Error(i+"number");for(e.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(s=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(s<0&&(s=n),s+=+t.slice(n+1),t=t.substring(0,n)):s<0&&(s=t.length),a=t.length,n=0;n<a&&"0"==t.charAt(n);)++n;if(n==a)e.c=[e.e=0];else{for(;a>0&&"0"==t.charAt(--a););for(e.e=s-n-1,e.c=[],s=0;n<=a;)e.c[s++]=+t.charAt(n++)}})(this,s)}this.constructor=t}return t.prototype=d,t.DP=20,t.RM=1,t.NE=-7,t.PE=21,t.strict=!1,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}()).default=t.Big=t,"function"==typeof define&&define.amd?define(function(){return t}):l?l=t:e.Big=t}(l);const v="button",E="select";function w(e,t,s,i,n,a,o){let d=I(e,o),r=P(n+" ▼",h(e,v),a);return r.className="collapsible",r.addEventListener("click",function(){let e=r.textContent.split(" ");e[e.length-1]="▼"===e[e.length-1]?"▲":"▼",r.textContent=e.join(" ")}),d.appendChild(r),d.appendChild(i),null!=s?t.insertBefore(d,s):t.appendChild(d),r.removeEventListener("click",y),r.addEventListener("click",y),d}function y(){this.classList.toggle("active");let e=this.nextElementSibling;null!=e?e instanceof HTMLDivElement?"block"===e.style.display?e.style.display="none":e.style.display="block":console.log("toggleCollapsible: nextElementSibling is not an HTMLDivElement"):console.log("toggleCollapsible: nextElementSibling is null")}function b(e,t,s,i,n,a,o){let d;let r=B(void 0,i),l=((d=C(e,t,s)).onchange=n,d.value=a,T(d),d),g=D(o,s);return g.htmlFor=t,r.appendChild(g),r.appendChild(l),r}function C(e,t,s){let i=document.createElement("input");return i.type=e,i.id=t,Object.assign(i.style,s),i.style.fontSize="1em",i.classList.add("auto-width"),i}function S(e,t){let s=document.createElement("textarea");return s.id=e,Object.assign(s.style,t),s.style.fontSize="1em",s.classList.add("auto-width"),s}function M(e,t){let s="<"+t;if(e)for(let[t,i]of e)s+=" "+t+'="'+i+'"';return s+" />"}function T(e,t){void 0==t&&(t=4),e.style.width=e.value.length+t+"ch"}function R(e,t){void 0==t&&(t=6),e.style.width=e.value.length+t+"ch"}function z(e,t){void 0==t&&(t=6),e.style.width=e.value.length+t+"ch"}function _(e,t,s,i,n){let a=document.createElement("select");return e.forEach(e=>{a.name=t,a.id=i;let s=document.createElement("option");s.value=e,s.text=e,a.appendChild(s)}),a.value=s,a.style.fontSize="1em",a.classList.add("auto-width"),R(a),Object.assign(a.style,n),a}function L(e,t,s,i,n,a,o){let d=B(n,o),r=D(e,a);return d.appendChild(r),d.appendChild(_(t,s,i,h(n,E),a)),d}function P(e,t,s){let i=document.createElement("button");return i.textContent=e,void 0!=t&&(i.id=t),void 0!=s&&Object.assign(i.style,s),i.style.fontSize="1em",i}function I(e,t){let s=document.createElement("div");return void 0!=e&&(s.id=e),void 0!=t&&Object.assign(s.style,t),s}function B(e,t){let s=I(e,t);return s.style.display="flex",s.style.flexWrap="wrap",s}function D(e,t){let s=document.createElement("label");return Object.assign(s.style,t),s.textContent=e,s.style.fontSize="1em",s}function A(e,t){let s=document.createElement("table");return s.id=e,Object.assign(s.style,t),s}function G(e,t){let s=e.insertRow();return t.forEach(e=>{s.insertCell().textContent=e}),s}function k(e,t){let s=e.getElementsByTagName(t)[0];if(null==s)throw Error(t+" element not found");return s}function O(e){let t=e.childNodes;if(null==t)throw Error("Element has no childNodes");return t[0]}function F(e){let t=e.nodeValue;if(null==t)throw Error("nodeValue is null");return t}function H(e){let t=O(e);return t?F(t).trim():""}class q{constructor(e){this.tagName=e}toXML(e){let t=M(void 0,this.tagName);return e?"\n"+e+t:t}}class U extends q{constructor(e,t){super(t),this.attributes=e}toString(){let e=this.tagName+"(";return this.attributes&&this.attributes.forEach((t,s)=>{e+=`${s}(${t}), `}),e}toXML(e){let t="";for(let[s,i]of(void 0!=e&&(t+="\n"+e),t+="<"+this.tagName,this.attributes))t+=" "+s+'="'+i.toString()+'"';return t+" />"}}class V extends U{constructor(e,t,s){super(e,t),this.value=s}toString(){return super.toString()+`, ${this.value.toString()})`}toXML(e){return $(this.value.trim(),this.tagName,this.attributes,e,!1)}}class j extends U{constructor(e,t,s){super(e,t),this.value=s}toString(){return super.toString()+`, ${this.value.toString()})`}toXML(e){return $(this.value.toString(),this.tagName,this.attributes,e,!1)}}class X extends U{constructor(e,t,s,i){super(e,t),this.delimiter=" ",this.values=s,void 0!=i&&(this.delimiter=i)}getValues(){return this.values}setValues(e){this.values=e}toString(){return super.toString()+`, ${this.values.toString()})`}setDelimiter(e){this.delimiter=e}toXML(e){return $(p(this.values,this.delimiter),this.tagName,this.attributes,e,!1)}}class Y extends U{constructor(e,t){super(e,t),this.nodes=new Map}addNode(e){this.nodes.set(this.nodes.size,e)}toString(){let e=super.toString();return this.nodes.forEach((t,s)=>{e+=`, ${t.toString()}`}),e+")"}toXML(e,t){let s;void 0!=e&&void 0!=t&&(s=t+e);let i="";if(this.nodes.size>0)return this.nodes.forEach(t=>{void 0==t?console.warn("Node 0 is undefined this.nodes.size = "+this.nodes.size):t instanceof Y?i+=t.toXML(e,s):i+=t.toXML(s)}),$(i,this.tagName,this.attributes,t,!0);{let e=M(this.attributes,this.tagName);return void 0!=t?"\n"+t+e:e}}}function $(e,t,s,i,n){let a;return function(e,t,s){let i="";if(void 0!=s&&(i+="\n"+s),i+="<"+e,t)for(let[e,s]of t)i+=" "+e+'="'+s.toString()+'"';return i+">"}(t,s,i)+e+(a="",n&&void 0!=i&&(a+="\n"+i),a+"</"+t+">")}function W(e){let t=e.getAttributeNames(),s=new Map;return t.forEach(function(t){let i=e.getAttribute(t);null!=i&&s.set(t.trim(),i.trim())}),s}function K(e,t){let s=e.getElementsByTagName(t);if(1!=s.length)throw Error("Expecting 1 "+t+" but finding "+s.length);return s[0]}class Z extends j{static{this.s_units="units"}static{this.s_lower="lower"}static{this.s_upper="upper"}static{this.s_stepsize="stepsize"}constructor(e,t,s){super(e,t,s)}setValue(e){this.value=e}getUnits(){return this.attributes.get(Z.s_units)}setUnits(e){this.attributes.set(Z.s_units,e)}removeUnits(){this.attributes.delete(Z.s_units)}getLower(){let e=this.attributes.get(Z.s_lower);if(void 0!=e)return new(r(l))(e)}setLower(e){this.attributes.set(Z.s_lower,e.toString())}removeLower(){this.attributes.delete(Z.s_lower)}getUpper(){let e=this.attributes.get(Z.s_upper);if(void 0!=e)return new(r(l))(e)}setUpper(e){this.attributes.set(Z.s_upper,e.toString())}removeUpper(){this.attributes.delete(Z.s_upper)}getStepsize(){let e=this.attributes.get(Z.s_stepsize);if(void 0!=e)return new(r(l))(e)}setStepsize(e){this.attributes.set(Z.s_stepsize,e.toString())}removeStepsize(){this.attributes.delete(Z.s_stepsize)}}class Q extends j{static{this.tagName="me:eigenvalue"}constructor(e,t){super(e,Q.tagName,t)}}class J extends Y{static{this.tagName="me:eigenvalueList"}constructor(e,t){super(e,J.tagName),t&&t.forEach(e=>{this.addNode(e)})}addEigenvalue(e){this.addNode(e)}}class ee extends j{static{this.tagName="me:pop"}constructor(e,t){super(e,ee.tagName,t)}}class et extends Y{static{this.tagName="me:population"}constructor(e,t){super(e,et.tagName)}addPop(e){this.addNode(e)}}class es extends Y{static{this.tagName="me:populationList"}constructor(e,t){super(e,es.tagName),t&&t.forEach(e=>{this.addNode(e)})}addPopulation(e){this.addNode(e)}}class ei extends j{static{this.tagName="me:firstOrderLoss"}constructor(e,t){super(e,ei.tagName,t)}}class en extends j{static{this.tagName="me:firstOrderRate"}constructor(e,t){super(e,ei.tagName,t)}}class ea extends Y{static{this.tagName="me:rateList"}constructor(e,t,s){if(super(e,eo.tagName),this.index=new Map,this.folIndex=new Map,t){let e=0;t.forEach(t=>{this.index.set(ei.tagName+e.toString(),this.nodes.size),this.folIndex.set(this.folIndex.size,this.nodes.size),this.addNode(t),e++}),this.fols=t}else this.fols=[];if(this.forIndex=new Map,s){let e=0;s.forEach(t=>{this.index.set(en.tagName+e.toString(),this.nodes.size),this.forIndex.set(this.forIndex.size,this.nodes.size),this.addNode(t),e++}),this.fors=s}else this.fors=[]}addFirstOrderLoss(e){this.folIndex.set(this.folIndex.size,this.nodes.size),this.index.set(ei.tagName+this.folIndex.size.toString(),this.nodes.size),this.fols.push(e),this.addNode(e)}addFirstOrderRate(e){this.forIndex.set(this.forIndex.size,this.nodes.size),this.index.set(en.tagName+this.forIndex.size.toString(),this.nodes.size),this.fors.push(e),this.addNode(e)}}class eo extends Y{static{this.tagName="me:analysis"}constructor(e,t,s,i,n){super(e,eo.tagName),this.index=new Map,t&&(this.index.set(tz.tagName,this.nodes.size),this.addNode(t)),this.elIndex=new Map,s?(s.forEach(e=>{this.index.set(J.tagName,this.nodes.size),this.elIndex.set(this.elIndex.size,this.nodes.size),this.addNode(e)}),this.els=s):this.els=[],this.plIndex=new Map,i?(i.forEach(e=>{this.index.set(es.tagName,this.nodes.size),this.plIndex.set(this.plIndex.size,this.nodes.size),this.addNode(e)}),this.pls=i):this.pls=[],this.rlIndex=new Map,n?(n.forEach(e=>{this.index.set(ea.tagName,this.nodes.size),this.rlIndex.set(this.rlIndex.size,this.nodes.size),this.addNode(e)}),this.rls=n):this.rls=[]}getDescription(){if(this.index.has(tz.tagName)){let e=this.index.get(tz.tagName);return this.nodes.get(e)}}setDescription(e){if(this.index.has(tz.tagName)){let t=this.index.get(tz.tagName);this.nodes.set(t,e)}else this.index.set(tz.tagName,this.nodes.size),this.addNode(e)}addEigenvalueList(e){this.elIndex.set(this.elIndex.size,this.nodes.size),this.addNode(e),this.els.push(e)}addPopulationList(e){this.plIndex.set(this.plIndex.size,this.nodes.size),this.addNode(e),this.pls.push(e)}addRateList(e){this.rlIndex.set(this.rlIndex.size,this.nodes.size),this.addNode(e),this.rls.push(e)}}class ed extends V{static{this.tagName="me:bathGas"}constructor(e,t){super(e,ed.tagName,t)}}class er extends j{static{this.tagName="me:experimentalRate"}static{this.s_ref1="ref1"}static{this.s_ref2="ref2"}static{this.s_refReaction="refReaction"}static{this.s_error="error"}constructor(e,t){super(e,er.tagName,t)}getRef1(){return this.attributes.get(er.s_ref1)}setRef1(e){this.attributes.set(er.s_ref1,e)}getRef2(){return this.attributes.get(er.s_ref2)}setRef2(e){this.attributes.set(er.s_ref2,e)}getRefReaction(){return this.attributes.get(er.s_refReaction)}setRefReaction(e){this.attributes.set(er.s_refReaction,e)}getError(){return new(r(l))(this.attributes.get(er.s_error))}setError(e){this.attributes.set(er.s_error,e.toString())}}class el extends j{static{this.tagName="me:experimentalYield"}static{this.s_ref="ref"}static{this.s_error="error"}static{this.s_yieldTime="yieldTime"}constructor(e,t){super(e,el.tagName,t)}getRef(){return this.attributes.get(el.s_ref)}setRef(e){this.attributes.set(el.s_ref,e)}getError(){return new(r(l))(this.attributes.get(el.s_error))}setError(e){this.attributes.set(el.s_error,e.toString())}getYieldTime(){return new(r(l))(this.attributes.get(el.s_yieldTime))}setYieldTime(e){this.attributes.set(el.s_yieldTime,e.toString())}}class eg extends j{static{this.tagName="me:experimentalEigenvalue"}static{this.s_EigenvalueID="EigenvalueID"}static{this.s_error="error"}constructor(e,t){super(e,eg.tagName,t)}getEigenvalueID(){return this.attributes.get(eg.s_EigenvalueID)}setEigenvalueID(e){this.attributes.set(eg.s_EigenvalueID,e)}getError(){return new(r(l))(this.attributes.get(eg.s_error))}setError(e){this.attributes.set(eg.s_error,e.toString())}}class eh extends j{static{this.tagName="me:excessReactantConc"}static{this.s_percent="percent"}constructor(e,t){super(e,eh.tagName,t)}getPercent(){return this.attributes.get(eh.s_percent)}setPercent(e){this.attributes.set(eh.s_percent,e)}}class em extends Y{static{this.tagName="me:PTpair"}static{this.s_P="P"}static{this.s_T="T"}static{this.s_precision="precision"}static{this.s_excessReactantConc="excessReactantConc"}static{this.s_percentExcessReactantConc="percentExcessReactantConc"}constructor(e,t,s,i,n){super(e,em.tagName),this.index=new Map,void 0!=t&&(this.index.set(ed.tagName,this.nodes.size),this.addNode(t)),void 0!=s&&(this.index.set(er.tagName,this.nodes.size),this.addNode(s)),void 0!=i&&(this.index.set(el.tagName,this.nodes.size),this.addNode(i)),void 0!=n&&(this.index.set(eg.tagName,this.nodes.size),this.addNode(n))}getP(){let e=this.attributes.get(em.s_P);if(void 0!==e)return new(r(l))(e)}setP(e){this.attributes.set(em.s_P,e.toString())}getT(){let e=this.attributes.get(em.s_T);if(void 0!==e)return new(r(l))(e)}setT(e){this.attributes.set(em.s_T,e.toString())}getPrecision(){return this.attributes.get(em.s_precision)}setPrecision(e){this.attributes.set(em.s_precision,e)}getBathGas(){let e=this.index.get(ed.tagName);return void 0!=e?this.nodes.get(e):void 0}setBathGas(e){let t=this.index.get(ed.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ed.tagName,this.nodes.size),this.addNode(e))}removeBathGas(){let e=this.index.get(ed.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ed.tagName))}getExperimentalRate(){let e=this.index.get(er.tagName);return void 0!=e?this.nodes.get(e):void 0}setExperimentalRate(e){let t=this.index.get(er.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(er.tagName,this.nodes.size),this.addNode(e))}removeExperimentalRate(){let e=this.index.get(er.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(er.tagName))}getExperimentalYield(){let e=this.index.get(el.tagName);return void 0!=e?this.nodes.get(e):void 0}setExperimentalYield(e){let t=this.index.get(el.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(el.tagName,this.nodes.size),this.addNode(e))}removeExperimentalYield(){let e=this.index.get(el.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(el.tagName))}getExperimentalEigenvalue(){let e=this.index.get(eg.tagName);return void 0!=e?this.nodes.get(e):void 0}setExperimentalEigenvalue(e){let t=this.index.get(eg.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eg.tagName,this.nodes.size),this.addNode(e))}removeExperimentalEigenvalue(){let e=this.index.get(eg.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eg.tagName))}getExcessReactantConc(){return this.attributes.get(em.s_excessReactantConc)}setExcessReactantConc(e){this.attributes.set(em.s_excessReactantConc,e)}getPercentExcessReactantConc(){return this.attributes.get(em.s_percentExcessReactantConc)}setPercentExcessReactantConc(e){this.attributes.set(em.s_percentExcessReactantConc,e)}}class ec extends Y{static{this.tagName="me:PTs"}constructor(e,t){super(e,ec.tagName),void 0!=t?(t.forEach(e=>{this.addNode(e)}),this.ptps=t):this.ptps=[]}get(e){return this.ptps[e]}set(e,t){this.nodes.set(e,t),this.ptps[e]=t}add(e){return this.addNode(e),this.ptps.push(e),this.nodes.size-1}remove(e){this.nodes.delete(e),this.ptps.splice(e,1)}init(e){this.clear(),e.forEach(e=>{this.addNode(e),this.ptps.push(e)})}clear(){this.nodes.clear(),this.ptps=[]}}class eu extends Y{static{this.tagName="me:conditions"}constructor(e,t,s,i){super(e,eu.tagName),this.id=t,this.index=new Map,this.bathGasesIndex=new Map,this.bathGases=new Map,void 0!=s&&(this.index.set(ed.tagName,this.nodes.size),s.forEach(e=>{this.bathGasesIndex.set(e.value,this.nodes.size),this.addNode(e),this.bathGases.set(e,s.size)})),void 0!=i&&(this.index.set(ec.tagName,this.nodes.size),this.addNode(i))}getBathGases(){return this.bathGases}addBathGas(e){if(this.bathGases.has(e))return this.bathGases.get(e);{let t=this.bathGases.size;return this.bathGases.set(e,t),this.bathGasesIndex.set(e.value,this.nodes.size),this.addNode(e),t}}removeBathGas(e){this.bathGases.has(e)?(this.bathGases.delete(e),this.nodes.delete(this.bathGasesIndex.get(e.value))):console.warn("Conditions.removeBathGas: bathGas not found to remove.")}getPTs(){let e=this.index.get(ec.tagName);if(void 0!=e)return this.nodes.get(e)}setPTs(e){let t=this.index.get(ec.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ec.tagName,this.nodes.size),this.addNode(e))}}class eN extends q{static{this.tagName="me:calculateRateCoefficientsOnly"}constructor(){super(eN.tagName)}}class ep extends q{static{this.tagName="me:printCellDOS"}constructor(){super(ep.tagName)}}class ef extends q{static{this.tagName="me:printCellTransitionStateFlux"}constructor(){super(ef.tagName)}}class ex extends q{static{this.tagName="me:printReactionOperatorColumnSums"}constructor(){super(ex.tagName)}}class ev extends q{static{this.tagName="me:printGrainBoltzmann"}constructor(){super(ev.tagName)}}class eE extends q{static{this.tagName="me:printGrainDOS"}constructor(){super(eE.tagName)}}class ew extends q{static{this.tagName="me:printGrainkbE"}constructor(){super(ew.tagName)}}class ey extends q{static{this.tagName="me:printGrainkfE"}constructor(){super(ey.tagName)}}class eb extends q{static{this.tagName="me:printTSsos"}constructor(){super(eb.tagName)}}class eC extends q{static{this.tagName="me:printGrainedSpeciesProfile"}constructor(){super(eC.tagName)}}class eS extends q{static{this.tagName="me:printGrainTransitionStateFlux"}constructor(){super(eS.tagName)}}class eM extends q{static{this.tagName="me:printReactionOperatorSize"}constructor(){super(eM.tagName)}}class eT extends q{static{this.tagName="me:printSpeciesProfile"}constructor(){super(eT.tagName)}}class eR extends q{static{this.tagName="me:printPhenomenologicalEvolution"}constructor(){super(eR.tagName)}}class ez extends q{static{this.tagName="me:printTunnelingCoefficients"}constructor(){super(ez.tagName)}}class e_ extends q{static{this.tagName="me:printCrossingCoefficients"}constructor(){super(e_.tagName)}}class eL extends q{static{this.tagName="me:testDOS"}constructor(){super(eL.tagName)}}class eP extends q{static{this.tagName="me:testRateConstant"}constructor(){super(eP.tagName)}}class eI extends q{static{this.tagName="me:useTheSameCellNumberForAllConditions"}constructor(){super(eI.tagName)}}class eB extends V{static{this.tagName="me:ForceMacroDetailedBalance"}constructor(e,t){super(e,eB.tagName,t)}}class eD extends q{static{this.tagName="me:hideInactive"}constructor(){super(eD.tagName)}}class eA extends Y{static{this.tagName="me:calcMethod"}static{this.options=["simpleCalc","gridSearch","fitting","marquardt","analyticalRepresentation","ThermodynamicTable","sensitivityAnalysis","me:simpleCalc","me:gridSearch","me:fitting","me:marquardt","me:analyticalRepresentation","me:ThermodynamicTable","me:sensitivityAnalysis"]}constructor(e){super(e,eA.tagName)}}class eG extends eA{static{this.xsi_type="me:simpleCalc"}static{this.xsi_type2="simpleCalc"}constructor(e){super(e)}}class ek extends eA{static{this.xsi_type="me:gridSearch"}static{this.xsi_type2="gridSearch"}constructor(e){super(e)}}class eO extends j{static{this.tagName="me:fittingIterations"}constructor(e,t){super(e,eO.tagName,t)}}class eF extends eA{static{this.xsi_type="me:fitting"}static{this.xsi_type2="fitting"}constructor(e,t){super(e),void 0!=t&&this.addNode(t)}getFittingIterations(){return this.nodes.get(0)}setFittingIterations(e){this.nodes.set(0,e)}removeFittingIterations(){this.nodes.delete(0)}}class eH extends j{static{this.tagName="me:MarquardtIterations"}constructor(e,t){super(e,eH.tagName,t)}}class eq extends j{static{this.tagName="me:MarquardtTolerance"}constructor(e,t){super(e,eq.tagName,t)}}class eU extends j{static{this.tagName="me:MarquardtDerivDelta"}constructor(e,t){super(e,eU.tagName,t)}}class eV extends eA{static{this.xsi_type="me:marquardt"}static{this.xsi_type2="marquardt"}constructor(e,t,s,i){super(e),this.index=new Map,void 0!=t&&(this.index.set(eH.tagName,this.nodes.size),this.addNode(t)),void 0!=s&&(this.index.set(eq.tagName,this.nodes.size),this.addNode(s)),void 0!=i&&(this.index.set(eU.tagName,this.nodes.size),this.addNode(i))}getMarquardtIterations(){let e=this.index.get(eH.tagName);if(void 0!=e)return this.nodes.get(e)}setMarquardtIterations(e){let t=this.index.get(eH.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eH.tagName,this.nodes.size),this.addNode(e))}removeMarquardtIterations(){let e=this.index.get(eH.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eH.tagName))}getMarquardtTolerance(){let e=this.index.get(eq.tagName);if(void 0!=e)return this.nodes.get(e)}setMarquardtTolerance(e){let t=this.index.get(eq.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eq.tagName,this.nodes.size),this.addNode(e))}removeMarquardtTolerance(){let e=this.index.get(eq.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eq.tagName))}getMarquardtDerivDelta(){let e=this.index.get(eU.tagName);if(void 0!=e)return this.nodes.get(e)}setMarquardtDerivDelta(e){let t=this.index.get(eU.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eU.tagName,this.nodes.size),this.addNode(e))}removeMarquardtDerivDelta(){let e=this.index.get(eU.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eU.tagName))}}class ej extends q{static{this.tagName="me:useTraceWeighting"}constructor(){super(ej.tagName)}}class eX extends V{static{this.tagName="me:format"}static{this.options=["cantera","chemkin"]}static{this.rateUnits="rateUnits"}static{this.rateUnitsOptions=["cm3mole-1s-1","cm3molecule-1s-1"]}constructor(e,t){super(e,eX.tagName,t)}getRateUnits(){return this.attributes.get(eX.rateUnits)}setRateUnits(e){this.attributes.set(eX.rateUnits,e)}removeRateUnits(){this.attributes.delete(eX.rateUnits)}}class eY extends V{static{this.tagName="me:precision"}constructor(e,t){super(e,eY.tagName,t)}}class e$ extends j{static{this.tagName="me:chebNumTemp"}constructor(e,t){super(e,e$.tagName,t)}}class eW extends j{static{this.tagName="me:chebNumConc"}constructor(e,t){super(e,eW.tagName,t)}}class eK extends j{static{this.tagName="me:chebMaxTemp"}constructor(e,t){super(e,eK.tagName,t)}}class eZ extends j{static{this.tagName="me:chebMinTemp"}constructor(e,t){super(e,eZ.tagName,t)}}class eQ extends j{static{this.tagName="me:chebMaxConc"}constructor(e,t){super(e,eQ.tagName,t)}getUnits(){return this.attributes.get("units")}setUnits(e){this.attributes.set("units",e)}}class eJ extends j{static{this.tagName="me:chebMinConc"}constructor(e,t){super(e,eJ.tagName,t)}}class e0 extends j{static{this.tagName="me:chebTExSize"}constructor(e,t){super(e,e0.tagName,t)}}class e1 extends j{static{this.tagName="me:chebPExSize"}constructor(e,t){super(e,e1.tagName,t)}}class e2 extends eA{static{this.xsi_type="me:analyticalRepresentation"}static{this.xsi_type2="analyticalRepresentation"}constructor(e,t,s,i,n,a,o,d,r,l,g){super(e),this.index=new Map,void 0!=t&&(this.index.set(eX.tagName,this.nodes.size),this.addNode(t)),void 0!=s&&(this.index.set(eY.tagName,this.nodes.size),this.addNode(s)),void 0!=i&&(this.index.set(e$.tagName,this.nodes.size),this.addNode(i)),void 0!=n&&(this.index.set(eW.tagName,this.nodes.size),this.addNode(n)),void 0!=a&&(this.index.set(eK.tagName,this.nodes.size),this.addNode(a)),void 0!=o&&(this.index.set(eZ.tagName,this.nodes.size),this.addNode(o)),void 0!=d&&(this.index.set(eQ.tagName,this.nodes.size),this.addNode(d)),void 0!=r&&(this.index.set(eJ.tagName,this.nodes.size),this.addNode(r)),void 0!=l&&(this.index.set(e0.tagName,this.nodes.size),this.addNode(l)),void 0!=g&&(this.index.set(e1.tagName,this.nodes.size),this.addNode(g))}getFormat(){let e=this.index.get(eX.tagName);if(void 0!=e)return this.nodes.get(e)}setFormat(e){let t=this.index.get(eX.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eX.tagName,this.nodes.size),this.addNode(e))}removeFormat(){let e=this.index.get(eX.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eX.tagName))}getPrecision(){let e=this.index.get(eY.tagName);if(void 0!=e)return this.nodes.get(e)}setPrecision(e){let t=this.index.get(eY.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eY.tagName,this.nodes.size),this.addNode(e))}removePrecision(){let e=this.index.get(eY.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eY.tagName))}getChebNumTemp(){let e=this.index.get(e$.tagName);if(void 0!=e)return this.nodes.get(e)}setChebNumTemp(e){let t=this.index.get(e$.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e$.tagName,this.nodes.size),this.addNode(e))}removeChebNumTemp(){let e=this.index.get(e$.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e$.tagName))}getChebNumConc(){let e=this.index.get(eW.tagName);if(void 0!=e)return this.nodes.get(e)}setChebNumConc(e){let t=this.index.get(eW.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eW.tagName,this.nodes.size),this.addNode(e))}removeChebNumConc(){let e=this.index.get(eW.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eW.tagName))}getChebMaxTemp(){let e=this.index.get(eK.tagName);if(void 0!=e)return this.nodes.get(e)}setChebMaxTemp(e){let t=this.index.get(eK.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eK.tagName,this.nodes.size),this.addNode(e))}removeChebMaxTemp(){let e=this.index.get(eK.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eK.tagName))}getChebMinTemp(){let e=this.index.get(eZ.tagName);if(void 0!=e)return this.nodes.get(e)}setChebMinTemp(e){let t=this.index.get(eZ.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eZ.tagName,this.nodes.size),this.addNode(e))}removeChebMinTemp(){let e=this.index.get(eZ.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eZ.tagName))}getChebMaxConc(){let e=this.index.get(eQ.tagName);if(void 0!=e)return this.nodes.get(e)}setChebMaxConc(e){let t=this.index.get(eQ.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eQ.tagName,this.nodes.size),this.addNode(e))}removeChebMaxConc(){let e=this.index.get(eQ.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eQ.tagName))}getChebMinConc(){let e=this.index.get(eJ.tagName);if(void 0!=e)return this.nodes.get(e)}setChebMinConc(e){let t=this.index.get(eJ.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eJ.tagName,this.nodes.size),this.addNode(e))}removeChebMinConc(){let e=this.index.get(eJ.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eJ.tagName))}getChebTExSize(){let e=this.index.get(e0.tagName);if(void 0!=e)return this.nodes.get(e)}setChebTExSize(e){let t=this.index.get(e0.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e0.tagName,this.nodes.size),this.addNode(e))}removeChebTExSize(){let e=this.index.get(e0.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e0.tagName))}getChebPExSize(){let e=this.index.get(e1.tagName);if(void 0!=e)return this.nodes.get(e)}setChebPExSize(e){let t=this.index.get(e1.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e1.tagName,this.nodes.size),this.addNode(e))}removeChebPExSize(){let e=this.index.get(e1.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e1.tagName))}}class e3 extends j{static{this.tagName="me:Tmin"}constructor(e,t){super(e,e3.tagName,t)}}class e5 extends j{static{this.tagName="me:Tmid"}constructor(e,t){super(e,e5.tagName,t)}}class e4 extends j{static{this.tagName="me:Tmax"}constructor(e,t){super(e,e4.tagName,t)}}class e6 extends j{static{this.tagName="me:Tstep"}constructor(e,t){super(e,e3.tagName,t)}}class e8 extends eA{static{this.xsi_type="me:ThermodynamicTable"}static{this.xsi_type2="ThermodynamicTable"}constructor(e,t,s,i,n){super(e),this.index=new Map,void 0!=t&&(this.index.set(e3.tagName,this.nodes.size),this.addNode(t)),void 0!=s&&(this.index.set(e5.tagName,this.nodes.size),this.addNode(s)),void 0!=i&&(this.index.set(e4.tagName,this.nodes.size),this.addNode(i)),void 0!=n&&(this.index.set(e6.tagName,this.nodes.size),this.addNode(n))}getTmin(){let e=this.index.get(e3.tagName);if(void 0!=e)return this.nodes.get(e)}setTmin(e){let t=this.index.get(e3.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e3.tagName,this.nodes.size),this.addNode(e))}removeTmin(){let e=this.index.get(e3.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e3.tagName))}getTmid(){let e=this.index.get(e5.tagName);if(void 0!=e)return this.nodes.get(e)}setTmid(e){let t=this.index.get(e5.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e5.tagName,this.nodes.size),this.addNode(e))}removeTmid(){let e=this.index.get(e5.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e5.tagName))}getTmax(){let e=this.index.get(e4.tagName);if(void 0!=e)return this.nodes.get(e)}setTmax(e){let t=this.index.get(e4.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e4.tagName,this.nodes.size),this.addNode(e))}removeTmax(){let e=this.index.get(e4.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e4.tagName))}getTstep(){let e=this.index.get(e6.tagName);if(void 0!=e)return this.nodes.get(e)}setTstep(e){let t=this.index.get(e6.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e6.tagName,this.nodes.size),this.addNode(e))}removeTstep(){let e=this.index.get(e6.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e6.tagName))}}class e9 extends j{static{this.tagName="me:sensitivityAnalysisSamples"}constructor(e,t){super(e,e9.tagName,t)}}class e7 extends j{static{this.tagName="me:sensitivityAnalysisOrder"}constructor(e,t){super(e,e7.tagName,t)}}class te extends j{static{this.tagName="me:sensitivityNumVarRedIters"}constructor(e,t){super(e,te.tagName,t)}}class tt extends V{static{this.tagName="me:sensitivityVarRedMethod"}static{this.options=["AdditiveControl","RatioControl"]}constructor(e,t){super(e,tt.tagName,t)}}class ts extends eA{static{this.xsi_type="me:sensitivityAnalysis"}static{this.xsi_type2="sensitivityAnalysis"}constructor(e,t,s,i,n){super(e),this.index=new Map,void 0!=t&&(this.index.set(e9.tagName,this.nodes.size),this.addNode(t)),void 0!=s&&(this.index.set(e7.tagName,this.nodes.size),this.addNode(s)),void 0!=i&&(this.index.set(te.tagName,this.nodes.size),this.addNode(i)),void 0!=n&&(this.index.set(tt.tagName,this.nodes.size),this.addNode(n))}getSensitivityAnalysisSamples(){let e=this.index.get(e9.tagName);if(void 0!=e)return this.nodes.get(e)}setSensitivityAnalysisSamples(e){let t=this.index.get(e9.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e9.tagName,this.nodes.size),this.addNode(e))}removeSensitivityAnalysisSamples(){let e=this.index.get(e9.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e9.tagName))}getSensitivityAnalysisOrder(){let e=this.index.get(e7.tagName);if(void 0!=e)return this.nodes.get(e)}setSensitivityAnalysisOrder(e){let t=this.index.get(e7.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e7.tagName,this.nodes.size),this.addNode(e))}removeSensitivityAnalysisOrder(){let e=this.index.get(e7.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e7.tagName))}getSensitivityNumVarRedIters(){let e=this.index.get(te.tagName);if(void 0!=e)return this.nodes.get(e)}setSensitivityNumVarRedIters(e){let t=this.index.get(te.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(te.tagName,this.nodes.size),this.addNode(e))}removeSensitivityNumVarRedIters(){let e=this.index.get(te.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(te.tagName))}getSensitivityVarRedMethod(){let e=this.index.get(tt.tagName);if(void 0!=e)return this.nodes.get(e)}setSensitivityVarRedMethod(e){let t=this.index.get(tt.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tt.tagName,this.nodes.size),this.addNode(e))}removeSensitivityVarRedMethod(){let e=this.index.get(tt.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tt.tagName))}}class ti extends j{static{this.tagName="me:eigenvalues"}constructor(e,t){super(e,ti.tagName,t)}}class tn extends j{static{this.tagName="me:shortestTimeOfInterest"}constructor(e,t){super(e,tn.tagName,t)}}class ta extends j{static{this.tagName="me:MaximumEvolutionTime"}constructor(e,t){super(e,ta.tagName,t)}}class to extends j{static{this.tagName="me:automaticallySetMaxEne"}constructor(e,t){super(e,to.tagName,t)}}class td extends j{static{this.tagName="me:diagramEnergyOffset"}constructor(e,t){super(e,td.tagName,t)}}class tr extends U{static{this.tagName="me:testMicroRates"}constructor(e){super(e,tr.tagName),this.tMin=new(r(l))(e.get("Tmin")),this.tMax=new(r(l))(e.get("Tmax")),this.tStep=new(r(l))(e.get("Tstep"))}getTmin(){return this.tMin}setTmin(e){this.tMin=e,this.attributes?.set("Tmin",e.toString())}getTmax(){return this.tMax}setTmax(e){this.tMax=e,this.attributes?.set("Tmax",e.toString())}getTstep(){return this.tStep}setTstep(e){this.tStep=e,this.attributes?.set("Tstep",e.toString())}}class tl extends Y{static{this.tagName="me:control"}constructor(e,t){super(e,tl.tagName),this.id=t,this.index=new Map}getCalculateRateCoefficientsOnly(){let e=this.index.get(eN.tagName);if(void 0!=e)return this.nodes.get(e)}setCalculateRateCoefficientsOnly(e){let t=this.index.get(eN.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eN.tagName,this.nodes.size),this.addNode(e))}removeCalculateRateCoefficientsOnly(){let e=this.index.get(eN.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eN.tagName))}getPrintCellDOS(){let e=this.index.get(ep.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintCellDOS(e){let t=this.index.get(ep.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ep.tagName,this.nodes.size),this.addNode(e))}removePrintCellDOS(){let e=this.index.get(ep.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ep.tagName))}getPrintCellTransitionStateFlux(){let e=this.index.get(ef.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintCellTransitionStateFlux(e){let t=this.index.get(ef.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ef.tagName,this.nodes.size),this.addNode(e))}removePrintCellTransitionStateFlux(){let e=this.index.get(ef.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ef.tagName))}getPrintReactionOperatorColumnSums(){let e=this.index.get(ex.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintReactionOperatorColumnSums(e){let t=this.index.get(ex.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ex.tagName,this.nodes.size),this.addNode(e))}removePrintReactionOperatorColumnSums(){let e=this.index.get(ex.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ex.tagName))}getPrintGrainBoltzmann(){let e=this.index.get(ev.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintGrainBoltzmann(e){let t=this.index.get(ev.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ev.tagName,this.nodes.size),this.addNode(e))}removePrintGrainBoltzmann(){let e=this.index.get(ev.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ev.tagName))}getPrintGrainDOS(){let e=this.index.get(eE.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintGrainDOS(e){let t=this.index.get(eE.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eE.tagName,this.nodes.size),this.addNode(e))}removePrintGrainDOS(){let e=this.index.get(eE.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eE.tagName))}getPrintGrainkbE(){let e=this.index.get(ew.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintGrainkbE(e){let t=this.index.get(ew.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ew.tagName,this.nodes.size),this.addNode(e))}removePrintGrainkbE(){let e=this.index.get(ew.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ew.tagName))}getPrintGrainkfE(){let e=this.index.get(ey.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintGrainkfE(e){let t=this.index.get(ey.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ey.tagName,this.nodes.size),this.addNode(e))}removePrintGrainkfE(){let e=this.index.get(ey.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ey.tagName))}getPrintTSsos(){let e=this.index.get(eb.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintTSsos(e){let t=this.index.get(eb.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eb.tagName,this.nodes.size),this.addNode(e))}removePrintTSsos(){let e=this.index.get(eb.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eb.tagName))}getPrintGrainedSpeciesProfile(){let e=this.index.get(eC.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintGrainedSpeciesProfile(e){let t=this.index.get(eC.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eC.tagName,this.nodes.size),this.addNode(e))}removePrintGrainedSpeciesProfile(){let e=this.index.get(eC.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eC.tagName))}getPrintGrainTransitionStateFlux(){let e=this.index.get(eS.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintGrainTransitionStateFlux(e){let t=this.index.get(eS.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eS.tagName,this.nodes.size),this.addNode(e))}removePrintGrainTransitionStateFlux(){let e=this.index.get(eS.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eS.tagName))}getPrintReactionOperatorSize(){let e=this.index.get(eM.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintReactionOperatorSize(e){let t=this.index.get(eM.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eM.tagName,this.nodes.size),this.addNode(e))}removePrintReactionOperatorSize(){let e=this.index.get(eM.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eM.tagName))}getPrintSpeciesProfile(){let e=this.index.get(eT.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintSpeciesProfile(e){let t=this.index.get(eT.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eT.tagName,this.nodes.size),this.addNode(e))}removePrintSpeciesProfile(){let e=this.index.get(eT.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eT.tagName))}getPrintPhenomenologicalEvolution(){let e=this.index.get(eR.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintPhenomenologicalEvolution(e){let t=this.index.get(eR.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eR.tagName,this.nodes.size),this.addNode(e))}removePrintPhenomenologicalEvolution(){let e=this.index.get(eR.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eR.tagName))}getPrintTunnelingCoefficients(){let e=this.index.get(ez.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintTunnelingCoefficients(e){let t=this.index.get(ez.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ez.tagName,this.nodes.size),this.addNode(e))}removePrintTunnelingCoefficients(){let e=this.index.get(ez.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ez.tagName))}getPrintCrossingCoefficients(){let e=this.index.get(e_.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintCrossingCoefficients(e){let t=this.index.get(e_.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e_.tagName,this.nodes.size),this.addNode(e))}removePrintCrossingCoefficients(){let e=this.index.get(e_.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e_.tagName))}getTestDOS(){let e=this.index.get(eL.tagName);if(void 0!=e)return this.nodes.get(e)}setTestDOS(e){let t=this.index.get(eL.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eL.tagName,this.nodes.size),this.addNode(e))}removeTestDOS(){let e=this.index.get(eL.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eL.tagName))}getTestRateConstants(){let e=this.index.get(eP.tagName);if(void 0!=e)return this.nodes.get(e)}setTestRateConstants(e){let t=this.index.get(eP.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eP.tagName,this.nodes.size),this.addNode(e))}removeTestRateConstants(){let e=this.index.get(eP.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eP.tagName))}getUseTheSameCellNumberForAllConditions(){let e=this.index.get(eI.tagName);if(void 0!=e)return this.nodes.get(e)}setUseTheSameCellNumberForAllConditions(e){let t=this.index.get(eI.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eI.tagName,this.nodes.size),this.addNode(e))}removeUseTheSameCellNumberForAllConditions(){let e=this.index.get(eI.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eI.tagName))}getHideInactive(){let e=this.index.get(eD.tagName);if(void 0!=e)return this.nodes.get(e)}setHideInactive(e){let t=this.index.get(eD.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eD.tagName,this.nodes.size),this.addNode(e))}removeHideInactive(){let e=this.index.get(eD.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eD.tagName))}getForceMacroDetailedBalance(){let e=this.index.get(eB.tagName);if(void 0!=e)return this.nodes.get(e)}setForceMacroDetailedBalance(e){let t=this.index.get(eB.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eB.tagName,this.nodes.size),this.addNode(e))}removeForceMacroDetailedBalance(){let e=this.index.get(eB.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eB.tagName))}getCalcMethod(){let e=this.index.get(eA.tagName);if(void 0!=e)return this.nodes.get(e)}setCalcMethod(e){let t=this.index.get(eA.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eA.tagName,this.nodes.size),this.addNode(e))}removeCalcMethod(){let e=this.index.get(eA.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eA.tagName))}getEigenvalues(){let e=this.index.get(ti.tagName);if(void 0!=e)return this.nodes.get(e)}setEigenvalues(e){let t=this.index.get(ti.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ti.tagName,this.nodes.size),this.addNode(e))}removeEigenvalues(){let e=this.index.get(ti.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ti.tagName))}getShortestTimeOfInterest(){let e=this.index.get(tn.tagName);if(void 0!=e)return this.nodes.get(e)}setShortestTimeOfInterest(e){let t=this.index.get(tn.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tn.tagName,this.nodes.size),this.addNode(e))}removeShortestTimeOfInterest(){let e=this.index.get(tn.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tn.tagName))}getMaximumEvolutionTime(){let e=this.index.get(ta.tagName);if(void 0!=e)return this.nodes.get(e)}setMaximumEvolutionTime(e){let t=this.index.get(ta.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ta.tagName,this.nodes.size),this.addNode(e))}removeMaximumEvolutionTime(){let e=this.index.get(ta.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ta.tagName))}getAutomaticallySetMaxEne(){let e=this.index.get(to.tagName);if(void 0!=e)return this.nodes.get(e)}setAutomaticallySetMaxEne(e){let t=this.index.get(to.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(to.tagName,this.nodes.size),this.addNode(e))}removeAutomaticallySetMaxEne(){let e=this.index.get(to.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(to.tagName))}getDiagramEnergyOffset(){let e=this.index.get(td.tagName);if(void 0!=e)return this.nodes.get(e)}setDiagramEnergyOffset(e){let t=this.index.get(td.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(td.tagName,this.nodes.size),this.addNode(e))}removeDiagramEnergyOffset(){let e=this.index.get(td.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(td.tagName))}getTestMicroRates(){let e=this.index.get(tr.tagName);if(void 0!=e)return this.nodes.get(e)}setTestMicroRates(e){let t=this.index.get(tr.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tr.tagName,this.nodes.size),this.addNode(e))}removeTestMicroRates(){let e=this.index.get(tr.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tr.tagName))}}class tg extends Y{static{this.tagName="metadata"}constructor(e){super(e,tg.tagName)}getLabelText(){let e="";return this.attributes.forEach((t,s)=>{e+=s+": "+t+" "}),e}}class th extends V{static{this.tagName="dc:title"}constructor(e,t){super(e,th.tagName,t)}}class tm extends V{static{this.tagName="dc:source"}constructor(e,t){super(e,tm.tagName,t)}}class tc extends V{static{this.tagName="dc:creator"}constructor(e,t){super(e,tc.tagName,t)}}class tu extends V{static{this.tagName="dc:date"}constructor(e,t){super(e,tu.tagName,t)}}class tN extends V{static{this.tagName="dc:contributor"}constructor(e,t){super(e,tN.tagName,t)}}class tp extends Y{static{this.tagName="metadataList"}constructor(e,t,s,i,n,a){super(e,tp.tagName),this.index=new Map,this.metadataIndex=new Map,t&&(this.index.set(th.tagName,this.nodes.size),this.addNode(t)),s&&(this.index.set(tm.tagName,this.nodes.size),this.addNode(s)),i&&(this.index.set(tc.tagName,this.nodes.size),this.addNode(i)),n&&(this.index.set(tu.tagName,this.nodes.size),this.addNode(n)),a&&(this.index.set(tN.tagName,this.nodes.size),this.addNode(a))}getTitle(){if(this.index.has(th.tagName)){let e=this.index.get(th.tagName);return this.nodes.get(e)}}setTitle(e){if(this.index.has(th.tagName)){let t=this.index.get(th.tagName);this.nodes.set(t,e)}else this.index.set(th.tagName,this.nodes.size),this.addNode(e)}getSource(){if(this.index.has(tm.tagName)){let e=this.index.get(tm.tagName);return this.nodes.get(e)}}setSource(e){if(this.index.has(tm.tagName)){let t=this.index.get(tm.tagName);this.nodes.set(t,e)}else this.index.set(tm.tagName,this.nodes.size),this.addNode(e)}getCreator(){if(this.index.has(tc.tagName)){let e=this.index.get(tc.tagName);return this.nodes.get(e)}}setCreator(e){if(this.index.has(tc.tagName)){let t=this.index.get(tc.tagName);this.nodes.set(t,e)}else this.index.set(tc.tagName,this.nodes.size),this.addNode(e)}getDate(){if(this.index.has(tu.tagName)){let e=this.index.get(tu.tagName);return this.nodes.get(e)}}setDate(e){if(this.index.has(tu.tagName)){let t=this.index.get(tu.tagName);this.nodes.set(t,e)}else this.index.set(tu.tagName,this.nodes.size),this.addNode(e)}getContributor(){if(this.index.has(tN.tagName)){let e=this.index.get(tN.tagName);return this.nodes.get(e)}}setContributor(e){if(this.index.has(tN.tagName)){let t=this.index.get(tN.tagName);this.nodes.set(t,e)}else this.index.set(tN.tagName,this.nodes.size),this.addNode(e)}addMetadata(e){this.metadataIndex.set(this.metadataIndex.size,this.nodes.size),this.addNode(e)}getMetadata(){let e=[];for(let t=0;t<this.metadataIndex.size;t++){let s=this.metadataIndex.get(t);e.push(this.nodes.get(s))}return e}}class tf extends j{static{this.tagName="me:grainSize"}constructor(e,t){super(e,tf.tagName,t)}}class tx extends j{static{this.tagName="me:automaticallySetMaxEne"}constructor(e,t){super(e,tx.tagName,t)}}class tv extends j{static{this.tagName="me:energyAboveTheTopHill"}constructor(e,t){super(e,tv.tagName,t)}}class tE extends j{static{this.tagName="me:maxTemperature"}constructor(e,t){super(e,tE.tagName,t)}}class tw extends Y{static{this.tagName="me:modelParameters"}constructor(e,t,s,i,n,a){super(e,tw.tagName),this.id=t,this.index=new Map,void 0!=s&&(this.index.set(tf.tagName,this.nodes.size),this.addNode(s)),void 0!=i&&(this.index.set(tx.tagName,this.nodes.size),this.addNode(i)),void 0!=n&&(this.index.set(tv.tagName,this.nodes.size),this.addNode(n)),void 0!=a&&(this.index.set(tE.tagName,this.nodes.size),this.addNode(a))}getGrainSize(){console.log("getGrainSize");let e=this.index.get(tf.tagName);if(void 0!=e)return this.nodes.get(e);console.log("XgetGrainSize")}setGrainSize(e){console.log("setGrainSize");let t=this.index.get(tf.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tf.tagName,this.nodes.size),this.addNode(e))}removeGrainSize(){let e=this.index.get(tf.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tf.tagName))}getAutomaticallySetMaxEne(){let e=this.index.get(tx.tagName);if(e)return this.nodes.get(e)}setAutomaticallySetMaxEne(e){let t=this.index.get(tx.tagName);t?this.nodes.set(t,e):(this.index.set(tx.tagName,this.nodes.size),this.addNode(e))}removeAutomaticallySetMaxEne(){let e=this.index.get(tx.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tx.tagName))}getEnergyAboveTheTopHill(){let e=this.index.get(tv.tagName);if(e)return this.nodes.get(e)}setEnergyAboveTheTopHill(e){let t=this.index.get(tv.tagName);t?this.nodes.set(t,e):(this.index.set(tv.tagName,this.nodes.size),this.addNode(e))}removeEnergyAboveTheTopHill(){let e=this.index.get(tv.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tv.tagName))}getMaxTemperature(){let e=this.index.get(tE.tagName);if(e)return this.nodes.get(e)}setMaxTemperature(e){let t=this.index.get(tE.tagName);t?this.nodes.set(t,e):(this.index.set(tE.tagName,this.nodes.size),this.addNode(e))}removeMaxTemperature(){let e=this.index.get(tE.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tE.tagName))}}class ty extends V{static{this.tagName="me:title"}constructor(e,t){super(e,ty.tagName,t)}}class tb extends Y{static{this.tagName="moleculeList"}constructor(e,t){super(e,tb.tagName),this.index=new Map,void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e),this.index.set(e.getID(),this.nodes.size-1)})}getMolecule(e){let t=this.index.get(e);if(void 0!=t)return this.nodes.get(t)}removeMolecule(e){let t=this.index.get(e);void 0!=t&&(this.nodes.delete(t),this.index.delete(e))}addMolecule(e){let t=e.getID(),s=this.index.get(t);void 0!==s?(this.nodes.set(s,e),console.log("Replaced molecule with id "+t)):(this.nodes.set(this.nodes.size,e),this.index.set(t,this.nodes.size-1))}}class tC extends Y{static{this.tagName="reactionList"}constructor(e,t){super(e,tC.tagName),this.index=new Map,void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1)})}getReaction(e){let t=this.index.get(e);if(void 0!=t)return this.nodes.get(t)}removeReaction(e){let t=this.index.get(e);void 0!=t&&(this.nodes.delete(t),this.index.delete(e))}addReaction(e){let t=this.index.get(e.id);void 0!==t?(this.nodes.set(t,e),console.log("Replaced reaction with id "+e.id)):(this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1))}}class tS extends Y{static{this.tagName="conditionsList"}constructor(e,t){super(e,tT.tagName),this.index=new Map,void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1)})}getConditions(e){let t=this.index.get(e);if(void 0!=t)return this.nodes.get(t)}removeConditions(e){let t=this.index.get(e);void 0!=t&&(this.nodes.delete(t),this.index.delete(e))}addConditions(e){let t=this.index.get(e.id);void 0!=t?(this.nodes.set(t,e),console.log("Replaced conditions with id "+e.id)):(this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1))}}class tM extends Y{static{this.tagName="modelParametersList"}constructor(e,t){super(e,tM.tagName),this.index=new Map,void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1)})}getModelParameters(e){let t=this.index.get(e);if(void 0!=t)return this.nodes.get(t)}removeModelParameters(e){let t=this.index.get(e);void 0!=t&&(this.nodes.delete(t),this.index.delete(e))}addModelParameters(e){let t=this.index.get(e.id);void 0!=t?(this.nodes.set(t,e),console.log("Replaced modelParameters with id "+e.id)):(this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1))}}class tT extends Y{static{this.tagName="controlList"}constructor(e,t){super(e,tT.tagName),this.index=new Map,void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1)})}getControl(e){let t=this.index.get(e);if(void 0!=t)return this.nodes.get(t)}removeControl(e){let t=this.index.get(e);void 0!=t&&(this.nodes.delete(t),this.index.delete(e))}addControl(e){let t=this.index.get(e.id);void 0!==t?(this.nodes.set(t,e),console.log("Replaced control with id "+e.id)):(this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1))}}class tR extends Y{static{this.tagName="me:mesmer"}static{this.precisionOptions=["d","dd","qd","double","double-double","quad-double"]}static{this.pressureUnits=["Torr","PPCC","atm","mbar","psi","mols/cc"]}static{this.energyUnits=["kJ/mol","kJ per mol","cm-1","wavenumber","kcal/mol","kcal per mol","Hartree","au"]}static{this.frequencyUnits=["cm-1","GHz","amuA^2"]}static{this.elementTypes=["H","He","Li","Be","B","C","N","O","F","Ne","Na","Mg","Al","Si","P","S","Cl","Ar","K","Ca","Sc","Ti","V","Cr","Mn","Fe","Co","Ni","Cu","Zn","Ga","Ge","As","Se","Br","Kr","Rb","Sr","Y","Zr","Nb","Mo","Tc","Ru","Rh","Pd","Ag","Cd","In","Sn","Sb","Te","I","Xe","Cs","Ba","La","Ce","Pr","Nd","Pm","Sm","Eu","Gd","Tb","Dy","Ho","Er","Tm","Yb","Lu","Hf","Ta","W","Re","Os","Ir","Pt","Au","Hg","Tl","Pb","Bi","Po","At","Rn","Fr","Ra","Ac","Th","Pa","U","Np","Pu","Am","Cm","Bk","Cf","Es","Fm","Md","No","Lr","Rf","Db","Sg","Bh","Hs","Mt","Ds","Rg","Cn","Nh","Fl","Mc","Lv","Ts","Og"]}static{this.atomMasses=new Map}static{this.atomRadii=new Map}static{this.atomColors=new Map}static{this.bondColors=new Map}static{this.header=`<?xml version="1.0" encoding="utf-8" ?>
<?xml-stylesheet type='text/xsl' href='../../mesmer2.xsl' media='other'?>
<?xml-stylesheet type='text/xsl' href='../../mesmer1.xsl' media='screen'?>`}constructor(e,t,s,i,n,a,o,d,r){super(e,tR.tagName);let l=["H","O","C","N","Cl","S","Ph","Fe"],g=["White","Red","DarkGrey","Blue","Green","Yellow","Orange","Brown"];for(let e=0;e<l.length;e++)tR.atomColors.set(l[e],g[e]);let h=[1.00784,15.999,12.011,14.007,35.453,32.06,77.845,55.845];for(let e=0;e<l.length;e++)tR.atomMasses.set(l[e],h[e]);let m=[37,66,67,56,99,102,110,124];for(let e=0;e<l.length;e++)tR.atomRadii.set(l[e],m[e]);let c=[1,1.5,2,2.5,3,3.5,4,4.5,5,5.5,6];g=["Black","Red","DarkRed","Blue","DarkBlue","Green","DarkGreen","Yellow","DarkYellow","Orange","DarkOrange"];for(let e=0;e<c.length;e++)tR.bondColors.set(c[e],g[e]);this.index=new Map,void 0!=t&&(this.index.set(ty.tagName,this.nodes.size),this.addNode(t)),void 0!=s&&(this.index.set(tb.tagName,this.nodes.size),this.addNode(s)),void 0!=i&&(this.index.set(tC.tagName,this.nodes.size),this.addNode(i)),this.conditionsIndex=new Map,void 0!=n&&n.forEach(e=>{this.index.set(eu.tagName+e.id,this.nodes.size),this.conditionsIndex.set(e.id,this.nodes.size),this.addNode(e)}),this.modelParametersIndex=new Map,void 0!=a&&a.forEach(e=>{this.index.set(tw.tagName+e.id,this.nodes.size),this.modelParametersIndex.set(e.id,this.nodes.size),this.addNode(e)}),this.controlIndex=new Map,void 0!=o&&o.forEach(e=>{this.index.set(tl.tagName+e.id,this.nodes.size),this.controlIndex.set(e.id,this.nodes.size),this.addNode(e)}),void 0!=d&&(this.index.set(tp.tagName,this.nodes.size),this.addNode(d)),void 0!=r&&(this.index.set(eo.tagName,this.nodes.size),this.addNode(r))}getTitle(){let e=this.index.get(ty.tagName);if(void 0!=e)return this.nodes.get(e)}setTitle(e){let t=this.index.get(ty.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ty.tagName,this.nodes.size),this.addNode(e))}getMoleculeList(){let e=this.index.get(tb.tagName);if(void 0!=e)return this.nodes.get(e)}setMoleculeList(e){let t=this.index.get(tb.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tb.tagName,this.nodes.size),this.addNode(e))}getReactionList(){let e=this.index.get(tC.tagName);if(void 0!=e)return this.nodes.get(e)}setReactionList(e){let t=this.index.get(tC.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tC.tagName,this.nodes.size),this.addNode(e))}addConditions(e){let t=eu.tagName+e.id,s=this.index.get(t);void 0!=s?this.nodes.set(s,e):(this.index.set(t,this.nodes.size),this.conditionsIndex.set(e.id,this.nodes.size),this.addNode(e))}getConditions(e){let t=this.conditionsIndex.get(e);if(void 0!=t)return this.nodes.get(t)}getConditionss(){let e=[];return this.conditionsIndex.forEach((t,s)=>{e.push(this.nodes.get(t))}),e}setConditionss(e){e.forEach(e=>{this.addConditions(e)})}getNextConditionsID(){let e=0;return Array.from(this.conditionsIndex.keys()).sort((e,t)=>e-t).forEach(t=>{if(t>e)return e;e++}),e}removeConditions(e){let t=this.conditionsIndex.get(e);void 0!=t&&(this.nodes.delete(t),this.index.delete(eu.tagName+e),this.conditionsIndex.delete(e))}addModelParameters(e){let t=tw.tagName+e.id,s=this.index.get(t);void 0!=s?this.nodes.set(s,e):(this.index.set(t,this.nodes.size),this.modelParametersIndex.set(e.id,this.nodes.size),this.addNode(e))}getModelParameters(e){let t=this.modelParametersIndex.get(e);if(void 0!=t)return this.nodes.get(t)}getModelParameterss(){let e=[];return this.modelParametersIndex.forEach((t,s)=>{e.push(this.nodes.get(t))}),e}setModelParameterss(e){e.forEach(e=>{this.addModelParameters(e)})}getNextModelParametersID(){let e=0;return Array.from(this.modelParametersIndex.keys()).sort((e,t)=>e-t).forEach(t=>{if(t>e)return e;e++}),e}removeModelParameters(e){let t=this.modelParametersIndex.get(e);void 0!=t&&(this.nodes.delete(t),this.index.delete(tw.tagName+e),this.modelParametersIndex.delete(e))}addControl(e){let t=tl.tagName+e.id,s=this.index.get(t);void 0!=s?this.nodes.set(s,e):(this.index.set(t,this.nodes.size),this.controlIndex.set(e.id,this.nodes.size),this.addNode(e))}getControl(e){let t=this.controlIndex.get(e);if(void 0!=t)return this.nodes.get(t)}getControls(){let e=[];return this.controlIndex.forEach((t,s)=>{e.push(this.nodes.get(t))}),e}setControls(e){e.forEach(e=>{this.addControl(e)})}getNextControlID(){let e=0;return Array.from(this.controlIndex.keys()).sort((e,t)=>e-t).forEach(t=>{if(t>e)return e;e++}),e}removeControl(e){let t=this.controlIndex.get(e);void 0!=t&&(this.nodes.delete(t),this.index.delete(tl.tagName+e),this.controlIndex.delete(e))}getMetadataList(){let e=this.index.get(tp.tagName);if(void 0!=e)return this.nodes.get(e)}setMetadataList(e){let t=this.index.get(tp.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tp.tagName,this.nodes.size),this.addNode(e))}getAnalysis(){let e=this.index.get(eo.tagName);if(void 0!=e)return this.nodes.get(e)}setAnalysis(e){let t=this.index.get(eo.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eo.tagName,this.nodes.size),this.addNode(e))}}class tz extends V{static{this.tagName="me:description"}constructor(e,t){super(e,tz.tagName,t)}}class t_ extends j{static{this.tagName="me:T"}constructor(e,t){super(e,t_.tagName,t)}}class tL extends U{static{this.tagName="atom"}static{this.s_id="id"}static{this.s_elementType="elementType"}static{this.s_x3="x3"}static{this.s_y3="y3"}static{this.s_z3="z3"}constructor(e,t){super(e,tL.tagName),this.molecule=t}hasCoordinates(){return void 0!=this.attributes.get(tL.s_x3)&&void 0!=this.attributes.get(tL.s_y3)&&void 0!=this.attributes.get(tL.s_z3)}getID(){return this.attributes.get(tL.s_id)}setID(e){this.attributes.set(tL.s_id,e)}getElementType(){return this.attributes.get(tL.s_elementType)}setElementType(e){this.attributes.set(tL.s_elementType,e)}getX3(){let e=this.attributes.get(tL.s_x3);if(void 0!=e)return new(r(l))(e)}setX3(e){this.attributes.set(tL.s_x3,e.toString())}removeX3(){this.attributes.delete(tL.s_x3)}getY3(){let e=this.attributes.get(tL.s_y3);if(void 0!=e)return new(r(l))(e)}setY3(e){this.attributes.set(tL.s_y3,e.toString())}removeY3(){this.attributes.delete(tL.s_y3)}getZ3(){let e=this.attributes.get(tL.s_z3);if(void 0!=e)return new(r(l))(e)}setZ3(e){this.attributes.set("z3",e.toString())}removeZ3(){this.attributes.delete("z3")}}class tP extends Y{static{this.tagName="atomArray"}constructor(e,t){super(e,tP.tagName),this.index=new Map,this.reverseIndex=new Map,void 0==t?this.atoms=new Map:(this.atoms=t,t.forEach((e,t)=>{this.index.set(t,this.nodes.size),this.reverseIndex.set(this.nodes.size,t),this.nodes.set(this.nodes.size,e)}))}getAtom(e){return this.atoms.get(e)}addAtom(e,t){if(void 0==t){let s=e.getID();if(void 0==s)s=this.getNextAtomID(),e.setID(s);else if(this.atoms.has(s)){let t=this.getNextAtomID();console.warn("Atom with id "+s+" already exists, adding with id "+t),e.setID(t),s=t}t=s}return this.index.set(t,this.nodes.size),this.reverseIndex.set(this.nodes.size,t),this.nodes.set(this.nodes.size,e),this.atoms.set(t,e),t}getNextAtomID(){let e=1,t="a1";if(this.atoms.has(t))for(;this.atoms.has(t);)e++,t="a"+e.toString();return t}removeAtom(e){let t=this.index.get(e);if(void 0==t)throw Error("Atom with id "+e+" does not exist!");console.log("Removing atom with id "+e),this.atoms.delete(e),this.deleteNodeAndReindex(t,e)}deleteNodeAndReindex(e,t){this.nodes.delete(e),this.index.delete(t),this.reverseIndex.delete(e);let s=new Map,i=new Map,n=new Map;this.index.forEach((t,a)=>{t>e?(s.set(t-1,this.nodes.get(t)),i.set(a,t-1),n.set(t-1,a)):(s.set(t,this.nodes.get(t)),i.set(a,t),n.set(t,a))}),this.nodes=s,this.index=i,this.reverseIndex=n}}class tI extends U{static{this.tagName="bond"}static{this.s_atomRefs2="atomRefs2"}static{this.s_id="id"}static{this.s_order="order"}static{this.orderOptions=["1","1.5","2","2.5","3","3.5","4","4.5","5","5.5","6"]}constructor(e,t){super(e,tI.tagName),this.molecule=t}getAtomRefs2(){let e=this.attributes.get(tI.s_atomRefs2);return(e?.split(" "),void 0==e)?"a1 a1":e}setAtomRefs2(e){this.attributes.set(tI.s_atomRefs2,e)}getID(){return this.attributes.get(tI.s_id)}setID(e){this.attributes.set(tI.s_id,e)}getOrder(){let e=this.attributes.get(tI.s_order);if(void 0!=e)return parseFloat(e)}setOrder(e){this.attributes.set(tI.s_order,e.toString())}}class tB extends Y{static{this.tagName="bondArray"}constructor(e,t){super(e,tB.tagName),this.index=new Map,this.reverseIndex=new Map,void 0==t?this.bonds=new Map:(this.bonds=t,t.forEach((e,t)=>{this.index.set(t,this.nodes.size),this.reverseIndex.set(this.nodes.size,t),this.nodes.set(this.nodes.size,e)}))}getBondIds(){return Array.from(this.bonds.keys())}getBond(e){return this.bonds.get(e)}addBond(e,t){if(void 0==t){let s=e.getID();if(void 0==s)s=this.getNextBondID(),e.setID(s);else if(this.bonds.has(s)){let t=this.getNextBondID();console.log("Bond with id "+s+" already exists, adding with id "+t),e.setID(t),s=t}t=s}return this.index.set(t,this.nodes.size),this.reverseIndex.set(this.nodes.size,t),this.nodes.set(this.nodes.size,e),this.bonds.set(t,e),t}getNextBondID(){let e=1,t="b1";for(;this.bonds.has(t);)e++,t="b"+e.toString();return t}removeBond(e){let t=this.index.get(e);if(void 0==t)throw Error("Bond with id "+e+" does not exist!");console.log("Removing bond with id "+e),this.bonds.delete(e),this.deleteNodeAndReindex(t,e)}deleteNodeAndReindex(e,t){this.nodes.delete(e),this.index.delete(t),this.reverseIndex.delete(e);let s=new Map,i=new Map,n=new Map;this.index.forEach((t,a)=>{t>e?(s.set(t-1,this.nodes.get(t)),i.set(a,t-1),n.set(t-1,a)):(s.set(t,this.nodes.get(t)),i.set(a,t),n.set(t,a))}),this.nodes=s,this.index=i,this.reverseIndex=n}}class tD extends V{static{this.tagName="scalar"}constructor(e,t){super(e,tD.tagName,t)}getValue(){return this.value}setValue(e){this.value=e}}class tA extends j{static{this.tagName="scalar"}static{this.s_units="units"}constructor(e,t){super(e,tA.tagName,t)}updateUnits(e){if(e){let t=this.attributes.get(tA.s_units);void 0!=t&&t!=e&&this.attributes.set(tA.s_units,e)}}getValue(){return this.value}setValue(e){this.value=e}}class tG extends X{static{this.tagName="array"}static{this.s_units="units"}static{this.propertyDictRefs=new Set(["me:ZPE","me:Hf0","me:HfAT0","me:Hf298","me:rotConsts","me:symmetryNumber","me:TSOpticalSymmetryNumber","me:frequenciesScaleFactor","me:vibFreqs","me:MW","me:spinMultiplicity","me:epsilon","me:sigma","me:hessian","me:EinsteinAij","me:EinsteinBij"])}constructor(e,t,s){super(e,tG.tagName,t,s)}updateUnits(e){if(e){let t=this.attributes.get(tG.s_units);void 0!=t&&t!=e&&(this.attributes.set(tG.s_units,e),console.log("Units changed from "+t+" to "+e))}}}class tk extends X{static{this.tagName="matrix"}static{this.s_rows="rows"}static{this.s_matrixType="matrixType"}static{this.s_units="units"}constructor(e,t,s){super(e,tG.tagName,t,s)}updateUnits(e){if(e){let t=this.attributes.get(tG.s_units);void 0!=t&&t!=e&&(this.attributes.set(tG.s_units,e),console.log("Units changed from "+t+" to "+e))}}}class tO extends Y{static{this.tagName="property"}static{this.s_dictRef="dictRef"}constructor(e,t){super(e,tO.tagName);let s=e.get(tO.s_dictRef);if(void 0==s){let t=e.get("title");if(void 0==t)throw Error(tO.s_dictRef+" and title are undefined!");if("MW"==t)s="me:MW";else if("Hf298"==t)s="me:Hf298";else if("Hf0"==t)s="me:Hf0";else if("program"==t)s="program";else if("basis"==t)s="basis";else if("method"==t)s="method";else if("File Format"==t)s="method";else throw Error("Title "+t+"not recognised!")}this.dictRef=s,t&&this.nodes.set(0,t)}getProperty(){return this.nodes.get(0)}setProperty(e){this.nodes.set(0,e)}}class tF extends tO{static{this.dictRef="me:ZPE"}constructor(e,t){super(e,t)}setUnits(e){this.getProperty().updateUnits(e)}}class tH extends tO{static{this.dictRef="me:Hf0"}constructor(e,t){super(e,t)}setUnits(e){this.getProperty().updateUnits(e)}}class tq extends tO{static{this.dictRef="me:HfAT0"}constructor(e,t){super(e,t)}setUnits(e){this.getProperty().updateUnits(e)}}class tU extends tO{static{this.dictRef="me:Hf298"}constructor(e,t){super(e,t)}setUnits(e){this.getProperty().updateUnits(e)}}class tV extends tO{static{this.dictRef="me:rotConsts"}static{this.unitOptions=["cm-1","GHz","amuA^2"]}constructor(e,t){super(e,t)}}class tj extends tO{static{this.dictRef="me:symmetryNumber"}constructor(e,t){super(e,t)}}class tX extends tO{static{this.dictRef="me:TSOpticalSymmetryNumber"}constructor(e,t){super(e,t)}}class tY extends tO{static{this.dictRef="me:frequenciesScaleFactor"}constructor(e,t){super(e,t)}}class t$ extends tO{static{this.dictRef="me:vibFreqs"}constructor(e,t){super(e,t)}}class tW extends tO{static{this.dictRef="me:MW"}constructor(e,t){super(e,t)}}class tK extends tO{static{this.dictRef="me:spinMultiplicity"}constructor(e,t){super(e,t)}}class tZ extends tO{static{this.dictRef="me:epsilon"}constructor(e,t){super(e,t)}}class tQ extends tO{static{this.dictRef="me:sigma"}constructor(e,t){super(e,t)}}class tJ extends tO{static{this.dictRef="me:hessian"}static{this.unitOptions=["kJ/mol/Å2","kcal/mol/Å2","Hartree/Å2"]}constructor(e,t){super(e,t)}}class t0 extends tO{static{this.dictRef="me:EinsteinAij"}constructor(e,t){super(e,t)}}class t1 extends tO{static{this.dictRef="me:EinsteinBij"}constructor(e,t){super(e,t)}}class t2 extends tO{static{this.dictRef="me:imFreqs"}constructor(e,t){super(e,t)}}class t3 extends Y{static{this.tagName="propertyList"}constructor(e,t){super(e,t3.tagName),this.index=new Map,void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e),this.index.set(e.dictRef,this.nodes.size-1)})}getProperty(e){let t=this.index.get(e);if(void 0!=t)return this.nodes.get(t);throw Error("Property "+e+" does not exist")}setProperty(e){let t=this.index.get(e.dictRef);void 0==t?(this.nodes.set(this.nodes.size,e),this.index.set(e.dictRef,this.nodes.size-1)):(console.log("Property "+e.dictRef+" already exists, updating..."),this.nodes.set(t,e))}removeProperty(e){let t=this.index.get(e);if(void 0!=t){this.nodes.delete(t),this.index.delete(e);let s=new Map;this.index.forEach((e,i)=>{e>t?s.set(i,e-1):s.set(i,e)}),this.index=s}}}class t5 extends Z{static{this.tagName="me:deltaEDown"}static{this.s_bathGas="bathGas"}constructor(e,t){super(e,t5.tagName,t)}getBathGas(){return this.attributes.get(t5.s_bathGas)}setBathGas(e){this.attributes.set(t5.s_bathGas,e)}}class t4 extends t5{static{this.tagName="me:deltaEDown2"}constructor(e,t){super(e,t)}}class t6 extends Z{static{this.tagName="me:deltaEDownTExponent"}static{this.s_referenceTemperature="referenceTemperature"}constructor(e,t){super(e,t6.tagName,t)}getReferenceTemperature(){return parseFloat(g(this.attributes,t6.s_referenceTemperature))}setReferenceTemperature(e){this.attributes.set(t6.s_referenceTemperature,e.toString())}}class t8 extends Z{static{this.tagName="me:deltaEDownLinEne"}constructor(e,t){super(e,t8.tagName,t)}}class t9 extends Y{static{this.tagName="me:energyTransferModel"}constructor(e,t){super(e,t9.tagName),void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e)})}getDeltaEDowns(){let e=[];return this.nodes.forEach(t=>{t instanceof t5&&e.push(t)}),e}setDeltaEDowns(e){this.nodes.clear(),e.forEach(e=>{this.nodes.set(this.nodes.size,e)})}getDeltaEDown(e){if(e<0||e>=this.nodes.size)throw Error("index out of range");return this.nodes.get(e)}setDeltaEDown(e,t){this.nodes.set(e,t)}addDeltaEDown(e){return this.nodes.set(this.nodes.size,e),this.nodes.size-1}}class t7 extends U{static{this.tagName="me:DOSCMethod"}static{this.xsi_typeOptions=["ClassicalRotors","QMRotors","me:ClassicalRotors","me:QMRotors"]}static{this.s_xsi_type="xsi:type"}constructor(e){if(super(e,t7.tagName),void 0==e.get(t7.s_xsi_type)){let t=e.get("name");if(void 0==t)throw Error("Neither xsi:type or name are defined.");e.set(t7.s_xsi_type,t)}}getXsiType(){return this.attributes.get(t7.s_xsi_type)}setXsiType(e){this.attributes.set(t7.s_xsi_type,e)}}class se extends V{static{this.tagName="me:bondRef"}constructor(e,t){super(e,se.tagName,t)}}class st extends U{static{this.tagName="me:PotentialPoint"}static{this.s_angle="angle"}static{this.s_potential="potential"}constructor(e){super(e,st.tagName)}getAngle(){return this.attributes.get(st.s_angle)}setAngle(e){this.attributes.set(st.s_angle,e.toString())}getPotential(){return this.attributes.get(st.s_potential)}setPotential(e){this.attributes.set(st.s_potential,e.toString())}}class ss extends U{static{this.tagName="me:DistributionCalcMethod"}static{this.s_default="default"}static{this.s_name="name"}constructor(e){super(e,ss.tagName)}getDefault(){return this.attributes.get(ss.s_default)}getName(){return this.attributes.get(ss.s_name)}}class si extends U{static{this.tagName="me:thermoValue"}static{this.s_T="T"}static{this.s_H="H"}static{this.s_S="S"}static{this.s_G="G"}static{this.s_Cp="Cp"}constructor(e){super(e,tL.tagName)}getT(){return new(r(l))(this.attributes.get(si.s_T))}getH(){return new(r(l))(this.attributes.get(si.s_H))}getS(){return new(r(l))(this.attributes.get(si.s_S))}getG(){return new(r(l))(this.attributes.get(si.s_G))}getCp(){return new(r(l))(this.attributes.get(si.s_Cp))}toStringArray(){return[this.getT().toString(),this.getH().toString(),this.getS().toString(),this.getG().toString(),this.getCp().toString()]}toCSV(){return this.toStringArray().join(",")}}class sn extends Y{static{this.tagName="me:thermoTable"}static{this.s_unitsT="unitsT"}static{this.s_unitsH="unitsH"}static{this.s_unitsS="unitsS"}static{this.s_unitsG="unitsG"}static{this.s_unitsCp="unitsCp"}constructor(e,t){super(e,sn.tagName),void 0!=t?(t.forEach(e=>{this.addNode(e)}),this.tvs=t):this.tvs=[]}get(e){return this.tvs[e]}set(e,t){this.nodes.set(e,t),this.tvs[e]=t}add(e){return this.addNode(e),this.tvs.push(e),this.nodes.size-1}remove(e){this.nodes.delete(e),this.tvs.splice(e,1)}init(e){this.clear(),e.forEach(e=>{this.addNode(e),this.tvs.push(e)})}clear(){this.nodes.clear(),this.tvs=[]}getHeader(){return["T ("+this.attributes.get(sn.s_unitsT)+")","H(T)-H(0) ("+this.attributes.get(sn.s_unitsH)+")","S(T) ("+this.attributes.get(sn.s_unitsS)+")","G(T) ("+this.attributes.get(sn.s_unitsG)+")","Cp(T) ("+this.attributes.get(sn.s_unitsCp)+")"]}toCSV(){let e=this.getHeader().join(",")+"\n";return this.tvs.forEach(t=>{e+=t.toCSV()+"\n"}),e}}class sa extends Y{static{this.tagName="me:HinderedRotorPotential"}static{this.formats=new Set(["numerical","analytical"])}static{this.s_format="format"}static{this.s_units="units"}static{this.s_expansionSize="expansionSize"}static{this.s_useSineTerms="useSineTerms"}constructor(e,t){super(e,sa.tagName);let s=e.get(sa.s_format);if(void 0==s)throw Error(sa.s_format+" is undefined!");this.format=s;let i=e.get(sa.s_units);if(void 0==i)throw Error(sa.s_units+" is undefined!");this.units=i,void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e)}),void 0==e.get(sa.s_useSineTerms)?this.useSineTerms=!1:this.useSineTerms=!0}getFormat(){return this.format}setFormat(e){this.format=e,this.attributes.set(sa.s_format,e)}getUnits(){return this.units}setUnits(e){this.units=e,this.attributes.set(sa.s_units,e)}getExpansionSize(){return this.attributes.get(sa.s_expansionSize)}setExpansionSize(e){console.log(e.toString()),this.attributes.set(sa.s_expansionSize,e.toString())}getUseSineTerms(){return this.useSineTerms}setUseSineTerms(e){this.useSineTerms=e,this.attributes.set(sa.s_useSineTerms,e?"yes":"no")}getPotentialPoint(e){return this.nodes.get(e)}setPotentialPoint(e,t){this.nodes.set(e,t)}setPotentialPoints(e){this.nodes.clear(),e.forEach(e=>{this.nodes.set(this.nodes.size,e)})}addPotentialPoint(e){return this.nodes.set(this.nodes.size,e),this.nodes.size-1}removePotentialPoint(e){this.nodes.delete(e)}}class so extends j{static{this.tagName="me:periodicity"}constructor(e,t){super(e,so.tagName,t)}}class sd extends Y{static{this.tagName="me:ExtraDOSCMethod"}constructor(e,t,s,i){super(e,sd.tagName),this.index=new Map,t&&(this.nodes.set(this.nodes.size,t),this.index.set(se.tagName,this.nodes.size-1)),s&&(this.nodes.set(this.nodes.size,s),this.index.set(sa.tagName,this.nodes.size-1)),i&&(this.nodes.set(this.nodes.size,i),this.index.set(so.tagName,this.nodes.size-1))}getBondRef(){let e=this.index.get(se.tagName);if(void 0!=e)return this.nodes.get(e)}setBondRef(e){let t=this.index.get(se.tagName);void 0!=t?this.nodes.set(t,e):(this.nodes.set(this.nodes.size,e),this.index.set(se.tagName,this.nodes.size-1))}getHinderedRotorPotential(){let e=this.index.get(sa.tagName);if(void 0!=e)return this.nodes.get(e)}setHinderedRotorPotential(e){let t=this.index.get(sa.tagName);void 0!=t?this.nodes.set(t,e):(this.nodes.set(this.nodes.size,e),this.index.set(sa.tagName,this.nodes.size-1))}getPeriodicity(){let e=this.index.get(so.tagName);if(void 0!=e)return this.nodes.get(e)}setPeriodicity(e){let t=this.index.get(so.tagName);void 0!=t?this.nodes.set(t,e):(this.nodes.set(this.nodes.size,e),this.index.set(so.tagName,this.nodes.size-1))}}class sr extends j{static{this.tagName="me:reservoirSize"}constructor(e,t){super(e,sr.tagName,t)}}class sl extends j{static{this.tagName="me:qtot"}constructor(e,t){super(e,sl.tagName,t)}}class sg extends j{static{this.tagName="me:sumc"}constructor(e,t){super(e,sg.tagName,t)}}class sh extends j{static{this.tagName="me:sumg"}constructor(e,t){super(e,sh.tagName,t)}}class sm extends Y{static{this.tagName="me:densityOfStates"}static{this.header=[t_.tagName,sl.tagName,sg.tagName,sh.tagName]}constructor(e){super(e,sm.tagName),this.index=new Map}getT(){let e=this.index.get(t_.tagName);if(void 0!=e)return this.nodes.get(e)}setT(e){let t=this.index.get(e.tagName);void 0!=t?this.nodes.set(t,e):(this.nodes.set(this.nodes.size,e),this.index.set(e.tagName,this.nodes.size-1))}getQtot(){let e=this.index.get(sl.tagName);if(void 0!=e)return this.nodes.get(e)}setQtot(e){let t=this.index.get(e.tagName);void 0!=t?this.nodes.set(t,e):(this.nodes.set(this.nodes.size,e),this.index.set(e.tagName,this.nodes.size-1))}getSumc(){let e=this.index.get(sg.tagName);if(void 0!=e)return this.nodes.get(e)}setSumc(e){let t=this.index.get(e.tagName);void 0!=t?this.nodes.set(t,e):(this.nodes.set(this.nodes.size,e),this.index.set(e.tagName,this.nodes.size-1))}getSumg(){let e=this.index.get(sh.tagName);if(void 0!=e)return this.nodes.get(e)}setSumg(e){let t=this.index.get(e.tagName);void 0!=t?this.nodes.set(t,e):(this.nodes.set(this.nodes.size,e),this.index.set(e.tagName,this.nodes.size-1))}toStringArray(){return[this.getT().value.toString(),this.getQtot().value.toString(),this.getSumc().value.toString(),this.getSumg().value.toString()]}}class sc extends Y{static{this.tagName="me:densityOfStatesList"}constructor(e,t,s){if(super(e,sc.tagName),this.index=new Map,this.dosIndex=new Map,t&&(this.nodes.set(this.nodes.size,t),this.index.set(tz.tagName,this.nodes.size-1)),s){let e=0;s.forEach(t=>{this.dosIndex.set(e,this.nodes.size),this.nodes.set(this.nodes.size,t),e++})}}getDescription(){let e=this.index.get(tz.tagName);if(void 0!=e)return this.nodes.get(e)}setDescription(e){let t=this.index.get(tz.tagName);void 0!=t?this.nodes.set(t,e):(this.nodes.set(this.nodes.size,e),this.index.set(tz.tagName,this.nodes.size-1))}getDensityOfStates(e){let t=this.dosIndex.get(e);if(void 0!=t)return this.nodes.get(t)}setDensityOfStates(e,t){let s=this.dosIndex.get(e);void 0!=s?this.nodes.set(s,t):(this.nodes.set(this.nodes.size,t),this.dosIndex.set(e,this.nodes.size-1))}addDensityOfStates(e){this.nodes.set(this.nodes.size,e);let t=this.nodes.size-1;return this.dosIndex.set(t,this.nodes.size-1),t}removeDensityOfStates(e){let t=this.dosIndex.get(e);void 0!=t&&this.nodes.delete(t)}toCSV(){let e="",t=sm.header;return e+=t.join(",")+"\n",this.nodes.forEach(t=>{e+=t.toStringArray().join(",")+"\n"}),e}}class su extends Y{static{this.tagName="molecule"}static{this.s_id="id"}static{this.s_description="description"}static{this.s_active="active"}constructor(e,t,s,i,n,a,o,d,r,l,g,h){super(e,su.tagName),this.label=this.getID(),this.index=new Map,this.edmindex=new Map,this.id=t;let m=0;s&&(this.nodes.set(m,s),this.index.set(tp.tagName,m),m++),i&&(this.nodes.set(m,i),this.index.set(tP.tagName,m),m++),n&&(this.nodes.set(m,n),this.index.set(tB.tagName,m),m++),a&&(this.nodes.set(m,a),this.index.set(t3.tagName,m),m++),o&&(this.nodes.set(m,o),this.index.set(t9.tagName,m),m++),d&&(this.nodes.set(m,d),this.index.set(t7.tagName,m),m++),r&&(this.nodes.set(m,r),this.index.set(ss.tagName,m),m++),l&&l.forEach(e=>{this.nodes.set(m,e),this.edmindex.set(m,m),m++}),g&&(this.nodes.set(m,g),this.index.set(sr.tagName,m),m++),h&&(this.nodes.set(m,h),this.index.set(sn.tagName,m))}getLabel(){return this.getID()+" "+this.id.toString()}getID(){return this.attributes.get(su.s_id)}setID(e){this.attributes.set(su.s_id,e)}getDescription(){let e=this.attributes.get(su.s_description);return void 0!=e?e:this.getID()}setDescription(e){this.attributes.set(su.s_description,e)}getActive(){let e=this.attributes.get(su.s_active);if(void 0!=e)return"true"==e}setActive(e){this.attributes.set(su.s_active,e.toString())}getMetadataList(){let e=this.index.get(tp.tagName);if(void 0!=e)return this.nodes.get(e)}setMetadataList(e){let t=this.index.get(tp.tagName);void 0==t?(this.index.set(tp.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getPropertyList(){let e=this.index.get(t3.tagName);if(void 0!=e)return this.nodes.get(e)}setPropertyList(e){let t=this.index.get(t3.tagName);void 0==t?(this.index.set(t3.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getProperty(e){let t=this.getPropertyList();if(void 0!=t)return t.getProperty(e)}setProperty(e){this.getPropertyList().setProperty(e)}getAtom(e){return this.getAtoms().getAtom(e)}getAtoms(){let e=this.index.get(tP.tagName);return this.nodes.get(e)}setAtoms(e){this.index.set(tP.tagName,this.nodes.size),this.nodes.set(this.nodes.size,e)}getBond(e){return this.getBonds().getBond(e)}getBonds(){let e=this.index.get(tB.tagName);return this.nodes.get(e)}setBonds(e){this.index.set(tB.tagName,this.nodes.size),this.nodes.set(this.nodes.size,e)}getEnergyTransferModel(){let e=this.index.get(t9.tagName);if(void 0!=e)return this.nodes.get(e)}setEnergyTransferModel(e){let t=this.index.get(t9.tagName);void 0==t?(this.index.set(t9.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getDOSCMethod(){let e=this.index.get(t7.tagName);if(void 0!=e)return this.nodes.get(e)}setDOSCMethod(e){let t=this.index.get(t7.tagName);void 0==t?(this.index.set(t7.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getDistributionCalcMethod(){let e=this.index.get(ss.tagName);if(void 0!=e)return this.nodes.get(e)}setDistributionCalcMethod(e){let t=this.index.get(ss.tagName);void 0==t?(this.index.set(ss.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getExtraDOSCMethod(e){let t=this.edmindex.get(e);if(void 0!=t)return this.nodes.get(t)}setExtraDOSCMethod(e,t){let s=this.edmindex.get(e);void 0==s?(this.edmindex.set(e,this.nodes.size),this.nodes.set(this.nodes.size,t)):this.nodes.set(s,t)}getReservoirSize(){let e=this.index.get(sr.tagName);if(void 0!=e)return this.nodes.get(e)}setReservoirSize(e){let t=this.index.get(sr.tagName);void 0==t?(this.index.set(sr.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getDensityOfStatesList(){let e=this.index.get(sc.tagName);if(void 0!=e)return this.nodes.get(e)}setDensityOfStatesList(e){let t=this.index.get(sc.tagName);void 0==t?(this.index.set(sc.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getThermoTable(){let e=this.index.get(sn.tagName);if(void 0!=e)return this.nodes.get(e)}setThermoTable(e){let t=this.index.get(sn.tagName);void 0==t?(this.index.set(sn.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getEnergy(){let e;try{e=this.getProperty(tF.dictRef)}catch(t){try{e=this.getProperty(tH.dictRef)}catch(t){try{e=this.getProperty(tU.dictRef)}catch(t){try{e=this.getProperty(tq.dictRef)}catch(t){e=void 0}}}}return void 0==e?r(l)(0):e.getProperty().value}}class sN extends U{static{this.tagName="molecule"}constructor(e){super(e,sN.tagName),this.ref=e.get("ref"),this.role=e.get("role")}getRef(){return this.ref}setRef(e){this.ref=e,this.attributes.set("ref",e)}getRole(){return this.role}setRole(e){this.role=e,this.attributes.set("role",e)}}class sp extends Y{static{this.tagName="reactant"}static{this.roleOptions=["deficientReactant","excessReactant","modelled"]}constructor(e,t){super(e,sp.tagName),this.addNode(t)}getMolecule(){return this.nodes.get(0)}}class sf extends Y{static{this.tagName="product"}static{this.roleOptions=["modelled","sink"]}constructor(e,t){super(e,sf.tagName),this.addNode(t)}getMolecule(){return this.nodes.get(0)}}class sx extends Y{static{this.tagName="me:transitionState"}constructor(e,t){super(e,sx.tagName),this.addNode(t)}getMolecule(){return this.nodes.get(0)}}class sv extends j{static{this.tagName="me:preExponential"}constructor(e,t){super(e,sv.tagName,t)}}class sE extends j{static{this.tagName="me:activationEnergy"}constructor(e,t){super(e,sE.tagName,t)}}class sw extends j{static{this.tagName="me:TInfinity"}constructor(e,t){super(e,sw.tagName,t)}}class sy extends j{static{this.tagName="me:nInfinity"}constructor(e,t){super(e,sy.tagName,t)}}class sb extends Y{static{this.tagName="me:MCRCMethod"}constructor(e){super(e,sb.tagName)}}class sC extends sb{static{this.xsiType="me:MesmerILT"}static{this.xsiType2="MesmerILT"}constructor(e,t,s,i,n){super(e),this.index=new Map,void 0!=t&&(this.index.set(sv.tagName,this.index.size),this.addNode(t)),void 0!=s&&(this.index.set(sE.tagName,this.index.size),this.addNode(s)),void 0!=i&&(this.index.set(sw.tagName,this.index.size),this.addNode(i)),void 0!=n&&(this.index.set(sy.tagName,this.index.size),this.addNode(n))}getPreExponential(){let e=this.index.get(sv.tagName);if(void 0!=e)return this.nodes.get(e)}setPreExponential(e){let t=this.index.get(sv.tagName);void 0==t?(this.index.set(sv.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getActivationEnergy(){let e=this.index.get(sE.tagName);if(void 0!=e)return this.nodes.get(e)}setActivationEnergy(e){let t=this.index.get(sE.tagName);void 0==t?(this.index.set(sE.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getTInfinity(){let e=this.index.get(sw.tagName);if(void 0!=e)return this.nodes.get(e)}setTInfinity(e){let t=this.index.get(sw.tagName);void 0==t?(this.index.set(sw.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getNInfinity(){let e=this.index.get(sy.tagName);if(void 0!=e)return this.nodes.get(e)}setNInfinity(e){let t=this.index.get(sy.tagName);void 0==t?(this.index.set(sy.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}}class sS extends U{static{this.tagName="me:tunneling"}static{this.options=["Eckart","WKB"]}static{this.s_name="name"}constructor(e){super(e,sS.tagName)}getName(){return this.attributes.get(sS.s_name)}setName(e){this.attributes.set(sS.s_name,e)}}class sM extends j{static{this.tagName="me:excessReactantConc"}constructor(e,t){super(e,sM.tagName,t)}}class sT extends j{static{this.tagName="me:val"}constructor(e,t){super(e,sT.tagName,t)}}class sR extends j{static{this.tagName="me:rev"}constructor(e,t){super(e,sR.tagName,t)}}class sz extends j{static{this.tagName="me:Keq"}constructor(e,t){super(e,sz.tagName,t)}}class s_ extends Y{static{this.tagName="me:kinf"}constructor(e,t,s,i,n){super(e,s_.tagName),this.index=new Map,void 0!=t&&(this.index.set(t_.tagName,this.nodes.size),this.addNode(t)),void 0!=s&&(this.index.set(sT.tagName,this.nodes.size),this.addNode(s)),void 0!=i&&(this.index.set(sR.tagName,this.nodes.size),this.addNode(i)),void 0!=n&&(this.index.set(sz.tagName,this.nodes.size),this.addNode(n))}getT(){let e=this.index.get(t_.tagName);if(void 0!=e)return this.nodes.get(e)}setT(e){let t=this.index.get(t_.tagName);void 0==t?(this.index.set(t_.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getVal(){let e=this.index.get(sT.tagName);if(void 0!=e)return this.nodes.get(e)}setVal(e){let t=this.index.get(sT.tagName);void 0==t?(this.index.set(sT.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getRev(){let e=this.index.get(sR.tagName);if(void 0!=e)return this.nodes.get(e)}setRev(e){let t=this.index.get(sR.tagName);void 0==t?(this.index.set(sR.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getKeq(){let e=this.index.get(sz.tagName);if(void 0!=e)return this.nodes.get(e)}setKeq(e){let t=this.index.get(sz.tagName);void 0==t?(this.index.set(sz.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getHeader(){let e=[];return e.push("T ("+this.getT()?.attributes.get("units")+")"),e.push("kf ("+this.getVal()?.attributes.get("units")+")"),e.push("krev ("+this.getRev()?.attributes.get("units")+")"),e.push("Keq ("+this.getKeq()?.attributes.get("units")+")"),e}toStringArray(){let e=this.getT(),t=this.getVal(),s=this.getRev(),i=this.getKeq();return[e.value.toString(),t.value.toString(),s.value.toString(),i.value.toString()]}toCSV(){return this.toStringArray().join(",")}}class sL extends Y{static{this.tagName="me:canonicalRateList"}constructor(e,t,s){super(e,sL.tagName),this.index=new Map,this.kinfIndex=new Map,void 0!=t&&(this.index.set(tz.tagName,this.nodes.size),this.addNode(t)),void 0!=s&&s.forEach(e=>{this.kinfIndex.set(this.nodes.size,this.nodes.size),this.addNode(e)})}getDescription(){let e=this.index.get(tz.tagName);if(void 0!=e)return this.nodes.get(e)}setDescription(e){let t=this.index.get(tz.tagName);void 0==t?(this.index.set(tz.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getKinfs(){return Array.from(this.kinfIndex.values()).map(e=>this.nodes.get(e))}addKinf(e){this.kinfIndex.set(this.kinfIndex.size,this.nodes.size),this.addNode(e)}toCSV(){let e="",t=!0;return this.getKinfs().forEach(s=>{t&&(t=!1,e+=s.getHeader().join(",")+"\n"),e+=s.toCSV()+"\n"}),e}}class sP extends Y{static{this.tagName="reaction"}static{this.s_id="id"}constructor(e,t,s,i,n,a,o,d){super(e,sP.tagName),this.index=new Map,this.reactantsIndex=new Map,this.productsIndex=new Map,this.transitionStatesIndex=new Map;let r=e.get(sP.s_id);if(void 0==r)throw Error(sP.s_id+" is undefined!");this.id=r,void 0!=t&&(t.forEach(e=>{this.reactantsIndex.set(e.getMolecule().getRef(),this.nodes.size),this.addNode(e)}),this.index.set(sp.tagName,this.reactantsIndex)),void 0!=s&&(s.forEach(e=>{this.productsIndex.set(e.getMolecule().getRef(),this.nodes.size),this.addNode(e)}),this.index.set(sf.tagName,this.productsIndex)),void 0!=i&&(this.index.set(sS.tagName,this.nodes.size),this.addNode(i)),void 0!=n&&(n.forEach(e=>{this.transitionStatesIndex.set(e.getMolecule().getRef(),this.nodes.size),this.addNode(e)}),this.index.set(sx.tagName,this.transitionStatesIndex)),void 0!=a&&(this.index.set(sb.tagName,this.nodes.size),this.addNode(a)),void 0!=o&&(this.index.set(sM.tagName,this.nodes.size),this.addNode(o)),void 0!=d&&(this.index.set(sL.tagName,this.nodes.size),this.addNode(d))}addToIndex(e,t){let s=this.index.get(e);if(void 0==s)this.index.set(e,this.nodes.size);else if(s instanceof Map)s.set(t.tagName,this.nodes.size);else{let i=new Map;i.set(this.nodes.get(s).getRef(),s),i.set(t.tagName,this.nodes.size),this.index.set(e,i)}}getReactants(){let e=this.index.get(sp.tagName);return void 0==e?[]:e instanceof Map?Array.from(e.values()).map(e=>this.nodes.get(e)):[this.nodes.get(e)]}setReactants(e){e.forEach(e=>{this.reactantsIndex.set(e.getMolecule().getRef(),this.nodes.size),this.addNode(e)}),this.index.set(sp.tagName,this.reactantsIndex)}getReactant(e){let t=this.reactantsIndex.get(e);if(void 0==t)throw Error(`Reactant with ref ${e} not found`);return this.nodes.get(t)}addReactant(e){this.reactantsIndex.set(e.getMolecule().getRef(),this.nodes.size),this.addNode(e)}removeReactant(e){let t=this.reactantsIndex.get(e);if(void 0==t)throw Error(`Reactant with ref ${e} not found`);this.nodes.delete(t),this.reactantsIndex.delete(e)}getProducts(){let e=this.index.get(sf.tagName);return void 0==e?[]:e instanceof Map?Array.from(e.values()).map(e=>this.nodes.get(e)):[this.nodes.get(e)]}setProducts(e){e.forEach(e=>{this.productsIndex.set(e.getMolecule().getRef(),this.nodes.size),this.addNode(e)}),this.index.set(sf.tagName,this.productsIndex)}getProduct(e){let t=this.productsIndex.get(e);if(void 0==t)throw Error(`Product with ref ${e} not found`);return this.nodes.get(t)}addProduct(e){this.productsIndex.set(e.getMolecule().getRef(),this.nodes.size),this.addNode(e)}removeProduct(e){let t=this.productsIndex.get(e);if(void 0==t)throw Error(`Product with ref ${e} not found`);this.nodes.delete(t),this.productsIndex.delete(e)}getTunneling(){let e=this.index.get(sS.tagName);if(void 0!=e)return this.nodes.get(e)}setTunneling(e){let t=this.index.get(sS.tagName);if(void 0==t)this.index.set(sS.tagName,this.nodes.size),this.addNode(e);else{if(t instanceof Map)throw Error("Tunneling is a map and it is assumed there would be only 1!");this.nodes.set(t,e)}}getTransitionStates(){let e=this.index.get(sx.tagName);return void 0==e?[]:e instanceof Map?Array.from(e.values()).map(e=>this.nodes.get(e)):[this.nodes.get(e)]}setTransitionStates(e){e.forEach(e=>{this.transitionStatesIndex.set(e.getMolecule().getRef(),this.nodes.size),this.addNode(e)}),this.index.set(sx.tagName,this.transitionStatesIndex)}getTransitionState(e){let t=this.transitionStatesIndex.get(e);if(void 0==t)throw Error(`Transition state with ref ${e} not found`);return this.nodes.get(t)}addTransitionState(e){this.transitionStatesIndex.set(e.getMolecule().getRef(),this.nodes.size),this.addNode(e)}removeTransitionState(e){let t=this.transitionStatesIndex.get(e);if(void 0==t)throw Error(`Transition State with ref ${e} not found`);this.nodes.delete(t),this.transitionStatesIndex.delete(e)}getMCRCMethod(){let e=this.index.get(sb.tagName);if(void 0!=e)return this.nodes.get(e)}setMCRCMethod(e){let t=this.index.get(sb.tagName);if(void 0==t)this.index.set(sb.tagName,this.nodes.size),this.addNode(e);else{if(t instanceof Map)throw Error("MCRCMethod is a map and it is assumed there would be only 1!");this.nodes.set(t,e)}}getExcessReactantConc(){let e=this.index.get(sM.tagName);if(void 0!=e)return this.nodes.get(e)}setExcessReactantConc(e){let t=this.index.get(sM.tagName);if(void 0==t)this.index.set(sM.tagName,this.nodes.size),this.addNode(e);else{if(t instanceof Map)throw Error("ExcessReactantConc is a map and it is assumed there would be only 1!");this.nodes.set(t,e)}}getCanonicalRateList(){let e=this.index.get(sL.tagName);if(void 0!=e)return this.nodes.get(e)}setCanonicalRateList(e){let t=this.index.get(sL.tagName);if(void 0==t)this.index.set(sL.tagName,this.nodes.size),this.addNode(e);else{if(t instanceof Map)throw Error("CanonicalRateList is a map and it is assumed there would be only 1!");this.nodes.set(t,e)}}getReactantsLabel(){return this.getReactants().map(e=>e.getMolecule().getRef()).join(" + ")}getProductsLabel(){return this.getProducts().map(e=>e.getMolecule().getRef()).join(" + ")}getLabel(){return this.getReactantsLabel()+" -> "+this.getProductsLabel()}getReactantsEnergy(e,t){return Array.from(this.getReactants()).map(s=>{console.log('ref="'+s.getMolecule().getRef()+'"');let i=e(s.getMolecule().getRef(),t);if(void 0==i)throw Error(`Molecule with ref ${s.getMolecule().getRef()} not found`);return i.getEnergy()}).reduce((e,t)=>e.add(t),new(r(l))(0))}getProductsEnergy(e,t){return Array.from(this.getProducts()).map(s=>{let i=e(s.getMolecule().getRef(),t);if(void 0==i)throw Error(`Molecule with ref ${s.getMolecule().getRef()} not found`);return i.getEnergy()}).reduce((e,t)=>e.add(t),new(r(l))(0))}get(e,t){if(this.index.has(e)){let s=this.index.get(e);if(void 0!=s){if(!(s instanceof Map))return this.nodes.get(s);{let e=s.get(t);if(void 0!=e)return this.nodes.get(e)}}}}}function sI(e,t,s,i,n,a,o,d,r,l,g){let h=i+(a-i)/2;sD(e,g,d,t,h-sA(e,g,d)/2,o+r),sD(e,l,d,t,h-sA(e,l,d)/2,o+3*r),sB(e,t,s,i,n,a,o)}function sB(e,t,s,i,n,a,o){e.beginPath(),e.strokeStyle=t,e.lineWidth=s,e.moveTo(i,n),e.lineTo(a,o),e.stroke()}function sD(e,t,s,i,n,a){e.save(),e.translate(n,a),e.scale(1,-1),e.font=s,e.fillStyle=i,e.fillText(t,0,0),e.restore()}function sA(e,t,s){return e.font=s,e.measureText(t).width}class sG{constructor(){this.tagName="defaults",this.values=new Map,this.attributess=new Map}readFile(){let e=document.createElement("input");e.type="file";let t=this;e.onchange=function(){if(e.files){for(let t=0;t<e.files.length;t++)console.log("inputElement.files["+t+"]="+e.files[t]);let s=e.files[0];console.log(s.name),s.name;let i=new FileReader,n=0,a="";i.onload=function(e){if(null==e.target)throw Error("Event target is null");if(a+=e.target.result,null!=s){if(n<s.size){let e=s.slice(n,n+1048576);i.readAsText(e),n+=1048576}else{a=a.trim();let e=new DOMParser().parseFromString(a,"text/xml");t.parse(e)}}};let o=s.slice(n,n+1048576);i.readAsText(o),n+=1048576}},e.click()}parse(e){let t=K(e,this.tagName);console.log("Default attributes: "+m(W(t)));let s=t.children;console.log("children.length="+s.length);for(let e=0;e<s.length;e++){let t=s[e],i=t.tagName;console.log("tagName="+i);let n=W(t);if(this.attributess.set(i,n),console.log("Attributes: "+m(n)),"property"==i){let e=t.getAttribute("dictRef");try{let s=K(t,"scalar").innerHTML;null!=s?(console.log("v="+s),this.values.set(e,s)):console.log("v is null")}catch(e){console.log("Error: "+e)}}else{let e=t.innerHTML;null!=e?(console.log("v="+e),this.values.set(i,e)):console.log("v is null")}}console.log("values: "+m(this.values)),this.attributess.forEach((e,t)=>{console.log("key="+t+" value="+m(e))})}}class sk{constructor(){}readFile(){return new Promise((e,t)=>{let s=document.createElement("input");s.type="file";let i=this;s.onchange=function(){if(s.files){let n=s.files[0];n.name;let a=new FileReader,o=0,d="";a.onload=function(s){if(null==s.target){t(Error("Event target is null"));return}if(d+=s.target.result,null!=n){if(o<n.size){let e=n.slice(o,o+1048576);a.readAsText(e),o+=1048576}else{d=d.trim();let t=new DOMParser().parseFromString(d,"text/xml");e(i.parse(t))}}};let r=n.slice(o,o+1048576);a.readAsText(r),o+=1048576}},s.click()})}parse(e){let t=new Map,s=K(e,tb.tagName),i=new Set;s.childNodes.forEach(function(e){i.add(e.nodeName)});let n=s.getElementsByTagName(su.tagName),a=n.length;console.log("Number of molecules="+a);let o=0;for(let e=0;e<a;e++){let s=W(n[e]);if(void 0==s.get(su.s_id))throw Error(su.s_id+" is undefined");let i=n[e].childNodes;if(0==i.length){if(o++,void 0==s.get("ref"))throw Error("ref is undefined");continue}let a=t.size,d=new su(s,a);t.set(a,d);let g=new Set;for(let e=0;e<i.length;e++){let t=i[e];g.has(t.nodeName)?"#text"!=t.nodeName&&console.warn("Another ChildNode with nodeName="+t.nodeName):g.add(t.nodeName)}let h=n[e].getElementsByTagName(tp.tagName);if(h.length>0){if(h.length>1)throw Error("Expecting 1 or 0 "+tp.tagName+" but finding "+h.length+"!");let e=new tp(W(h[0]));d.setMetadataList(e);let t=h[0].getElementsByTagName(tg.tagName);for(let s=0;s<t.length;s++){let i=new tg(W(t[s]));e.addMetadata(i)}g.delete(tp.tagName)}let m=n[e].getElementsByTagName(tP.tagName);if(m.length>1)throw Error("Expecting 1 or 0 "+tP.tagName+" but finding "+m.length+"!");if(1==m.length){let e=m[0],t=e.getElementsByTagName(tL.tagName);if(0==t.length)throw Error("Expecting 1 or more atoms in "+tP.tagName+", but finding 0!");let s=new tP(W(e));d.setAtoms(s);for(let e=0;e<t.length;e++)s.addAtom(new tL(W(t[e]),d));g.delete(tP.tagName)}else{let t=n[e].getElementsByTagName(tL.tagName);if(1==t.length){let e=new tP(new Map);e.addAtom(new tL(W(t[0]),d)),d.setAtoms(e)}else if(t.length>1)throw Error("Expecting 1 "+tL.tagName+" but finding "+t.length+". Should these be in an "+tP.tagName+"?")}g.delete(tL.tagName);let c=n[e].getElementsByTagName(tB.tagName);if(c.length>0){if(c.length>1)throw Error("Expecting 1 or 0 "+tB.tagName+" but finding "+c.length+"!");let e=c[0].getElementsByTagName(tI.tagName),t=new tB(W(c[0]));for(let s=0;s<e.length;s++)t.addBond(new tI(W(e[s]),d));d.setBonds(t),g.delete(tB.tagName)}else{let t=n[e].getElementsByTagName(tI.tagName);if(t.length>0){if(t.length>1)throw Error("Expecting 1 "+tI.tagName+" but finding "+t.length+". Should these be in a "+tB.tagName+"?");let e=new tB(new Map);e.addBond(new tI(W(t[0]),d)),d.setBonds(e)}}g.delete(tI.tagName);let u=n[e].getElementsByTagName(t3.tagName);if(u.length>1)throw Error("Expecting 1 or 0 "+t3.tagName+" but finding "+u.length+"!");if(1==u.length){let e=new t3(W(u[0]));d.setPropertyList(e);let t=u[0].getElementsByTagName(tO.tagName);for(let s=0;s<t.length;s++)e.setProperty(new tO(W(t[s])));g.delete(t3.tagName)}else{let t=new t3(new Map);d.setPropertyList(t);let s=n[e].getElementsByTagName(tO.tagName);if(1!=s.length)throw Error("Expecting 1 "+tO.tagName+" but finding "+s.length+". Should these be in a "+t3.tagName+"?");t.setProperty(new tO(W(s[0]))),g.delete(tO.tagName)}let N=n[e].getElementsByTagName(t9.tagName);if(N.length>0){if(N.length>1)throw Error("Expecting 1 or 0 "+t9.tagName+" but finding "+N.length+"!");let e=new t9(W(N[0]));d.setEnergyTransferModel(e),g.delete(t9.tagName)}let p=n[e].getElementsByTagName(t7.tagName);if(p.length>0){if(p.length>1)throw Error("Expecting 1 or 0 "+t7.tagName+" but finding "+p.length+"!");let e=new t7(W(p[0]));d.setDOSCMethod(e),g.delete(t7.tagName)}let f=n[e].getElementsByTagName(ss.tagName);if(f.length>0){if(f.length>1)throw Error("Expecting 1 or 0 "+ss.tagName+" but finding "+f.length+"!");let e=new ss(W(f[0]));d.setDistributionCalcMethod(e),g.delete(ss.tagName)}let x=n[e].getElementsByTagName(sc.tagName);if(x.length>0){if(x.length>1)throw Error("Expecting 1 or 0 "+sc.tagName+" but finding "+x.length+"!");let e=new sc(W(x[0]));d.setDensityOfStatesList(e);let t=x[0].getElementsByTagName(sm.tagName),s=x[0].getElementsByTagName(tz.tagName);if(s.length>0){if(s.length>1)throw Error("Expecting 1 or 0 "+tz.tagName+" but finding "+s.length+"!");let t=new tz(W(s[0]),F(O(s[0])));e.setDescription(t)}if(0==t.length)throw Error("Expecting 1 or more "+sm.tagName+" but finding 0!");for(let s=0;s<t.length;s++){let i=new sm(W(t[s]));e.addDensityOfStates(i);let n=t[s].getElementsByTagName(t_.tagName);if(1!=n.length)throw Error("Expecting 1 "+t_.tagName+" but finding "+n.length+"!");{let e=new t_(W(n[0]),new(r(l))(F(O(n[0]))));i.setT(e)}let a=t[s].getElementsByTagName(sl.tagName);if(1!=a.length)throw Error("Expecting 1 "+sl.tagName+" but finding "+a.length+"!");{let e=new sl(W(a[0]),new(r(l))(F(O(a[0]))));i.setQtot(e)}let o=t[s].getElementsByTagName(sg.tagName);if(1!=o.length)throw Error("Expecting 1 "+sg.tagName+" but finding "+o.length+"!");{let e=new sg(W(o[0]),new(r(l))(F(O(o[0]))));i.setSumc(e)}let d=t[s].getElementsByTagName(sh.tagName);if(1!=d.length)throw Error("Expecting 1 "+sh.tagName+" but finding "+d.length+"!");{let e=new sh(W(d[0]),new(r(l))(F(O(d[0]))));i.setSumg(e)}}g.delete(sc.tagName)}g.delete("#text"),g.size>0&&(console.warn("There are additional unexpected moleculeTagNames:"),g.forEach(e=>console.warn(e)))}return console.log("Number of molecules="+t.size),console.log("Number of alias molecules="+o.toString()),t}}let sO="https://github.com/MESMER-kinetics",sF=sO+"/mxg",sH=document.createElement("a");sH.href=sF,sH.textContent=sF;let sq=sF+"/tree/main/data/examples",sU=document.createElement("a");sU.href=sq,sU.textContent=sq;let sV=sO+"/MESMER-code",sj=document.createElement("a");sj.href=sV,sj.textContent=sV;let sX=document.createElement("a");sX.href="https://epsrc.ukri.org/",sX.textContent="The UK Engineering and Physical Sciences Research Council (EPSRC)";let sY=document.createElement("a");sY.href="https://www.leeds.ac.uk/",sY.textContent="The University of Leeds";let s$="https://github.com/3dmol/3Dmol.js",sW=document.createElement("a");sW.href=s$,sW.textContent=s$;let sK=document.createElement("a");sK.href="http://doi.org/10.1093/bioinformatics/btu829",sK.textContent="doi:10.1093/bioinformatics/btu829";let sZ="https://mikemcl.github.io/big.js/",sQ=document.createElement("a");sQ.href=sZ,sQ.textContent=sZ,r(l).PE=7;let sJ={marginLeft:"0px",marginTop:"1px",marginBottom:"1px",marginRight:"0px"},s0={marginLeft:"25px",marginTop:"1px",marginBottom:"1px",marginRight:"0px"},s1={marginLeft:"1px",marginTop:"1px",marginBottom:"1px",marginRight:"1px"};const s2=" ✓",s3=" ✗",s5="Add ＋",s4="container",s6="description",s8="input",s9="optionOn",s7="optionOff",ie="save",it="Select an option (use keys to cycle through options)...",is="table",ii="undefined",ia="units",io=new Set,id=new Set;function ir(...e){let t=h(...e);if(io.has(t))throw Error(t+" already exists!");return io.add(t),t}function il(...e){let t=ir(...e);return id.add(t),t}function ig(e){let t=document.getElementById(e);null!=t&&t.remove(),id.delete(e),io.delete(e)}const ih=ir("menu"),im=ir("title"),ic=ir("molecules"),iu=ir("reactions"),iN=ir("reactionsDiagram"),ip=ir("conditions"),ix=ir("modelParameters"),iv=ir("control"),iE=ir("metadata"),iw=ir("analysis"),iy=ir("xml");ir("welcome");const ib=new(r(l))(0);class iC{addID(e,...t){let s=il(e,...t);return this.ids.has(e)||this.ids.set(e,new Set),this.ids.get(e)?.add(s),s}removeID(e){id.delete(e),io.delete(e)}removeIDs(e){this.ids.get(e).forEach(e=>{console.log("remove id "+e),id.delete(e),io.delete(e)}),this.ids.delete(e)}constructor(){this.ids=new Map}}let iS=new iC,iM=new iC,iT=new iC,iR=new Map;function iz(e,t){let s=e.getID();for(let[i,n]of t)if(s==n.getID()){s+=" "+n.id.toString(),e.label=s;break}t.set(e.id,e)}function i_(e){let t=new Set;return e.forEach((e,s)=>{let i=e.getID();t.has(i)?t.add(i+"-"+s.toString()):t.add(i)}),t}function iL(e,t){for(let[s,i]of t)if(i.label==e)return i;return null}const iP="Reactions Diagram",iI=il(iP),iB=il(iI,"Canvas");let iD="1em SensSerif";function iA(){null==d?nI(document.getElementById(iB),t,iD,4,2):nI(d.document.getElementById(iB),t,iD,4,2)}function iG(e,t,s,i){let n="✎ Edit id",a=il(s.id,n,v),o=P(n,a,i);s.appendChild(o),o.addEventListener("click",()=>{let s=prompt("Please edit the molecule ID:",e.getID());null==s&&(s=""),iU(ed.tagName,e.getID()),e.setID(s),iV(ed.tagName,e.getID()),t.textContent=e.getLabel()+" ▲"})}function ik(e,t,s,i,n){let a=B(void 0,n),o=s6+s2,d=s6+s3,r=P(d,il(e,v),i);a.appendChild(r),r.classList.add(s9),r.classList.add(s7);let l=il(e,s6,s8),g=t();return void 0==g?(r.textContent=d,r.classList.toggle(s9)):(iO(a,l,g,s,i),r.textContent=o,r.classList.toggle(s7)),r.addEventListener("click",e=>{null==document.getElementById(l)?(iO(a,l,g,s,i),r.textContent=o):(document.getElementById(l)?.remove(),console.log("Removed "+l),r.textContent=d),r.classList.toggle(s9),r.classList.toggle(s7)}),a}function iO(e,t,s,i,n){let a;a=void 0==s?"":s;let o=C("text",t,n);o.addEventListener("change",e=>{let n=e.target;i(n.value),console.log(t+" changed from "+s+" to "+n.value),T(n)}),o.value=a,T(o),e.appendChild(o)}function iF(e,t,s,i,n){let a=P(s5,il(t.id,"Add"+s+"Button"),n);return a.addEventListener("click",()=>{let s=new tL(new Map,e);t.insertBefore(iH(e,t.id,e.getAtoms(),s,i,n),a)}),a}function iH(e,t,s,i,n,a){let o,d=s.addAtom(i,i.getID()),r=B(il(t,d),a);r.appendChild(D(d,n));let l=new Set;return function(e,t,s,i,n){let a=e.getElementType(),o=tR.elementTypes;void 0==a&&(a=it,iY(o,i));let d=il(t.id,tL.s_elementType);s.add(d);let r=L(tL.s_elementType,o,tL.s_elementType,a,d,n,n),l=r.querySelector("select");l.addEventListener("change",t=>{let s=t.target;e.setElementType(s.value),R(s)}),l.value=a,R(l),nz(o,l),t.appendChild(r)}(i,r,l,!0,n),o=il(r.id,tL.s_x3),l.add(o),r.appendChild(i$(o,l,tL.s_x3,i.getX3.bind(i),i.setX3.bind(i),i.removeX3,n,n)),o=il(r.id,tL.s_y3),l.add(o),r.appendChild(i$(o,l,tL.s_y3,i.getY3.bind(i),i.setY3.bind(i),i.removeY3,n,n)),o=il(r.id,tL.s_z3),l.add(o),r.appendChild(i$(o,l,tL.s_z3,i.getZ3.bind(i),i.setZ3.bind(i),i.removeZ3,n,n)),iZ(r,n,iq,e,d,l),iV(tI.s_atomRefs2,d),r}function iq(e,t,s){e.getAtoms().removeAtom(t),s.forEach(e=>{console.log("Removing "+e),ig(e)}),iU(tI.s_atomRefs2,t),e.getBonds().bonds.forEach(t=>{let s=t.getAtomRefs2().split(" ");if(s[0]==s[1]){let s=t.getID();e.getBonds().removeBond(s),iU(tI.tagName,s);let i=h(su.tagName,e.id,tB.tagName,s),n=document.getElementById(i);if(null==n)throw Error("Bond div with id "+i+" not found.");n.remove()}})}function iU(e,t){let s=document.getElementsByClassName(e);for(let e=0;e<s.length;e++)if(s[e]instanceof HTMLSelectElement){let i=s[e].options,n=s[e].value;Array.from(i).forEach(i=>{if(i.value==t&&(i.remove(),n==t)){let t=new Event("change");s[e].dispatchEvent(t)}})}}function iV(e,t){let s=document.getElementsByClassName(e);console.log("n elements with className "+e+"="+s.length);for(let e=0;e<s.length;e++){let i=s[e];if(s[e]instanceof HTMLSelectElement){let e=document.createElement("option");e.value=t,e.text=t,i.add(e)}}}function ij(e,t,s,i,n){let a=P(s5,il(t.id,s,v),n);return a.addEventListener("click",()=>{let s=e.getAtoms().atoms;if(s.size<2){alert("There must be at least 2 atoms to create a bond.");return}let o=new Map,d=Array.from(s.keys()).slice(0,2).join(" ");o.set(tI.s_atomRefs2,d);let r=new tI(o,e);t.insertBefore(iX(e,t.id,s,e.getBonds(),r,i,n),a)}),t.appendChild(a),a}function iX(e,t,s,i,n,a,o){let d,r,l,g,m,c,u,N,p,f=i.addBond(n,n.getID()),x=B(h(t,f),o);return x.appendChild(D(f,a)),d=h(x.id,tI.s_atomRefs2),r=n.getAtomRefs2().split(" "),l=Array.from(e.getAtoms().atoms.keys()),g=h(d,0),(c=(m=L(tI.s_atomRefs2+"[0]",l,tL.tagName,r[0],g,a,a)).querySelector("select")).classList.add(tI.s_atomRefs2),c.addEventListener("change",e=>{let t=e.target,s=t.value+" "+r[1];console.log(tI.s_atomRefs2+" changed to "+s),n.setAtomRefs2(s),R(t)}),c.value=r[0],R(c),x.appendChild(m),u=h(d,1),(p=(N=L(tI.s_atomRefs2+"[1]",l,tL.tagName,r[1],u,a,a)).querySelector("select")).classList.add(tI.s_atomRefs2),p.addEventListener("change",e=>{let t=e.target,s=r[0]+" "+t.value;console.log(tI.s_atomRefs2+" changed to "+s),n.setAtomRefs2(s),R(t)}),p.value=r[1],R(p),x.appendChild(N),function(e,t,s){let i=h(e.id,tI.s_order),n=B(void 0,s);e.appendChild(n);let a=tI.s_order+s2,o=tI.s_order+s3,d=P(o,void 0,s);n.appendChild(d),d.classList.add(s9),d.classList.add(s7);let r=t.getOrder();void 0==r?(d.textContent=o,d.classList.toggle(s9)):(iJ(n,t,i,r,s),d.textContent=a,d.classList.toggle(s7)),d.addEventListener("click",e=>{null==document.getElementById(i)?(void 0==r&&(r=1),iJ(n,t,i,r,s),d.textContent=a):(document.getElementById(i)?.remove(),console.log("Removed "+i),d.textContent=o),d.classList.toggle(s9),d.classList.toggle(s7)})}(x,n,a),Array.from(s.keys()).forEach(e=>{x.classList.add(e)}),iZ(x,a,t=>e.getBonds().removeBond(t),f),iV(tI.tagName,f),x}function iY(e,t){if(t)e.push(it);else{let t=e.indexOf(it);t>-1&&e.splice(t,1)}}function i$(e,t,s,i,n,a,o,d){let r=B(e,d),l=s+s2,g=s+s3,h=il(e,v);t.add(h);let m=P(g,h,o);r.appendChild(m),m.classList.add(s9),m.classList.add(s7);let c=il(e,s,s8);t.add(c);let u=i();return void 0==u?(m.textContent=g,m.classList.toggle(s9)):(iW(r,c,s,u,i,n,o),m.textContent=l,m.classList.toggle(s7)),m.addEventListener("click",e=>{null==document.getElementById(c)?(iW(r,c,s,u,i,n,o),m.textContent=l):(document.getElementById(c)?.remove(),a(),console.log("Removed "+c),m.textContent=g),m.classList.toggle(s9),m.classList.toggle(s7)}),r}function iW(e,t,s,i,n,a,o){let d;d=void 0==i?"":i.toString();let g=C("text",t,o);g.addEventListener("change",e=>{let t=e.target;try{a(new(r(l))(t.value)),console.log(s+" changed from "+i+" to "+t.value)}catch(e){alert("Input invalid, resetting..."),t.value=n().toString()}T(t)}),g.value=d,T(g),e.appendChild(g)}function iK(e,t,s,i,n,a,o,d){let r;r=void 0==i?"":p(i);let l=S(t,d);l.addEventListener("change",e=>{let t=e.target;i3(n,l),z(t)}),l.value=r,z(l),e.appendChild(l)}function iZ(e,t,s,...i){let n=P("Remove ✕",void 0,t);return e.appendChild(n),n.addEventListener("click",()=>{s(...i),e.remove(),ig(e.id)}),n}function iQ(e,t,s,i,n,a){let o;o=void 0==i?"":i.toString();let d=C("text",t,a);d.addEventListener("change",e=>{let t=e.target;n(t.value),console.log(s+" changed from "+i+" to "+t.value),T(t)}),d.value=o,T(d),e.appendChild(d)}function iJ(e,t,s,i,n){let a=i.toString(),o=_(tI.orderOptions,tI.s_order,a,s,n);o.addEventListener("change",e=>{let s=e.target;t.setOrder(parseFloat(s.value)),console.log(tI.s_order+" changed from "+a+" to "+s.value),R(s)}),o.value=a,R(o),o.id=s,e.appendChild(o)}function i0(e,t,i,n){let a;let o=I(il(t.id,"viewerContainer"),n);t.appendChild(o);let d=il(t.id,"viewer"),r=!1,l=!1;function g(t,s){let n=I(d,i);n.className="mol-container",o.appendChild(n);let a=$3Dmol.createViewer(n,{backgroundColor:"grey"});return a.setStyle({stick:{}}),e.getAtoms().atoms.forEach(function(e){let s,i,n=e.getElementType();s=void 0==n?"Purple":tR.atomColors.get(n)||"Purple",i=void 0==n?100:tR.atomRadii.get(e.getElementType())||100;let o=e.getX3()?.toNumber()||0,d=e.getY3()?.toNumber()||0,r=e.getZ3()?.toNumber()||0;a.addSphere({center:{x:o,y:d,z:r},radius:i/110,color:s}),t&&a.addLabel(e.getID(),{position:{x:o,y:d,z:r}})}),e.getBonds().bonds.forEach(function(t){let i=t.getAtomRefs2().split(" "),n=e.getAtoms(),o=n.getAtom(i[0]),d=n.getAtom(i[1]),r=t.getOrder()||1,l=tR.bondColors.get(r)||"Purple",g=o.getX3()?.toNumber()||0,h=o.getY3()?.toNumber()||0,m=o.getZ3()?.toNumber()||0,c=d.getX3()?.toNumber()||0,u=d.getY3()?.toNumber()||0,N=d.getZ3()?.toNumber()||0;a.addCylinder({start:{x:g,y:h,z:m},end:{x:c,y:u,z:N},radius:.06*r,color:l}),s&&a.addLabel(t.getID(),{position:{x:(g+c)/2,y:(h+u)/2,z:(m+N)/2}})}),a.zoomTo(),a.render(),a.zoom(.8,2e3),a}let h=P("Draw/Redraw",void 0);function m(e,t,s,n){let o=P((s?"Hide ":"Show ")+e,t,i);return o.addEventListener("click",()=>{s?(o.textContent="Show "+e,s=!1):(o.textContent="Hide "+e,s=!0),n(s),ig(d),a=g(r,l)}),o}h.addEventListener("click",()=>{ig(d),a=g(r,l)}),o.appendChild(h);let c="Atom Labels",u=m(c,il(d,c),r,e=>r=e);o.appendChild(u);let N="Bond Labels",p=m(N,il(d,N),l,e=>l=e);o.appendChild(p);let f=P("Save as PNG",il(d,ie),s1);f.addEventListener("click",()=>{let e=a.pngURI(),t=document.createElement("a");t.href=e;let i=s.getTitle()?.value;t.download=i.replace(/[^a-z0-9]/gi,"_")+"mol.png",document.body.appendChild(t),t.click(),document.body.removeChild(t),console.log("Save Image")}),o.appendChild(f)}function i1(e,t,s,i,n,a,o,d){let g=new Set,h=n.getElementsByTagName(tA.tagName);if(h.length>0){if(1!=h.length)throw Error("Expecting 1 "+tA.tagName+" but finding "+h.length+"!");let i=H(h[0]),n=new(r(l))(i),d=W(h[0]),m=new tA(d,n);t.setProperty(m),m.setValue=(function(e){m.value=e,t.dictRef==tF.dictRef&&iA()}).bind(m);let c=i$(il(a.id,t.dictRef),g,t.dictRef,m.getValue.bind(m),m.setValue,()=>e.removeProperty(t.dictRef),s1,s0);i2(s,d,c,c.querySelector(s8),il(a.id,t.dictRef,tA.s_units),t.dictRef,o,o),a.appendChild(c)}else{var m,c,N,p,f,x,w,y;let r=n.getElementsByTagName(tG.tagName);if(r.length>0){if(1!=r.length)throw Error("Expecting 1 "+tG.tagName+" but finding "+r.length+"!");let i=H(r[0]);if(""!=i){let n,d,l,g,h,x,E=u(i.split(/\s+/)),w=W(r[0]),y=new tG(w,E);t.setProperty(y);let b=(m=il(a.id,t.dictRef),c=t.dictRef,N=y.getValues.bind(y),p=y.setValues,f=()=>e.removeProperty(t.dictRef),n=B(void 0,s0),d=c+s2,g=P(l=c+s3,il(m,v),s1),n.appendChild(g),g.classList.add(s9),g.classList.add(s7),h=il(m,c,s8),void 0==(x=N())?(g.textContent=l,g.classList.toggle(s9)):(iK(n,h,c,x,y,N,p,s1),g.textContent=d,g.classList.toggle(s7)),g.addEventListener("click",e=>{null==document.getElementById(h)?(iK(n,h,c,x,y,N,p,s1),g.textContent=d):(document.getElementById(h)?.remove(),f(),console.log("Removed "+h),g.textContent=l),g.classList.toggle(s9),g.classList.toggle(s7)}),n);i2(s,w,b,b.querySelector("textarea"),il(a.id,t.dictRef,tG.s_units),t.dictRef,o,o),a.appendChild(b)}}else{let e=n.getElementsByTagName(tk.tagName);if(e.length>0){let n,r,l;if(1!=e.length)throw Error("Expecting 1 "+tk.tagName+" but finding "+e.length+"!");let g=H(e[0]),h=u(g.split(/\s+/)),m=W(e[0]),c=new tk(m,h);t.setProperty(c);let N=t.dictRef,p=(x=il(a.id,t.dictRef),w=e=>{let t=e.target;i3(c,t)},y=g,n=B(void 0,d),(l=S(x,o)).onchange=w,l.value=y,z(l),(r=D(N,o)).htmlFor=x,n.appendChild(r),n.appendChild(l),n),f=p.querySelector("textarea");f.value=g,z(f),f.addEventListener("change",e=>{g=e.target.value,c=t.getProperty(),h=u(g.split(/\s+/)),c.values=h,console.log("Set "+t.dictRef+" of "+i.getLabel()+" to "+g),z(f)}),i2(s,m,p,f,il(a.id,t.dictRef,E,"Units"),t.dictRef,o,o),a.appendChild(p)}else throw Error("Expecting "+tA.tagName+", "+tG.tagName+" or "+tk.tagName+" but finding none!")}}}function i2(e,t,s,i,n,a,o,d){if(void 0!=e){let r=function(e,t,s,i,n,a){let o=t.get("units");if(void 0!=o){let d=L("units",e,"units",o,s,n,a),r=d.querySelector("select");return r.value=o,R(r),r.addEventListener("change",e=>{let s=e.target;t.set("units",s.value),console.log("Set "+i+" units to "+s.value),R(s)}),d}}(e,t,n,a,o,d);void 0!=r&&s.insertBefore(r,i)}else{let e=t.get("units");if(void 0!=e){let t=D("units "+e,d);s.insertBefore(t,i)}}}function i3(e,t){let s=t.value.trim(),i=c(e.values," ");if(""==s){alert("Empty input resetting..."),t.value=i;return}let n=s.split(/\s+/),a=[],o=!0;if(n.forEach(function(e){N(e)?a.push(new(r(l))(e)):o=!1}),!o){alert("An input is not a number, resetting..."),t.value=i;return}a.length==e.values.length?(e.setValues(a),console.log("Changed "+e.tagName+' from: "'+i+'" to: "'+c(e.values," ")+'"')):(alert("Expecting "+e.values.length+" values for, but finding "+a.length+" resetting..."),t.value=i)}function i5(e,t){try{let s=new(r(l))(t.value);e.value=s}catch(e){alert("Value invalid, resetting...")}t.value=e.value.toString()}function i4(e,t,s){let i=I(iS.addID(t.id,ed.tagName));w(iS.addID(t.id,ed.tagName,s4),t,null,i,ed.tagName,s1,s0);let a=P(s5,iS.addID(t.id,ed.tagName,v),s0);if(i.appendChild(a),a.addEventListener("click",()=>{let s=new ed(new Map,it),o=e.addBathGas(s),d=B(void 0,s0),r=iS.addID(t.id,ed.tagName,o.toString()),l=no(Array.from(i_(n)),s,!0,r);l.classList.add(ed.tagName),d.appendChild(l),iZ(d,s1,t=>{i.removeChild(d),iS.removeID(r),e.removeBathGas(t)}),i.insertBefore(d,a)}),null!=s){let o=Array.from(s.children).filter(e=>e.tagName===ed.tagName);if(o.length>0)for(let s=0;s<o.length;s++){let d=new ed(W(o[s]),F(O(o[s]))),r=e.addBathGas(d),l=iS.addID(t.id,ed.tagName,r.toString()),g=B(l,s0);g.appendChild(no(Array.from(i_(n)),d,!1,l)),iZ(g,s1,t=>{i.removeChild(g),iS.removeID(l),e.removeBathGas(t)}),i.insertBefore(g,a)}else{let s=B(void 0,s0),o=iS.addID(t.id,ed.tagName,0);s.appendChild(no(Array.from(i_(n)),void 0,!1,o)),iZ(s,s1,t=>{i.removeChild(s),iS.removeID(o),e.removeBathGas(t)}),i.insertBefore(s,a)}}}function i6(e,t,s){let i,a=i_(n),o=iS.addID(t.id,ec.tagName),d=I(o);if(w(iS.addID(t.id,o,s4),t,null,d,ec.tagName,s1,s0),s){let e=s.getElementsByTagName(ec.tagName);if(e.length>0){if(e.length>1)throw Error("Expecting 1 "+ec.tagName+" but finding "+e.length+"!");let s=W(e[0]),n=e[0].getElementsByTagName(em.tagName);if(0==n.length)throw Error("Expecting 1 or more "+em.tagName+" but finding 0!");i=new ec(s);for(let e=0;e<n.length;e++){let s=new em(W(n[e]));i.add(s);let o=n[e].getElementsByTagName(ed.tagName);o.length>0&&(o.length>1&&console.warn("xml_bathGass.length="+o.length),s.setBathGas(new ed(W(o[0]),F(O(o[0])))));let g=n[e].getElementsByTagName(er.tagName);g.length>0&&(g.length>1&&console.warn("xml_experimentRates.length="+g.length),s.setExperimentalRate(new er(W(g[0]),new(r(l))(F(O(g[0])).trim()))));let h=n[e].getElementsByTagName(el.tagName);h.length>0&&(h.length>1&&console.warn("xml_experimentalYields.length="+h.length),s.setExperimentalYield(new el(W(h[0]),new(r(l))(F(O(h[0])).trim()))));let m=n[e].getElementsByTagName(eg.tagName);m.length>0&&(m.length>1&&console.warn("xml_experimentalEigenvalues.length="+m.length),s.setExperimentalEigenvalue(new eg(W(m[0]),new(r(l))(F(O(m[0])).trim())))),d.appendChild(i9(i,d,s,t.id,e,a,s0))}}else i=new ec(new Map)}else i=new ec(new Map);e.setPTs(i);let g=I(void 0,s0);d.appendChild(g);let h=P(s5,void 0,s1);g.appendChild(h),h.addEventListener("click",()=>{let e=new Map;e.set("units","Torr");let s=new em(e),n=i.add(s);console.log("Added new pTpair pTpairIndex="+n),d.insertBefore(i9(i,d,s,t.id,n,a,s0),g)});let m=P("Add from spreadsheet ＋",void 0,s1);g.appendChild(m),m.addEventListener("click",()=>{let e=B(void 0,s0),s=C("text",il(ec.tagName,"addFromSpreadsheet"),s0);e.appendChild(s),d.insertBefore(e,g),s.addEventListener("change",()=>{if(console.log("inputElement.value="+s.value),console.log("inputElement.value.length="+s.value.length),s.value.length>0){let n=s.value.split(" "),o=new Map;n[0].split("	").forEach((e,t)=>{o.set(e,t)}),console.log("pTpairsArray.length="+n.length);for(let e=1;e<n.length;e++){let s=n[e].split("	"),h=o.get("P"),m=new(r(l))(s[h]),c=o.get("units"),u=new Map;if(o.has("units")){let e=s[c];u.set("units",e)}let N=new em(u);i.add(N);let p=o.get("T"),f=new(r(l))(s[p]);if(N.setP(m),N.setT(f),o.has(em.s_excessReactantConc)){let e=s[o.get(em.s_excessReactantConc)];u.set(em.s_excessReactantConc,e)}if(o.has(em.s_percentExcessReactantConc)){let e=s[o.get(em.s_percentExcessReactantConc)];u.set(em.s_percentExcessReactantConc,e)}if(o.has(em.s_precision)){console.log("index.has(PTpair.s_precision)");let e=s[o.get(em.s_precision)];u.set(em.s_precision,e)}if(o.has(ed.tagName)){let e=s[o.get(ed.tagName)];N.setBathGas(new ed(new Map,e))}if(o.has(er.tagName)){let e=s[o.get(er.tagName)];if(e.length>0){u.set(er.tagName,e),N.setExperimentalRate(new er(new Map,new(r(l))(e)));let t=s[o.get(er.tagName+"_"+er.s_ref1)];N.getExperimentalRate()?.setRef1(t);let i=s[o.get(er.tagName+"_"+er.s_ref2)];N.getExperimentalRate()?.setRef2(i);let n=s[o.get(er.tagName+"_"+er.s_refReaction)];N.getExperimentalRate()?.setRefReaction(n);let a=s[o.get(er.tagName+"_"+er.s_error)];N.getExperimentalRate()?.setError(new(r(l))(a))}}if(o.has(el.tagName)){let e=s[o.get(el.tagName)];if(e.length>0){N.setExperimentalYield(new el(new Map,new(r(l))(e)));let t=s[o.get(el.tagName+"_"+el.s_ref)];N.getExperimentalYield()?.setRef(t);let i=s[o.get(el.tagName+"_"+el.s_yieldTime)];N.getExperimentalYield()?.setYieldTime(new(r(l))(i));let n=s[o.get(el.tagName+"_"+el.s_error)];N.getExperimentalYield()?.setError(new(r(l))(n))}}if(o.has(eg.tagName)){let e=s[o.get(eg.tagName)];if(e.length>0){N.setExperimentalEigenvalue(new eg(new Map,new(r(l))(e)));let t=s[o.get(eg.tagName+"_"+eg.s_EigenvalueID)];N.getExperimentalEigenvalue()?.setEigenvalueID(t);let i=s[o.get(eg.tagName+"_"+eg.s_error)];N.getExperimentalEigenvalue()?.setError(new(r(l))(i))}}let x=i.ptps.length-1;d.insertBefore(i9(i,d,N,t.id,x,a,s0),g)}d.removeChild(e)}})});let c=P("Remove All",void 0,s1);g.appendChild(c),c.addEventListener("click",()=>{i.clear();let e=d.firstChild;for(;null!=e&&e!=g;){let t=e.nextSibling;d.removeChild(e),e=t}})}function i8(e,t){let i=new eu(e,t);return s.addConditions(i),i}function i9(e,t,s,i,n,a,o){let d=B(il(t.id,n),o);return i7(d,em.s_P,s.getP.bind(s),s.setP.bind(s)),i2(tR.pressureUnits,s.attributes,d,null,em.tagName,em.tagName,s1,s0),i7(d,em.s_T,s.getT.bind(s),s.setT.bind(s)),nt(d,s,em.s_excessReactantConc,nn),function(e,t){let s=il(e.id,em.s_percentExcessReactantConc),i=I(s,s1);e.appendChild(i);let n=em.s_percentExcessReactantConc,a=n+s2,o=n+s3,d=P(o,il(s,v),s1);i.appendChild(d),d.classList.add(s9),d.classList.add(s7),t.attributes.get(n)?.toLowerCase()=="true"?(d.classList.toggle(s7),d.textContent=a):(d.classList.toggle(s9),d.textContent=o),d.addEventListener("click",e=>{d.classList.toggle(s9),d.classList.toggle(s7),d.textContent===o?(d.textContent=a,t.attributes.set(n,"true")):(d.textContent=o,t.attributes.delete(n))})}(d,s),nt(d,s,em.s_precision,ni),function(e,t,s){let i=il(e.id,ed.tagName),n=I(i,s1);e.appendChild(n);let a=ed.tagName,o=a+s2,d=a+s3,r=P(d,il(i,v),s1);n.appendChild(r),r.classList.add(s9),r.classList.add(s7);let l=il(i,s8),g=t.getBathGas();void 0==g?(r.classList.toggle(s9),r.textContent=d):(r.classList.toggle(s7),r.textContent=o,!1==s.has(g.value)&&console.warn("moleculeKeys does not contain "+g.value),n.appendChild(na(l,t,g,!1))),r.addEventListener("click",e=>{r.classList.toggle(s9),r.classList.toggle(s7),r.textContent===d?(r.textContent=o,n.appendChild(na(l,t,g,!1))):(r.textContent=d,ig(l))})}(d,s,a),ns(d,s,n,er.tagName,e=>e.getExperimentalRate(),nd),ns(d,s,n,el.tagName,e=>e.getExperimentalYield(),nr),ns(d,s,n,eg.tagName,e=>e.getExperimentalEigenvalue(),nl),iZ(d,s1,(s,i,n)=>{t.removeChild(s),void 0!==i&&e.remove(i),n.removeBathGas()},d,n,s),d}function i7(e,t,s,i){let n=b("text",em.tagName+"_"+t,s1,sJ,e=>{let n=e.target;try{i(new(r(l))(n.value)),console.log(`Set ${t} to ${n.value}`)}catch(e){alert("Invalid input, resetting..."),a.value=ne(s)}T(n)},ne(s),t),a=n.querySelector("input");a.value=ne(s),T(a),e.appendChild(n)}function ne(e){let t=e();return void 0!==t?t.toString():""}function nt(e,t,s,i){let n=il(e.id,s),a=I(n,s1);e.appendChild(a);let o=s+s2,d=s+s3,r=P(d,il(n,v),s1);a.appendChild(r),r.classList.add(s9),r.classList.add(s7);let l=il(n,s8);if(t.attributes.has(s)){r.classList.toggle(s7),r.textContent=o;let e=i(l,t);a.insertBefore(e,r.nextSibling)}else r.classList.toggle(s9),r.textContent=d;r.addEventListener("click",e=>{if(r.classList.toggle(s9),r.classList.toggle(s7),r.textContent===d){r.textContent=o;let e=i(l,t);a.insertBefore(e,r.nextSibling)}else r.textContent=d,ig(l)})}function ns(e,t,s,i,n,a){let o=il(e.id,i),d=I(o,s1);e.appendChild(d);let r=i+s2,l=i+s3,g=P(l,il(o,v),s1);d.appendChild(g),g.classList.add(s9),g.classList.add(s7);let h=il(o,s8);void 0==n(t)?(g.classList.toggle(s9),g.textContent=l):(g.classList.toggle(s7),g.textContent=r,d.appendChild(a(h,t,s))),g.addEventListener("click",e=>{g.classList.toggle(s9),g.classList.toggle(s7),g.textContent===l?(g.textContent=r,d.appendChild(a(h,t,s))):(g.textContent=l,ig(h))})}function ni(e,t){let s;s=t.attributes.has(em.s_precision)?t.attributes.get(em.s_precision):tR.precisionOptions[0];let i=_(tR.precisionOptions,em.s_precision,s,e,s1);return i.addEventListener("change",e=>{let s=e.target;t.setPrecision(s.value),console.log("Set "+em.s_precision+" to "+s.value),R(s)}),R(i),i}function nn(e,t){let s,i=C("number",e,s1);return s=t.attributes.has(em.s_excessReactantConc)?t.attributes.get(em.s_excessReactantConc):NaN.toString(),console.log(em.s_excessReactantConc+"="+s),i.value=s,i.addEventListener("change",e=>{let s=e.target;t.setExcessReactantConc(s.value),console.log("Set "+em.s_excessReactantConc+" to "+s.value),T(s)}),T(i),i}function na(e,t,s,i){let a=no(Array.from(i_(n)),s,i,e);return a.addEventListener("change",e=>{let s=e.target;t.setBathGas(new ed(new Map,s.value)),console.log("Set bathGas to "+s.value),R(s)}),R(a),a}function no(e,t,s,i){let n;if(s)e.push(it);else{let t=e.indexOf(it);t>-1&&e.splice(t,1)}void 0==t?(t=new ed(new Map,it),n=it):n=t.value;let a=_(e,ed.tagName,n,il(i,E),s1);return a.classList.add(ed.tagName),nz(e,a),a.addEventListener("change",e=>{let s=e.target;t.value=s.value,console.log("Added "+s.value+" as "+ed.tagName),R(s)}),a.value=n,R(a),a}function nd(e,t){return ng(t,e,e=>e.getExperimentalRate(),(e,t)=>e.setExperimentalRate(t),er,[{tagName:er.tagName,type:"number",eventHandler:(e,s)=>i5(t.getExperimentalRate(),s),valueGetter:()=>t.getExperimentalRate().value.toString()},{tagName:er.tagName+"_"+er.s_ref1,type:"text",eventHandler:(e,s)=>t.getExperimentalRate()?.setRef1(s.value),valueGetter:()=>t.getExperimentalRate().getRef1()},{tagName:er.tagName+"_"+er.s_ref2,type:"text",eventHandler:(e,s)=>t.getExperimentalRate()?.setRef2(s.value),valueGetter:()=>t.getExperimentalRate().getRef2()},{tagName:er.tagName+"_"+er.s_refReaction,type:"text",eventHandler:(e,s)=>t.getExperimentalRate()?.setRefReaction(s.value),valueGetter:()=>t.getExperimentalRate().getRefReaction()},{tagName:er.tagName+"_"+er.s_error,type:"number",eventHandler:(e,s)=>t.getExperimentalRate()?.setError(new(r(l))(s.value)),valueGetter:()=>t.getExperimentalRate().getError().toString()}])}function nr(e,t){return ng(t,e,e=>e.getExperimentalYield(),(e,t)=>e.setExperimentalYield(t),el,[{tagName:el.tagName,type:"number",eventHandler:(e,s)=>i5(t.getExperimentalYield(),s),valueGetter:()=>t.getExperimentalYield().value.toString()},{tagName:el.tagName+"_"+el.s_ref,type:"text",eventHandler:(e,s)=>t.getExperimentalYield()?.setRef(s.value),valueGetter:()=>t.getExperimentalYield().getRef()},{tagName:el.tagName+"_"+el.s_yieldTime,type:"number",eventHandler:(e,s)=>t.getExperimentalYield()?.setYieldTime(new(r(l))(s.value)),valueGetter:()=>t.getExperimentalYield().getYieldTime().toString()},{tagName:el.tagName+"_"+el.s_error,type:"number",eventHandler:(e,s)=>t.getExperimentalYield()?.setError(new(r(l))(s.value)),valueGetter:()=>t.getExperimentalYield().getError().toString()}])}function nl(e,t){return ng(t,e,e=>e.getExperimentalEigenvalue(),(e,t)=>e.setExperimentalEigenvalue(t),eg,[{tagName:eg.tagName,type:"number",eventHandler:(e,s)=>i5(t.getExperimentalEigenvalue(),s),valueGetter:()=>t.getExperimentalEigenvalue().value.toString()},{tagName:eg.tagName+"_"+eg.s_EigenvalueID,type:"text",eventHandler:(e,s)=>t.getExperimentalEigenvalue()?.setEigenvalueID(s.value),valueGetter:()=>t.getExperimentalEigenvalue().getEigenvalueID()},{tagName:eg.tagName+"_"+eg.s_error,type:"number",eventHandler:(e,s)=>t.getExperimentalEigenvalue()?.setError(new(r(l))(s.value)),valueGetter:()=>t.getExperimentalEigenvalue().getError().toString()}])}function ng(e,t,s,i,n,a){let o=I(void 0,s1);o.id=t;let d=s(e);for(let s of(void 0==d&&i(e,d=new n(new Map,ib)),a)){let e=t+"_"+s.tagName;o.appendChild(b(s.type,e,s1,sJ,e=>{let t=e.target;s.eventHandler(e,t),console.log("Set "+s.tagName+" to "+t.value),T(t)},s.valueGetter(),s.label||""))}return o}function nh(e,t){let i=new tw(e,t);return s.addModelParameters(i),i}function nm(e){let t,s;if(void 0!=i){let n=i.values.get(e)??"";t=""==n?ib:new(r(l))(n),s=i.attributess.get(e)??new Map}else console.log(e+" set using hardcoded default."),t=new(r(l))(101),(s=new Map).set(ia,"cm-1");return new tf(s,t)}function nc(e,t,s,i,n,a){let o,d,g=i.tagName,h=B(iM.addID(s.id,g),s0);s.appendChild(h);let m=g+s2,c=g+s3,u=P(g,iM.addID(s.id,g,v),s1);u.classList.add(s9),u.classList.add(s7),h.appendChild(u);let N=iM.addID(s.id,g,s8);if(null!=t){let s=t.getElementsByTagName(g);if(1==s.length){d=F(O(s[0]));let t=new(r(l))(d);o=new i(W(s[0]),t),u.textContent=m,nu(e,h,o,N,d,n,void 0),u.classList.toggle(s7)}else d="",o=new i(new Map,ib),u.textContent=c,u.classList.toggle(s9)}else d="",o=new i(new Map,ib),u.textContent=c,u.classList.toggle(s9);u.addEventListener("click",()=>{e.index.has(g)?(a(),ig(N),iM.removeID(N),u.textContent=c):(nu(e,h,o,N,d,n,void 0),u.textContent=m),u.classList.toggle(s9),u.classList.toggle(s7)})}function nu(e,t,s,i,n,a,o){a.call(e,s);let d=C("text",i,s1);t.appendChild(d),d.addEventListener("change",e=>{let t=e.target;i5(s,t),T(t)}),d.value=n,T(d),i2(o,s.attributes,t,d,h(i,ia),s.constructor.tagName,s1,s1)}function nN(e){return[{class:eN,setMethod:e.setCalculateRateCoefficientsOnly,removeMethod:e.removeCalculateRateCoefficientsOnly},{class:ep,setMethod:e.setPrintCellDOS,removeMethod:e.removePrintCellDOS},{class:ef,setMethod:e.setPrintCellTransitionStateFlux,removeMethod:e.removePrintCellTransitionStateFlux},{class:ex,setMethod:e.setPrintReactionOperatorColumnSums,removeMethod:e.removePrintReactionOperatorColumnSums},{class:ev,setMethod:e.setPrintGrainBoltzmann,removeMethod:e.removePrintGrainBoltzmann},{class:eE,setMethod:e.setPrintGrainDOS,removeMethod:e.removePrintGrainDOS},{class:ew,setMethod:e.setPrintGrainkbE,removeMethod:e.removePrintGrainkbE},{class:ey,setMethod:e.setPrintGrainkfE,removeMethod:e.removePrintGrainkfE},{class:eb,setMethod:e.setPrintTSsos,removeMethod:e.removePrintTSsos},{class:eC,setMethod:e.setPrintGrainedSpeciesProfile,removeMethod:e.removePrintGrainedSpeciesProfile},{class:eS,setMethod:e.setPrintGrainTransitionStateFlux,removeMethod:e.removePrintGrainTransitionStateFlux},{class:eM,setMethod:e.setPrintReactionOperatorSize,removeMethod:e.removePrintReactionOperatorSize},{class:eT,setMethod:e.setPrintSpeciesProfile,removeMethod:e.removePrintSpeciesProfile},{class:eR,setMethod:e.setPrintPhenomenologicalEvolution,removeMethod:e.removePrintPhenomenologicalEvolution},{class:ez,setMethod:e.setPrintTunnelingCoefficients,removeMethod:e.removePrintTunnelingCoefficients},{class:e_,setMethod:e.setPrintCrossingCoefficients,removeMethod:e.removePrintCrossingCoefficients},{class:eL,setMethod:e.setTestDOS,removeMethod:e.removeTestDOS},{class:eP,setMethod:e.setTestRateConstants,removeMethod:e.removeTestRateConstants},{class:eI,setMethod:e.setUseTheSameCellNumberForAllConditions,removeMethod:e.removeUseTheSameCellNumberForAllConditions},{class:eB,setMethod:e.setForceMacroDetailedBalance,removeMethod:e.removeForceMacroDetailedBalance}]}function np(e){return[{class:ti,setMethod:e.setEigenvalues,removeMethod:e.removeEigenvalues},{class:tn,setMethod:e.setShortestTimeOfInterest,removeMethod:e.removeShortestTimeOfInterest},{class:ta,setMethod:e.setMaximumEvolutionTime,removeMethod:e.removeMaximumEvolutionTime},{class:to,setMethod:e.setAutomaticallySetMaxEne,removeMethod:e.removeAutomaticallySetMaxEne},{class:td,setMethod:e.setDiagramEnergyOffset,removeMethod:e.removeDiagramEnergyOffset}]}function nf(e,t){let i=new tl(e,t);return s.addControl(i),i}function nx(e,t,s,i,n,a){i.call(e,s);let o=C("number",n,s1);o.addEventListener("change",e=>{let t=e.target;i5(s,t),T(t)}),o.value=a,T(o),t.appendChild(o)}function nv(e,t,s,i,n,a,o,d,g=!1){let h,m,c,u=a.tagName,N=u+s2,p=u+s3,f=P(p,void 0,s1);if(f.classList.add(s9),f.classList.add(s7),s&&s.set(u,f),n&&(m=B(c=iT.addID(t.id,u),n),t.appendChild(m),m.appendChild(f),c=iT.addID(t.id,c,s8)),i){let t=i.getElementsByTagName(u);if(1==t.length){if(g){let s,i=F(O(t[0]));s=new(r(l))("all"==i?0:i),h=new a(W(t[0]),s),nx(e,m,h,o,c,i)}else h=new a(W(t[0])),o.call(e,h);f.textContent=N,f.classList.toggle(s7)}else f.textContent=p,f.classList.toggle(s9)}else h=new a(new Map),f.textContent=p,f.classList.toggle(s9);f.addEventListener("click",t=>{e.index.has(u)?(g&&ig(c),d.call(e),f.textContent=p):(g?nx(e,m,h,o,c,""):o.call(e,h),f.textContent=N),f.classList.toggle(s9),f.classList.toggle(s7)})}function nE(e,t,s,i){let n,a=B(void 0,i);t.appendChild(a);let o=eA.tagName,d=o+s2,g=o+s3,h=P(g,void 0,s1);a.appendChild(h),h.classList.add(s9),h.classList.add(s7);let m=iT.addID(t.id,o),c=B(m,s1);a.appendChild(c);let u=eA.options,N=iT.addID(m,"details"),p=iT.addID(N,"select");if(null!=s){let t=s.getElementsByTagName(o);if(t.length>0){if(t.length>1)throw Error("More than one CalcMethod element.");let s=W(t[0]),i=s.get("xsi:type");n=function e(t,s,i,n,a,o,d,g,h){let m;let c=n_(t,s,n,o,d,g,h);c.value=d,s.appendChild(c);let u=B(g,s1);if(s.appendChild(u),d==eG.xsi_type||d==eG.xsi_type2)m=new eG(a);else if(d==ek.xsi_type||d==ek.xsi_type2)m=new ek(a);else if(d==eF.xsi_type||d==eF.xsi_type2){let e=new eF(a);m=e;let t=i[0].getElementsByTagName(eO.tagName);if(t.length>0){if(1==t.length){let s=new(r(l))(F(O(t[0]))),i=new eO(W(t[0]),s);e.setFittingIterations(i)}else throw Error("More than one FittingIterations element.")}nb(u,e)}else if(d==eV.xsi_type||d==eV.xsi_type2){let e=new eV(a);function N(e,t,s){let i=eH.tagName,n=e[0].getElementsByTagName(i);if(n.length>0){if(1==n.length){let e=new(r(l))(F(O(n[0])));s(new t(W(n[0]),e))}else throw Error(`More than one ${i} element.`)}}m=e,N(i,eH,e.setMarquardtIterations.bind(e)),N(i,eq,e.setMarquardtTolerance.bind(e)),N(i,eU,e.setMarquardtDerivDelta.bind(e)),nC(u,e)}else if(d==e2.xsi_type||d==e2.xsi_type2){let e=new e2(a);function N(e,t,s,i){let n=t.tagName,a=e[0].getElementsByTagName(n);if(a.length>0){if(1==a.length){let e=F(O(a[0]));i&&void 0!=e&&(e=new(r(l))(e)),s(new t(W(a[0]),e))}else throw Error(`More than one ${n} element.`)}}m=e,N(i,eX,e.setFormat.bind(e),!1),N(i,eY,e.setPrecision.bind(e),!1),N(i,e$,e.setChebNumTemp.bind(e),!0),N(i,eW,e.setChebNumConc.bind(e),!0),N(i,eK,e.setChebMaxTemp.bind(e),!0),N(i,eZ,e.setChebMinTemp.bind(e),!0),N(i,eQ,e.setChebMaxConc.bind(e),!0),N(i,eJ,e.setChebMinConc.bind(e),!0),N(i,e0,e.setChebTExSize.bind(e),!0),N(i,e1,e.setChebPExSize.bind(e),!0),nS(u,e)}else if(d==e8.xsi_type||d==e8.xsi_type2){let e=new e8(a);function N(e,t,s){let i=t.tagName,n=e[0].getElementsByTagName(i);if(n.length>0){if(1==n.length){let e=new(r(l))(F(O(n[0])));s(new t(W(n[0]),e))}else throw Error(`More than one ${i} element.`)}}m=e,N(i,e3,e.setTmin.bind(e)),N(i,e5,e.setTmid.bind(e)),N(i,e4,e.setTmax.bind(e)),N(i,e6,e.setTstep.bind(e)),nM(u,e)}else if(d==ts.xsi_type||d==ts.xsi_type2){let e=new ts(a);function N(e,t,s){let i=t.tagName,n=e[0].getElementsByTagName(i);if(n.length>0){if(1==n.length){let e=F(O(n[0]));void 0!=e&&(e=new(r(l))(e)),s(new t(W(n[0]),e))}else throw Error(`More than one ${i} element.`)}}m=e,N(i,e9,e.setSensitivityAnalysisSamples.bind(e)),N(i,e7,e.setSensitivityAnalysisOrder.bind(e)),N(i,te,e.setSensitivityNumVarRedIters.bind(e)),N(i,tt,e.setSensitivityVarRedMethod.bind(e)),nR(u,e)}else{let r=a.get("name");if(void 0!=r&&r!==d)return a.set("xsi:type",r),console.warn(`Using name attribute as xsi:type: ${r}`),e(t,s,i,n,a,o,r,g,h);throw Error(`Unable to determine calculation method for xsi_type: ${d}`)}return m}(e,c,t,u,s,o,i,N,p),e.setCalcMethod(n),h.classList.toggle(s7),h.textContent=d}else h.classList.toggle(s9),h.textContent=g}else h.classList.toggle(s9),h.textContent=g;h.addEventListener("click",t=>{if(e.index.has(o))null!=e.getCalcMethod()&&(e.removeCalcMethod(),ig(N),ig(p),h.textContent=g,h.classList.toggle(s9),h.classList.toggle(s7));else{u[u.length-1]!=it&&u.push(it),ig(N),ig(p);let t=n_(e,a,u,o,it,N,p);c.appendChild(t),h.textContent=d,h.classList.toggle(s9),h.classList.toggle(s7)}})}function nw(e,t,s,i){let n=tr.tagName,a=B(iT.addID(t.id,n),i);t.appendChild(a);let o=n+s2,d=n+s3,r=P(n,iT.addID(t.id,n,v),s1);a.appendChild(r),r.classList.add(s9),r.classList.add(s7);let l=iT.addID(t.id,n,e4.tagName),g=iT.addID(t.id,n,e3.tagName),h=iT.addID(t.id,n,e6.tagName);if(s){let t=s.getElementsByTagName(n);1==t.length?(ny(e,a,t,l,g,h),r.classList.toggle(s7),r.textContent=o):(r.classList.toggle(s9),r.textContent=d)}else r.classList.toggle(s9),r.textContent=d;r.addEventListener("click",t=>{e.index.has(n)?(e.removeTestMicroRates(),document.getElementById(l)?.remove(),document.getElementById(g)?.remove(),document.getElementById(h)?.remove(),r.textContent=d):(ny(e,a,null,l,g,h),r.textContent=o),r.classList.toggle(s9),r.classList.toggle(s7)})}function ny(e,t,s,i,n,a){let o,d;if(null!=s&&s.length>0){if(s.length>1)throw Error("More than one TestMicroRates element.");d=new tr(o=W(s[0]))}else(o=new Map).set("Tmax","0"),o.set("Tmin","0"),o.set("Tstep","0"),d=new tr(o);e.setTestMicroRates(d);let g=d.getTmax(),h=b("text",i+"_input",s1,sJ,e=>{let t=e.target;try{d.setTmax(new(r(l))(t.value)),console.log("Set Tmax to "+t.value)}catch(e){alert("Invalid input, resetting..."),t.value=g.toString()}T(t)},g.toString(),"Tmax");h.id=i,T(h.querySelector("input")),t.appendChild(h);let m=d.getTmin(),c=b("number",n+"_input",s1,sJ,e=>{let t=e.target;N(t.value)?(d.setTmin(new(r(l))(t.value)),console.log("Set Tmin to "+t.value)):(alert("Value is not numeric, resetting..."),t.value=m.toString()),T(t)},m.toString(),"Tmin");c.id=n,T(c.querySelector("input")),t.appendChild(c);let u=d.getTstep(),p=b("text",a+"_input",s1,sJ,e=>{let t=e.target;N(t.value)?(d.setTstep(new(r(l))(t.value)),console.log("Set Tstep to "+t.value)):(alert("Value is not numeric, resetting..."),t.value=u.toString()),T(t)},u.toString(),"Tstep");p.id=a,T(p.querySelector("input")),t.appendChild(p)}function nb(e,t){let s=t.getFittingIterations()||new eO(new Map,ib);t.setFittingIterations(s),e.appendChild(b("number",h(e.id,eO.tagName,s8),s1,sJ,e=>{let t=e.target;N(t.value)?(s.value=new(r(l))(t.value),console.log("Set FittingIterations to "+t.value)):(alert("Value is not numeric, resetting..."),t.value=s.value.toString()),T(t)},s.value.toString(),eO.tagName))}function nC(e,t){function s(e,t,s,i){let n=h(t.id,e.tagName,s8),a=e.value.toString(),o=e.tagName;t.appendChild(b("number",n,s,i,t=>{let s=t.target;N(s.value)?(e.value=new(r(l))(s.value),console.log("Set "+e.tagName+" to "+s.value)):(alert("Value is not numeric, resetting..."),s.value=e.value.toString()),T(s)},a,o))}let i=t.getMarquardtIterations()||new eH(new Map,ib);t.setMarquardtIterations(i),s(i,e,s1,sJ);let n=t.getMarquardtTolerance()||new eq(new Map,ib);t.setMarquardtTolerance(n),s(n,e,s1,sJ);let a=t.getMarquardtDerivDelta()||new eU(new Map,ib);t.setMarquardtDerivDelta(a),s(a,e,s1,sJ)}function nS(e,t){let s=t.getFormat()||new eX(new Map,eX.options[0]);function i(t,s,i,n,a){let o=s()||new t(new Map,a[0]);i(o);let d=L(n,a,n,o.value,e.id,s1,s1);d.querySelector("select")?.addEventListener("change",e=>{let t=e.target;o.value=t.value,console.log(`Set ${n} to `+t.value),R(t)}),e.appendChild(d)}function n(t,s,i,n){let a=s()||new t(new Map,NaN);i(a),e.appendChild(b("text",e.id+`_${n}_input`,s1,sJ,nT(a,n),a.value.toString(),n))}i(eX,t.getFormat.bind(t),t.setFormat.bind(t),eX.tagName,eX.options),i(eX,()=>s.getRateUnits(),s.setRateUnits.bind(s),eX.rateUnits,eX.rateUnitsOptions),i(eY,t.getPrecision.bind(t),t.setPrecision.bind(t),eY.tagName,tR.precisionOptions),n(e$,t.getChebNumTemp.bind(t),t.setChebNumTemp.bind(t),e$.tagName),n(eW,t.getChebNumConc.bind(t),t.setChebNumConc.bind(t),eW.tagName),n(eK,t.getChebMaxTemp.bind(t),t.setChebMaxTemp.bind(t),eK.tagName),n(eZ,t.getChebMinTemp.bind(t),t.setChebMinTemp.bind(t),eZ.tagName),n(eQ,t.getChebMaxConc.bind(t),t.setChebMaxConc.bind(t),eQ.tagName),n(eJ,t.getChebMinConc.bind(t),t.setChebMinConc.bind(t),eJ.tagName),n(e0,t.getChebTExSize.bind(t),t.setChebTExSize.bind(t),e0.tagName),n(e1,t.getChebPExSize.bind(t),t.setChebPExSize.bind(t),e1.tagName)}function nM(e,t){function s(t,s,i,n){let a=s()||new t(new Map,NaN);i(a),e.appendChild(b("text",e.id+`_${n}_input`,s1,sJ,nT(a,n),a.value.toString(),n))}s(e3,t.getTmin.bind(t),t.setTmin.bind(t),e3.tagName),s(e5,t.getTmid.bind(t),t.setTmid.bind(t),e5.tagName),s(e4,t.getTmax.bind(t),t.setTmax.bind(t),e4.tagName),s(e6,t.getTstep.bind(t),t.setTstep.bind(t),e6.tagName)}function nT(e,t){return t=>{let s=t.target;try{e.value=new(r(l))(s.value)}catch(t){alert("Invalid input value "+s.value+" , resetting..."),s.value=e.value.toString()}T(s)}}function nR(e,t){function s(t,s,i,n){let a=s()||new t(new Map,NaN);i(a),e.appendChild(b("text",h(e.id,n,s8),s1,sJ,nT(a,n),a.value.toString(),n))}s(e9,t.getSensitivityAnalysisSamples.bind(t),t.setSensitivityAnalysisSamples.bind(t),e9.tagName),s(e7,t.getSensitivityAnalysisOrder.bind(t),t.setSensitivityAnalysisOrder.bind(t),e7.tagName),s(te,t.getSensitivityNumVarRedIters.bind(t),t.setSensitivityNumVarRedIters.bind(t),te.tagName);let i=t.getSensitivityVarRedMethod()||new tt(new Map,"");t.setSensitivityVarRedMethod(i);let n=tt.tagName;e.appendChild(L(n,tt.options,n,tt.options[0],h(e.id,n,"select"),s1,s1));let a=e.querySelector("select");a?.addEventListener("change",e=>{let t=e.target;i.value=t.value,console.log(n+" set to "+t.value),R(t)})}function nz(e,t){t.addEventListener("click",s=>{e[e.length-1]==it&&e.pop();let i=t.options.length-1;t.options[i].value==it&&t.remove(i)})}function n_(e,t,s,i,n,a,o){let d=_(s,i,n,o,s1);return t.appendChild(d),nz(s,d),d.addEventListener("change",s=>{let i=document.getElementById(a);null!=i&&i.remove(),i=B(a,s1),t.appendChild(i);let n=s.target,o=n.value,d=new Map;if(d.set("xsi:type",o),o==eG.xsi_type||o==eG.xsi_type2)e.setCalcMethod(new eG(d));else if(o==ek.xsi_type||o==ek.xsi_type2)e.setCalcMethod(new ek(d));else if(o==eF.xsi_type||o==eF.xsi_type2){let t=new eF(d);e.setCalcMethod(t),nb(i,t)}else if(o==eV.xsi_type||o==eV.xsi_type2){let t=new eV(d);e.setCalcMethod(t),nC(i,t)}else if(o==e2.xsi_type||o==e2.xsi_type2){let t=new e2(d);e.setCalcMethod(t),nS(i,t)}else if(o==e8.xsi_type||o==e8.xsi_type2){let t=new e8(d);e.setCalcMethod(t),nM(i,t)}else if(o==ts.xsi_type||o==ts.xsi_type2){let t=new ts(new Map);e.setCalcMethod(t),nR(i,t)}else throw Error("Unknown CalcMethod type.");R(n)}),d}document.addEventListener("DOMContentLoaded",()=>{document.body.className=t?"dark-mode":"light-mode",document.body.className=t?"dark-mode":"light-mode";let g=document.getElementById(ih);g.style.display="flex",g.style.justifyContent="center",g.style.margin="5px",g.style.padding="5px",g.style.border="1px solid black",g.style.backgroundColor="lightgrey";let u="About",p=P(u,ir(u),s1);g.appendChild(p),p.addEventListener("click",async e=>{(function(e){if(null==e)return;e.document.title="About MXG";let t=document.createElement("div");e.document.body.appendChild(t);let s=e.document.createElement("p");t.appendChild(s),s.appendChild(e.document.createTextNode("MXG is a free and open source program to assist in creating, editing and         visualising MESMER XML data. The MXG development repository is: ")),s.appendChild(sH),s.appendChild(e.document.createTextNode(". Details of MESMER - the Master Equation Solver for Multi Energy-well Reactions         can be found at: ")),s.appendChild(sj),s.appendChild(e.document.createTextNode("."));let i=document.createElement("p");t.appendChild(i),i.appendChild(e.document.createTextNode("MXG is being developed by a team based at ")),i.appendChild(sY),i.appendChild(e.document.createTextNode(" funded by ")),i.appendChild(sX),i.appendChild(e.document.createTextNode("Like MESMER, MXG development aims to be driven in part by users reporting issues,         submitting feature requests, and getting involved in development."));let n=e.document.createElement("p");t.appendChild(n),n.appendChild(e.document.createTextNode("MXG runs on the latest Firefox, Chrome, Edge or Safari Web browsers. It can         be used offline if installed as a Progressive Web App (PWA). PWA installation varies by Web browser and device, it         should only require user permission and is effectively a form of Web browser bookmark. For guidance please see the         MXG main development repository README: ")),n.appendChild(sH.cloneNode(!0)),n.appendChild(e.document.createTextNode(". MXG may work on small screen devices, but it is recommended to use a device         with at least a standard laptop sized screen."));let a=document.createElement("p");t.appendChild(a),a.appendChild(e.document.createTextNode('The Menu contains 5 buttons. The Load MESMER File button is for loading a         MESMER XML data file with a "me:mesmer" tag containing: "me:title", "moleculeList", "reactionList",         "me:conditions", "me:modelParameters", and "me:control" tags containing further details. A MESMER XML output         data file will also have "me:metadataList" and "me:analysis" tags as children of the "me:mesmer" tag. Additional         output is located in "moleculeList" and "reactionList" tags. The Load Molecules button is for loading molecule         data for selection, modification and for inclusion in saved MESMER files. The Load Defaults button is to load         default values. Whilst not necessary, loading defaults is for convenience, as often similar values and the same         units as defaults are wanted for specified variables. The Save MESMER File button is for saving a new MESMER XML         data file. The file should be saved to the Web browser downloads location. It should contain no comments or extra         white space between XML tags with the exception of new lines, tag values should be trimmed of white space,         numbers should be output in a particular format (decimals - where numbers with more than 8 digits are output in         scientific notation format). There should be: a single "atomArray" tag containing all "atom" tags (each atom         should have a unique id attribute); a single "bondArray" tag containing any "bond" tags (each bond should have a         unique id attribute); and, a single "propertyList" tag containing all "property" tags for each "molecule" tag in         the "moleculeList". The saved file should reflect what is specified via the interface.'));let o=e.document.createElement("p");t.appendChild(o),o.appendChild(e.document.createTextNode('The "me:title" value is presented in an input alongside an associated label.         The input can be used to change the value which is also used to compose filenames for files saved from MXG.         Details are presented via buttons which contain a triangular symbol. A triangle orientated with a point down: ▼ can be actioned to show more details (if there are any). A triangle orientated with a point         up: ▲ can be actioned to hide those details again.'));let d=e.document.createElement("p");t.appendChild(d),d.textContent='The Reaction Diagram button shows/hides a reaction well diagram which is redrawn if molecule "me:ZPE"         property values are changed. The diagram can be opened in a new Window and saved to a PNG format file.';let r=e.document.createElement("p");t.appendChild(r),r.textContent="MXG uses 3DMol.js under a BSD-3-Clause licence to visualise molecules with coordinates. For details         of 3DMol.js please see the GitHub repository: ",r.appendChild(sW),r.appendChild(e.document.createTextNode(". If you use the 3DMol.js visualisations, please cite: Nicholas Rego and         David Koes 3Dmol.js: molecular visualization with WebGL Bioinformatics (2015) 31 (8): 1322-1324 ")),r.appendChild(sK),r.appendChild(e.document.createTextNode("."));let l=e.document.createElement("p");t.appendChild(l),l.textContent="MXG uses Big.js under an MIT licence to handle numbers. For details of Big.js please see the GitHub         repository: ",l.appendChild(sQ),l.appendChild(e.document.createTextNode("."))})(window.open("","","width=600,height=400"))});let f="Load Molecules",x=P(f,ir(f),s1);g.appendChild(x);let y=new sk;x.addEventListener("click",async e=>{(await y.readFile()).forEach((e,t)=>{iz(e,iR)})});let S="Load Defaults",M=P(S,ir(S),s1);M.addEventListener("click",e=>{(i=new sG).readFile()}),g.appendChild(M);let z="Load MESMER File",q=P(z,ir(z),s1);q.addEventListener("click",i=>{let g;id.forEach(e=>{ig(e)}),null!=n&&n.clear(),null!=a&&a.clear(),o=[],(g=document.createElement("input")).type="file",g.onchange=function(){if(g.files){for(let e=0;e<g.files.length;e++)console.log("inputElement.files["+e+"]="+g.files[e]);let i=g.files[0];console.log(i.name),e=i.name;let u=new FileReader,p=0,f="";u.onload=function(g){if(null==g.target)throw Error("Event target is null");if(f+=g.target.result,null!=i){if(p<i.size){let e=i.slice(p,p+1048576);u.readAsText(e),p+=1048576}else{var x,y;let i,g,u,p,S,M,z,q,U,V,j,X,Y,$,Z,er,el,eg,eh,em,ec,eN,ep,ef,ex,ev,eE,ew,ey,eb,eC,eS,eM,eT;x=f=f.trim(),i=document.getElementById(iy),ig(g=il(iy,2)),u=I(g,s0),w(g,i,null,u,e,s1,sJ),(p=document.createElement("pre")).textContent=x,u.appendChild(p),console.log("parse: "+(y=new DOMParser().parseFromString(f,"text/xml"))),z=K(y,tR.tagName),s=new tR(W(z)),(q=y.getElementsByTagName(ty.tagName)).length>0?(q.length>1&&console.warn("Multiple "+ty.tagName+" tags found, using the first."),S=q[0].childNodes[0].nodeValue.trim(),M=W(q[0])):(S=e,console.warn("No "+ty.tagName+" tag found, using the filename: "+e+" as the title."),M=new Map),U=new ty(M,S),s.setTitle(U),V=document.getElementById(im),ig(j=il("titleDiv")),(X=b("text",il(j,s8),s1,sJ,e=>{let t=e.target;U.value=t.value,console.log(U.tagName+" changed to "+U.value),T(t)},S,ty.tagName)).id=j,V.appendChild(X),Y=document.getElementById(ic),ig($=il(tb.tagName)),w($,Y,null,function(e){n=new Map;let t=I(void 0,s1),s=K(e,tb.tagName),i=new Set;if(s.childNodes.forEach(function(e){i.add(e.nodeName)}),1==i.size||2==i.size&&i.has("#text")||(console.error("moleculeListTagNames:"),i.forEach(e=>console.error(e)),console.warn("Additional tag names in moleculeList:")),!i.has(su.tagName))return console.warn('Expecting tags with "'+su.tagName+'" tagName but there are none!'),t;let a=s.getElementsByTagName(su.tagName),o=a.length;console.log("Number of molecules="+o);for(let e=0;e<o;e++){let s=il(su.tagName,e),i=I(s),o=new su(W(a[e]),e);iz(o,n);let d=w(il(s,s4),t,null,i,o.label,s1,s0),g=new Set,h=a[e].childNodes;for(let e=0;e<h.length;e++){let t=h[e];g.has(t.nodeName)?"#text"!=t.nodeName&&console.warn("Another ChildNode with nodeName="+t.nodeName):g.add(t.nodeName)}iG(o,d.querySelector(v),i,s0),i.appendChild(ik(il(s,s6),o.getDescription.bind(o),o.setDescription.bind(o),s1,s0));let c=a[e].getElementsByTagName(tp.tagName);if(c.length>0){c.length>1&&console.warn("Expecting 1 or 0 "+tp.tagName+" but finding "+c.length+". Loading the first of these...");let e=il(s,tp.tagName),t=I(e);w(il(e,s4),i,null,t,tp.tagName,s1,s0);let n=c[0].getElementsByTagName(tg.tagName),a=new tp(W(c[0]));o.setMetadataList(a);for(let s=0;s<n.length;s++){let i=new tg(W(n[s]));t.appendChild(function(e,t,s,i,n,a){s.addMetadata(t);let o=B(i,s0);return o.appendChild(D(e.getLabel(),s1)),o}(o,i,a,il(e,s),0,0))}g.delete(tp.tagName)}let u=a[e].getElementsByTagName(tP.tagName),p=il(s,tP.tagName),f=I(p);w(il(p,s4),i,null,f,tP.tagName,s1,s0);let x=new tP(new Map);o.setAtoms(x);for(let e=0;e<u.length;e++){let t=W(u[e]);t.size>0&&console.warn("AtomArray attributes lost/ignored: "+m(t))}let E=a[e].getElementsByTagName(tL.tagName);for(let e=0;e<E.length;e++)f.appendChild(iH(o,p,x,new tL(W(E[e]),o),s1,s0));f.appendChild(iF(o,f,tL.tagName,s1,s0)),g.delete(tL.tagName);let y=a[e].getElementsByTagName(tB.tagName),S=il(s,tB.tagName),M=I(S);w(il(S,s4),i,null,M,tB.tagName,s1,s0);let R=new tB(new Map);o.setBonds(R);for(let e=0;e<y.length;e++){let t=W(y[e]);t.size>0&&console.warn("BondArray attributes lost/ignored: "+m(t))}let z=a[e].getElementsByTagName(tI.tagName);for(let e=0;e<z.length;e++)W(z[e]).has(tI.s_id)&&M.appendChild(iX(o,S,o.getAtoms().atoms,R,new tI(W(z[e]),o),s1,s0));for(let e=0;e<z.length;e++)W(z[e]).has(tI.s_id)||M.appendChild(iX(o,S,o.getAtoms().atoms,R,new tI(W(z[e]),o),s1,s0));M.appendChild(ij(o,M,tI.tagName,s1,s0)),g.delete(tI.tagName);let _=il(s,"viewer"),k=I(_);w(il(_,s4),i,null,k,"viewer",s1,s0),i0(o,k,s1,s0);let q=a[e].getElementsByTagName(t3.tagName),U=il(s,t3.tagName),V=I(U);w(il(U,s4),i,null,V,t3.tagName,s1,s0);let j=new t3(new Map);o.setPropertyList(j);for(let e=0;e<q.length;e++){let t=W(q[e]);t.size>0&&console.warn("PropertyList attributes lost/ignored: "+m(t))}let X=new Set(tG.propertyDictRefs),Y=a[e].getElementsByTagName(tO.tagName);for(let e=0;e<Y.length;e++){let t=function(e,t,s,i,n,a,o){let d=new tO(W(s));return e.delete(d.dictRef),d.dictRef==tF.dictRef?i1(t,d,tR.energyUnits,n,s,i,a,o):d.dictRef==tH.dictRef?i1(t,d,tR.energyUnits,n,s,i,a,o):d.dictRef==tq.dictRef?i1(t,d,tR.energyUnits,n,s,i,a,o):d.dictRef==tU.dictRef?i1(t,d,tR.energyUnits,n,s,i,a,o):d.dictRef==tV.dictRef?i1(t,d,tR.frequencyUnits,n,s,i,a,o):d.dictRef==tj.dictRef?i1(t,d,void 0,n,s,i,a,o):d.dictRef==tX.dictRef?i1(t,d,void 0,n,s,i,a,o):d.dictRef==tY.dictRef?i1(t,d,void 0,n,s,i,a,o):d.dictRef==t$.dictRef?i1(t,d,void 0,n,s,i,a,o):d.dictRef==tW.dictRef?i1(t,d,void 0,n,s,i,a,o):d.dictRef==tK.dictRef?i1(t,d,void 0,n,s,i,a,o):d.dictRef==tZ.dictRef?i1(t,d,void 0,n,s,i,a,o):d.dictRef==tQ.dictRef?i1(t,d,void 0,n,s,i,a,o):d.dictRef==tJ.dictRef?i1(t,d,void 0,n,s,i,a,o):d.dictRef==t0.dictRef?i1(t,d,void 0,n,s,i,a,o):d.dictRef==t1.dictRef?i1(t,d,void 0,n,s,i,a,o):function(e,t,s,i,n,a,o){let d=new Set,r=i.getElementsByTagName(tD.tagName);if(r.length>0){if(1!=r.length)throw Error("Expecting 1 "+tD.tagName+" but finding "+r.length+"!");let s=H(r[0]),i=new tD(W(r[0]),s);t.setProperty(i),i.setValue=(function(e){i.value=e,t.dictRef==tF.dictRef&&iA()}).bind(i);let a=function(e,t,s,i,n,a,o,d){let r=B(e,d),l=s+s2,g=s+s3,h=il(e,v);t.add(h);let m=P(g,h,o);r.appendChild(m),m.classList.add(s9),m.classList.add(s7);let c=il(e,s,s8);t.add(c);let u=i();return void 0==u?(m.textContent=g,m.classList.toggle(s9)):(iQ(r,c,s,u,n,o),m.textContent=l,m.classList.toggle(s7)),m.addEventListener("click",e=>{null==document.getElementById(c)?(iQ(r,c,s,u,n,o),m.textContent=l):(document.getElementById(c)?.remove(),a(),console.log("Removed "+c),m.textContent=g),m.classList.toggle(s9),m.classList.toggle(s7)}),r}(il(n.id,t.dictRef),d,t.dictRef,i.getValue.bind(i),i.setValue,()=>e.removeProperty(t.dictRef),s1,s0);n.appendChild(a)}else console.log("Expecting "+tD.tagName+" but finding none!")}(t,d,0,s,i,0,0),d}(X,j,Y[e],V,o,s1,s0);j.setProperty(t)}let $=a[e].getElementsByTagName(t9.tagName);if($.length>0){if($.length>1)throw Error("Expecting 1 or 0 "+t9.tagName+" but finding "+$.length+"!");(function(e,t,s,i){let n=s.getElementsByTagName(t5.tagName);if(n.length>0){let s=il(i.id,t9.tagName),a=document.createElement("div");w(il(s,s4),i,null,a,t9.tagName,s1,s0);let o=[];for(let e=0;e<n.length;e++){let t=H(n[e]),i=new(r(l))(t),d=new t5(W(n[e]),i);o.push(d);let g=t5.tagName,h=il(s,t5.tagName,e),m=b("number",h,s1,s0,s=>{let i=s.target;i5(d,i),t=i.value,o[e].setValue(new(r(l))(t)),console.log("Set "+h+" to "+t),T(i)},t,g);a.appendChild(m);let c=document.createElement("label");c.textContent="units cm-1",m.appendChild(c)}e.setDeltaEDowns(o),t.setEnergyTransferModel(e)}})(new t9(W($[0])),o,$[0],i),g.delete(t9.tagName)}let K=a[e].getElementsByTagName(t7.tagName);if(K.length>0){if(K.length>1)throw Error("Expecting 1 or 0 "+t7.tagName+" but finding "+K.length+"!");let e=new t7(W(K[0]));i.appendChild(L(t7.tagName,t7.xsi_typeOptions,t7.tagName,e.getXsiType(),il(s,t7.tagName),s1,s0)),g.delete(t7.tagName)}let Z=a[e].getElementsByTagName(ss.tagName);if(Z.length>0){if(Z.length>1)throw Error("Expecting 1 or 0 "+ss.tagName+" but finding "+Z.length+"!");let e=W(Z[0]),t=new ss(e);o.setDistributionCalcMethod(t);let n=I(il(s,ss.tagName));i.appendChild(n),n.appendChild(D(ss.tagName+" "+m(e),s0)),g.delete(ss.tagName)}let Q=a[e].getElementsByTagName(sc.tagName);if(Q.length>0){if(Q.length>1)throw Error("Expecting 1 or 0 "+sc.tagName+" but finding "+Q.length+"!");let e=new sc(W(Q[0]));o.setDensityOfStatesList(e);let t=il(s,sc.tagName),n=I(t);w(il(t,s4),i,null,n,sc.tagName,s1,s0);let a=Q[0].getElementsByTagName(sm.tagName),d=Q[0].getElementsByTagName(tz.tagName);if(d.length>0){if(d.length>1)throw Error("Expecting 1 or 0 "+tz.tagName+" but finding "+d.length+"!");let t=new tz(W(d[0]),F(O(d[0])));e.setDescription(t)}if(0==a.length)throw Error("Expecting 1 or more "+sm.tagName+" but finding 0!");{let s=A(il(t,is),s0);G(s,sm.header),n.appendChild(s);for(let i=0;i<a.length;i++){let o=new sm(W(a[i]));e.addDensityOfStates(o);let d=B(il(t,i),s0);n.appendChild(d);let g=a[i].getElementsByTagName(t_.tagName);if(1!=g.length)throw Error("Expecting 1 "+t_.tagName+" but finding "+g.length+"!");{let e=new t_(W(g[0]),new(r(l))(F(O(g[0]))));o.setT(e)}let h=a[i].getElementsByTagName(sl.tagName);if(1!=h.length)throw Error("Expecting 1 "+sl.tagName+" but finding "+h.length+"!");{let e=new sl(W(h[0]),new(r(l))(F(O(h[0]))));o.setQtot(e)}let m=a[i].getElementsByTagName(sg.tagName);if(1!=m.length)throw Error("Expecting 1 "+sg.tagName+" but finding "+m.length+"!");{let e=new sg(W(m[0]),new(r(l))(F(O(m[0]))));o.setSumc(e)}let c=a[i].getElementsByTagName(sh.tagName);if(1!=c.length)throw Error("Expecting 1 "+sh.tagName+" but finding "+c.length+"!");{let e=new sh(W(c[0]),new(r(l))(F(O(c[0]))));o.setSumg(e)}G(s,o.toStringArray())}nk(e.toCSV,n,s,o.getID()+"_"+sc.tagName,s0)}g.delete(sc.tagName)}let J=sn.tagName,ee=a[e].getElementsByTagName(J);if(ee.length>0){let e;if(ee.length>1)throw Error("Expecting 1 or 0 "+J+" but finding "+ee.length+"!");let t=new sn(W(ee[0])),n=il(s,sn.tagName),a=I(n);w(il(n,s4),i,null,a,J,s1,s0);let d=si.tagName,r=ee[0].getElementsByTagName(d);if(0==r.length)throw Error("Expecting 1 or more "+d+" but finding 0!");{e=[];let s=A(il(n,is),s0);G(s,t.getHeader());for(let t=0;t<r.length;t++){let i=new si(W(r[t]));e.push(i),G(s,i.toStringArray())}a.appendChild(s),t.init(e),nk(t.toCSV.bind(t),a,s,o.getID()+"_"+sn.tagName,s0)}o.setThermoTable(t),g.delete(d),g.delete(J)}let et=a[e].getElementsByTagName(sd.tagName);if(et.length>0)for(let e=0;e<et.length;e++){let t=new sd(W(et[e])),n=il(s,sd.tagName,e),a=I(n);w(il(n,s4),i,null,a,sd.tagName,s1,s0);let d=et[e].getElementsByTagName(se.tagName);if(d.length>0){if(1!=d.length)throw Error("Expecting only 1 bondRef, but there are "+d.length);let e=o.getBonds().getBondIds(),t=new se(W(d[0]),F(O(d[0]))),s=L(se.tagName,e,se.tagName,t.value,il(n,se.tagName),s1,s0);s.getElementsByTagName("select")[0].classList.add(tI.tagName),a.appendChild(s)}let h=et[e].getElementsByTagName(sa.tagName);if(h.length>0){if(1!=h.length)throw Error("Expecting only 1 HinderedRotorPotential, but there are "+h.length);let e=W(h[0]),s=new sa(e),o=il(n,sa.tagName),d=I(o);w(il(o,s4),a,null,d,sa.tagName,s1,s0);let g=L(sa.s_format,sa.formats,sa.tagName,s.getFormat(),il(o,sa.s_format),s1,s0);d.appendChild(g),i2(tR.energyUnits,e,d,g,il(o,sa.s_units),sa.tagName,s1,s0);let m=s.getExpansionSize()??ii;d.appendChild(b("text",il(o,sa.s_expansionSize),s1,s0,e=>{let t=e.target;try{console.log("Setting "+sa.s_expansionSize+" to "+t.value),s.setExpansionSize(new(r(l))(t.value))}catch(e){alert("Invalid value, resetting..."),t.value=s.getExpansionSize()??ii}T(t)},m,sa.s_expansionSize)),function(e,t,s){il(e.id,sa.s_useSineTerms);let i=sa.s_useSineTerms+s2,n=sa.s_useSineTerms+s3,a=P(n,void 0,s);e.appendChild(a),a.classList.add(s9),a.classList.add(s7),!0==t.getUseSineTerms()?(a.textContent=i,a.classList.toggle(s7)):(a.textContent=n,a.classList.toggle(s9)),a.addEventListener("click",e=>{!1==t.getUseSineTerms()?(t.setUseSineTerms(!0),a.textContent=i):(t.setUseSineTerms(!1),a.textContent=n),a.classList.toggle(s9),a.classList.toggle(s7)})}(d,s,s0);let c=il(o,st.tagName),u=I(c),p=w(il(c,s4),i,null,u,"PotentialPoints",s1,s0);d.appendChild(p);let f=[],x=h[0].getElementsByTagName(st.tagName);for(let e=0;e<x.length;e++){let t=new st(W(x[e]));f.push(t);let s=il(c,e),i=B(s,s0);u.appendChild(i);let n=D(st.tagName+" "+e,s1);i.appendChild(n);let a=t.getAngle()??ii,o=b("text",il(s,st.s_angle),s1,s1,e=>{let s=e.target;if(N(s.value)){let e=new(r(l))(s.value);t.setAngle(e)}else alert("Angle input is not a number, resetting..."),s.value=t.getAngle()??ii;T(s)},a,st.s_angle);i.appendChild(o);let d=D(st.s_potential,s1);i.appendChild(d);let g=C("text",il(s,st.s_potential),s1);i.appendChild(g);let h=t.getPotential()??ii;g.addEventListener("change",e=>{let s=e.target;if(N(s.value)){let e=new(r(l))(s.value);t.setPotential(e),console.log("Set "+st.tagName+" to "+e.toExponential())}else alert("Potential input is not a number, resetting..."),g.value=t.getPotential()??ii;T(g)}),g.value=h,T(g)}s.setPotentialPoints(f),t.setHinderedRotorPotential(s)}let m=et[e].getElementsByTagName(so.tagName);if(m.length>0){if(1!=m.length)throw Error("Expecting only 1 Periodicity, but there are "+m.length);let e=F(O(m[0])),s=new so(W(m[0]),new(r(l))(e));t.setPeriodicity(s);let i=b("text",il(n,so.tagName),s1,s0,i=>{let n=i.target;if(N(e=n.value)){let i=new(r(l))(e);s.value=i,t.getPeriodicity().value=i,console.log("Set "+so.tagName+" to "+i)}else alert("Periodicity input is not a number, resetting..."),n.value=s.value.toExponential()},e,so.tagName);a.appendChild(i)}o.setExtraDOSCMethod(e,t),g.delete(sd.tagName)}g.delete(sr.tagName);let es=a[e].getElementsByTagName(sr.tagName);if(es.length>0){if(1!=es.length)throw Error("Expecting only 1 reservoirSize, but there are "+es.length);let e=F(O(es[0])),t=new(r(l))(e),s=new sr(W(es[0]),t);o.setReservoirSize(s);let n=b("number",o.getID()+"_"+sr.tagName,s1,s0,e=>{let t=e.target;s.value=new(r(l))(t.value),T(t)},e,sr.tagName);i.appendChild(n)}g.delete("#text"),g.size>0&&(console.warn("There are additional unexpected moleculeTagNames:"),g.forEach(e=>console.warn(e)))}let d=P(s5,void 0,s0);t.appendChild(d),d.addEventListener("click",()=>{let e=prompt("Please enter a name for the molecule","Kr");null==e&&(e="");let s=n.size,i=new su(new Map,s);iz(i,n),i.setAtoms(new tP(new Map)),i.setBonds(new tB(new Map));let a=il(su.tagName,s),o=I(a),r=w(il(a,s4),t,d,o,e+" "+s,s1,s0);iV(ed.tagName,e+" "+s),iG(i,r.querySelector(v),o,s0),o.appendChild(ik(il(a,s6),i.getDescription.bind(i),i.setDescription.bind(i),s1,s0));let l=il(a,tP.tagName),g=I(l);w(il(l,s4),o,null,g,tP.tagName,s1,s0),g.appendChild(iF(i,g,tL.tagName,s1,s0));let h=il(a,tB.tagName),m=I(h);w(il(h,s4),o,null,m,tB.tagName,s1,s0),m.appendChild(ij(i,m,tI.tagName,s1,s0)),i0(i,o,s1,s0);let c=il(a,t3.tagName),u=I(c);w(il(c,s4),o,null,u,t3.tagName,s1,s0)});let g=P("Add from library ＋",void 0,s1);return t.appendChild(g),g.addEventListener("click",()=>{let e=h(su.tagName,"div");ig(e);let s=I(il(e),s0),i=Array.from(i_(iR));if(0==i.length){alert("There are no additional molecules to add, please load data...");return}console.log("options.length="+i.length),iY(i,!0);let a=h(e,E);ig(a);let o=_(i,"Select molecule",it,il(a),s1);o.classList.add(su.tagName),s.appendChild(o),t.insertBefore(s,d),nz(i,o),o.addEventListener("change",e=>{let i=e.target,a=iL(i.options[i.selectedIndex].value,iR);n.set(n.size,a);let o=il(su.tagName,n.size),r=I(o),l=w(il(o,s4),t,d,r,a.getLabel(),s1,s0);iV(ed.tagName,a.getID()),iG(a,l.querySelector(v),r,s0),r.appendChild(ik(il(o,s6),a.getDescription.bind(a),a.setDescription.bind(a),s1,s0));let g=il(o,tp.tagName),h=I(g,s0);w(il(g,s4),r,null,h,tp.tagName,s1,s0);let m=a.getMetadataList();void 0!=m&&m.getMetadata().forEach(e=>{let t=I();h.appendChild(t),t.appendChild(D(e.getLabelText(),s1))});let c=il(o,tP.tagName),u=I(c);w(il(c,s4),r,null,u,tP.tagName,s1,s0);let N=a.getAtoms();void 0!=N&&N.atoms.forEach(e=>{u.appendChild(iH(a,c,a.getAtoms(),e,s1,s0))}),u.appendChild(iF(a,u,tL.tagName,s1,s0));let p=il(o,tB.tagName),f=I(p);w(il(p,s4),r,null,f,tB.tagName,s1,s0),void 0!=a.getBonds()&&a.getBonds().bonds.forEach(e=>{if(void 0==N)throw Error("Atoms are not defined for molecule "+a.getLabel());f.appendChild(iX(a,p,N.atoms,a.getBonds(),e,s1,s0))}),f.appendChild(ij(a,f,tI.tagName,s1,s0)),i0(a,r,s1,s0);let x=il(o,t3.tagName),E=I(x);w(il(x,s4),r,null,E,t3.tagName,s1,s0),s.remove()})}),t}(y),tb.tagName,s1,sJ),Z=document.getElementById(iu),ig(er=il(tC.tagName)),w(er,Z,null,function(e){a=new Map;let t=I(void 0,s1),s=K(e,tC.tagName),i=new Set;if(s.childNodes.forEach(function(e){i.add(e.nodeName)}),1!=i.size&&!(2==i.size&&i.has("#text")))throw console.error("reactionListTagNames:"),i.forEach(e=>console.error(e)),Error("Additional tag names in reactionList:");if(!i.has(sP.tagName))throw Error('Expecting tags with "'+sP.tagName+'" tagName but there are none!');let n=s.getElementsByTagName(sP.tagName);console.log("Number of reactions="+n.length);for(let e=0;e<n.length;e++){let s=new sP(W(n[e]));a.set(s.id,s);let i=new Set,o=n[e].childNodes,d=il(sP.tagName,e),g=I(d);for(let e=0;e<o.length;e++){let t=o[e];i.has(t.nodeName)?"#text"!=t.nodeName&&console.warn("Another ChildNode with nodeName="+t.nodeName):i.add(t.nodeName)}let h=n[e].getElementsByTagName(sp.tagName);if(i.delete(sp.tagName),h.length>0){let e=il(d,sp.tagName),t=I(e);w(il(e,s4),g,null,t,"Reactants",s1,s0);let i=[];for(let s=0;s<h.length;s++){let n=il(e,sp.tagName,s),a=new sN(W(k(h[s],su.tagName))),o=new sp(W(h[s]),a);i.push(o);let d=L(a.getRef()+" role",sp.roleOptions,"Role",a.getRole(),il(n,E),s1,s0);d.querySelector("select")?.addEventListener("change",e=>{let t=e.target;a.setRole(t.value),console.log("Set Role to "+t.value),R(t)}),t.appendChild(d)}s.setReactants(i)}let c=n[e].getElementsByTagName(sf.tagName);if(i.delete(sf.tagName),c.length>0){let e=il(d,sf.tagName),t=I(e);w(il(e,s4),g,null,t,"Products",s1,s0);let i=[];for(let s=0;s<c.length;s++){let n=new sN(W(k(c[s],su.tagName))),a=new sf(W(c[s]),n);i.push(a);let o=L(n.getRef()+" role",sf.roleOptions,n.getRole(),n.getRef(),il(e,s,"Role"),s1,s0),d=o.querySelector("select");d.value=n.getRole(),d.addEventListener("change",e=>{let t=e.target;n.setRole(t.value),console.log("Set Role to "+t.value),R(t)}),R(d),t.appendChild(o)}s.setProducts(i)}w(il(d,s4),t,null,g,s.id+" ("+s.getLabel()+")",s1,s0);let u=n[e].getElementsByTagName(sS.tagName);if(u.length>0){if(u.length>1)throw Error("Expecting 1 "+sS.tagName+" but finding "+u.length+"!");let e=new sS(W(u[0]));s.setTunneling(e);let t=L(sS.tagName,sS.options,"Tunneling",e.getName(),il(d,sS.tagName),s1,s0);t.querySelector("select")?.addEventListener("change",t=>{let s=t.target;e.setName(s.value),console.log("Set Tunneling to "+s.value),R(s)}),g.appendChild(t)}let N=n[e].getElementsByTagName(sx.tagName);if(N.length>0){let e=il(d,sx.tagName),t=I(e);w(il(e,s4),g,null,t,"Transition States",s1,s0);let i=[];for(let e=0;e<N.length;e++){let s=new sN(W(k(N[e],su.tagName))),n=new sx(W(N[e]),s);i.push(n);let a=D(s.getRef()+" role transitionState",s0);t.appendChild(a)}s.setTransitionStates(i)}let p=n[e].getElementsByTagName(sb.tagName);if(p.length>0){if(p.length>1)throw Error("Expecting 1 "+sb.tagName+" but finding "+p.length+"!");{let e;let t=W(p[0]),i=t.get("xsi:type");void 0==i&&(i=t.get("name"));let n=il(d,sb.tagName),a=I(n);if(i==sC.xsiType||i==sC.xsiType2){let s=w(il(n,s4),g,null,a,sb.tagName,s1,s0);g.appendChild(s),e=new sC(t);let i=p[0].getElementsByTagName(sv.tagName);if(null!=i&&null!=i[0]){let t=H(i[0]),s=new(r(l))(t),o=W(i[0]),d=new sv(o,s);e.setPreExponential(d);let g=b("number",il(n,sv.tagName,s8),s1,s0,e=>{i5(d,e.target)},t,sv.tagName);a.appendChild(g);let h=g.querySelector("input");h.value=t,T(h),h.addEventListener("change",e=>{t=e.target.value,d.value=new(r(l))(t),console.log(sv.tagName+" changed to "+t),T(h)}),i2(void 0,o,g,null,il(n,sv.tagName),sv.tagName,s1,s1),a.appendChild(g)}let o=p[0].getElementsByTagName(sE.tagName);if(null!=o&&null!=o[0]){let t=H(o[0]),s=new(r(l))(t),i=W(o[0]),d=new sE(i,s);e.setActivationEnergy(d);let g=b("number",il(n,sE.tagName,s8),s1,s0,e=>{i5(d,e.target)},t,sE.tagName),h=g.querySelector("input");h.value=t,T(h),h.addEventListener("change",e=>{t=e.target.value,d.value=new(r(l))(t),console.log(sE.tagName+" changed to "+t),T(h)}),i2(void 0,i,g,null,il(n,sE.tagName),sE.tagName,s1,s1),a.appendChild(g)}let d=p[0].getElementsByTagName(sw.tagName);if(null!=d&&null!=d[0]){let t=H(d[0]),s=new(r(l))(t),i=W(d[0]),o=new sw(i,s);e.setTInfinity(o);let g=b("number",il(n,sw.tagName,s8),s1,s0,e=>{i5(o,e.target)},t,sw.tagName),h=g.querySelector("input");h.value=t,T(h),h.addEventListener("change",e=>{t=e.target.value,o.value=new(r(l))(t),console.log(sw.tagName+" changed to "+t),T(h)}),i2(void 0,i,g,null,il(n,sw.tagName),sw.tagName,s1,s1),a.appendChild(g)}let h=p[0].getElementsByTagName(sy.tagName);if(null!=h&&null!=h[0]){let t=H(h[0]),s=new(r(l))(t),i=W(h[0]),o=new sy(i,s);e.setNInfinity(o);let d=b("number",il(n,sy.tagName,s8),s1,s0,e=>{i5(o,e.target)},t,sy.tagName);a.appendChild(d);let g=d.querySelector("input");g.value=t,T(g),g.addEventListener("change",e=>{t=e.target.value,o.value=new(r(l))(t),console.log(sy.tagName+" set to "+t),T(g)}),i2(void 0,i,d,null,il(n,sy.tagName),sy.tagName,s1,s1),a.appendChild(d)}}else{e=new sb(t);let s=document.createElement("label");s.textContent=sb.tagName+": "+i,Object.assign(s.style,s0),a.appendChild(s),g.appendChild(a)}s.setMCRCMethod(e)}}let f=n[e].getElementsByTagName(sM.tagName);if(f.length>0){if(f.length>1)throw Error("Expecting 1 "+sM.tagName+" but finding "+f.length+"!");let e=new(r(l))(F(O(f[0]))),t=new sM(W(f[0]),e);s.setExcessReactantConc(t);let i=b("number",il(d,sM.tagName),s1,s0,e=>{i5(t,e.target)},e.toExponential(),sM.tagName);g.appendChild(i)}let x=n[e].getElementsByTagName(sL.tagName);if(x.length>0){if(x.length>1)throw Error("Expecting 1 "+sL.tagName+" but finding "+x.length+"!");let e=W(x[0]),t=new sL(e);s.setCanonicalRateList(t);let i=il(d,sL.tagName),n=I(i),a=w(il(i,s4),g,null,n,sL.tagName,s1,s0);g.appendChild(a);let o=x[0].getElementsByTagName(tz.tagName);if(o.length>0){if(o.length>1)throw Error("Expecting 1 "+tz.tagName+" but finding "+o.length+"!");let s=F(O(o[0]));t.setDescription(new tz(W(o[0]),s));let i=D(s+" ("+m(e)+")",s1),a=I(void 0,s0);a.appendChild(i),n.appendChild(a)}let h=x[0].getElementsByTagName(s_.tagName);if(h.length>0){let e=A(il(i,s_.tagName,is),s0);n.appendChild(e);for(let s=0;s<h.length;s++){let i=new s_(W(h[s]));t.addKinf(i);let n=h[s].getElementsByTagName(t_.tagName);if(n.length>0){if(n.length>1)throw Error("Expecting 1 "+t_.tagName+" but finding "+n.length+"!");let e=new(r(l))(F(O(n[0])));i.setT(new t_(W(n[0]),e))}let a=h[s].getElementsByTagName(sT.tagName);if(a.length>0){if(a.length>1)throw Error("Expecting 1 "+sT.tagName+" but finding "+a.length+"!");let e=new(r(l))(F(O(a[0])));i.setVal(new sT(W(a[0]),e))}let o=h[s].getElementsByTagName(sR.tagName);if(o.length>0){if(o.length>1)throw Error("Expecting 1 "+sR.tagName+" but finding "+o.length+"!");let e=new(r(l))(F(O(o[0])));i.setRev(new sR(W(o[0]),e))}let d=h[s].getElementsByTagName(sz.tagName);if(d.length>0){if(d.length>1)throw Error("Expecting 1 "+sz.tagName+" but finding "+d.length+"!");let e=new(r(l))(F(O(d[0])));i.setKeq(new sz(W(d[0]),e))}0==s&&G(e,i.getHeader()),G(e,i.toStringArray())}nk(t.toCSV.bind(t),n,e,s.id+"_"+sL.tagName,s0)}}}return t}(y),tC.tagName,s1,sJ),el=document.getElementById(iN),eg=il(iP),null!=d&&(d.close(),d=null),ig(eg),w(eg,el,null,eh=I(void 0,s0),iP,s1,sJ),ec=I(em=il(eg,v+"s")),eh.appendChild(ec),ep=P(eN="Pop into a new Window",il(em,v)),ec.appendChild(ep),(ef=document.createElement("canvas")).id=iB,eh.appendChild(ef),ef.height=400,ef.style.border="1px solid black",nI(ef,t,iD,4,2),ep.addEventListener("click",()=>{if(null==d){let e=document.createElement("canvas");e.id=iB,(d=window.open("",iP,"width="+ef.width+", height="+ef.height)).document.body.appendChild(e),nI(e,t,iD,4,2),ig(iB),ep.textContent="Pop into this Window"}else(ef=document.createElement("canvas")).id=iB,eh.appendChild(ef),nI(ef,t,iD,4,2),d.close(),d=null,ep.textContent=eN}),nG(ef,ec,null,iP),ex=document.getElementById(ip),ig(ev=il(eu.tagName)),w(ev,ex,null,function(e){let t;console.log(eu.tagName);let i=I(void 0,s1),n=e.getElementsByTagName(eu.tagName);for(let e=0;e<n.length;e++){let t=n[e],a=il(eu.tagName,e.toString()),o=I(a,s1),d=il(a,s4);w(d,i,null,o,eu.tagName+" "+e.toString(),s1,s0);let r=i8(W(t),e);i4(r,o,t),i6(r,o,t),iZ(o,s0,s.removeConditions.bind(s),e).addEventListener("click",e=>{ig(d),iS.removeIDs(a)})}return t=P(s5,void 0,s0),i.appendChild(t),t.addEventListener("click",e=>{let n,a=s.getNextConditionsID();console.log("Add Conditions "+a.toString());let o=il(eu.tagName,a.toString()),d=I(o,s1),r=il(o,s4);if(a>0){let e=document.getElementById(h(eu.tagName,(a-1).toString(),s4)).nextElementSibling;n=null!=e&&e.parentElement==i?e:t}else n=t;w(r,i,n,d,eu.tagName+" "+a.toString(),s1,s0);let l=i8(new Map,a);i4(l,d,null),i6(l,d,null),iZ(d,s0,s.removeConditions.bind(s),a).addEventListener("click",e=>{ig(r),iS.removeIDs(o)})}),i}(y),"ConditionsList",s1,sJ),eE=document.getElementById(ix),ig(ew=il(tw.tagName,"list")),w(ew,eE,null,function(e){let t,i;console.log(tw.tagName);let n=I(void 0,s1),a=e.getElementsByTagName(tw.tagName);for(let e=0;e<a.length;e++){let t=il(tw.tagName,e.toString()),i=I(t,s1),o=il(t,s4);w(o,n,null,i,tw.tagName+" "+e.toString(),s1,s0);let d=nh(W(a[e]),e);(function(e,t,s){let i,n,a=tf.tagName,o=B(iM.addID(s.id,a),s0);s.appendChild(o);let d=a+s2,g=a+s3,m=P(a,iM.addID(s.id,a,v),s1);m.classList.add(s9),m.classList.add(s7),o.appendChild(m);let c=iM.addID(s.id,a,s8);if(null!=t){let s=t.getElementsByTagName(a);if(1==s.length){n=F(O(s[0]));let t=new(r(l))(n);i=new tf(W(s[0]),t),m.textContent=d,nu(e,o,i,c,n,e.setGrainSize,tR.energyUnits),m.classList.toggle(s7)}else i=nm(a),m.textContent=g,m.classList.toggle(s9)}else i=nm(a),m.textContent=g,m.classList.toggle(s9);m.addEventListener("click",()=>{e.index.has(tf.tagName)?(e.removeGrainSize(),document.getElementById(c)?.remove(),document.getElementById(h(c,ia))?.remove(),m.textContent=g):(nu(e,o,i,c,n,e.setGrainSize,tR.energyUnits),m.textContent=d),m.classList.toggle(s9),m.classList.toggle(s7)})})(d,a[e],i),nc(d,a[e],i,to,d.setAutomaticallySetMaxEne,d.removeAutomaticallySetMaxEne.bind(d)),nc(d,a[e],i,tv,d.setEnergyAboveTheTopHill,d.removeEnergyAboveTheTopHill.bind(d)),nc(d,a[e],i,tE,d.setMaxTemperature,d.removeMaxTemperature.bind(d)),iZ(i,s0,s.removeModelParameters.bind(s),e).addEventListener("click",e=>{ig(o),iM.removeIDs(t)})}return t=P(s5,void 0,s0),i=tw.tagName,n.appendChild(t),t.addEventListener("click",e=>{let a,o=s.getNextModelParametersID();console.log("Add "+i+o.toString());let d=il(i,o.toString()),r=I(d,s1),l=il(d,s4);if(o>0){let e=document.getElementById(h(i,(o-1).toString(),s4)).nextElementSibling;a=null!=e&&e.parentElement==n?e:t}else a=t;w(l,n,a,r,i+" "+o.toString(),s1,s0);let g=nh(new Map,o);(function(e,t){let s,i=tf.tagName,n=B(iM.addID(t.id,i),s0);t.appendChild(n);let a=i+s2,o=i+s3,d=P(i,iM.addID(t.id,i,v),s1);d.classList.add(s9),d.classList.add(s7),n.appendChild(d);let r=iM.addID(t.id,i,s8);d.textContent=o,d.classList.toggle(s9),d.addEventListener("click",()=>{e.index.has(tf.tagName)?(console.log("Removing GrainSize input"),e.removeGrainSize(),document.getElementById(r)?.remove(),document.getElementById(h(r,ia))?.remove(),d.textContent=o):(console.log("Adding GrainSize input"),s=nm(i),e.setGrainSize(s),nu(e,n,s,r,s.value.toString(),e.setGrainSize,tR.energyUnits),d.textContent=a),d.classList.toggle(s9),d.classList.toggle(s7)})})(g,r),nc(g,null,r,to,g.setAutomaticallySetMaxEne,g.removeAutomaticallySetMaxEne),nc(g,null,r,tv,g.setEnergyAboveTheTopHill,g.removeEnergyAboveTheTopHill),nc(g,null,r,tE,g.setMaxTemperature,g.removeMaxTemperature),iZ(r,s0,s.removeModelParameters.bind(s),o).addEventListener("click",e=>{ig(l),iM.removeIDs(d)})}),n}(y),"ModelParametersList",s1,sJ),ey=document.getElementById(iv),ig(eb=il(tl.tagName)),w(eb,ey,null,function(e){let t;console.log(tl.tagName);let i=I(void 0,s1),n=e.getElementsByTagName(tl.tagName);for(let e=0;e<n.length;e++){let t=n[e],a=il(tl.tagName,e.toString()),o=I(a,s1);i.appendChild(o);let d=il(a,s4);w(d,i,null,o,tl.tagName+" "+e.toString(),s1,s0);let r=nf(W(t),e),l=new Map;nN(r).forEach(e=>{nv(r,o,l,t,null,e.class,e.setMethod,e.removeMethod)});let g=B(void 0,s0);new Map([...l.entries()].sort()).forEach(e=>{g.appendChild(e)}),o.appendChild(g),nw(r,o,null,s0),nE(r,o,t,s0),np(r).forEach(e=>{nv(r,o,l,t,s0,e.class,e.setMethod,e.removeMethod,!0)});let h=t.getElementsByTagName(eB.tagName);if(1==h.length){let e=W(h[0]),t=F(O(h[0])),s=new eB(e,t);r.setForceMacroDetailedBalance(s);let i=B(iT.addID(a,eB.tagName),s0);o.appendChild(i);let n=D(eB.tagName+" "+m(e)+" "+t,s1);i.appendChild(n)}iZ(o,s0,s.removeControl.bind(s),e).addEventListener("click",e=>{ig(d),iT.removeIDs(a)})}return t=P(s5,void 0,s0),i.appendChild(t),t.addEventListener("click",e=>{let n,a=s.getNextControlID();console.log("Add Control "+a.toString());let o=il(tl.tagName,a.toString()),d=I(o,s1);if(a>0){let e=document.getElementById(h(tl.tagName,(a-1).toString(),s4)).nextElementSibling;n=null!=e&&e.parentElement==i?e:t}else n=t;let r=il(o,s4);w(r,i,n,d,tl.tagName+" "+a.toString(),s1,s0);let l=nf(new Map,a),g=new Map;nN(l).forEach(e=>{nv(l,d,g,null,null,e.class,e.setMethod,e.removeMethod)});let m=B(void 0,s0);new Map([...g.entries()].sort()).forEach(e=>{m.appendChild(e)}),d.appendChild(m),nw(l,d,null,s0),nE(l,d,null,s0),np(l).forEach(e=>{nv(l,d,g,null,s0,e.class,e.setMethod,e.removeMethod,!0)}),iZ(d,s0,s.removeControl.bind(s),a).addEventListener("click",e=>{ig(r),iT.removeIDs(o)})}),i}(y),"ControlList",s1,sJ),eC=document.getElementById(iE),ig(eS=il(tp.tagName)),w(eS,eC,null,function(e){console.log(tp.tagName);let t=I(il(tp.tagName,0),s1),i=e.getElementsByTagName(tp.tagName);if(i.length>0){if(i.length>1)throw Error("More than one MetadataList element.");let e=new tp(W(i[0]));function n(s,n,a){let o=i[0].getElementsByTagName(s);if(o.length>0){if(1==o.length){let s=O(o[0])?.nodeValue??"",i=new n(W(o[0]),s),d=I(void 0,s0);t.appendChild(d),d.appendChild(D(i.tagName+" "+s,s1)),a.call(e,i)}else throw Error(`More than one ${s} element.`)}}s.setMetadataList(e),n(tm.tagName,tm,e.setSource),n(tc.tagName,tc,e.setCreator),n(tu.tagName,tu,e.setDate),n(tN.tagName,tN,e.setContributor)}return t}(y),tp.tagName,s1,sJ),eM=document.getElementById(iw),ig(eT=il(eo.tagName)),w(eT,eM,null,function(e){console.log(eo.tagName);let t=il(eo.tagName,0),i=I(t,s1),n=e.getElementsByTagName(eo.tagName);if(n.length>0){if(n.length>1)throw Error("More than one Analysis element.");let e=new eo(W(n[0]));s.setAnalysis(e);let a=n[0].getElementsByTagName(tz.tagName);if(a.length>0){if(1==a.length){let s=O(a[0])?.nodeValue??"",n=new tz(W(a[0]),s),o=I(il(t,tz.tagName),s0);i.appendChild(o),o.appendChild(D(n.tagName+" "+s,s1)),e.setDescription(n)}else throw Error("More than one Description element.")}let d=n[0].getElementsByTagName(J.tagName),g=il(t,J.tagName),h=I(g,s0);if(w(g,i,null,h,J.tagName+"s",s1,s0),d.length>0)for(let t=0;t<d.length;t++){let s=W(d[t]),i=new J(s),n=i.tagName+" "+t.toString()+" "+m(s),a=il(h.id,t.toString()),o=I(g,s0);w(a,h,null,o,n,s1,sJ),e.addEigenvalueList(i);let u=[],N=d[t].getElementsByTagName(Q.tagName);if(N.length>0)for(let e=0;e<N.length;e++){let t=new(r(l))(O(N[e])?.nodeValue);u.push(t),i.addEigenvalue(new Q(W(N[e]),t))}o.appendChild(D(c(u,", "),s1))}let u=n[0].getElementsByTagName(es.tagName),N=il(t,es.tagName),p=I(N,s0);if(w(N,i,null,p,es.tagName+"s",s1,s0),u.length>0)for(let t=0;t<u.length;t++){let s=W(u[t]);void 0!=s.get("T")&&new(r(l))(s.get("T")),void 0!=s.get("conc")&&new(r(l))(s.get("conc"));let n=new es(s),a=n.tagName+" "+t.toString()+" "+m(s),d=il(i.id,es.tagName,t.toString()),g=il(d,t.toString()),h=I(d,s0);w(g,p,null,h,a,s1,sJ),e.addPopulationList(n);let c=new Map,N=[];N.push("time");let f=u[t].getElementsByTagName(et.tagName);if(f.length>0)for(let e=0;e<f.length;e++){let t=W(f[e]),s=new et(t,[]);n.addPopulation(s);let i=void 0!=t.get("time")?new(r(l))(t.get("time")):ib,a=new Map;c.set(i,a);let o=f[e].getElementsByTagName(ee.tagName);if(o.length>0)for(let t=0;t<o.length;t++){let i=W(o[t]),n=i.get("ref");0==e&&N.push(n);let d=new(r(l))(O(o[t])?.nodeValue),g=new ee(i,d);s.addPop(g),a.set(n,d)}}let x=I(il(g,"graph"),s1);h.appendChild(x);let v=document.createElement("canvas");x.appendChild(v);let E=new nL(v,c,"2em SensSerif");o.push(E),nG(v,h,x,a);let y=I(il(g,is),s1);h.appendChild(y);let b=A(il(d,is),s1);G(b,N),c.forEach((e,t)=>{let s=[];s.push(t.toString()),e.forEach((e,t)=>{s.push(e.toString())}),G(b,s)}),y.appendChild(b),nk(()=>nP(b),h,y,a,s1)}let f=n[0].getElementsByTagName(ea.tagName),x=il(t,ea.tagName),v=I(x,s0);if(w(x,i,null,v,ea.tagName+"s",s1,s0),f.length>0){let t=I(il(x,is),s1);v.appendChild(t);let s=A(il(N,is),s1),i=["T","conc"];for(let t=0;t<f.length;t++){let n=W(f[t]),a=[];a.push(n.get("T")),a.push(n.get("conc"));let o=new ea(n);e.addRateList(o);let d=f[t].getElementsByTagName(en.tagName);if(d.length>0)for(let e=0;e<d.length;e++){let s=W(d[e]);if(0==t){let e=s.get("fromRef"),t=s.get("toRef");i.push(e+"->"+t)}let n=(O(d[e])?.nodeValue??"").trim();a.push(n);let g=new en(s,new(r(l))(n));o.addFirstOrderRate(g)}let g=f[t].getElementsByTagName(ei.tagName);if(g.length>0)for(let e=0;e<g.length;e++){let s=W(g[e]);0==t&&Array.from(s.values()).forEach(e=>{i.push("loss of "+e)});let n=(O(g[e])?.nodeValue??"").trim();a.push(n);let d=new ei(s,new(r(l))(n));o.addFirstOrderLoss(d)}0==t&&G(s,i),G(s,a)}t.appendChild(s),nk(()=>nP(s),v,t,"Bartis-Widom Phenomenological Rate Coefficients",s1)}}return i}(y),eo.tagName,s1,sJ)}}};let x=i.slice(p,p+1048576);u.readAsText(x),p+=1048576}},g.click()}),g.appendChild(q);let U="Save MESMER File",V=P(U,ir(U),s1);V.addEventListener("click",nD),g.appendChild(V);let j=new ty(new Map,"");s.setTitle(j);let X=document.getElementById(im),Y=il("titleDiv");ig(Y);let $=b("text",il(Y,s8),s1,sJ,e=>{let t=e.target;j.value=t.value,console.log(j.tagName+" changed to "+j.value),T(t)},"",ty.tagName);$.id=Y,X.appendChild($)});class nL{constructor(e,t,s){this.canvas=e,this.data=t,this.draw(s)}draw(e){this.canvas.width=800,this.canvas.height=400;let t=this.canvas.getContext("2d");t.font=e,t.clearRect(0,0,this.canvas.width,this.canvas.height);let s=this.canvas.width,i=this.canvas.height,n=Number.MAX_VALUE,a=Number.MIN_VALUE,o=0;this.data.forEach((e,s)=>{let i=Math.log10(s.toNumber());n=Math.min(n,i),a=Math.max(a,i),e.forEach((e,s)=>{o=Math.max(o,t.measureText(s).width)})});let d=0;for(let e=0;e<2;e++){let s=1-1*e;d=Math.max(d,t.measureText(s.toString()).width)}let r=t.measureText("0"),l=r.actualBoundingBoxAscent+r.actualBoundingBoxDescent,g=4*l,h=d+l+20,m=i-(h+3*l),c=s-(g+o+20),u=(c-h)/(a-n),N=(g-m)/1;t.beginPath(),t.moveTo(h,m),t.lineTo(c,m),t.stroke(),t.beginPath(),t.moveTo(h,m),t.lineTo(h,g),t.stroke();let p=["red","green","blue","orange","purple","grey","cyan","magenta","lightblue","lightgreen","pink","yellow","brown","black"],f=new Map;this.data.forEach((e,s)=>{let i=0;e.forEach((e,a)=>{let o=h+(Math.log10(s.toNumber())-n)*u,d=e.toNumber();if(d<1){let e=m+(d-0)*N;if(e>0){t.beginPath(),t.arc(o,e,2,0,2*Math.PI);let s=p[i%p.length];f.set(a,s),t.fillStyle=s,t.fill()}}i++})}),t.textAlign="center",t.textBaseline="top",t.fillStyle="black",t.fillText("log10(time/secs)",h+(c-h)/2,m+g/2),t.save(),t.rotate(-Math.PI/2),t.textAlign="center",t.textBaseline="top",t.fillText("fractional population",-m-(g-m)/2,h-h),t.restore();let x=a-n,v=Math.abs(Math.ceil(x/Math.pow(10,Math.floor(Math.log10(x))))),E=Math.ceil(n/v),w=E*v;for(;w<a;){let e=h+(w-n)*u;t.beginPath(),t.moveTo(e,m),t.lineTo(e,m+5),t.stroke(),t.fillText(w.toString(),e,m+5),w+=v}for(let e=0;e<2;e++){let s=m-1*e;t.beginPath(),t.moveTo(h,s),t.lineTo(h-5,s),t.stroke()}let y=0;f.forEach((e,s)=>{let i=t.measureText(s),n=i.actualBoundingBoxAscent+i.actualBoundingBoxDescent;y=Math.max(y,n)});let b=c+20,C=y;E=0,f.forEach((e,s)=>{let i=g+E*C;t.fillStyle=e,t.fillRect(b,i,y/2,y/2),t.fillStyle="black",t.fillText(s,b+l+t.measureText(s).width/2,i-y/2),E++})}}function nP(e){let t="",s=e.rows;for(let e=0;e<s.length;e++){let i=s[e].cells;for(let e=0;e<i.length;e++)t+=i[e].textContent,e<i.length-1&&(t+=",");t+="\n"}return t}function nI(e,t,s,i,o){if(console.log("drawReactionDiagram"),null!=e){var d,r;let l,h,m,c,u,N,p,v,E;t?(l="lightgrey",h="lightblue",m="orange"):(l="darkgrey",h="blue",m="darkorange");let w=e.getContext("2d");w.clearRect(0,0,e.width,e.height),w.font="bold "+s;let y=(d=w.font,w.font=d,(r=w.measureText("Aj")).actualBoundingBoxAscent+r.actualBoundingBoxDescent),b=[],C=new Set,S=new Set,M=new Set,T=new Map,R=new Map,z=0;a.forEach(function(e,t){let s=e.getTransitionStates(),i=e.getReactantsLabel();if(void 0!=i){b.push(i),C.has(i)&&S.add(i);let t=e.getReactantsEnergy(iL,n);c=x(c,t),u=f(u,t),R.set(i,t),!T.has(i)&&(T.set(i,z),z++)}let a=e.getProductsLabel();if(void 0!=a){C.add(a);let t=e.getProductsEnergy(iL,n);if(c=x(c,t),u=f(u,t),R.set(a,t),T.has(a)){z--;let e=g(T,a);T.forEach(function(t,s){t>e&&T.set(s,t-1)}),void 0!=s&&(s.forEach(function(e){let s=e.getMolecule().getRef();M.add(s),T.set(s,z),t=iL(s,n).getEnergy()??ib,c=x(c,t),u=f(u,t),R.set(s,t),z++}),T.set(a,z),z++)}else void 0!=s&&s.forEach(function(e){let s=e.getMolecule().getRef();M.add(s),T.set(s,z),t=iL(s,n).getEnergy()??ib,c=x(c,t),u=f(u,t),R.set(s,t),z++}),T.set(a,z),z++}});let _=u.minus(c).toNumber(),L=[];T.forEach(function(e,t){L[e]=t});let P=0,I=0,B=new Map,D=new Map,A=new Map,G=new Map,k=new Map,O=new Map;L.forEach(function(e){let t=g(R,e),n=(t-c.toNumber())*400/(_+0)+0;E=Math.max(sA(w,t.toString(),s),sA(w,e,s)),p=P+E+5,v=N=n+i,B.set(e,[P,N]),D.set(e,[p,v]),C.has(e)&&(A.set(e,[P,N]),G.set(e,[p,v])),M.has(e)&&(k.set(e,[P,N]),O.set(e,[p,v])),P=p+10,I=p}),e.width=I;let F=400+4*y+2*i;e.height=F,w.transform(1,0,0,-1,0,F),a.forEach(function(e,t){let s=e.getTransitionStates(),i=e.getReactantsLabel(),n=e.getProductsLabel(),a=g(D,i),d=g(A,n);s.length>0?s.forEach(function(e){let t=e.getMolecule().getRef(),s=g(k,t);sB(w,l,o,a[0],a[1],s[0],s[1]);let i=g(O,t);sB(w,l,o,i[0],i[1],d[0],d[1])}):sB(w,l,o,a[0],a[1],d[0],d[1])}),b.forEach(function(e){let t=g(R,e),n=(t-c.toNumber())*400/(_+0)+0,a=g(B,e)[0],o=n+i,d=g(D,e)[0],r=t.toString();sI(w,h,i,a,o,d,o,s,y,e,r)}),C.forEach(function(e){let t=g(R,e),n=(t-c.toNumber())*400/(_+0)+0,a=g(A,e)[0],o=n+i,d=g(G,e)[0],r=t.toString();S.has(e)?sI(w,m,i,a,o,d,o,s,y,e,r):sI(w,"green",i,a,o,d,o,s,y,e,r)}),M.forEach(function(e){let t=g(R,e),n=(t-c.toNumber())*400/(_+0)+0,a=g(k,e)[0],o=n+i;sI(w,"red",i,a,o,g(O,e)[0],o,s,y,e,t.toString())})}}function nB(e,t,s,i=!1){let n=document.createElement("a");n.href=i?e:`data:${t};charset=utf-8,`+encodeURIComponent(e),n.download=s,document.body.appendChild(n),n.click(),document.body.removeChild(n)}function nD(){if(null==s){alert("No Mesmer object to save.");return}{let e=new tR(s.attributes);e.setTitle(s.getTitle()),e.setMoleculeList(new tb(new Map,Array.from(n.values()))),e.setReactionList(new tC(new Map,Array.from(a.values()))),e.setConditionss(s.getConditionss()),e.setModelParameterss(s.getModelParameterss()),e.setControls(s.getControls());let t=s.getMetadataList();void 0!=t&&e.setMetadataList(t);let i=s.getAnalysis();void 0!=i&&e.setAnalysis(i),console.log("saveXML"),nB(tR.header+e.toXML("  ",""),"text/xml",nA(e.getTitle()?.value)+".xml")}}function nA(e){return e.replace(/[^a-z0-9]/gi,"_")}function nG(e,t,i,n){let a=P("Save as PNG",il(t.id,"saveButton"),s1);null!=i?t.insertBefore(a,i):t.appendChild(a),a.addEventListener("click",()=>{nB(e.toDataURL(),"image/png",nA(s.getTitle()?.value+"_"+n)+".png",!0)})}function nk(e,t,i,n,a){let o=P("Save as CSV",il(t.id,v,ie),a);t.insertBefore(o,i),o.addEventListener("click",()=>{let t=e(),i=nA(s.getTitle()?.value+"_"+n)+".csv";nB(t,"text/csv",i),console.log("Saved "+i)})}
//# sourceMappingURL=index.6dd805a1.js.map
