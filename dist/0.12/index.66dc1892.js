let e,t,s,i,n,a;function o(e){return e&&e.__esModule?e.default:e}var d={};function l(e,t){if(!e.has(t))throw Error(`Key ${t} not found in map`);return e.get(t)}function r(...e){let t=e.map(e=>e.toString()).join("-").replace(/[^a-zA-Z-_0-9]/g,"_");return/^[0-9]|^--|-^[0-9]/.test(t)&&(t="_"+t),t}function g(e,t){return null==e?"":(void 0==t&&(t=", "),Array.from(e.entries()).map(([e,t])=>`${null==e?"null":e.toString()}(${null==t?"null":t.toString()})`).join(t))}function h(e,t){return void 0==t&&(t=", "),e.map(e=>null==e?"null":e.toString()).join(t)}function m(e){let t=[];for(let s=0;s<e.length;s++)t.push(new(o(d))(e[s]));return t}function c(e){try{return new(o(d))(e),!0}catch(e){return!1}}function u(e,t){return void 0==t&&(t=" "),e.map(e=>e.toString()).join(t)}function N(e,t){return null==e||e.lt(t)?t:e}function p(e,t){return null==e||e.gt(t)?t:e}!function(e){var t,s="[big.js] ",i=s+"Invalid ",n=i+"decimal places",a=i+"rounding mode",o=s+"Division by zero",l={},r=void 0,g=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function h(e,t,s,i){var n=e.c;if(s===r&&(s=e.constructor.RM),0!==s&&1!==s&&2!==s&&3!==s)throw Error(a);if(t<1)i=3===s&&(i||!!n[0])||0===t&&(1===s&&n[0]>=5||2===s&&(n[0]>5||5===n[0]&&(i||n[1]!==r))),n.length=1,i?(e.e=e.e-t+1,n[0]=1):n[0]=e.e=0;else if(t<n.length){if(i=1===s&&n[t]>=5||2===s&&(n[t]>5||5===n[t]&&(i||n[t+1]!==r||1&n[t-1]))||3===s&&(i||!!n[0]),n.length=t,i){for(;++n[--t]>9;)if(n[t]=0,0===t){++e.e,n.unshift(1);break}}for(t=n.length;!n[--t];)n.pop()}return e}function m(e,t,s){var i=e.e,n=e.c.join(""),a=n.length;if(t)n=n.charAt(0)+(a>1?"."+n.slice(1):"")+(i<0?"e":"e+")+i;else if(i<0){for(;++i;)n="0"+n;n="0."+n}else if(i>0){if(++i>a)for(i-=a;i--;)n+="0";else i<a&&(n=n.slice(0,i)+"."+n.slice(i))}else a>1&&(n=n.charAt(0)+"."+n.slice(1));return e.s<0&&s?"-"+n:n}l.abs=function(){var e=new this.constructor(this);return e.s=1,e},l.cmp=function(e){var t,s=this.c,i=(e=new this.constructor(e)).c,n=this.s,a=e.s,o=this.e,d=e.e;if(!s[0]||!i[0])return s[0]?n:i[0]?-a:0;if(n!=a)return n;if(t=n<0,o!=d)return o>d^t?1:-1;for(n=-1,a=(o=s.length)<(d=i.length)?o:d;++n<a;)if(s[n]!=i[n])return s[n]>i[n]^t?1:-1;return o==d?0:o>d^t?1:-1},l.div=function(e){var t=this.constructor,s=this.c,i=(e=new t(e)).c,a=this.s==e.s?1:-1,d=t.DP;if(d!==~~d||d<0||d>1e6)throw Error(n);if(!i[0])throw Error(o);if(!s[0])return e.s=a,e.c=[e.e=0],e;var l,g,m,c,u,N=i.slice(),p=l=i.length,f=s.length,x=s.slice(0,l),v=x.length,E=e,w=E.c=[],y=0,b=d+(E.e=this.e-e.e)+1;for(E.s=a,a=b<0?0:b,N.unshift(0);v++<l;)x.push(0);do{for(m=0;m<10;m++){if(l!=(v=x.length))c=l>v?1:-1;else for(u=-1,c=0;++u<l;)if(i[u]!=x[u]){c=i[u]>x[u]?1:-1;break}if(c<0){for(g=v==l?i:N;v;){if(x[--v]<g[v]){for(u=v;u&&!x[--u];)x[u]=9;--x[u],x[v]+=10}x[v]-=g[v]}for(;!x[0];)x.shift()}else break}w[y++]=c?m:++m,x[0]&&c?x[v]=s[p]||0:x=[s[p]]}while((p++<f||x[0]!==r)&&a--)return!w[0]&&1!=y&&(w.shift(),E.e--,b--),y>b&&h(E,b,t.RM,x[0]!==r),E},l.eq=function(e){return 0===this.cmp(e)},l.gt=function(e){return this.cmp(e)>0},l.gte=function(e){return this.cmp(e)>-1},l.lt=function(e){return 0>this.cmp(e)},l.lte=function(e){return 1>this.cmp(e)},l.minus=l.sub=function(e){var t,s,i,n,a=this.constructor,o=this.s,d=(e=new a(e)).s;if(o!=d)return e.s=-d,this.plus(e);var l=this.c.slice(),r=this.e,g=e.c,h=e.e;if(!l[0]||!g[0])return g[0]?e.s=-d:l[0]?e=new a(this):e.s=1,e;if(o=r-h){for((n=o<0)?(o=-o,i=l):(h=r,i=g),i.reverse(),d=o;d--;)i.push(0);i.reverse()}else for(s=((n=l.length<g.length)?l:g).length,o=d=0;d<s;d++)if(l[d]!=g[d]){n=l[d]<g[d];break}if(n&&(i=l,l=g,g=i,e.s=-e.s),(d=(s=g.length)-(t=l.length))>0)for(;d--;)l[t++]=0;for(d=t;s>o;){if(l[--s]<g[s]){for(t=s;t&&!l[--t];)l[t]=9;--l[t],l[s]+=10}l[s]-=g[s]}for(;0===l[--d];)l.pop();for(;0===l[0];)l.shift(),--h;return l[0]||(e.s=1,l=[h=0]),e.c=l,e.e=h,e},l.mod=function(e){var t,s=this,i=s.constructor,n=s.s,a=(e=new i(e)).s;if(!e.c[0])throw Error(o);return(s.s=e.s=1,t=1==e.cmp(s),s.s=n,e.s=a,t)?new i(s):(n=i.DP,a=i.RM,i.DP=i.RM=0,s=s.div(e),i.DP=n,i.RM=a,this.minus(s.times(e)))},l.neg=function(){var e=new this.constructor(this);return e.s=-e.s,e},l.plus=l.add=function(e){var t,s,i,n=this.constructor;if(e=new n(e),this.s!=e.s)return e.s=-e.s,this.minus(e);var a=this.e,o=this.c,d=e.e,l=e.c;if(!o[0]||!l[0])return l[0]||(o[0]?e=new n(this):e.s=this.s),e;if(o=o.slice(),t=a-d){for(t>0?(d=a,i=l):(t=-t,i=o),i.reverse();t--;)i.push(0);i.reverse()}for(o.length-l.length<0&&(i=l,l=o,o=i),t=l.length,s=0;t;o[t]%=10)s=(o[--t]=o[t]+l[t]+s)/10|0;for(s&&(o.unshift(s),++d),t=o.length;0===o[--t];)o.pop();return e.c=o,e.e=d,e},l.pow=function(e){var t=this,s=new t.constructor("1"),n=s,a=e<0;if(e!==~~e||e<-1e6||e>1e6)throw Error(i+"exponent");for(a&&(e=-e);1&e&&(n=n.times(t)),e>>=1;)t=t.times(t);return a?s.div(n):n},l.prec=function(e,t){if(e!==~~e||e<1||e>1e6)throw Error(i+"precision");return h(new this.constructor(this),e,t)},l.round=function(e,t){if(e===r)e=0;else if(e!==~~e||e<-1e6||e>1e6)throw Error(n);return h(new this.constructor(this),e+this.e+1,t)},l.sqrt=function(){var e,t,i,n=this.constructor,a=this.s,o=this.e,d=new n("0.5");if(!this.c[0])return new n(this);if(a<0)throw Error(s+"No square root");0===(a=Math.sqrt(this+""))||a===1/0?((t=this.c.join("")).length+o&1||(t+="0"),o=((o+1)/2|0)-(o<0||1&o),e=new n(((a=Math.sqrt(t))==1/0?"5e":(a=a.toExponential()).slice(0,a.indexOf("e")+1))+o)):e=new n(a+""),o=e.e+(n.DP+=4);do i=e,e=d.times(i.plus(this.div(i)));while(i.c.slice(0,o).join("")!==e.c.slice(0,o).join(""))return h(e,(n.DP-=4)+e.e+1,n.RM)},l.times=l.mul=function(e){var t,s=this.constructor,i=this.c,n=(e=new s(e)).c,a=i.length,o=n.length,d=this.e,l=e.e;if(e.s=this.s==e.s?1:-1,!i[0]||!n[0])return e.c=[e.e=0],e;for(e.e=d+l,a<o&&(t=i,i=n,n=t,l=a,a=o,o=l),t=Array(l=a+o);l--;)t[l]=0;for(d=o;d--;){for(o=0,l=a+d;l>d;)o=t[l]+n[d]*i[l-d-1]+o,t[l--]=o%10,o=o/10|0;t[l]=o}for(o?++e.e:t.shift(),d=t.length;!t[--d];)t.pop();return e.c=t,e},l.toExponential=function(e,t){var s=this,i=s.c[0];if(e!==r){if(e!==~~e||e<0||e>1e6)throw Error(n);for(s=h(new s.constructor(s),++e,t);s.c.length<e;)s.c.push(0)}return m(s,!0,!!i)},l.toFixed=function(e,t){var s=this,i=s.c[0];if(e!==r){if(e!==~~e||e<0||e>1e6)throw Error(n);for(s=h(new s.constructor(s),e+s.e+1,t),e=e+s.e+1;s.c.length<e;)s.c.push(0)}return m(s,!1,!!i)},l.toJSON=l.toString=function(){var e=this.constructor;return m(this,this.e<=e.NE||this.e>=e.PE,!!this.c[0])},l.toNumber=function(){var e=Number(m(this,!0,!0));if(!0===this.constructor.strict&&!this.eq(e.toString()))throw Error(s+"Imprecise conversion");return e},l.toPrecision=function(e,t){var s=this,n=s.constructor,a=s.c[0];if(e!==r){if(e!==~~e||e<1||e>1e6)throw Error(i+"precision");for(s=h(new n(s),e,t);s.c.length<e;)s.c.push(0)}return m(s,e<=s.e||s.e<=n.NE||s.e>=n.PE,!!a)},l.valueOf=function(){var e=this.constructor;if(!0===e.strict)throw Error(s+"valueOf disallowed");return m(this,this.e<=e.NE||this.e>=e.PE,!0)},(t=function e(){function t(s){if(!(this instanceof t))return s===r?e():new t(s);if(s instanceof t)this.s=s.s,this.e=s.e,this.c=s.c.slice();else{if("string"!=typeof s){if(!0===t.strict&&"bigint"!=typeof s)throw TypeError(i+"value");s=0===s&&1/s<0?"-0":String(s)}(function(e,t){var s,n,a;if(!g.test(t))throw Error(i+"number");for(e.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(s=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(s<0&&(s=n),s+=+t.slice(n+1),t=t.substring(0,n)):s<0&&(s=t.length),a=t.length,n=0;n<a&&"0"==t.charAt(n);)++n;if(n==a)e.c=[e.e=0];else{for(;a>0&&"0"==t.charAt(--a););for(e.e=s-n-1,e.c=[],s=0;n<=a;)e.c[s++]=+t.charAt(n++)}})(this,s)}this.constructor=t}return t.prototype=l,t.DP=20,t.RM=1,t.NE=-7,t.PE=21,t.strict=!1,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}()).default=t.Big=t,"function"==typeof define&&define.amd?define(function(){return t}):d?d=t:e.Big=t}(d);const f="button",x="select";function v(e,t,s,i,n,a,o){let d=L(e,o),l=_(n+" ▼",r(e,f),a);return l.className="collapsible",l.addEventListener("click",function(){let e=l.textContent.split(" ");e[e.length-1]="▼"===e[e.length-1]?"▲":"▼",l.textContent=e.join(" ")}),d.appendChild(l),d.appendChild(i),null!=s?t.insertBefore(d,s):t.appendChild(d),l.removeEventListener("click",E),l.addEventListener("click",E),d}function E(){this.classList.toggle("active");let e=this.nextElementSibling;null!=e?e instanceof HTMLDivElement?"block"===e.style.display?e.style.display="none":e.style.display="block":console.log("toggleCollapsible: nextElementSibling is not an HTMLDivElement"):console.log("toggleCollapsible: nextElementSibling is null")}function w(e,t,s,i,n,a,o){let d;let l=I(void 0,i),r=((d=y(e,t,s)).onchange=n,d.value=a,M(d),d),g=P(o,s);return g.htmlFor=t,l.appendChild(g),l.appendChild(r),l}function y(e,t,s){let i=document.createElement("input");return i.type=e,i.id=t,Object.assign(i.style,s),i.style.fontSize="1em",i.classList.add("auto-width"),i}function b(e,t){let s=document.createElement("textarea");return s.id=e,Object.assign(s.style,t),s.style.fontSize="1em",s.classList.add("auto-width"),s}function C(e,t){let s="<"+t;if(e)for(let[t,i]of e)s+=" "+t+'="'+i+'"';return s+" />"}function M(e,t){void 0==t&&(t=4),e.style.width=e.value.length+t+"ch"}function S(e,t){void 0==t&&(t=6),e.style.width=e.value.length+t+"ch"}function T(e,t){void 0==t&&(t=6),e.style.width=e.value.length+t+"ch"}function R(e,t,s,i,n){let a=document.createElement("select");return e.forEach(e=>{a.name=t,a.id=i;let s=document.createElement("option");s.value=e,s.text=e,a.appendChild(s)}),a.value=s,a.style.fontSize="1em",a.classList.add("auto-width"),S(a),Object.assign(a.style,n),a}function z(e,t,s,i,n,a,o){let d=I(n,o),l=P(e,a);return d.appendChild(l),d.appendChild(R(t,s,i,r(n,x),a)),d}function _(e,t,s){let i=document.createElement("button");return i.textContent=e,void 0!=t&&(i.id=t),void 0!=s&&Object.assign(i.style,s),i.style.fontSize="1em",i}function L(e,t){let s=document.createElement("div");return void 0!=e&&(s.id=e),void 0!=t&&Object.assign(s.style,t),s}function I(e,t){let s=L(e,t);return s.style.display="flex",s.style.flexWrap="wrap",s}function P(e,t){let s=document.createElement("label");return Object.assign(s.style,t),s.textContent=e,s.style.fontSize="1em",s}function B(e,t){let s=document.createElement("table");return s.id=e,Object.assign(s.style,t),s}function D(e,t){let s=e.insertRow();return t.forEach(e=>{s.insertCell().textContent=e}),s}function A(e,t){let s=e.getElementsByTagName(t)[0];if(null==s)throw Error(t+" element not found");return s}function G(e){let t=e.childNodes;if(null==t)throw Error("Element has no childNodes");return t[0]}function k(e){let t=e.nodeValue;if(null==t)throw Error("nodeValue is null");return t}function O(e){let t=G(e);return t?k(t).trim():""}class F{constructor(e){this.tagName=e}toXML(e){let t=C(void 0,this.tagName);return e?"\n"+e+t:t}}class H extends F{constructor(e,t){super(t),this.attributes=e}toString(){let e=this.tagName+"(";return this.attributes&&this.attributes.forEach((t,s)=>{e+=`${s}(${t}), `}),e}toXML(e){let t="";for(let[s,i]of(void 0!=e&&(t+="\n"+e),t+="<"+this.tagName,this.attributes))t+=" "+s+'="'+i.toString()+'"';return t+" />"}}class q extends H{constructor(e,t,s){super(e,t),this.value=s}toString(){return super.toString()+`, ${this.value.toString()})`}toXML(e){return X(this.value.trim(),this.tagName,this.attributes,e,!1)}}class U extends H{constructor(e,t,s){super(e,t),this.value=s}toString(){return super.toString()+`, ${this.value.toString()})`}toXML(e){return X(this.value.toString(),this.tagName,this.attributes,e,!1)}}class V extends H{constructor(e,t,s,i){super(e,t),this.delimiter=" ",this.values=s,void 0!=i&&(this.delimiter=i)}getValues(){return this.values}setValues(e){this.values=e}toString(){return super.toString()+`, ${this.values.toString()})`}setDelimiter(e){this.delimiter=e}toXML(e){return X(u(this.values,this.delimiter),this.tagName,this.attributes,e,!1)}}class j extends H{constructor(e,t){super(e,t),this.nodes=new Map}addNode(e){this.nodes.set(this.nodes.size,e)}toString(){let e=super.toString();return this.nodes.forEach((t,s)=>{e+=`, ${t.toString()}`}),e+")"}toXML(e,t){let s;void 0!=e&&void 0!=t&&(s=t+e);let i="";if(this.nodes.size>0)return this.nodes.forEach(t=>{void 0==t?console.warn("Node 0 is undefined this.nodes.size = "+this.nodes.size):t instanceof j?i+=t.toXML(e,s):i+=t.toXML(s)}),X(i,this.tagName,this.attributes,t,!0);{let e=C(this.attributes,this.tagName);return void 0!=t?"\n"+t+e:e}}}function X(e,t,s,i,n){let a;return function(e,t,s){let i="";if(void 0!=s&&(i+="\n"+s),i+="<"+e,t)for(let[e,s]of t)i+=" "+e+'="'+s.toString()+'"';return i+">"}(t,s,i)+e+(a="",n&&void 0!=i&&(a+="\n"+i),a+"</"+t+">")}function Y(e){let t=e.getAttributeNames(),s=new Map;return t.forEach(function(t){let i=e.getAttribute(t);null!=i&&s.set(t.trim(),i.trim())}),s}function $(e,t){let s=e.getElementsByTagName(t);if(1!=s.length)throw Error("Expecting 1 "+t+" but finding "+s.length);return s[0]}class W extends U{static{this.s_units="units"}static{this.s_lower="lower"}static{this.s_upper="upper"}static{this.s_stepsize="stepsize"}constructor(e,t,s){super(e,t,s)}setValue(e){this.value=e}getUnits(){return this.attributes.get(W.s_units)}setUnits(e){this.attributes.set(W.s_units,e)}removeUnits(){this.attributes.delete(W.s_units)}getLower(){let e=this.attributes.get(W.s_lower);if(void 0!=e)return new(o(d))(e)}setLower(e){this.attributes.set(W.s_lower,e.toString())}removeLower(){this.attributes.delete(W.s_lower)}getUpper(){let e=this.attributes.get(W.s_upper);if(void 0!=e)return new(o(d))(e)}setUpper(e){this.attributes.set(W.s_upper,e.toString())}removeUpper(){this.attributes.delete(W.s_upper)}getStepsize(){let e=this.attributes.get(W.s_stepsize);if(void 0!=e)return new(o(d))(e)}setStepsize(e){this.attributes.set(W.s_stepsize,e.toString())}removeStepsize(){this.attributes.delete(W.s_stepsize)}}class K extends U{static{this.tagName="me:eigenvalue"}constructor(e,t){super(e,K.tagName,t)}}class Z extends j{static{this.tagName="me:eigenvalueList"}constructor(e,t){super(e,Z.tagName),t&&t.forEach(e=>{this.addNode(e)})}addEigenvalue(e){this.addNode(e)}}class Q extends U{static{this.tagName="me:pop"}constructor(e,t){super(e,Q.tagName,t)}}class J extends j{static{this.tagName="me:population"}constructor(e,t){super(e,J.tagName)}addPop(e){this.addNode(e)}}class ee extends j{static{this.tagName="me:populationList"}constructor(e,t){super(e,ee.tagName),t&&t.forEach(e=>{this.addNode(e)})}addPopulation(e){this.addNode(e)}}class et extends U{static{this.tagName="me:firstOrderLoss"}constructor(e,t){super(e,et.tagName,t)}}class es extends U{static{this.tagName="me:firstOrderRate"}constructor(e,t){super(e,et.tagName,t)}}class ei extends j{static{this.tagName="me:rateList"}constructor(e,t,s){if(super(e,en.tagName),this.index=new Map,this.folIndex=new Map,t){let e=0;t.forEach(t=>{this.index.set(et.tagName+e.toString(),this.nodes.size),this.folIndex.set(this.folIndex.size,this.nodes.size),this.addNode(t),e++}),this.fols=t}else this.fols=[];if(this.forIndex=new Map,s){let e=0;s.forEach(t=>{this.index.set(es.tagName+e.toString(),this.nodes.size),this.forIndex.set(this.forIndex.size,this.nodes.size),this.addNode(t),e++}),this.fors=s}else this.fors=[]}addFirstOrderLoss(e){this.folIndex.set(this.folIndex.size,this.nodes.size),this.index.set(et.tagName+this.folIndex.size.toString(),this.nodes.size),this.fols.push(e),this.addNode(e)}addFirstOrderRate(e){this.forIndex.set(this.forIndex.size,this.nodes.size),this.index.set(es.tagName+this.forIndex.size.toString(),this.nodes.size),this.fors.push(e),this.addNode(e)}}class en extends j{static{this.tagName="me:analysis"}constructor(e,t,s,i,n){super(e,en.tagName),this.index=new Map,t&&(this.index.set(tT.tagName,this.nodes.size),this.addNode(t)),this.elIndex=new Map,s?(s.forEach(e=>{this.index.set(Z.tagName,this.nodes.size),this.elIndex.set(this.elIndex.size,this.nodes.size),this.addNode(e)}),this.els=s):this.els=[],this.plIndex=new Map,i?(i.forEach(e=>{this.index.set(ee.tagName,this.nodes.size),this.plIndex.set(this.plIndex.size,this.nodes.size),this.addNode(e)}),this.pls=i):this.pls=[],this.rlIndex=new Map,n?(n.forEach(e=>{this.index.set(ei.tagName,this.nodes.size),this.rlIndex.set(this.rlIndex.size,this.nodes.size),this.addNode(e)}),this.rls=n):this.rls=[]}getDescription(){if(this.index.has(tT.tagName)){let e=this.index.get(tT.tagName);return this.nodes.get(e)}}setDescription(e){if(this.index.has(tT.tagName)){let t=this.index.get(tT.tagName);this.nodes.set(t,e)}else this.index.set(tT.tagName,this.nodes.size),this.addNode(e)}addEigenvalueList(e){this.elIndex.set(this.elIndex.size,this.nodes.size),this.addNode(e),this.els.push(e)}addPopulationList(e){this.plIndex.set(this.plIndex.size,this.nodes.size),this.addNode(e),this.pls.push(e)}addRateList(e){this.rlIndex.set(this.rlIndex.size,this.nodes.size),this.addNode(e),this.rls.push(e)}}class ea extends q{static{this.tagName="me:bathGas"}constructor(e,t){super(e,ea.tagName,t)}}class eo extends U{static{this.tagName="me:experimentalRate"}static{this.s_ref1="ref1"}static{this.s_ref2="ref2"}static{this.s_refReaction="refReaction"}static{this.s_error="error"}constructor(e,t){super(e,eo.tagName,t)}getRef1(){return this.attributes.get(eo.s_ref1)}setRef1(e){this.attributes.set(eo.s_ref1,e)}getRef2(){return this.attributes.get(eo.s_ref2)}setRef2(e){this.attributes.set(eo.s_ref2,e)}getRefReaction(){return this.attributes.get(eo.s_refReaction)}setRefReaction(e){this.attributes.set(eo.s_refReaction,e)}getError(){return new(o(d))(this.attributes.get(eo.s_error))}setError(e){this.attributes.set(eo.s_error,e.toString())}}class ed extends U{static{this.tagName="me:experimentalYield"}static{this.s_ref="ref"}static{this.s_error="error"}static{this.s_yieldTime="yieldTime"}constructor(e,t){super(e,ed.tagName,t)}getRef(){return this.attributes.get(ed.s_ref)}setRef(e){this.attributes.set(ed.s_ref,e)}getError(){return new(o(d))(this.attributes.get(ed.s_error))}setError(e){this.attributes.set(ed.s_error,e.toString())}getYieldTime(){return new(o(d))(this.attributes.get(ed.s_yieldTime))}setYieldTime(e){this.attributes.set(ed.s_yieldTime,e.toString())}}class el extends U{static{this.tagName="me:experimentalEigenvalue"}static{this.s_EigenvalueID="EigenvalueID"}static{this.s_error="error"}constructor(e,t){super(e,el.tagName,t)}getEigenvalueID(){return this.attributes.get(el.s_EigenvalueID)}setEigenvalueID(e){this.attributes.set(el.s_EigenvalueID,e)}getError(){return new(o(d))(this.attributes.get(el.s_error))}setError(e){this.attributes.set(el.s_error,e.toString())}}class er extends U{static{this.tagName="me:excessReactantConc"}static{this.s_percent="percent"}constructor(e,t){super(e,er.tagName,t)}getPercent(){return this.attributes.get(er.s_percent)}setPercent(e){this.attributes.set(er.s_percent,e)}}class eg extends j{static{this.tagName="me:PTpair"}static{this.s_P="P"}static{this.s_T="T"}static{this.s_precision="precision"}static{this.s_excessReactantConc="excessReactantConc"}static{this.s_percentExcessReactantConc="percentExcessReactantConc"}constructor(e,t,s,i,n){super(e,eg.tagName),this.index=new Map,void 0!=t&&(this.index.set(ea.tagName,this.nodes.size),this.addNode(t)),void 0!=s&&(this.index.set(eo.tagName,this.nodes.size),this.addNode(s)),void 0!=i&&(this.index.set(ed.tagName,this.nodes.size),this.addNode(i)),void 0!=n&&(this.index.set(el.tagName,this.nodes.size),this.addNode(n))}getP(){let e=this.attributes.get(eg.s_P);if(void 0!==e)return new(o(d))(e)}setP(e){this.attributes.set(eg.s_P,e.toString())}getT(){let e=this.attributes.get(eg.s_T);if(void 0!==e)return new(o(d))(e)}setT(e){this.attributes.set(eg.s_T,e.toString())}getPrecision(){return this.attributes.get(eg.s_precision)}setPrecision(e){this.attributes.set(eg.s_precision,e)}getBathGas(){let e=this.index.get(ea.tagName);return void 0!=e?this.nodes.get(e):void 0}setBathGas(e){let t=this.index.get(ea.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ea.tagName,this.nodes.size),this.addNode(e))}removeBathGas(){let e=this.index.get(ea.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ea.tagName))}getExperimentalRate(){let e=this.index.get(eo.tagName);return void 0!=e?this.nodes.get(e):void 0}setExperimentalRate(e){let t=this.index.get(eo.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eo.tagName,this.nodes.size),this.addNode(e))}removeExperimentalRate(){let e=this.index.get(eo.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eo.tagName))}getExperimentalYield(){let e=this.index.get(ed.tagName);return void 0!=e?this.nodes.get(e):void 0}setExperimentalYield(e){let t=this.index.get(ed.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ed.tagName,this.nodes.size),this.addNode(e))}removeExperimentalYield(){let e=this.index.get(ed.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ed.tagName))}getExperimentalEigenvalue(){let e=this.index.get(el.tagName);return void 0!=e?this.nodes.get(e):void 0}setExperimentalEigenvalue(e){let t=this.index.get(el.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(el.tagName,this.nodes.size),this.addNode(e))}removeExperimentalEigenvalue(){let e=this.index.get(el.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(el.tagName))}getExcessReactantConc(){return this.attributes.get(eg.s_excessReactantConc)}setExcessReactantConc(e){this.attributes.set(eg.s_excessReactantConc,e)}getPercentExcessReactantConc(){return this.attributes.get(eg.s_percentExcessReactantConc)}setPercentExcessReactantConc(e){this.attributes.set(eg.s_percentExcessReactantConc,e)}}class eh extends j{static{this.tagName="me:PTs"}constructor(e,t){super(e,eh.tagName),void 0!=t?(t.forEach(e=>{this.addNode(e)}),this.ptps=t):this.ptps=[]}get(e){return this.ptps[e]}set(e,t){this.nodes.set(e,t),this.ptps[e]=t}add(e){return this.addNode(e),this.ptps.push(e),this.nodes.size-1}remove(e){this.nodes.delete(e),this.ptps.splice(e,1)}init(e){this.clear(),e.forEach(e=>{this.addNode(e),this.ptps.push(e)})}clear(){this.nodes.clear(),this.ptps=[]}}class em extends j{static{this.tagName="me:conditions"}constructor(e,t,s,i){super(e,em.tagName),this.id=t,this.index=new Map,this.bathGasesIndex=new Map,this.bathGases=new Map,void 0!=s&&(this.index.set(ea.tagName,this.nodes.size),s.forEach(e=>{this.bathGasesIndex.set(e.value,this.nodes.size),this.addNode(e),this.bathGases.set(e,s.size)})),void 0!=i&&(this.index.set(eh.tagName,this.nodes.size),this.addNode(i))}getBathGases(){return this.bathGases}addBathGas(e){if(this.bathGases.has(e))return this.bathGases.get(e);{let t=this.bathGases.size;return this.bathGases.set(e,t),this.bathGasesIndex.set(e.value,this.nodes.size),this.addNode(e),t}}removeBathGas(e){this.bathGases.has(e)?(this.bathGases.delete(e),this.nodes.delete(this.bathGasesIndex.get(e.value))):console.warn("Conditions.removeBathGas: bathGas not found to remove.")}getPTs(){let e=this.index.get(eh.tagName);if(void 0!=e)return this.nodes.get(e)}setPTs(e){let t=this.index.get(eh.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eh.tagName,this.nodes.size),this.addNode(e))}}class ec extends F{static{this.tagName="me:calculateRateCoefficientsOnly"}constructor(){super(ec.tagName)}}class eu extends F{static{this.tagName="me:printCellDOS"}constructor(){super(eu.tagName)}}class eN extends F{static{this.tagName="me:printCellTransitionStateFlux"}constructor(){super(eN.tagName)}}class ep extends F{static{this.tagName="me:printReactionOperatorColumnSums"}constructor(){super(ep.tagName)}}class ef extends F{static{this.tagName="me:printGrainBoltzmann"}constructor(){super(ef.tagName)}}class ex extends F{static{this.tagName="me:printGrainDOS"}constructor(){super(ex.tagName)}}class ev extends F{static{this.tagName="me:printGrainkbE"}constructor(){super(ev.tagName)}}class eE extends F{static{this.tagName="me:printGrainkfE"}constructor(){super(eE.tagName)}}class ew extends F{static{this.tagName="me:printTSsos"}constructor(){super(ew.tagName)}}class ey extends F{static{this.tagName="me:printGrainedSpeciesProfile"}constructor(){super(ey.tagName)}}class eb extends F{static{this.tagName="me:printGrainTransitionStateFlux"}constructor(){super(eb.tagName)}}class eC extends F{static{this.tagName="me:printReactionOperatorSize"}constructor(){super(eC.tagName)}}class eM extends F{static{this.tagName="me:printSpeciesProfile"}constructor(){super(eM.tagName)}}class eS extends F{static{this.tagName="me:printPhenomenologicalEvolution"}constructor(){super(eS.tagName)}}class eT extends F{static{this.tagName="me:printTunnelingCoefficients"}constructor(){super(eT.tagName)}}class eR extends F{static{this.tagName="me:printCrossingCoefficients"}constructor(){super(eR.tagName)}}class ez extends F{static{this.tagName="me:testDOS"}constructor(){super(ez.tagName)}}class e_ extends F{static{this.tagName="me:testRateConstant"}constructor(){super(e_.tagName)}}class eL extends F{static{this.tagName="me:useTheSameCellNumberForAllConditions"}constructor(){super(eL.tagName)}}class eI extends q{static{this.tagName="me:ForceMacroDetailedBalance"}constructor(e,t){super(e,eI.tagName,t)}}class eP extends F{static{this.tagName="me:hideInactive"}constructor(){super(eP.tagName)}}class eB extends j{static{this.tagName="me:calcMethod"}static{this.options=["simpleCalc","gridSearch","fitting","marquardt","analyticalRepresentation","ThermodynamicTable","sensitivityAnalysis","me:simpleCalc","me:gridSearch","me:fitting","me:marquardt","me:analyticalRepresentation","me:ThermodynamicTable","me:sensitivityAnalysis"]}constructor(e){super(e,eB.tagName)}}class eD extends eB{static{this.xsi_type="me:simpleCalc"}static{this.xsi_type2="simpleCalc"}constructor(e){super(e)}}class eA extends eB{static{this.xsi_type="me:gridSearch"}static{this.xsi_type2="gridSearch"}constructor(e){super(e)}}class eG extends U{static{this.tagName="me:fittingIterations"}constructor(e,t){super(e,eG.tagName,t)}}class ek extends eB{static{this.xsi_type="me:fitting"}static{this.xsi_type2="fitting"}constructor(e,t){super(e),void 0!=t&&this.addNode(t)}getFittingIterations(){return this.nodes.get(0)}setFittingIterations(e){this.nodes.set(0,e)}removeFittingIterations(){this.nodes.delete(0)}}class eO extends U{static{this.tagName="me:MarquardtIterations"}constructor(e,t){super(e,eO.tagName,t)}}class eF extends U{static{this.tagName="me:MarquardtTolerance"}constructor(e,t){super(e,eF.tagName,t)}}class eH extends U{static{this.tagName="me:MarquardtDerivDelta"}constructor(e,t){super(e,eH.tagName,t)}}class eq extends eB{static{this.xsi_type="me:marquardt"}static{this.xsi_type2="marquardt"}constructor(e,t,s,i){super(e),this.index=new Map,void 0!=t&&(this.index.set(eO.tagName,this.nodes.size),this.addNode(t)),void 0!=s&&(this.index.set(eF.tagName,this.nodes.size),this.addNode(s)),void 0!=i&&(this.index.set(eH.tagName,this.nodes.size),this.addNode(i))}getMarquardtIterations(){let e=this.index.get(eO.tagName);if(void 0!=e)return this.nodes.get(e)}setMarquardtIterations(e){let t=this.index.get(eO.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eO.tagName,this.nodes.size),this.addNode(e))}removeMarquardtIterations(){let e=this.index.get(eO.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eO.tagName))}getMarquardtTolerance(){let e=this.index.get(eF.tagName);if(void 0!=e)return this.nodes.get(e)}setMarquardtTolerance(e){let t=this.index.get(eF.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eF.tagName,this.nodes.size),this.addNode(e))}removeMarquardtTolerance(){let e=this.index.get(eF.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eF.tagName))}getMarquardtDerivDelta(){let e=this.index.get(eH.tagName);if(void 0!=e)return this.nodes.get(e)}setMarquardtDerivDelta(e){let t=this.index.get(eH.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eH.tagName,this.nodes.size),this.addNode(e))}removeMarquardtDerivDelta(){let e=this.index.get(eH.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eH.tagName))}}class eU extends F{static{this.tagName="me:useTraceWeighting"}constructor(){super(eU.tagName)}}class eV extends q{static{this.tagName="me:format"}static{this.options=["cantera","chemkin"]}static{this.rateUnits="rateUnits"}static{this.rateUnitsOptions=["cm3mole-1s-1","cm3molecule-1s-1"]}constructor(e,t){super(e,eV.tagName,t)}getRateUnits(){return this.attributes.get(eV.rateUnits)}setRateUnits(e){this.attributes.set(eV.rateUnits,e)}removeRateUnits(){this.attributes.delete(eV.rateUnits)}}class ej extends q{static{this.tagName="me:precision"}constructor(e,t){super(e,ej.tagName,t)}}class eX extends U{static{this.tagName="me:chebNumTemp"}constructor(e,t){super(e,eX.tagName,t)}}class eY extends U{static{this.tagName="me:chebNumConc"}constructor(e,t){super(e,eY.tagName,t)}}class e$ extends U{static{this.tagName="me:chebMaxTemp"}constructor(e,t){super(e,e$.tagName,t)}}class eW extends U{static{this.tagName="me:chebMinTemp"}constructor(e,t){super(e,eW.tagName,t)}}class eK extends U{static{this.tagName="me:chebMaxConc"}constructor(e,t){super(e,eK.tagName,t)}getUnits(){return this.attributes.get("units")}setUnits(e){this.attributes.set("units",e)}}class eZ extends U{static{this.tagName="me:chebMinConc"}constructor(e,t){super(e,eZ.tagName,t)}}class eQ extends U{static{this.tagName="me:chebTExSize"}constructor(e,t){super(e,eQ.tagName,t)}}class eJ extends U{static{this.tagName="me:chebPExSize"}constructor(e,t){super(e,eJ.tagName,t)}}class e0 extends eB{static{this.xsi_type="me:analyticalRepresentation"}static{this.xsi_type2="analyticalRepresentation"}constructor(e,t,s,i,n,a,o,d,l,r,g){super(e),this.index=new Map,void 0!=t&&(this.index.set(eV.tagName,this.nodes.size),this.addNode(t)),void 0!=s&&(this.index.set(ej.tagName,this.nodes.size),this.addNode(s)),void 0!=i&&(this.index.set(eX.tagName,this.nodes.size),this.addNode(i)),void 0!=n&&(this.index.set(eY.tagName,this.nodes.size),this.addNode(n)),void 0!=a&&(this.index.set(e$.tagName,this.nodes.size),this.addNode(a)),void 0!=o&&(this.index.set(eW.tagName,this.nodes.size),this.addNode(o)),void 0!=d&&(this.index.set(eK.tagName,this.nodes.size),this.addNode(d)),void 0!=l&&(this.index.set(eZ.tagName,this.nodes.size),this.addNode(l)),void 0!=r&&(this.index.set(eQ.tagName,this.nodes.size),this.addNode(r)),void 0!=g&&(this.index.set(eJ.tagName,this.nodes.size),this.addNode(g))}getFormat(){let e=this.index.get(eV.tagName);if(void 0!=e)return this.nodes.get(e)}setFormat(e){let t=this.index.get(eV.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eV.tagName,this.nodes.size),this.addNode(e))}removeFormat(){let e=this.index.get(eV.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eV.tagName))}getPrecision(){let e=this.index.get(ej.tagName);if(void 0!=e)return this.nodes.get(e)}setPrecision(e){let t=this.index.get(ej.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ej.tagName,this.nodes.size),this.addNode(e))}removePrecision(){let e=this.index.get(ej.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ej.tagName))}getChebNumTemp(){let e=this.index.get(eX.tagName);if(void 0!=e)return this.nodes.get(e)}setChebNumTemp(e){let t=this.index.get(eX.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eX.tagName,this.nodes.size),this.addNode(e))}removeChebNumTemp(){let e=this.index.get(eX.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eX.tagName))}getChebNumConc(){let e=this.index.get(eY.tagName);if(void 0!=e)return this.nodes.get(e)}setChebNumConc(e){let t=this.index.get(eY.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eY.tagName,this.nodes.size),this.addNode(e))}removeChebNumConc(){let e=this.index.get(eY.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eY.tagName))}getChebMaxTemp(){let e=this.index.get(e$.tagName);if(void 0!=e)return this.nodes.get(e)}setChebMaxTemp(e){let t=this.index.get(e$.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e$.tagName,this.nodes.size),this.addNode(e))}removeChebMaxTemp(){let e=this.index.get(e$.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e$.tagName))}getChebMinTemp(){let e=this.index.get(eW.tagName);if(void 0!=e)return this.nodes.get(e)}setChebMinTemp(e){let t=this.index.get(eW.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eW.tagName,this.nodes.size),this.addNode(e))}removeChebMinTemp(){let e=this.index.get(eW.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eW.tagName))}getChebMaxConc(){let e=this.index.get(eK.tagName);if(void 0!=e)return this.nodes.get(e)}setChebMaxConc(e){let t=this.index.get(eK.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eK.tagName,this.nodes.size),this.addNode(e))}removeChebMaxConc(){let e=this.index.get(eK.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eK.tagName))}getChebMinConc(){let e=this.index.get(eZ.tagName);if(void 0!=e)return this.nodes.get(e)}setChebMinConc(e){let t=this.index.get(eZ.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eZ.tagName,this.nodes.size),this.addNode(e))}removeChebMinConc(){let e=this.index.get(eZ.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eZ.tagName))}getChebTExSize(){let e=this.index.get(eQ.tagName);if(void 0!=e)return this.nodes.get(e)}setChebTExSize(e){let t=this.index.get(eQ.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eQ.tagName,this.nodes.size),this.addNode(e))}removeChebTExSize(){let e=this.index.get(eQ.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eQ.tagName))}getChebPExSize(){let e=this.index.get(eJ.tagName);if(void 0!=e)return this.nodes.get(e)}setChebPExSize(e){let t=this.index.get(eJ.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eJ.tagName,this.nodes.size),this.addNode(e))}removeChebPExSize(){let e=this.index.get(eJ.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eJ.tagName))}}class e1 extends U{static{this.tagName="me:Tmin"}constructor(e,t){super(e,e1.tagName,t)}}class e2 extends U{static{this.tagName="me:Tmid"}constructor(e,t){super(e,e2.tagName,t)}}class e3 extends U{static{this.tagName="me:Tmax"}constructor(e,t){super(e,e3.tagName,t)}}class e5 extends U{static{this.tagName="me:Tstep"}constructor(e,t){super(e,e1.tagName,t)}}class e4 extends eB{static{this.xsi_type="me:ThermodynamicTable"}static{this.xsi_type2="ThermodynamicTable"}constructor(e,t,s,i,n){super(e),this.index=new Map,void 0!=t&&(this.index.set(e1.tagName,this.nodes.size),this.addNode(t)),void 0!=s&&(this.index.set(e2.tagName,this.nodes.size),this.addNode(s)),void 0!=i&&(this.index.set(e3.tagName,this.nodes.size),this.addNode(i)),void 0!=n&&(this.index.set(e5.tagName,this.nodes.size),this.addNode(n))}getTmin(){let e=this.index.get(e1.tagName);if(void 0!=e)return this.nodes.get(e)}setTmin(e){let t=this.index.get(e1.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e1.tagName,this.nodes.size),this.addNode(e))}removeTmin(){let e=this.index.get(e1.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e1.tagName))}getTmid(){let e=this.index.get(e2.tagName);if(void 0!=e)return this.nodes.get(e)}setTmid(e){let t=this.index.get(e2.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e2.tagName,this.nodes.size),this.addNode(e))}removeTmid(){let e=this.index.get(e2.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e2.tagName))}getTmax(){let e=this.index.get(e3.tagName);if(void 0!=e)return this.nodes.get(e)}setTmax(e){let t=this.index.get(e3.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e3.tagName,this.nodes.size),this.addNode(e))}removeTmax(){let e=this.index.get(e3.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e3.tagName))}getTstep(){let e=this.index.get(e5.tagName);if(void 0!=e)return this.nodes.get(e)}setTstep(e){let t=this.index.get(e5.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e5.tagName,this.nodes.size),this.addNode(e))}removeTstep(){let e=this.index.get(e5.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e5.tagName))}}class e6 extends U{static{this.tagName="me:sensitivityAnalysisSamples"}constructor(e,t){super(e,e6.tagName,t)}}class e8 extends U{static{this.tagName="me:sensitivityAnalysisOrder"}constructor(e,t){super(e,e8.tagName,t)}}class e9 extends U{static{this.tagName="me:sensitivityNumVarRedIters"}constructor(e,t){super(e,e9.tagName,t)}}class e7 extends q{static{this.tagName="me:sensitivityVarRedMethod"}static{this.options=["AdditiveControl","RatioControl"]}constructor(e,t){super(e,e7.tagName,t)}}class te extends eB{static{this.xsi_type="me:sensitivityAnalysis"}static{this.xsi_type2="sensitivityAnalysis"}constructor(e,t,s,i,n){super(e),this.index=new Map,void 0!=t&&(this.index.set(e6.tagName,this.nodes.size),this.addNode(t)),void 0!=s&&(this.index.set(e8.tagName,this.nodes.size),this.addNode(s)),void 0!=i&&(this.index.set(e9.tagName,this.nodes.size),this.addNode(i)),void 0!=n&&(this.index.set(e7.tagName,this.nodes.size),this.addNode(n))}getSensitivityAnalysisSamples(){let e=this.index.get(e6.tagName);if(void 0!=e)return this.nodes.get(e)}setSensitivityAnalysisSamples(e){let t=this.index.get(e6.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e6.tagName,this.nodes.size),this.addNode(e))}removeSensitivityAnalysisSamples(){let e=this.index.get(e6.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e6.tagName))}getSensitivityAnalysisOrder(){let e=this.index.get(e8.tagName);if(void 0!=e)return this.nodes.get(e)}setSensitivityAnalysisOrder(e){let t=this.index.get(e8.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e8.tagName,this.nodes.size),this.addNode(e))}removeSensitivityAnalysisOrder(){let e=this.index.get(e8.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e8.tagName))}getSensitivityNumVarRedIters(){let e=this.index.get(e9.tagName);if(void 0!=e)return this.nodes.get(e)}setSensitivityNumVarRedIters(e){let t=this.index.get(e9.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e9.tagName,this.nodes.size),this.addNode(e))}removeSensitivityNumVarRedIters(){let e=this.index.get(e9.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e9.tagName))}getSensitivityVarRedMethod(){let e=this.index.get(e7.tagName);if(void 0!=e)return this.nodes.get(e)}setSensitivityVarRedMethod(e){let t=this.index.get(e7.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e7.tagName,this.nodes.size),this.addNode(e))}removeSensitivityVarRedMethod(){let e=this.index.get(e7.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e7.tagName))}}class tt extends U{static{this.tagName="me:eigenvalues"}constructor(e,t){super(e,tt.tagName,t)}}class ts extends U{static{this.tagName="me:shortestTimeOfInterest"}constructor(e,t){super(e,ts.tagName,t)}}class ti extends U{static{this.tagName="me:MaximumEvolutionTime"}constructor(e,t){super(e,ti.tagName,t)}}class tn extends U{static{this.tagName="me:automaticallySetMaxEne"}constructor(e,t){super(e,tn.tagName,t)}}class ta extends U{static{this.tagName="me:diagramEnergyOffset"}constructor(e,t){super(e,ta.tagName,t)}}class to extends H{static{this.tagName="me:testMicroRates"}constructor(e){super(e,to.tagName),this.tMin=new(o(d))(e.get("Tmin")),this.tMax=new(o(d))(e.get("Tmax")),this.tStep=new(o(d))(e.get("Tstep"))}getTmin(){return this.tMin}setTmin(e){this.tMin=e,this.attributes?.set("Tmin",e.toString())}getTmax(){return this.tMax}setTmax(e){this.tMax=e,this.attributes?.set("Tmax",e.toString())}getTstep(){return this.tStep}setTstep(e){this.tStep=e,this.attributes?.set("Tstep",e.toString())}}class td extends j{static{this.tagName="me:control"}constructor(e,t){super(e,td.tagName),this.id=t,this.index=new Map}getCalculateRateCoefficientsOnly(){let e=this.index.get(ec.tagName);if(void 0!=e)return this.nodes.get(e)}setCalculateRateCoefficientsOnly(e){let t=this.index.get(ec.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ec.tagName,this.nodes.size),this.addNode(e))}removeCalculateRateCoefficientsOnly(){let e=this.index.get(ec.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ec.tagName))}getPrintCellDOS(){let e=this.index.get(eu.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintCellDOS(e){let t=this.index.get(eu.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eu.tagName,this.nodes.size),this.addNode(e))}removePrintCellDOS(){let e=this.index.get(eu.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eu.tagName))}getPrintCellTransitionStateFlux(){let e=this.index.get(eN.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintCellTransitionStateFlux(e){let t=this.index.get(eN.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eN.tagName,this.nodes.size),this.addNode(e))}removePrintCellTransitionStateFlux(){let e=this.index.get(eN.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eN.tagName))}getPrintReactionOperatorColumnSums(){let e=this.index.get(ep.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintReactionOperatorColumnSums(e){let t=this.index.get(ep.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ep.tagName,this.nodes.size),this.addNode(e))}removePrintReactionOperatorColumnSums(){let e=this.index.get(ep.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ep.tagName))}getPrintGrainBoltzmann(){let e=this.index.get(ef.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintGrainBoltzmann(e){let t=this.index.get(ef.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ef.tagName,this.nodes.size),this.addNode(e))}removePrintGrainBoltzmann(){let e=this.index.get(ef.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ef.tagName))}getPrintGrainDOS(){let e=this.index.get(ex.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintGrainDOS(e){let t=this.index.get(ex.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ex.tagName,this.nodes.size),this.addNode(e))}removePrintGrainDOS(){let e=this.index.get(ex.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ex.tagName))}getPrintGrainkbE(){let e=this.index.get(ev.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintGrainkbE(e){let t=this.index.get(ev.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ev.tagName,this.nodes.size),this.addNode(e))}removePrintGrainkbE(){let e=this.index.get(ev.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ev.tagName))}getPrintGrainkfE(){let e=this.index.get(eE.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintGrainkfE(e){let t=this.index.get(eE.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eE.tagName,this.nodes.size),this.addNode(e))}removePrintGrainkfE(){let e=this.index.get(eE.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eE.tagName))}getPrintTSsos(){let e=this.index.get(ew.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintTSsos(e){let t=this.index.get(ew.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ew.tagName,this.nodes.size),this.addNode(e))}removePrintTSsos(){let e=this.index.get(ew.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ew.tagName))}getPrintGrainedSpeciesProfile(){let e=this.index.get(ey.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintGrainedSpeciesProfile(e){let t=this.index.get(ey.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ey.tagName,this.nodes.size),this.addNode(e))}removePrintGrainedSpeciesProfile(){let e=this.index.get(ey.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ey.tagName))}getPrintGrainTransitionStateFlux(){let e=this.index.get(eb.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintGrainTransitionStateFlux(e){let t=this.index.get(eb.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eb.tagName,this.nodes.size),this.addNode(e))}removePrintGrainTransitionStateFlux(){let e=this.index.get(eb.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eb.tagName))}getPrintReactionOperatorSize(){let e=this.index.get(eC.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintReactionOperatorSize(e){let t=this.index.get(eC.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eC.tagName,this.nodes.size),this.addNode(e))}removePrintReactionOperatorSize(){let e=this.index.get(eC.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eC.tagName))}getPrintSpeciesProfile(){let e=this.index.get(eM.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintSpeciesProfile(e){let t=this.index.get(eM.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eM.tagName,this.nodes.size),this.addNode(e))}removePrintSpeciesProfile(){let e=this.index.get(eM.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eM.tagName))}getPrintPhenomenologicalEvolution(){let e=this.index.get(eS.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintPhenomenologicalEvolution(e){let t=this.index.get(eS.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eS.tagName,this.nodes.size),this.addNode(e))}removePrintPhenomenologicalEvolution(){let e=this.index.get(eS.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eS.tagName))}getPrintTunnelingCoefficients(){let e=this.index.get(eT.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintTunnelingCoefficients(e){let t=this.index.get(eT.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eT.tagName,this.nodes.size),this.addNode(e))}removePrintTunnelingCoefficients(){let e=this.index.get(eT.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eT.tagName))}getPrintCrossingCoefficients(){let e=this.index.get(eR.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintCrossingCoefficients(e){let t=this.index.get(eR.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eR.tagName,this.nodes.size),this.addNode(e))}removePrintCrossingCoefficients(){let e=this.index.get(eR.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eR.tagName))}getTestDOS(){let e=this.index.get(ez.tagName);if(void 0!=e)return this.nodes.get(e)}setTestDOS(e){let t=this.index.get(ez.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ez.tagName,this.nodes.size),this.addNode(e))}removeTestDOS(){let e=this.index.get(ez.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ez.tagName))}getTestRateConstants(){let e=this.index.get(e_.tagName);if(void 0!=e)return this.nodes.get(e)}setTestRateConstants(e){let t=this.index.get(e_.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e_.tagName,this.nodes.size),this.addNode(e))}removeTestRateConstants(){let e=this.index.get(e_.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e_.tagName))}getUseTheSameCellNumberForAllConditions(){let e=this.index.get(eL.tagName);if(void 0!=e)return this.nodes.get(e)}setUseTheSameCellNumberForAllConditions(e){let t=this.index.get(eL.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eL.tagName,this.nodes.size),this.addNode(e))}removeUseTheSameCellNumberForAllConditions(){let e=this.index.get(eL.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eL.tagName))}getHideInactive(){let e=this.index.get(eP.tagName);if(void 0!=e)return this.nodes.get(e)}setHideInactive(e){let t=this.index.get(eP.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eP.tagName,this.nodes.size),this.addNode(e))}removeHideInactive(){let e=this.index.get(eP.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eP.tagName))}getForceMacroDetailedBalance(){let e=this.index.get(eI.tagName);if(void 0!=e)return this.nodes.get(e)}setForceMacroDetailedBalance(e){let t=this.index.get(eI.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eI.tagName,this.nodes.size),this.addNode(e))}removeForceMacroDetailedBalance(){let e=this.index.get(eI.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eI.tagName))}getCalcMethod(){let e=this.index.get(eB.tagName);if(void 0!=e)return this.nodes.get(e)}setCalcMethod(e){let t=this.index.get(eB.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eB.tagName,this.nodes.size),this.addNode(e))}removeCalcMethod(){let e=this.index.get(eB.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eB.tagName))}getEigenvalues(){let e=this.index.get(tt.tagName);if(void 0!=e)return this.nodes.get(e)}setEigenvalues(e){let t=this.index.get(tt.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tt.tagName,this.nodes.size),this.addNode(e))}removeEigenvalues(){let e=this.index.get(tt.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tt.tagName))}getShortestTimeOfInterest(){let e=this.index.get(ts.tagName);if(void 0!=e)return this.nodes.get(e)}setShortestTimeOfInterest(e){let t=this.index.get(ts.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ts.tagName,this.nodes.size),this.addNode(e))}removeShortestTimeOfInterest(){let e=this.index.get(ts.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ts.tagName))}getMaximumEvolutionTime(){let e=this.index.get(ti.tagName);if(void 0!=e)return this.nodes.get(e)}setMaximumEvolutionTime(e){let t=this.index.get(ti.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ti.tagName,this.nodes.size),this.addNode(e))}removeMaximumEvolutionTime(){let e=this.index.get(ti.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ti.tagName))}getAutomaticallySetMaxEne(){let e=this.index.get(tn.tagName);if(void 0!=e)return this.nodes.get(e)}setAutomaticallySetMaxEne(e){let t=this.index.get(tn.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tn.tagName,this.nodes.size),this.addNode(e))}removeAutomaticallySetMaxEne(){let e=this.index.get(tn.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tn.tagName))}getDiagramEnergyOffset(){let e=this.index.get(ta.tagName);if(void 0!=e)return this.nodes.get(e)}setDiagramEnergyOffset(e){let t=this.index.get(ta.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ta.tagName,this.nodes.size),this.addNode(e))}removeDiagramEnergyOffset(){let e=this.index.get(ta.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ta.tagName))}getTestMicroRates(){let e=this.index.get(to.tagName);if(void 0!=e)return this.nodes.get(e)}setTestMicroRates(e){let t=this.index.get(to.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(to.tagName,this.nodes.size),this.addNode(e))}removeTestMicroRates(){let e=this.index.get(to.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(to.tagName))}}class tl extends j{static{this.tagName="metadata"}constructor(e){super(e,tl.tagName)}getLabelText(){let e="";return this.attributes.forEach((t,s)=>{e+=s+": "+t+" "}),e}}class tr extends q{static{this.tagName="dc:title"}constructor(e,t){super(e,tr.tagName,t)}}class tg extends q{static{this.tagName="dc:source"}constructor(e,t){super(e,tg.tagName,t)}}class th extends q{static{this.tagName="dc:creator"}constructor(e,t){super(e,th.tagName,t)}}class tm extends q{static{this.tagName="dc:date"}constructor(e,t){super(e,tm.tagName,t)}}class tc extends q{static{this.tagName="dc:contributor"}constructor(e,t){super(e,tc.tagName,t)}}class tu extends j{static{this.tagName="metadataList"}constructor(e,t,s,i,n,a){super(e,tu.tagName),this.index=new Map,this.metadataIndex=new Map,t&&(this.index.set(tr.tagName,this.nodes.size),this.addNode(t)),s&&(this.index.set(tg.tagName,this.nodes.size),this.addNode(s)),i&&(this.index.set(th.tagName,this.nodes.size),this.addNode(i)),n&&(this.index.set(tm.tagName,this.nodes.size),this.addNode(n)),a&&(this.index.set(tc.tagName,this.nodes.size),this.addNode(a))}getTitle(){if(this.index.has(tr.tagName)){let e=this.index.get(tr.tagName);return this.nodes.get(e)}}setTitle(e){if(this.index.has(tr.tagName)){let t=this.index.get(tr.tagName);this.nodes.set(t,e)}else this.index.set(tr.tagName,this.nodes.size),this.addNode(e)}getSource(){if(this.index.has(tg.tagName)){let e=this.index.get(tg.tagName);return this.nodes.get(e)}}setSource(e){if(this.index.has(tg.tagName)){let t=this.index.get(tg.tagName);this.nodes.set(t,e)}else this.index.set(tg.tagName,this.nodes.size),this.addNode(e)}getCreator(){if(this.index.has(th.tagName)){let e=this.index.get(th.tagName);return this.nodes.get(e)}}setCreator(e){if(this.index.has(th.tagName)){let t=this.index.get(th.tagName);this.nodes.set(t,e)}else this.index.set(th.tagName,this.nodes.size),this.addNode(e)}getDate(){if(this.index.has(tm.tagName)){let e=this.index.get(tm.tagName);return this.nodes.get(e)}}setDate(e){if(this.index.has(tm.tagName)){let t=this.index.get(tm.tagName);this.nodes.set(t,e)}else this.index.set(tm.tagName,this.nodes.size),this.addNode(e)}getContributor(){if(this.index.has(tc.tagName)){let e=this.index.get(tc.tagName);return this.nodes.get(e)}}setContributor(e){if(this.index.has(tc.tagName)){let t=this.index.get(tc.tagName);this.nodes.set(t,e)}else this.index.set(tc.tagName,this.nodes.size),this.addNode(e)}addMetadata(e){this.metadataIndex.set(this.metadataIndex.size,this.nodes.size),this.addNode(e)}getMetadata(){let e=[];for(let t=0;t<this.metadataIndex.size;t++){let s=this.metadataIndex.get(t);e.push(this.nodes.get(s))}return e}}class tN extends U{static{this.tagName="me:grainSize"}constructor(e,t){super(e,tN.tagName,t)}}class tp extends U{static{this.tagName="me:automaticallySetMaxEne"}constructor(e,t){super(e,tp.tagName,t)}}class tf extends U{static{this.tagName="me:energyAboveTheTopHill"}constructor(e,t){super(e,tf.tagName,t)}}class tx extends U{static{this.tagName="me:maxTemperature"}constructor(e,t){super(e,tx.tagName,t)}}class tv extends j{static{this.tagName="me:modelParameters"}constructor(e,t,s,i,n,a){super(e,tv.tagName),this.id=t,this.index=new Map,void 0!=s&&(this.index.set(tN.tagName,this.nodes.size),this.addNode(s)),void 0!=i&&(this.index.set(tp.tagName,this.nodes.size),this.addNode(i)),void 0!=n&&(this.index.set(tf.tagName,this.nodes.size),this.addNode(n)),void 0!=a&&(this.index.set(tx.tagName,this.nodes.size),this.addNode(a))}getGrainSize(){console.log("getGrainSize");let e=this.index.get(tN.tagName);if(void 0!=e)return this.nodes.get(e);console.log("XgetGrainSize")}setGrainSize(e){console.log("setGrainSize");let t=this.index.get(tN.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tN.tagName,this.nodes.size),this.addNode(e))}removeGrainSize(){let e=this.index.get(tN.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tN.tagName))}getAutomaticallySetMaxEne(){let e=this.index.get(tp.tagName);if(e)return this.nodes.get(e)}setAutomaticallySetMaxEne(e){let t=this.index.get(tp.tagName);t?this.nodes.set(t,e):(this.index.set(tp.tagName,this.nodes.size),this.addNode(e))}removeAutomaticallySetMaxEne(){let e=this.index.get(tp.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tp.tagName))}getEnergyAboveTheTopHill(){let e=this.index.get(tf.tagName);if(e)return this.nodes.get(e)}setEnergyAboveTheTopHill(e){let t=this.index.get(tf.tagName);t?this.nodes.set(t,e):(this.index.set(tf.tagName,this.nodes.size),this.addNode(e))}removeEnergyAboveTheTopHill(){let e=this.index.get(tf.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tf.tagName))}getMaxTemperature(){let e=this.index.get(tx.tagName);if(e)return this.nodes.get(e)}setMaxTemperature(e){let t=this.index.get(tx.tagName);t?this.nodes.set(t,e):(this.index.set(tx.tagName,this.nodes.size),this.addNode(e))}removeMaxTemperature(){let e=this.index.get(tx.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tx.tagName))}}class tE extends q{static{this.tagName="me:title"}constructor(e,t){super(e,tE.tagName,t)}}class tw extends j{static{this.tagName="moleculeList"}constructor(e,t){super(e,tw.tagName),this.index=new Map,void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e),this.index.set(e.getID(),this.nodes.size-1)})}getMolecule(e){let t=this.index.get(e);if(void 0!=t)return this.nodes.get(t)}removeMolecule(e){let t=this.index.get(e);void 0!=t&&(this.nodes.delete(t),this.index.delete(e))}addMolecule(e){let t=e.getID(),s=this.index.get(t);void 0!==s?(this.nodes.set(s,e),console.log("Replaced molecule with id "+t)):(this.nodes.set(this.nodes.size,e),this.index.set(t,this.nodes.size-1))}}class ty extends j{static{this.tagName="reactionList"}constructor(e,t){super(e,ty.tagName),this.index=new Map,void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1)})}getReaction(e){let t=this.index.get(e);if(void 0!=t)return this.nodes.get(t)}removeReaction(e){let t=this.index.get(e);void 0!=t&&(this.nodes.delete(t),this.index.delete(e))}addReaction(e){let t=this.index.get(e.id);void 0!==t?(this.nodes.set(t,e),console.log("Replaced reaction with id "+e.id)):(this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1))}}class tb extends j{static{this.tagName="conditionsList"}constructor(e,t){super(e,tM.tagName),this.index=new Map,void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1)})}getConditions(e){let t=this.index.get(e);if(void 0!=t)return this.nodes.get(t)}removeConditions(e){let t=this.index.get(e);void 0!=t&&(this.nodes.delete(t),this.index.delete(e))}addConditions(e){let t=this.index.get(e.id);void 0!=t?(this.nodes.set(t,e),console.log("Replaced conditions with id "+e.id)):(this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1))}}class tC extends j{static{this.tagName="modelParametersList"}constructor(e,t){super(e,tC.tagName),this.index=new Map,void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1)})}getModelParameters(e){let t=this.index.get(e);if(void 0!=t)return this.nodes.get(t)}removeModelParameters(e){let t=this.index.get(e);void 0!=t&&(this.nodes.delete(t),this.index.delete(e))}addModelParameters(e){let t=this.index.get(e.id);void 0!=t?(this.nodes.set(t,e),console.log("Replaced modelParameters with id "+e.id)):(this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1))}}class tM extends j{static{this.tagName="controlList"}constructor(e,t){super(e,tM.tagName),this.index=new Map,void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1)})}getControl(e){let t=this.index.get(e);if(void 0!=t)return this.nodes.get(t)}removeControl(e){let t=this.index.get(e);void 0!=t&&(this.nodes.delete(t),this.index.delete(e))}addControl(e){let t=this.index.get(e.id);void 0!==t?(this.nodes.set(t,e),console.log("Replaced control with id "+e.id)):(this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1))}}class tS extends j{static{this.tagName="me:mesmer"}static{this.precisionOptions=["d","dd","qd","double","double-double","quad-double"]}static{this.pressureUnits=["Torr","PPCC","atm","mbar","psi","mols/cc"]}static{this.energyUnits=["kJ/mol","kJ per mol","cm-1","wavenumber","kcal/mol","kcal per mol","Hartree","au"]}static{this.frequencyUnits=["cm-1","GHz","amuA^2"]}static{this.elementTypes=["H","He","Li","Be","B","C","N","O","F","Ne","Na","Mg","Al","Si","P","S","Cl","Ar","K","Ca","Sc","Ti","V","Cr","Mn","Fe","Co","Ni","Cu","Zn","Ga","Ge","As","Se","Br","Kr","Rb","Sr","Y","Zr","Nb","Mo","Tc","Ru","Rh","Pd","Ag","Cd","In","Sn","Sb","Te","I","Xe","Cs","Ba","La","Ce","Pr","Nd","Pm","Sm","Eu","Gd","Tb","Dy","Ho","Er","Tm","Yb","Lu","Hf","Ta","W","Re","Os","Ir","Pt","Au","Hg","Tl","Pb","Bi","Po","At","Rn","Fr","Ra","Ac","Th","Pa","U","Np","Pu","Am","Cm","Bk","Cf","Es","Fm","Md","No","Lr","Rf","Db","Sg","Bh","Hs","Mt","Ds","Rg","Cn","Nh","Fl","Mc","Lv","Ts","Og"]}static{this.atomMasses=new Map}static{this.atomRadii=new Map}static{this.atomColors=new Map}static{this.bondColors=new Map}static{this.header=`<?xml version="1.0" encoding="utf-8" ?>
<?xml-stylesheet type='text/xsl' href='../../mesmer2.xsl' media='other'?>
<?xml-stylesheet type='text/xsl' href='../../mesmer1.xsl' media='screen'?>`}constructor(e,t,s,i,n,a,o,d,l){super(e,tS.tagName);let r=["H","O","C","N","Cl","S","Ph","Fe"],g=["White","Red","DarkGrey","Blue","Green","Yellow","Orange","Brown"];for(let e=0;e<r.length;e++)tS.atomColors.set(r[e],g[e]);let h=[1.00784,15.999,12.011,14.007,35.453,32.06,77.845,55.845];for(let e=0;e<r.length;e++)tS.atomMasses.set(r[e],h[e]);let m=[37,66,67,56,99,102,110,124];for(let e=0;e<r.length;e++)tS.atomRadii.set(r[e],m[e]);let c=[1,1.5,2,2.5,3,3.5,4,4.5,5,5.5,6];g=["Black","Red","DarkRed","Blue","DarkBlue","Green","DarkGreen","Yellow","DarkYellow","Orange","DarkOrange"];for(let e=0;e<c.length;e++)tS.bondColors.set(c[e],g[e]);this.index=new Map,void 0!=t&&(this.index.set(tE.tagName,this.nodes.size),this.addNode(t)),void 0!=s&&(this.index.set(tw.tagName,this.nodes.size),this.addNode(s)),void 0!=i&&(this.index.set(ty.tagName,this.nodes.size),this.addNode(i)),this.conditionsIndex=new Map,void 0!=n&&n.forEach(e=>{this.index.set(em.tagName+e.id,this.nodes.size),this.conditionsIndex.set(e.id,this.nodes.size),this.addNode(e)}),this.modelParametersIndex=new Map,void 0!=a&&a.forEach(e=>{this.index.set(tv.tagName+e.id,this.nodes.size),this.modelParametersIndex.set(e.id,this.nodes.size),this.addNode(e)}),this.controlIndex=new Map,void 0!=o&&o.forEach(e=>{this.index.set(td.tagName+e.id,this.nodes.size),this.controlIndex.set(e.id,this.nodes.size),this.addNode(e)}),void 0!=d&&(this.index.set(tu.tagName,this.nodes.size),this.addNode(d)),void 0!=l&&(this.index.set(en.tagName,this.nodes.size),this.addNode(l))}getTitle(){let e=this.index.get(tE.tagName);if(void 0!=e)return this.nodes.get(e)}setTitle(e){let t=this.index.get(tE.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tE.tagName,this.nodes.size),this.addNode(e))}getMoleculeList(){let e=this.index.get(tw.tagName);if(void 0!=e)return this.nodes.get(e)}setMoleculeList(e){let t=this.index.get(tw.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tw.tagName,this.nodes.size),this.addNode(e))}getReactionList(){let e=this.index.get(ty.tagName);if(void 0!=e)return this.nodes.get(e)}setReactionList(e){let t=this.index.get(ty.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ty.tagName,this.nodes.size),this.addNode(e))}addConditions(e){let t=em.tagName+e.id,s=this.index.get(t);void 0!=s?this.nodes.set(s,e):(this.index.set(t,this.nodes.size),this.conditionsIndex.set(e.id,this.nodes.size),this.addNode(e))}getConditions(e){let t=this.conditionsIndex.get(e);if(void 0!=t)return this.nodes.get(t)}getConditionss(){let e=[];return this.conditionsIndex.forEach((t,s)=>{e.push(this.nodes.get(t))}),e}setConditionss(e){e.forEach(e=>{this.addConditions(e)})}getNextConditionsID(){let e=0;return Array.from(this.conditionsIndex.keys()).sort((e,t)=>e-t).forEach(t=>{if(t>e)return e;e++}),e}removeConditions(e){let t=this.conditionsIndex.get(e);void 0!=t&&(this.nodes.delete(t),this.index.delete(em.tagName+e),this.conditionsIndex.delete(e))}addModelParameters(e){let t=tv.tagName+e.id,s=this.index.get(t);void 0!=s?this.nodes.set(s,e):(this.index.set(t,this.nodes.size),this.modelParametersIndex.set(e.id,this.nodes.size),this.addNode(e))}getModelParameters(e){let t=this.modelParametersIndex.get(e);if(void 0!=t)return this.nodes.get(t)}getModelParameterss(){let e=[];return this.modelParametersIndex.forEach((t,s)=>{e.push(this.nodes.get(t))}),e}setModelParameterss(e){e.forEach(e=>{this.addModelParameters(e)})}getNextModelParametersID(){let e=0;return Array.from(this.modelParametersIndex.keys()).sort((e,t)=>e-t).forEach(t=>{if(t>e)return e;e++}),e}removeModelParameters(e){let t=this.modelParametersIndex.get(e);void 0!=t&&(this.nodes.delete(t),this.index.delete(tv.tagName+e),this.modelParametersIndex.delete(e))}addControl(e){let t=td.tagName+e.id,s=this.index.get(t);void 0!=s?this.nodes.set(s,e):(this.index.set(t,this.nodes.size),this.controlIndex.set(e.id,this.nodes.size),this.addNode(e))}getControl(e){let t=this.controlIndex.get(e);if(void 0!=t)return this.nodes.get(t)}getControls(){let e=[];return this.controlIndex.forEach((t,s)=>{e.push(this.nodes.get(t))}),e}setControls(e){e.forEach(e=>{this.addControl(e)})}getNextControlID(){let e=0;return Array.from(this.controlIndex.keys()).sort((e,t)=>e-t).forEach(t=>{if(t>e)return e;e++}),e}removeControl(e){let t=this.controlIndex.get(e);void 0!=t&&(this.nodes.delete(t),this.index.delete(td.tagName+e),this.controlIndex.delete(e))}getMetadataList(){let e=this.index.get(tu.tagName);if(void 0!=e)return this.nodes.get(e)}setMetadataList(e){let t=this.index.get(tu.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tu.tagName,this.nodes.size),this.addNode(e))}getAnalysis(){let e=this.index.get(en.tagName);if(void 0!=e)return this.nodes.get(e)}setAnalysis(e){let t=this.index.get(en.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(en.tagName,this.nodes.size),this.addNode(e))}}class tT extends q{static{this.tagName="me:description"}constructor(e,t){super(e,tT.tagName,t)}}class tR extends U{static{this.tagName="me:T"}constructor(e,t){super(e,tR.tagName,t)}}class tz extends H{static{this.tagName="atom"}static{this.s_id="id"}static{this.s_elementType="elementType"}static{this.s_x3="x3"}static{this.s_y3="y3"}static{this.s_z3="z3"}constructor(e,t){super(e,tz.tagName),this.molecule=t}hasCoordinates(){return void 0!=this.attributes.get(tz.s_x3)&&void 0!=this.attributes.get(tz.s_y3)&&void 0!=this.attributes.get(tz.s_z3)}getID(){return this.attributes.get(tz.s_id)}setID(e){this.attributes.set(tz.s_id,e)}getElementType(){return this.attributes.get(tz.s_elementType)}setElementType(e){this.attributes.set(tz.s_elementType,e)}getX3(){let e=this.attributes.get(tz.s_x3);if(void 0!=e)return new(o(d))(e)}setX3(e){this.attributes.set(tz.s_x3,e.toString())}removeX3(){this.attributes.delete(tz.s_x3)}getY3(){let e=this.attributes.get(tz.s_y3);if(void 0!=e)return new(o(d))(e)}setY3(e){this.attributes.set(tz.s_y3,e.toString())}removeY3(){this.attributes.delete(tz.s_y3)}getZ3(){let e=this.attributes.get(tz.s_z3);if(void 0!=e)return new(o(d))(e)}setZ3(e){this.attributes.set("z3",e.toString())}removeZ3(){this.attributes.delete("z3")}}class t_ extends j{static{this.tagName="atomArray"}constructor(e,t){super(e,t_.tagName),this.index=new Map,this.reverseIndex=new Map,void 0==t?this.atoms=new Map:(this.atoms=t,t.forEach((e,t)=>{this.index.set(t,this.nodes.size),this.reverseIndex.set(this.nodes.size,t),this.nodes.set(this.nodes.size,e)}))}getAtom(e){return this.atoms.get(e)}addAtom(e,t){if(void 0==t){let s=e.getID();if(void 0==s)s=this.getNextAtomID(),e.setID(s);else if(this.atoms.has(s)){let t=this.getNextAtomID();console.warn("Atom with id "+s+" already exists, adding with id "+t),e.setID(t),s=t}t=s}return this.index.set(t,this.nodes.size),this.reverseIndex.set(this.nodes.size,t),this.nodes.set(this.nodes.size,e),this.atoms.set(t,e),t}getNextAtomID(){let e=1,t="a1";if(this.atoms.has(t))for(;this.atoms.has(t);)e++,t="a"+e.toString();return t}removeAtom(e){let t=this.index.get(e);if(void 0==t)throw Error("Atom with id "+e+" does not exist!");console.log("Removing atom with id "+e),this.atoms.delete(e),this.deleteNodeAndReindex(t,e)}deleteNodeAndReindex(e,t){this.nodes.delete(e),this.index.delete(t),this.reverseIndex.delete(e);let s=new Map,i=new Map,n=new Map;this.index.forEach((t,a)=>{t>e?(s.set(t-1,this.nodes.get(t)),i.set(a,t-1),n.set(t-1,a)):(s.set(t,this.nodes.get(t)),i.set(a,t),n.set(t,a))}),this.nodes=s,this.index=i,this.reverseIndex=n}}class tL extends H{static{this.tagName="bond"}static{this.s_atomRefs2="atomRefs2"}static{this.s_id="id"}static{this.s_order="order"}static{this.orderOptions=["1","1.5","2","2.5","3","3.5","4","4.5","5","5.5","6"]}constructor(e,t){super(e,tL.tagName),this.molecule=t}getAtomRefs2(){let e=this.attributes.get(tL.s_atomRefs2);return(e?.split(" "),void 0==e)?"a1 a1":e}setAtomRefs2(e){this.attributes.set(tL.s_atomRefs2,e)}getID(){return this.attributes.get(tL.s_id)}setID(e){this.attributes.set(tL.s_id,e)}getOrder(){let e=this.attributes.get(tL.s_order);if(void 0!=e)return parseFloat(e)}setOrder(e){this.attributes.set(tL.s_order,e.toString())}}class tI extends j{static{this.tagName="bondArray"}constructor(e,t){super(e,tI.tagName),this.index=new Map,this.reverseIndex=new Map,void 0==t?this.bonds=new Map:(this.bonds=t,t.forEach((e,t)=>{this.index.set(t,this.nodes.size),this.reverseIndex.set(this.nodes.size,t),this.nodes.set(this.nodes.size,e)}))}getBondIds(){return Array.from(this.bonds.keys())}getBond(e){return this.bonds.get(e)}addBond(e,t){if(void 0==t){let s=e.getID();if(void 0==s)s=this.getNextBondID(),e.setID(s);else if(this.bonds.has(s)){let t=this.getNextBondID();console.log("Bond with id "+s+" already exists, adding with id "+t),e.setID(t),s=t}t=s}return this.index.set(t,this.nodes.size),this.reverseIndex.set(this.nodes.size,t),this.nodes.set(this.nodes.size,e),this.bonds.set(t,e),t}getNextBondID(){let e=1,t="b1";for(;this.bonds.has(t);)e++,t="b"+e.toString();return t}removeBond(e){let t=this.index.get(e);if(void 0==t)throw Error("Bond with id "+e+" does not exist!");console.log("Removing bond with id "+e),this.bonds.delete(e),this.deleteNodeAndReindex(t,e)}deleteNodeAndReindex(e,t){this.nodes.delete(e),this.index.delete(t),this.reverseIndex.delete(e);let s=new Map,i=new Map,n=new Map;this.index.forEach((t,a)=>{t>e?(s.set(t-1,this.nodes.get(t)),i.set(a,t-1),n.set(t-1,a)):(s.set(t,this.nodes.get(t)),i.set(a,t),n.set(t,a))}),this.nodes=s,this.index=i,this.reverseIndex=n}}class tP extends q{static{this.tagName="scalar"}constructor(e,t){super(e,tP.tagName,t)}getValue(){return this.value}setValue(e){this.value=e}}class tB extends U{static{this.tagName="scalar"}static{this.s_units="units"}constructor(e,t){super(e,tB.tagName,t)}updateUnits(e){if(e){let t=this.attributes.get(tB.s_units);void 0!=t&&t!=e&&this.attributes.set(tB.s_units,e)}}getValue(){return this.value}setValue(e){this.value=e}}class tD extends V{static{this.tagName="array"}static{this.s_units="units"}static{this.propertyDictRefs=new Set(["me:ZPE","me:Hf0","me:HfAT0","me:Hf298","me:rotConsts","me:symmetryNumber","me:TSOpticalSymmetryNumber","me:frequenciesScaleFactor","me:vibFreqs","me:MW","me:spinMultiplicity","me:epsilon","me:sigma","me:hessian","me:EinsteinAij","me:EinsteinBij"])}constructor(e,t,s){super(e,tD.tagName,t,s)}updateUnits(e){if(e){let t=this.attributes.get(tD.s_units);void 0!=t&&t!=e&&(this.attributes.set(tD.s_units,e),console.log("Units changed from "+t+" to "+e))}}}class tA extends V{static{this.tagName="matrix"}static{this.s_rows="rows"}static{this.s_matrixType="matrixType"}static{this.s_units="units"}constructor(e,t,s){super(e,tD.tagName,t,s)}updateUnits(e){if(e){let t=this.attributes.get(tD.s_units);void 0!=t&&t!=e&&(this.attributes.set(tD.s_units,e),console.log("Units changed from "+t+" to "+e))}}}class tG extends j{static{this.tagName="property"}static{this.s_dictRef="dictRef"}constructor(e,t){super(e,tG.tagName);let s=e.get(tG.s_dictRef);if(void 0==s){let t=e.get("title");if(void 0==t)throw Error(tG.s_dictRef+" and title are undefined!");if("MW"==t)s="me:MW";else if("Hf298"==t)s="me:Hf298";else if("Hf0"==t)s="me:Hf0";else if("program"==t)s="program";else if("basis"==t)s="basis";else if("method"==t)s="method";else if("File Format"==t)s="method";else throw Error("Title "+t+"not recognised!")}this.dictRef=s,t&&this.nodes.set(0,t)}getProperty(){return this.nodes.get(0)}setProperty(e){this.nodes.set(0,e)}}class tk extends tG{static{this.dictRef="me:ZPE"}constructor(e,t){super(e,t)}setUnits(e){this.getProperty().updateUnits(e)}}class tO extends tG{static{this.dictRef="me:Hf0"}constructor(e,t){super(e,t)}setUnits(e){this.getProperty().updateUnits(e)}}class tF extends tG{static{this.dictRef="me:HfAT0"}constructor(e,t){super(e,t)}setUnits(e){this.getProperty().updateUnits(e)}}class tH extends tG{static{this.dictRef="me:Hf298"}constructor(e,t){super(e,t)}setUnits(e){this.getProperty().updateUnits(e)}}class tq extends tG{static{this.dictRef="me:rotConsts"}static{this.unitOptions=["cm-1","GHz","amuA^2"]}constructor(e,t){super(e,t)}}class tU extends tG{static{this.dictRef="me:symmetryNumber"}constructor(e,t){super(e,t)}}class tV extends tG{static{this.dictRef="me:TSOpticalSymmetryNumber"}constructor(e,t){super(e,t)}}class tj extends tG{static{this.dictRef="me:frequenciesScaleFactor"}constructor(e,t){super(e,t)}}class tX extends tG{static{this.dictRef="me:vibFreqs"}constructor(e,t){super(e,t)}}class tY extends tG{static{this.dictRef="me:MW"}constructor(e,t){super(e,t)}}class t$ extends tG{static{this.dictRef="me:spinMultiplicity"}constructor(e,t){super(e,t)}}class tW extends tG{static{this.dictRef="me:epsilon"}constructor(e,t){super(e,t)}}class tK extends tG{static{this.dictRef="me:sigma"}constructor(e,t){super(e,t)}}class tZ extends tG{static{this.dictRef="me:hessian"}static{this.unitOptions=["kJ/mol/Å2","kcal/mol/Å2","Hartree/Å2"]}constructor(e,t){super(e,t)}}class tQ extends tG{static{this.dictRef="me:EinsteinAij"}constructor(e,t){super(e,t)}}class tJ extends tG{static{this.dictRef="me:EinsteinBij"}constructor(e,t){super(e,t)}}class t0 extends tG{static{this.dictRef="me:imFreqs"}constructor(e,t){super(e,t)}}class t1 extends j{static{this.tagName="propertyList"}constructor(e,t){super(e,t1.tagName),this.index=new Map,void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e),this.index.set(e.dictRef,this.nodes.size-1)})}getProperty(e){let t=this.index.get(e);if(void 0!=t)return this.nodes.get(t);throw Error("Property "+e+" does not exist")}setProperty(e){let t=this.index.get(e.dictRef);void 0==t?(this.nodes.set(this.nodes.size,e),this.index.set(e.dictRef,this.nodes.size-1)):(console.log("Property "+e.dictRef+" already exists, updating..."),this.nodes.set(t,e))}removeProperty(e){let t=this.index.get(e);if(void 0!=t){this.nodes.delete(t),this.index.delete(e);let s=new Map;this.index.forEach((e,i)=>{e>t?s.set(i,e-1):s.set(i,e)}),this.index=s}}}class t2 extends W{static{this.tagName="me:deltaEDown"}static{this.s_bathGas="bathGas"}constructor(e,t){super(e,t2.tagName,t)}getBathGas(){return this.attributes.get(t2.s_bathGas)}setBathGas(e){this.attributes.set(t2.s_bathGas,e)}}class t3 extends t2{static{this.tagName="me:deltaEDown2"}constructor(e,t){super(e,t)}}class t5 extends W{static{this.tagName="me:deltaEDownTExponent"}static{this.s_referenceTemperature="referenceTemperature"}constructor(e,t){super(e,t5.tagName,t)}getReferenceTemperature(){return parseFloat(l(this.attributes,t5.s_referenceTemperature))}setReferenceTemperature(e){this.attributes.set(t5.s_referenceTemperature,e.toString())}}class t4 extends W{static{this.tagName="me:deltaEDownLinEne"}constructor(e,t){super(e,t4.tagName,t)}}class t6 extends j{static{this.tagName="me:energyTransferModel"}constructor(e,t){super(e,t6.tagName),void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e)})}getDeltaEDowns(){let e=[];return this.nodes.forEach(t=>{t instanceof t2&&e.push(t)}),e}setDeltaEDowns(e){this.nodes.clear(),e.forEach(e=>{this.nodes.set(this.nodes.size,e)})}getDeltaEDown(e){if(e<0||e>=this.nodes.size)throw Error("index out of range");return this.nodes.get(e)}setDeltaEDown(e,t){this.nodes.set(e,t)}addDeltaEDown(e){return this.nodes.set(this.nodes.size,e),this.nodes.size-1}}class t8 extends H{static{this.tagName="me:DOSCMethod"}static{this.xsi_typeOptions=["ClassicalRotors","QMRotors","me:ClassicalRotors","me:QMRotors"]}static{this.s_xsi_type="xsi:type"}constructor(e){if(super(e,t8.tagName),void 0==e.get(t8.s_xsi_type)){let t=e.get("name");if(void 0==t)throw Error("Neither xsi:type or name are defined.");e.set(t8.s_xsi_type,t)}}getXsiType(){return this.attributes.get(t8.s_xsi_type)}setXsiType(e){this.attributes.set(t8.s_xsi_type,e)}}class t9 extends q{static{this.tagName="me:bondRef"}constructor(e,t){super(e,t9.tagName,t)}}class t7 extends H{static{this.tagName="me:PotentialPoint"}static{this.s_angle="angle"}static{this.s_potential="potential"}constructor(e){super(e,t7.tagName)}getAngle(){return this.attributes.get(t7.s_angle)}setAngle(e){this.attributes.set(t7.s_angle,e.toString())}getPotential(){return this.attributes.get(t7.s_potential)}setPotential(e){this.attributes.set(t7.s_potential,e.toString())}}class se extends H{static{this.tagName="me:DistributionCalcMethod"}static{this.s_default="default"}static{this.s_name="name"}constructor(e){super(e,se.tagName)}getDefault(){return this.attributes.get(se.s_default)}getName(){return this.attributes.get(se.s_name)}}class st extends H{static{this.tagName="me:thermoValue"}static{this.s_T="T"}static{this.s_H="H"}static{this.s_S="S"}static{this.s_G="G"}static{this.s_Cp="Cp"}constructor(e){super(e,tz.tagName)}getT(){return new(o(d))(this.attributes.get(st.s_T))}getH(){return new(o(d))(this.attributes.get(st.s_H))}getS(){return new(o(d))(this.attributes.get(st.s_S))}getG(){return new(o(d))(this.attributes.get(st.s_G))}getCp(){return new(o(d))(this.attributes.get(st.s_Cp))}toStringArray(){return[this.getT().toString(),this.getH().toString(),this.getS().toString(),this.getG().toString(),this.getCp().toString()]}toCSV(){return this.toStringArray().join(",")}}class ss extends j{static{this.tagName="me:thermoTable"}static{this.s_unitsT="unitsT"}static{this.s_unitsH="unitsH"}static{this.s_unitsS="unitsS"}static{this.s_unitsG="unitsG"}static{this.s_unitsCp="unitsCp"}constructor(e,t){super(e,ss.tagName),void 0!=t?(t.forEach(e=>{this.addNode(e)}),this.tvs=t):this.tvs=[]}get(e){return this.tvs[e]}set(e,t){this.nodes.set(e,t),this.tvs[e]=t}add(e){return this.addNode(e),this.tvs.push(e),this.nodes.size-1}remove(e){this.nodes.delete(e),this.tvs.splice(e,1)}init(e){this.clear(),e.forEach(e=>{this.addNode(e),this.tvs.push(e)})}clear(){this.nodes.clear(),this.tvs=[]}getHeader(){return["T ("+this.attributes.get(ss.s_unitsT)+")","H(T)-H(0) ("+this.attributes.get(ss.s_unitsH)+")","S(T) ("+this.attributes.get(ss.s_unitsS)+")","G(T) ("+this.attributes.get(ss.s_unitsG)+")","Cp(T) ("+this.attributes.get(ss.s_unitsCp)+")"]}toCSV(){let e=this.getHeader().join(",")+"\n";return this.tvs.forEach(t=>{e+=t.toCSV()+"\n"}),e}}class si extends j{static{this.tagName="me:HinderedRotorPotential"}static{this.formats=new Set(["numerical","analytical"])}static{this.s_format="format"}static{this.s_units="units"}static{this.s_expansionSize="expansionSize"}static{this.s_useSineTerms="useSineTerms"}constructor(e,t){super(e,si.tagName);let s=e.get(si.s_format);if(void 0==s)throw Error(si.s_format+" is undefined!");this.format=s;let i=e.get(si.s_units);if(void 0==i)throw Error(si.s_units+" is undefined!");this.units=i,void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e)}),void 0==e.get(si.s_useSineTerms)?this.useSineTerms=!1:this.useSineTerms=!0}getFormat(){return this.format}setFormat(e){this.format=e,this.attributes.set(si.s_format,e)}getUnits(){return this.units}setUnits(e){this.units=e,this.attributes.set(si.s_units,e)}getExpansionSize(){return this.attributes.get(si.s_expansionSize)}setExpansionSize(e){console.log(e.toString()),this.attributes.set(si.s_expansionSize,e.toString())}getUseSineTerms(){return this.useSineTerms}setUseSineTerms(e){this.useSineTerms=e,this.attributes.set(si.s_useSineTerms,e?"yes":"no")}getPotentialPoint(e){return this.nodes.get(e)}setPotentialPoint(e,t){this.nodes.set(e,t)}setPotentialPoints(e){this.nodes.clear(),e.forEach(e=>{this.nodes.set(this.nodes.size,e)})}addPotentialPoint(e){return this.nodes.set(this.nodes.size,e),this.nodes.size-1}removePotentialPoint(e){this.nodes.delete(e)}}class sn extends U{static{this.tagName="me:periodicity"}constructor(e,t){super(e,sn.tagName,t)}}class sa extends j{static{this.tagName="me:ExtraDOSCMethod"}constructor(e,t,s,i){super(e,sa.tagName),this.index=new Map,t&&(this.nodes.set(this.nodes.size,t),this.index.set(t9.tagName,this.nodes.size-1)),s&&(this.nodes.set(this.nodes.size,s),this.index.set(si.tagName,this.nodes.size-1)),i&&(this.nodes.set(this.nodes.size,i),this.index.set(sn.tagName,this.nodes.size-1))}getBondRef(){let e=this.index.get(t9.tagName);if(void 0!=e)return this.nodes.get(e)}setBondRef(e){let t=this.index.get(t9.tagName);void 0!=t?this.nodes.set(t,e):(this.nodes.set(this.nodes.size,e),this.index.set(t9.tagName,this.nodes.size-1))}getHinderedRotorPotential(){let e=this.index.get(si.tagName);if(void 0!=e)return this.nodes.get(e)}setHinderedRotorPotential(e){let t=this.index.get(si.tagName);void 0!=t?this.nodes.set(t,e):(this.nodes.set(this.nodes.size,e),this.index.set(si.tagName,this.nodes.size-1))}getPeriodicity(){let e=this.index.get(sn.tagName);if(void 0!=e)return this.nodes.get(e)}setPeriodicity(e){let t=this.index.get(sn.tagName);void 0!=t?this.nodes.set(t,e):(this.nodes.set(this.nodes.size,e),this.index.set(sn.tagName,this.nodes.size-1))}}class so extends U{static{this.tagName="me:reservoirSize"}constructor(e,t){super(e,so.tagName,t)}}class sd extends U{static{this.tagName="me:qtot"}constructor(e,t){super(e,sd.tagName,t)}}class sl extends U{static{this.tagName="me:sumc"}constructor(e,t){super(e,sl.tagName,t)}}class sr extends U{static{this.tagName="me:sumg"}constructor(e,t){super(e,sr.tagName,t)}}class sg extends j{static{this.tagName="me:densityOfStates"}static{this.header=[tR.tagName,sd.tagName,sl.tagName,sr.tagName]}constructor(e){super(e,sg.tagName),this.index=new Map}getT(){let e=this.index.get(tR.tagName);if(void 0!=e)return this.nodes.get(e)}setT(e){let t=this.index.get(e.tagName);void 0!=t?this.nodes.set(t,e):(this.nodes.set(this.nodes.size,e),this.index.set(e.tagName,this.nodes.size-1))}getQtot(){let e=this.index.get(sd.tagName);if(void 0!=e)return this.nodes.get(e)}setQtot(e){let t=this.index.get(e.tagName);void 0!=t?this.nodes.set(t,e):(this.nodes.set(this.nodes.size,e),this.index.set(e.tagName,this.nodes.size-1))}getSumc(){let e=this.index.get(sl.tagName);if(void 0!=e)return this.nodes.get(e)}setSumc(e){let t=this.index.get(e.tagName);void 0!=t?this.nodes.set(t,e):(this.nodes.set(this.nodes.size,e),this.index.set(e.tagName,this.nodes.size-1))}getSumg(){let e=this.index.get(sr.tagName);if(void 0!=e)return this.nodes.get(e)}setSumg(e){let t=this.index.get(e.tagName);void 0!=t?this.nodes.set(t,e):(this.nodes.set(this.nodes.size,e),this.index.set(e.tagName,this.nodes.size-1))}toStringArray(){return[this.getT().value.toString(),this.getQtot().value.toString(),this.getSumc().value.toString(),this.getSumg().value.toString()]}}class sh extends j{static{this.tagName="me:densityOfStatesList"}constructor(e,t,s){if(super(e,sh.tagName),this.index=new Map,this.dosIndex=new Map,t&&(this.nodes.set(this.nodes.size,t),this.index.set(tT.tagName,this.nodes.size-1)),s){let e=0;s.forEach(t=>{this.dosIndex.set(e,this.nodes.size),this.nodes.set(this.nodes.size,t),e++})}}getDescription(){let e=this.index.get(tT.tagName);if(void 0!=e)return this.nodes.get(e)}setDescription(e){let t=this.index.get(tT.tagName);void 0!=t?this.nodes.set(t,e):(this.nodes.set(this.nodes.size,e),this.index.set(tT.tagName,this.nodes.size-1))}getDensityOfStates(e){let t=this.dosIndex.get(e);if(void 0!=t)return this.nodes.get(t)}setDensityOfStates(e,t){let s=this.dosIndex.get(e);void 0!=s?this.nodes.set(s,t):(this.nodes.set(this.nodes.size,t),this.dosIndex.set(e,this.nodes.size-1))}addDensityOfStates(e){this.nodes.set(this.nodes.size,e);let t=this.nodes.size-1;return this.dosIndex.set(t,this.nodes.size-1),t}removeDensityOfStates(e){let t=this.dosIndex.get(e);void 0!=t&&this.nodes.delete(t)}toCSV(){let e="",t=sg.header;return e+=t.join(",")+"\n",this.nodes.forEach(t=>{e+=t.toStringArray().join(",")+"\n"}),e}}class sm extends j{static{this.tagName="molecule"}static{this.s_id="id"}static{this.s_description="description"}static{this.s_active="active"}constructor(e,t,s,i,n,a,o,d,l,r,g,h){super(e,sm.tagName),this.label=this.getID(),this.index=new Map,this.edmindex=new Map,this.id=t;let m=0;s&&(this.nodes.set(m,s),this.index.set(tu.tagName,m),m++),i&&(this.nodes.set(m,i),this.index.set(t_.tagName,m),m++),n&&(this.nodes.set(m,n),this.index.set(tI.tagName,m),m++),a&&(this.nodes.set(m,a),this.index.set(t1.tagName,m),m++),o&&(this.nodes.set(m,o),this.index.set(t6.tagName,m),m++),d&&(this.nodes.set(m,d),this.index.set(t8.tagName,m),m++),l&&(this.nodes.set(m,l),this.index.set(se.tagName,m),m++),r&&r.forEach(e=>{this.nodes.set(m,e),this.edmindex.set(m,m),m++}),g&&(this.nodes.set(m,g),this.index.set(so.tagName,m),m++),h&&(this.nodes.set(m,h),this.index.set(ss.tagName,m))}getLabel(){return this.getID()}getID(){return this.attributes.get(sm.s_id)}setID(e){this.attributes.set(sm.s_id,e)}getDescription(){let e=this.attributes.get(sm.s_description);return void 0!=e?e:this.getID()}setDescription(e){this.attributes.set(sm.s_description,e)}getActive(){let e=this.attributes.get(sm.s_active);if(void 0!=e)return"true"==e}setActive(e){this.attributes.set(sm.s_active,e.toString())}getMetadataList(){let e=this.index.get(tu.tagName);if(void 0!=e)return this.nodes.get(e)}setMetadataList(e){let t=this.index.get(tu.tagName);void 0==t?(this.index.set(tu.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getPropertyList(){let e=this.index.get(t1.tagName);if(void 0!=e)return this.nodes.get(e)}setPropertyList(e){let t=this.index.get(t1.tagName);void 0==t?(this.index.set(t1.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getProperty(e){let t=this.getPropertyList();if(void 0!=t)return t.getProperty(e)}setProperty(e){this.getPropertyList().setProperty(e)}getAtom(e){return this.getAtoms().getAtom(e)}getAtoms(){let e=this.index.get(t_.tagName);return this.nodes.get(e)}setAtoms(e){this.index.set(t_.tagName,this.nodes.size),this.nodes.set(this.nodes.size,e)}getBond(e){return this.getBonds().getBond(e)}getBonds(){let e=this.index.get(tI.tagName);return this.nodes.get(e)}setBonds(e){this.index.set(tI.tagName,this.nodes.size),this.nodes.set(this.nodes.size,e)}getEnergyTransferModel(){let e=this.index.get(t6.tagName);if(void 0!=e)return this.nodes.get(e)}setEnergyTransferModel(e){let t=this.index.get(t6.tagName);void 0==t?(this.index.set(t6.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getDOSCMethod(){let e=this.index.get(t8.tagName);if(void 0!=e)return this.nodes.get(e)}setDOSCMethod(e){let t=this.index.get(t8.tagName);void 0==t?(this.index.set(t8.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getDistributionCalcMethod(){let e=this.index.get(se.tagName);if(void 0!=e)return this.nodes.get(e)}setDistributionCalcMethod(e){let t=this.index.get(se.tagName);void 0==t?(this.index.set(se.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getExtraDOSCMethod(e){let t=this.edmindex.get(e);if(void 0!=t)return this.nodes.get(t)}setExtraDOSCMethod(e,t){let s=this.edmindex.get(e);void 0==s?(this.edmindex.set(e,this.nodes.size),this.nodes.set(this.nodes.size,t)):this.nodes.set(s,t)}getReservoirSize(){let e=this.index.get(so.tagName);if(void 0!=e)return this.nodes.get(e)}setReservoirSize(e){let t=this.index.get(so.tagName);void 0==t?(this.index.set(so.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getDensityOfStatesList(){let e=this.index.get(sh.tagName);if(void 0!=e)return this.nodes.get(e)}setDensityOfStatesList(e){let t=this.index.get(sh.tagName);void 0==t?(this.index.set(sh.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getThermoTable(){let e=this.index.get(ss.tagName);if(void 0!=e)return this.nodes.get(e)}setThermoTable(e){let t=this.index.get(ss.tagName);void 0==t?(this.index.set(ss.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getEnergy(){let e;try{e=this.getProperty(tk.dictRef)}catch(t){try{e=this.getProperty(tO.dictRef)}catch(t){try{e=this.getProperty(tH.dictRef)}catch(t){try{e=this.getProperty(tF.dictRef)}catch(t){e=void 0}}}}return void 0==e?o(d)(0):e.getProperty().value}}class sc extends H{static{this.tagName="molecule"}constructor(e){super(e,sc.tagName),this.ref=e.get("ref"),this.role=e.get("role")}getRef(){return this.ref}setRef(e){this.ref=e,this.attributes.set("ref",e)}getRole(){return this.role}setRole(e){this.role=e,this.attributes.set("role",e)}}class su extends j{static{this.tagName="reactant"}static{this.roleOptions=["deficientReactant","excessReactant","modelled"]}constructor(e,t){super(e,su.tagName),this.addNode(t)}getMolecule(){return this.nodes.get(0)}}class sN extends j{static{this.tagName="product"}static{this.roleOptions=["modelled","sink"]}constructor(e,t){super(e,sN.tagName),this.addNode(t)}getMolecule(){return this.nodes.get(0)}}class sp extends j{static{this.tagName="me:transitionState"}constructor(e,t){super(e,sp.tagName),this.addNode(t)}getMolecule(){return this.nodes.get(0)}}class sf extends U{static{this.tagName="me:preExponential"}constructor(e,t){super(e,sf.tagName,t)}}class sx extends U{static{this.tagName="me:activationEnergy"}constructor(e,t){super(e,sx.tagName,t)}}class sv extends U{static{this.tagName="me:TInfinity"}constructor(e,t){super(e,sv.tagName,t)}}class sE extends U{static{this.tagName="me:nInfinity"}constructor(e,t){super(e,sE.tagName,t)}}class sw extends j{static{this.tagName="me:MCRCMethod"}constructor(e){super(e,sw.tagName)}}class sy extends sw{static{this.xsiType="me:MesmerILT"}static{this.xsiType2="MesmerILT"}constructor(e,t,s,i,n){super(e),this.index=new Map,void 0!=t&&(this.index.set(sf.tagName,this.index.size),this.addNode(t)),void 0!=s&&(this.index.set(sx.tagName,this.index.size),this.addNode(s)),void 0!=i&&(this.index.set(sv.tagName,this.index.size),this.addNode(i)),void 0!=n&&(this.index.set(sE.tagName,this.index.size),this.addNode(n))}getPreExponential(){let e=this.index.get(sf.tagName);if(void 0!=e)return this.nodes.get(e)}setPreExponential(e){let t=this.index.get(sf.tagName);void 0==t?(this.index.set(sf.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getActivationEnergy(){let e=this.index.get(sx.tagName);if(void 0!=e)return this.nodes.get(e)}setActivationEnergy(e){let t=this.index.get(sx.tagName);void 0==t?(this.index.set(sx.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getTInfinity(){let e=this.index.get(sv.tagName);if(void 0!=e)return this.nodes.get(e)}setTInfinity(e){let t=this.index.get(sv.tagName);void 0==t?(this.index.set(sv.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getNInfinity(){let e=this.index.get(sE.tagName);if(void 0!=e)return this.nodes.get(e)}setNInfinity(e){let t=this.index.get(sE.tagName);void 0==t?(this.index.set(sE.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}}class sb extends H{static{this.tagName="me:tunneling"}static{this.options=["Eckart","WKB"]}static{this.s_name="name"}constructor(e){super(e,sb.tagName)}getName(){return this.attributes.get(sb.s_name)}setName(e){this.attributes.set(sb.s_name,e)}}class sC extends U{static{this.tagName="me:excessReactantConc"}constructor(e,t){super(e,sC.tagName,t)}}class sM extends U{static{this.tagName="me:val"}constructor(e,t){super(e,sM.tagName,t)}}class sS extends U{static{this.tagName="me:rev"}constructor(e,t){super(e,sS.tagName,t)}}class sT extends U{static{this.tagName="me:Keq"}constructor(e,t){super(e,sT.tagName,t)}}class sR extends j{static{this.tagName="me:kinf"}constructor(e,t,s,i,n){super(e,sR.tagName),this.index=new Map,void 0!=t&&(this.index.set(tR.tagName,this.nodes.size),this.addNode(t)),void 0!=s&&(this.index.set(sM.tagName,this.nodes.size),this.addNode(s)),void 0!=i&&(this.index.set(sS.tagName,this.nodes.size),this.addNode(i)),void 0!=n&&(this.index.set(sT.tagName,this.nodes.size),this.addNode(n))}getT(){let e=this.index.get(tR.tagName);if(void 0!=e)return this.nodes.get(e)}setT(e){let t=this.index.get(tR.tagName);void 0==t?(this.index.set(tR.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getVal(){let e=this.index.get(sM.tagName);if(void 0!=e)return this.nodes.get(e)}setVal(e){let t=this.index.get(sM.tagName);void 0==t?(this.index.set(sM.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getRev(){let e=this.index.get(sS.tagName);if(void 0!=e)return this.nodes.get(e)}setRev(e){let t=this.index.get(sS.tagName);void 0==t?(this.index.set(sS.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getKeq(){let e=this.index.get(sT.tagName);if(void 0!=e)return this.nodes.get(e)}setKeq(e){let t=this.index.get(sT.tagName);void 0==t?(this.index.set(sT.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getHeader(){let e=[];return e.push("T ("+this.getT()?.attributes.get("units")+")"),e.push("kf ("+this.getVal()?.attributes.get("units")+")"),e.push("krev ("+this.getRev()?.attributes.get("units")+")"),e.push("Keq ("+this.getKeq()?.attributes.get("units")+")"),e}toStringArray(){let e=this.getT(),t=this.getVal(),s=this.getRev(),i=this.getKeq();return[e.value.toString(),t.value.toString(),s.value.toString(),i.value.toString()]}toCSV(){return this.toStringArray().join(",")}}class sz extends j{static{this.tagName="me:canonicalRateList"}constructor(e,t,s){super(e,sz.tagName),this.index=new Map,this.kinfIndex=new Map,void 0!=t&&(this.index.set(tT.tagName,this.nodes.size),this.addNode(t)),void 0!=s&&s.forEach(e=>{this.kinfIndex.set(this.nodes.size,this.nodes.size),this.addNode(e)})}getDescription(){let e=this.index.get(tT.tagName);if(void 0!=e)return this.nodes.get(e)}setDescription(e){let t=this.index.get(tT.tagName);void 0==t?(this.index.set(tT.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getKinfs(){return Array.from(this.kinfIndex.values()).map(e=>this.nodes.get(e))}addKinf(e){this.kinfIndex.set(this.kinfIndex.size,this.nodes.size),this.addNode(e)}toCSV(){let e="",t=!0;return this.getKinfs().forEach(s=>{t&&(t=!1,e+=s.getHeader().join(",")+"\n"),e+=s.toCSV()+"\n"}),e}}class s_ extends j{static{this.tagName="reaction"}static{this.s_id="id"}constructor(e,t,s,i,n,a,o,d){super(e,s_.tagName),this.index=new Map,this.reactantsIndex=new Map,this.productsIndex=new Map,this.transitionStatesIndex=new Map;let l=e.get(s_.s_id);if(void 0==l)throw Error(s_.s_id+" is undefined!");this.id=l,void 0!=t&&(t.forEach(e=>{this.reactantsIndex.set(e.getMolecule().getRef(),this.nodes.size),this.addNode(e)}),this.index.set(su.tagName,this.reactantsIndex)),void 0!=s&&(s.forEach(e=>{this.productsIndex.set(e.getMolecule().getRef(),this.nodes.size),this.addNode(e)}),this.index.set(sN.tagName,this.productsIndex)),void 0!=i&&(this.index.set(sb.tagName,this.nodes.size),this.addNode(i)),void 0!=n&&(n.forEach(e=>{this.transitionStatesIndex.set(e.getMolecule().getRef(),this.nodes.size),this.addNode(e)}),this.index.set(sp.tagName,this.transitionStatesIndex)),void 0!=a&&(this.index.set(sw.tagName,this.nodes.size),this.addNode(a)),void 0!=o&&(this.index.set(sC.tagName,this.nodes.size),this.addNode(o)),void 0!=d&&(this.index.set(sz.tagName,this.nodes.size),this.addNode(d))}addToIndex(e,t){let s=this.index.get(e);if(void 0==s)this.index.set(e,this.nodes.size);else if(s instanceof Map)s.set(t.tagName,this.nodes.size);else{let i=new Map;i.set(this.nodes.get(s).getRef(),s),i.set(t.tagName,this.nodes.size),this.index.set(e,i)}}getReactants(){let e=this.index.get(su.tagName);return void 0==e?[]:e instanceof Map?Array.from(e.values()).map(e=>this.nodes.get(e)):[this.nodes.get(e)]}setReactants(e){e.forEach(e=>{this.reactantsIndex.set(e.getMolecule().getRef(),this.nodes.size),this.addNode(e)}),this.index.set(su.tagName,this.reactantsIndex)}getReactant(e){let t=this.reactantsIndex.get(e);if(void 0==t)throw Error(`Reactant with ref ${e} not found`);return this.nodes.get(t)}addReactant(e){this.reactantsIndex.set(e.getMolecule().getRef(),this.nodes.size),this.addNode(e)}removeReactant(e){let t=this.reactantsIndex.get(e);if(void 0==t)throw Error(`Reactant with ref ${e} not found`);this.nodes.delete(t),this.reactantsIndex.delete(e)}getProducts(){let e=this.index.get(sN.tagName);return void 0==e?[]:e instanceof Map?Array.from(e.values()).map(e=>this.nodes.get(e)):[this.nodes.get(e)]}setProducts(e){e.forEach(e=>{this.productsIndex.set(e.getMolecule().getRef(),this.nodes.size),this.addNode(e)}),this.index.set(sN.tagName,this.productsIndex)}getProduct(e){let t=this.productsIndex.get(e);if(void 0==t)throw Error(`Product with ref ${e} not found`);return this.nodes.get(t)}addProduct(e){this.productsIndex.set(e.getMolecule().getRef(),this.nodes.size),this.addNode(e)}removeProduct(e){let t=this.productsIndex.get(e);if(void 0==t)throw Error(`Product with ref ${e} not found`);this.nodes.delete(t),this.productsIndex.delete(e)}getTunneling(){let e=this.index.get(sb.tagName);if(void 0!=e)return this.nodes.get(e)}setTunneling(e){let t=this.index.get(sb.tagName);if(void 0==t)this.index.set(sb.tagName,this.nodes.size),this.addNode(e);else{if(t instanceof Map)throw Error("Tunneling is a map and it is assumed there would be only 1!");this.nodes.set(t,e)}}getTransitionStates(){let e=this.index.get(sp.tagName);return void 0==e?[]:e instanceof Map?Array.from(e.values()).map(e=>this.nodes.get(e)):[this.nodes.get(e)]}setTransitionStates(e){e.forEach(e=>{this.transitionStatesIndex.set(e.getMolecule().getRef(),this.nodes.size),this.addNode(e)}),this.index.set(sp.tagName,this.transitionStatesIndex)}getTransitionState(e){let t=this.transitionStatesIndex.get(e);if(void 0==t)throw Error(`Transition state with ref ${e} not found`);return this.nodes.get(t)}addTransitionState(e){this.transitionStatesIndex.set(e.getMolecule().getRef(),this.nodes.size),this.addNode(e)}removeTransitionState(e){let t=this.transitionStatesIndex.get(e);if(void 0==t)throw Error(`Transition State with ref ${e} not found`);this.nodes.delete(t),this.transitionStatesIndex.delete(e)}getMCRCMethod(){let e=this.index.get(sw.tagName);if(void 0!=e)return this.nodes.get(e)}setMCRCMethod(e){let t=this.index.get(sw.tagName);if(void 0==t)this.index.set(sw.tagName,this.nodes.size),this.addNode(e);else{if(t instanceof Map)throw Error("MCRCMethod is a map and it is assumed there would be only 1!");this.nodes.set(t,e)}}getExcessReactantConc(){let e=this.index.get(sC.tagName);if(void 0!=e)return this.nodes.get(e)}setExcessReactantConc(e){let t=this.index.get(sC.tagName);if(void 0==t)this.index.set(sC.tagName,this.nodes.size),this.addNode(e);else{if(t instanceof Map)throw Error("ExcessReactantConc is a map and it is assumed there would be only 1!");this.nodes.set(t,e)}}getCanonicalRateList(){let e=this.index.get(sz.tagName);if(void 0!=e)return this.nodes.get(e)}setCanonicalRateList(e){let t=this.index.get(sz.tagName);if(void 0==t)this.index.set(sz.tagName,this.nodes.size),this.addNode(e);else{if(t instanceof Map)throw Error("CanonicalRateList is a map and it is assumed there would be only 1!");this.nodes.set(t,e)}}getReactantsLabel(){return this.getReactants().map(e=>e.getMolecule().getRef()).join(" + ")}getProductsLabel(){return this.getProducts().map(e=>e.getMolecule().getRef()).join(" + ")}getLabel(){return this.getReactantsLabel()+" -> "+this.getProductsLabel()}getReactantsEnergy(e,t){return Array.from(this.getReactants()).map(s=>{console.log('ref="'+s.getMolecule().getRef()+'"');let i=e(s.getMolecule().getRef(),t);if(void 0==i)throw Error(`Molecule with ref ${s.getMolecule().getRef()} not found`);return i.getEnergy()}).reduce((e,t)=>e.add(t),new(o(d))(0))}getProductsEnergy(e,t){return Array.from(this.getProducts()).map(s=>{let i=e(s.getMolecule().getRef(),t);if(void 0==i)throw Error(`Molecule with ref ${s.getMolecule().getRef()} not found`);return i.getEnergy()}).reduce((e,t)=>e.add(t),new(o(d))(0))}get(e,t){if(this.index.has(e)){let s=this.index.get(e);if(void 0!=s){if(!(s instanceof Map))return this.nodes.get(s);{let e=s.get(t);if(void 0!=e)return this.nodes.get(e)}}}}}class sL{constructor(){}readFile(){return new Promise((e,t)=>{let s=document.createElement("input");s.type="file";let i=this;s.onchange=function(){if(s.files){let n=s.files[0];n.name;let a=new FileReader,o=0,d="";a.onload=function(s){if(null==s.target){t(Error("Event target is null"));return}if(d+=s.target.result,null!=n){if(o<n.size){let e=n.slice(o,o+1048576);a.readAsText(e),o+=1048576}else{d=d.trim();let t=new DOMParser().parseFromString(d,"text/xml");e(i.parse(t))}}};let l=n.slice(o,o+1048576);a.readAsText(l),o+=1048576}},s.click()})}parse(e){let t=new Map,s=$(e,tw.tagName),i=new Set;s.childNodes.forEach(function(e){i.add(e.nodeName)});let n=s.getElementsByTagName(sm.tagName),a=n.length;console.log("Number of molecules="+a);let l=0;for(let e=0;e<a;e++){let s=Y(n[e]);if(void 0==s.get(sm.s_id))throw Error(sm.s_id+" is undefined");let i=n[e].childNodes;if(0==i.length){if(l++,void 0==s.get("ref"))throw Error("ref is undefined");continue}let a=t.size,r=new sm(s,a);t.set(a,r);let g=new Set;for(let e=0;e<i.length;e++){let t=i[e];g.has(t.nodeName)?"#text"!=t.nodeName&&console.warn("Another ChildNode with nodeName="+t.nodeName):g.add(t.nodeName)}let h=n[e].getElementsByTagName(tu.tagName);if(h.length>0){if(h.length>1)throw Error("Expecting 1 or 0 "+tu.tagName+" but finding "+h.length+"!");let e=new tu(Y(h[0]));r.setMetadataList(e);let t=h[0].getElementsByTagName(tl.tagName);for(let s=0;s<t.length;s++){let i=new tl(Y(t[s]));e.addMetadata(i)}g.delete(tu.tagName)}let m=n[e].getElementsByTagName(t_.tagName);if(m.length>1)throw Error("Expecting 1 or 0 "+t_.tagName+" but finding "+m.length+"!");if(1==m.length){let e=m[0],t=e.getElementsByTagName(tz.tagName);if(0==t.length)throw Error("Expecting 1 or more atoms in "+t_.tagName+", but finding 0!");let s=new t_(Y(e));r.setAtoms(s);for(let e=0;e<t.length;e++)s.addAtom(new tz(Y(t[e]),r));g.delete(t_.tagName)}else{let t=n[e].getElementsByTagName(tz.tagName);if(1==t.length){let e=new t_(new Map);e.addAtom(new tz(Y(t[0]),r)),r.setAtoms(e)}else if(t.length>1)throw Error("Expecting 1 "+tz.tagName+" but finding "+t.length+". Should these be in an "+t_.tagName+"?")}g.delete(tz.tagName);let c=n[e].getElementsByTagName(tI.tagName);if(c.length>0){if(c.length>1)throw Error("Expecting 1 or 0 "+tI.tagName+" but finding "+c.length+"!");let e=c[0].getElementsByTagName(tL.tagName),t=new tI(Y(c[0]));for(let s=0;s<e.length;s++)t.addBond(new tL(Y(e[s]),r));r.setBonds(t),g.delete(tI.tagName)}else{let t=n[e].getElementsByTagName(tL.tagName);if(t.length>0){if(t.length>1)throw Error("Expecting 1 "+tL.tagName+" but finding "+t.length+". Should these be in a "+tI.tagName+"?");let e=new tI(new Map);e.addBond(new tL(Y(t[0]),r)),r.setBonds(e)}}g.delete(tL.tagName);let u=n[e].getElementsByTagName(t1.tagName);if(u.length>1)throw Error("Expecting 1 or 0 "+t1.tagName+" but finding "+u.length+"!");if(1==u.length){let e=new t1(Y(u[0]));r.setPropertyList(e);let t=u[0].getElementsByTagName(tG.tagName);for(let s=0;s<t.length;s++)e.setProperty(new tG(Y(t[s])));g.delete(t1.tagName)}else{let t=new t1(new Map);r.setPropertyList(t);let s=n[e].getElementsByTagName(tG.tagName);if(1!=s.length)throw Error("Expecting 1 "+tG.tagName+" but finding "+s.length+". Should these be in a "+t1.tagName+"?");t.setProperty(new tG(Y(s[0]))),g.delete(tG.tagName)}let N=n[e].getElementsByTagName(t6.tagName);if(N.length>0){if(N.length>1)throw Error("Expecting 1 or 0 "+t6.tagName+" but finding "+N.length+"!");let e=new t6(Y(N[0]));r.setEnergyTransferModel(e),g.delete(t6.tagName)}let p=n[e].getElementsByTagName(t8.tagName);if(p.length>0){if(p.length>1)throw Error("Expecting 1 or 0 "+t8.tagName+" but finding "+p.length+"!");let e=new t8(Y(p[0]));r.setDOSCMethod(e),g.delete(t8.tagName)}let f=n[e].getElementsByTagName(se.tagName);if(f.length>0){if(f.length>1)throw Error("Expecting 1 or 0 "+se.tagName+" but finding "+f.length+"!");let e=new se(Y(f[0]));r.setDistributionCalcMethod(e),g.delete(se.tagName)}let x=n[e].getElementsByTagName(sh.tagName);if(x.length>0){if(x.length>1)throw Error("Expecting 1 or 0 "+sh.tagName+" but finding "+x.length+"!");let e=new sh(Y(x[0]));r.setDensityOfStatesList(e);let t=x[0].getElementsByTagName(sg.tagName),s=x[0].getElementsByTagName(tT.tagName);if(s.length>0){if(s.length>1)throw Error("Expecting 1 or 0 "+tT.tagName+" but finding "+s.length+"!");let t=new tT(Y(s[0]),k(G(s[0])));e.setDescription(t)}if(0==t.length)throw Error("Expecting 1 or more "+sg.tagName+" but finding 0!");for(let s=0;s<t.length;s++){let i=new sg(Y(t[s]));e.addDensityOfStates(i);let n=t[s].getElementsByTagName(tR.tagName);if(1!=n.length)throw Error("Expecting 1 "+tR.tagName+" but finding "+n.length+"!");{let e=new tR(Y(n[0]),new(o(d))(k(G(n[0]))));i.setT(e)}let a=t[s].getElementsByTagName(sd.tagName);if(1!=a.length)throw Error("Expecting 1 "+sd.tagName+" but finding "+a.length+"!");{let e=new sd(Y(a[0]),new(o(d))(k(G(a[0]))));i.setQtot(e)}let l=t[s].getElementsByTagName(sl.tagName);if(1!=l.length)throw Error("Expecting 1 "+sl.tagName+" but finding "+l.length+"!");{let e=new sl(Y(l[0]),new(o(d))(k(G(l[0]))));i.setSumc(e)}let r=t[s].getElementsByTagName(sr.tagName);if(1!=r.length)throw Error("Expecting 1 "+sr.tagName+" but finding "+r.length+"!");{let e=new sr(Y(r[0]),new(o(d))(k(G(r[0]))));i.setSumg(e)}}g.delete(sh.tagName)}g.delete("#text"),g.size>0&&(console.warn("There are additional unexpected moleculeTagNames:"),g.forEach(e=>console.warn(e)))}return console.log("Number of molecules="+t.size),console.log("Number of alias molecules="+l.toString()),t}}let sI="https://github.com/MESMER-kinetics",sP=sI+"/mxg",sB=document.createElement("a");sB.href=sP,sB.textContent=sP;let sD=sP+"/tree/main/data/examples",sA=document.createElement("a");sA.href=sD,sA.textContent=sD;let sG=sI+"/MESMER-code",sk=document.createElement("a");sk.href=sG,sk.textContent=sG;let sO=document.createElement("a");sO.href="https://epsrc.ukri.org/",sO.textContent="The UK Engineering and Physical Sciences Research Council (EPSRC)";let sF=document.createElement("a");sF.href="https://www.leeds.ac.uk/",sF.textContent="The University of Leeds";let sH="https://github.com/3dmol/3Dmol.js",sq=document.createElement("a");sq.href=sH,sq.textContent=sH;let sU=document.createElement("a");sU.href="http://doi.org/10.1093/bioinformatics/btu829",sU.textContent="doi:10.1093/bioinformatics/btu829";let sV="https://mikemcl.github.io/big.js/",sj=document.createElement("a");function sX(e,t,s,i,n,a,o,d,l,r,g){let h=i+(a-i)/2;s$(e,g,d,t,h-sW(e,g,d)/2,o+l),s$(e,r,d,t,h-sW(e,r,d)/2,o+3*l),sY(e,t,s,i,n,a,o)}function sY(e,t,s,i,n,a,o){e.beginPath(),e.strokeStyle=t,e.lineWidth=s,e.moveTo(i,n),e.lineTo(a,o),e.stroke()}function s$(e,t,s,i,n,a){e.save(),e.translate(n,a),e.scale(1,-1),e.font=s,e.fillStyle=i,e.fillText(t,0,0),e.restore()}function sW(e,t,s){return e.font=s,e.measureText(t).width}sj.href=sV,sj.textContent=sV,o(d).PE=7;let sK={marginLeft:"0px",marginTop:"1px",marginBottom:"1px",marginRight:"0px"},sZ={marginLeft:"25px",marginTop:"1px",marginBottom:"1px",marginRight:"0px"},sQ={marginLeft:"1px",marginTop:"1px",marginBottom:"1px",marginRight:"1px"};const sJ=" ✓",s0=" ✗",s1="Add ＋",s2="container",s3="description",s5="input",s4="optionOn",s6="optionOff",s8="save",s9="Select an option (use keys to cycle through options)...",s7="table",ie="undefined",it="units",is=new Set,ii=new Set;function ia(...e){let t=r(...e);if(is.has(t))throw Error(t+" already exists!");return is.add(t),t}function io(...e){let t=ia(...e);return ii.add(t),t}function id(e){let t=document.getElementById(e);null!=t&&t.remove(),ii.delete(e),is.delete(e)}const il=ia("menu"),ir=ia("title"),ig=ia("molecules"),ih=ia("reactions"),im=ia("reactionsDiagram"),ic=ia("conditions"),iu=ia("modelParameters"),iN=ia("control"),ip=ia("metadata"),ix=ia("analysis"),iv=ia("xml");ia("welcome");const iE=new(o(d))(0);class iw{addID(e,...t){let s=io(e,...t);return this.ids.has(e)||this.ids.set(e,new Set),this.ids.get(e)?.add(s),s}removeID(e){ii.delete(e),is.delete(e)}removeIDs(e){this.ids.get(e).forEach(e=>{console.log("remove id "+e),ii.delete(e),is.delete(e)}),this.ids.delete(e)}constructor(){this.ids=new Map}}let iy=new iw,ib=new iw,iC=new iw,iM=new class{constructor(){this.tagName="defaults",this.values=new Map,this.attributess=new Map}readFile(){let e=document.createElement("input");e.type="file";let t=this;e.onchange=function(){if(e.files){for(let t=0;t<e.files.length;t++)console.log("inputElement.files["+t+"]="+e.files[t]);let s=e.files[0];console.log(s.name),s.name;let i=new FileReader,n=0,a="";i.onload=function(e){if(null==e.target)throw Error("Event target is null");if(a+=e.target.result,null!=s){if(n<s.size){let e=s.slice(n,n+1048576);i.readAsText(e),n+=1048576}else{a=a.trim();let e=new DOMParser().parseFromString(a,"text/xml");t.parse(e)}}};let o=s.slice(n,n+1048576);i.readAsText(o),n+=1048576}},e.click()}parse(e){let t=$(e,this.tagName);console.log("Default attributes: "+g(Y(t)));let s=t.children;console.log("children.length="+s.length);for(let e=0;e<s.length;e++){let t=s[e],i=t.tagName;console.log("tagName="+i);let n=Y(t);if(this.attributess.set(i,n),console.log("Attributes: "+g(n)),"property"==i){let e=t.getAttribute("dictRef");try{let s=$(t,"scalar").innerHTML;null!=s?(console.log("v="+s),this.values.set(e,s)):console.log("v is null")}catch(e){console.log("Error: "+e)}}else{let e=t.innerHTML;null!=e?(console.log("v="+e),this.values.set(i,e)):console.log("v is null")}}console.log("values: "+g(this.values)),this.attributess.forEach((e,t)=>{console.log("key="+t+" value="+g(e))})}},iS=new Map;function iT(e,t){let s=e.getID();for(let[i,n]of t)if(s==n.getID()){s+=" "+n.id.toString(),e.label=s;break}t.set(e.id,e)}let iR=new Map;function iz(e){let t=new Set;return e.forEach((e,s)=>{let i=e.getID();t.has(i)?t.add(i+"-"+s.toString()):t.add(i)}),t}function i_(e,t){for(let[s,i]of t)if(i.label==e)return i;return null}const iL="Reactions Diagram",iI=io(iL),iP=io(iI,"Canvas");let iB="1em SensSerif";function iD(e,t){let i=new tE(t,e);s.setTitle(i);let n=document.getElementById(ir),a=io("titleDiv");id(a);let o=w("text",io(a,s5),sQ,sK,e=>{let t=e.target;i.value=t.value,console.log(i.tagName+" changed to "+i.value),M(t)},e,tE.tagName);o.id=a,n.appendChild(o)}function iA(){null==a?nA(document.getElementById(iP),t,iB,4,2):nA(a.document.getElementById(iP),t,iB,4,2)}function iG(e){let t=_(s1,void 0,sZ);return e.appendChild(t),t.addEventListener("click",()=>{let s="Kr",i=new sm(new Map,s);s=iO(s,i,iR),iT(i,iR),i.setAtoms(new t_(new Map)),i.setBonds(new tI(new Map));let n=io(sm.tagName,s),a=L(n),o=v(io(n,s2),e,t,a,s,sQ,sZ);iY(ea.tagName,s),iF(i,o.querySelector(f),a,sZ),a.appendChild(iH(io(n,s3),i.getDescription.bind(i),i.setDescription.bind(i),sQ,sZ));let d=io(n,t_.tagName),l=L(d);v(io(d,s2),a,null,l,t_.tagName,sQ,sZ),l.appendChild(iU(i,l,tz.tagName,sQ,sZ));let r=io(n,tI.tagName),g=L(r);v(io(r,s2),a,null,g,tI.tagName,sQ,sZ),g.appendChild(i$(i,g,tL.tagName,sQ,sZ)),i3(i,a,sQ,sZ);let h=io(n,t1.tagName),m=L(h);v(io(h,s2),a,null,m,t1.tagName,sQ,sZ)}),t}function ik(e,t){let s=_("Add from library ＋",void 0,sQ);return e.appendChild(s),s.addEventListener("click",()=>{let s=r(sm.tagName,"div");id(s);let i=L(io(s),sZ),n=Array.from(iz(iS));if(0==n.length){alert("There are no additional molecules to add, please load data...");return}console.log("options.length="+n.length),iK(n,!0);let a=r(s,x);id(a);let o=R(n,"Select molecule",s9,io(a),sQ);o.classList.add(sm.tagName),i.appendChild(o),e.insertBefore(i,t),nI(n,o),o.addEventListener("change",s=>{let n=s.target,a=i_(n.options[n.selectedIndex].value,iS),o=a.getID();o=iO(o,a,iR),iR.set(o,a);let d=io(sm.tagName,iR.size),l=L(d),r=v(io(d,s2),e,t,l,a.getLabel(),sQ,sZ);iY(ea.tagName,a.getID()),iF(a,r.querySelector(f),l,sZ),l.appendChild(iH(io(d,s3),a.getDescription.bind(a),a.setDescription.bind(a),sQ,sZ));let g=io(d,tu.tagName),h=L(g,sZ);v(io(g,s2),l,null,h,tu.tagName,sQ,sZ);let m=a.getMetadataList();void 0!=m&&m.getMetadata().forEach(e=>{let t=L();h.appendChild(t),t.appendChild(P(e.getLabelText(),sQ))});let c=io(d,t_.tagName),u=L(c);v(io(c,s2),l,null,u,t_.tagName,sQ,sZ);let N=a.getAtoms();void 0!=N&&N.atoms.forEach(e=>{u.appendChild(iV(a,c,a.getAtoms(),e,sQ,sZ))}),u.appendChild(iU(a,u,tz.tagName,sQ,sZ));let p=io(d,tI.tagName),x=L(p);v(io(p,s2),l,null,x,tI.tagName,sQ,sZ),void 0!=a.getBonds()&&a.getBonds().bonds.forEach(e=>{if(void 0==N)throw Error("Atoms are not defined for molecule "+a.getLabel());x.appendChild(iW(a,p,N.atoms,a.getBonds(),e,sQ,sZ))}),x.appendChild(i$(a,x,tL.tagName,sQ,sZ)),i3(a,l,sQ,sZ);let E=io(d,t1.tagName),w=L(E);v(io(E,s2),l,null,w,t1.tagName,sQ,sZ),i.remove()})}),s}function iO(e,t,s){for(;;){let i=prompt("Please enter a name for the molecule",e);if(null==i)alert("The molecule ID cannot be null.");else{if(!s.has(i))return e=i,t.setID(e),e;alert("The molecule ID "+e+" is already in use.")}}}function iF(e,t,s,i){let n="✎ Edit id",a=io(s.id,n,f),o=_(n,a,i);s.appendChild(o),o.addEventListener("click",()=>{let s=prompt("Please edit the molecule ID:",e.getID());null==s&&(s=""),iX(ea.tagName,e.getID()),e.setID(s),iY(ea.tagName,e.getID()),t.textContent=e.getLabel()+" ▲"})}function iH(e,t,s,i,n){let a=I(void 0,n),o=s3+sJ,d=s3+s0,l=_(d,io(e,f),i);a.appendChild(l),l.classList.add(s4),l.classList.add(s6);let r=io(e,s3,s5),g=t();return void 0==g?(l.textContent=d,l.classList.toggle(s4)):(iq(a,r,g,s,i),l.textContent=o,l.classList.toggle(s6)),l.addEventListener("click",e=>{null==document.getElementById(r)?(iq(a,r,g,s,i),l.textContent=o):(document.getElementById(r)?.remove(),console.log("Removed "+r),l.textContent=d),l.classList.toggle(s4),l.classList.toggle(s6)}),a}function iq(e,t,s,i,n){let a;a=void 0==s?"":s;let o=y("text",t,n);o.addEventListener("change",e=>{let n=e.target;i(n.value),console.log(t+" changed from "+s+" to "+n.value),M(n)}),o.value=a,M(o),e.appendChild(o)}function iU(e,t,s,i,n){let a=_(s1,io(t.id,"Add"+s+"Button"),n);return a.addEventListener("click",()=>{let s=new tz(new Map,e);t.insertBefore(iV(e,t.id,e.getAtoms(),s,i,n),a)}),a}function iV(e,t,s,i,n,a){let o,d=s.addAtom(i,i.getID()),l=I(io(t,d),a);l.appendChild(P(d,n));let r=new Set;return function(e,t,s,i,n){let a=e.getElementType(),o=tS.elementTypes;void 0==a&&(a=s9,iK(o,i));let d=io(t.id,tz.s_elementType);s.add(d);let l=z(tz.s_elementType,o,tz.s_elementType,a,d,n,n),r=l.querySelector("select");r.addEventListener("change",t=>{let s=t.target;e.setElementType(s.value),S(s)}),r.value=a,S(r),nI(o,r),t.appendChild(l)}(i,l,r,!0,n),o=io(l.id,tz.s_x3),r.add(o),l.appendChild(iZ(o,r,tz.s_x3,i.getX3.bind(i),i.setX3.bind(i),i.removeX3,n,n)),o=io(l.id,tz.s_y3),r.add(o),l.appendChild(iZ(o,r,tz.s_y3,i.getY3.bind(i),i.setY3.bind(i),i.removeY3,n,n)),o=io(l.id,tz.s_z3),r.add(o),l.appendChild(iZ(o,r,tz.s_z3,i.getZ3.bind(i),i.setZ3.bind(i),i.removeZ3,n,n)),i0(l,n,ij,e,d,r),iY(tL.s_atomRefs2,d),l}function ij(e,t,s){e.getAtoms().removeAtom(t),s.forEach(e=>{console.log("Removing "+e),id(e)}),iX(tL.s_atomRefs2,t),e.getBonds().bonds.forEach(t=>{let s=t.getAtomRefs2().split(" ");if(s[0]==s[1]){let s=t.getID();e.getBonds().removeBond(s),iX(tL.tagName,s);let i=r(sm.tagName,e.id,tI.tagName,s),n=document.getElementById(i);if(null==n)throw Error("Bond div with id "+i+" not found.");n.remove()}})}function iX(e,t){let s=document.getElementsByClassName(e);for(let e=0;e<s.length;e++)if(s[e]instanceof HTMLSelectElement){let i=s[e].options,n=s[e].value;Array.from(i).forEach(i=>{if(i.value==t&&(i.remove(),n==t)){let t=new Event("change");s[e].dispatchEvent(t)}})}}function iY(e,t){let s=document.getElementsByClassName(e);console.log("n elements with className "+e+"="+s.length);for(let e=0;e<s.length;e++){let i=s[e];if(s[e]instanceof HTMLSelectElement){let e=document.createElement("option");e.value=t,e.text=t,i.add(e)}}}function i$(e,t,s,i,n){let a=_(s1,io(t.id,s,f),n);return a.addEventListener("click",()=>{let s=e.getAtoms().atoms;if(s.size<2){alert("There must be at least 2 atoms to create a bond.");return}let o=new Map,d=Array.from(s.keys()).slice(0,2).join(" ");o.set(tL.s_atomRefs2,d);let l=new tL(o,e);t.insertBefore(iW(e,t.id,s,e.getBonds(),l,i,n),a)}),t.appendChild(a),a}function iW(e,t,s,i,n,a,o){let d,l,g,h,m,c,u,N,p,f=i.addBond(n,n.getID()),x=I(r(t,f),o);return x.appendChild(P(f,a)),d=r(x.id,tL.s_atomRefs2),l=n.getAtomRefs2().split(" "),g=Array.from(e.getAtoms().atoms.keys()),h=r(d,0),(c=(m=z(tL.s_atomRefs2+"[0]",g,tz.tagName,l[0],h,a,a)).querySelector("select")).classList.add(tL.s_atomRefs2),c.addEventListener("change",e=>{let t=e.target,s=t.value+" "+l[1];console.log(tL.s_atomRefs2+" changed to "+s),n.setAtomRefs2(s),S(t)}),c.value=l[0],S(c),x.appendChild(m),u=r(d,1),(p=(N=z(tL.s_atomRefs2+"[1]",g,tz.tagName,l[1],u,a,a)).querySelector("select")).classList.add(tL.s_atomRefs2),p.addEventListener("change",e=>{let t=e.target,s=l[0]+" "+t.value;console.log(tL.s_atomRefs2+" changed to "+s),n.setAtomRefs2(s),S(t)}),p.value=l[1],S(p),x.appendChild(N),function(e,t,s){let i=r(e.id,tL.s_order),n=I(void 0,s);e.appendChild(n);let a=tL.s_order+sJ,o=tL.s_order+s0,d=_(o,void 0,s);n.appendChild(d),d.classList.add(s4),d.classList.add(s6);let l=t.getOrder();void 0==l?(d.textContent=o,d.classList.toggle(s4)):(i2(n,t,i,l,s),d.textContent=a,d.classList.toggle(s6)),d.addEventListener("click",e=>{null==document.getElementById(i)?(void 0==l&&(l=1),i2(n,t,i,l,s),d.textContent=a):(document.getElementById(i)?.remove(),console.log("Removed "+i),d.textContent=o),d.classList.toggle(s4),d.classList.toggle(s6)})}(x,n,a),Array.from(s.keys()).forEach(e=>{x.classList.add(e)}),i0(x,a,t=>e.getBonds().removeBond(t),f),iY(tL.tagName,f),x}function iK(e,t){if(t)e.push(s9);else{let t=e.indexOf(s9);t>-1&&e.splice(t,1)}}function iZ(e,t,s,i,n,a,o,d){let l=I(e,d),r=s+sJ,g=s+s0,h=io(e,f);t.add(h);let m=_(g,h,o);l.appendChild(m),m.classList.add(s4),m.classList.add(s6);let c=io(e,s,s5);t.add(c);let u=i();return void 0==u?(m.textContent=g,m.classList.toggle(s4)):(iQ(l,c,s,u,i,n,o),m.textContent=r,m.classList.toggle(s6)),m.addEventListener("click",e=>{null==document.getElementById(c)?(iQ(l,c,s,u,i,n,o),m.textContent=r):(document.getElementById(c)?.remove(),a(),console.log("Removed "+c),m.textContent=g),m.classList.toggle(s4),m.classList.toggle(s6)}),l}function iQ(e,t,s,i,n,a,l){let r;r=void 0==i?"":i.toString();let g=y("text",t,l);g.addEventListener("change",e=>{let t=e.target;try{a(new(o(d))(t.value)),console.log(s+" changed from "+i+" to "+t.value)}catch(e){alert("Input invalid, resetting..."),t.value=n().toString()}M(t)}),g.value=r,M(g),e.appendChild(g)}function iJ(e,t,s,i,n,a,o,d){let l;l=void 0==i?"":u(i);let r=b(t,d);r.addEventListener("change",e=>{let t=e.target;i6(n,r),T(t)}),r.value=l,T(r),e.appendChild(r)}function i0(e,t,s,...i){let n=_("Remove ✕",void 0,t);return e.appendChild(n),n.addEventListener("click",()=>{s(...i),e.remove(),id(e.id)}),n}function i1(e,t,s,i,n,a){let o;o=void 0==i?"":i.toString();let d=y("text",t,a);d.addEventListener("change",e=>{let t=e.target;n(t.value),console.log(s+" changed from "+i+" to "+t.value),M(t)}),d.value=o,M(d),e.appendChild(d)}function i2(e,t,s,i,n){let a=i.toString(),o=R(tL.orderOptions,tL.s_order,a,s,n);o.addEventListener("change",e=>{let s=e.target;t.setOrder(parseFloat(s.value)),console.log(tL.s_order+" changed from "+a+" to "+s.value),S(s)}),o.value=a,S(o),o.id=s,e.appendChild(o)}function i3(e,t,i,n){let a;let o=L(io(t.id,"viewerContainer"),n);t.appendChild(o);let d=io(t.id,"viewer"),l=!1,r=!1;function g(t,s){let n=L(d,i);n.className="mol-container",o.appendChild(n);let a=$3Dmol.createViewer(n,{backgroundColor:"grey"});return a.setStyle({stick:{}}),e.getAtoms().atoms.forEach(function(e){let s,i,n=e.getElementType();s=void 0==n?"Purple":tS.atomColors.get(n)||"Purple",i=void 0==n?100:tS.atomRadii.get(e.getElementType())||100;let o=e.getX3()?.toNumber()||0,d=e.getY3()?.toNumber()||0,l=e.getZ3()?.toNumber()||0;a.addSphere({center:{x:o,y:d,z:l},radius:i/110,color:s}),t&&a.addLabel(e.getID(),{position:{x:o,y:d,z:l}})}),e.getBonds().bonds.forEach(function(t){let i=t.getAtomRefs2().split(" "),n=e.getAtoms(),o=n.getAtom(i[0]),d=n.getAtom(i[1]),l=t.getOrder()||1,r=tS.bondColors.get(l)||"Purple",g=o.getX3()?.toNumber()||0,h=o.getY3()?.toNumber()||0,m=o.getZ3()?.toNumber()||0,c=d.getX3()?.toNumber()||0,u=d.getY3()?.toNumber()||0,N=d.getZ3()?.toNumber()||0;a.addCylinder({start:{x:g,y:h,z:m},end:{x:c,y:u,z:N},radius:.06*l,color:r}),s&&a.addLabel(t.getID(),{position:{x:(g+c)/2,y:(h+u)/2,z:(m+N)/2}})}),a.zoomTo(),a.render(),a.zoom(.8,2e3),a}let h=_("Draw/Redraw",void 0);function m(e,t,s,n){let o=_((s?"Hide ":"Show ")+e,t,i);return o.addEventListener("click",()=>{s?(o.textContent="Show "+e,s=!1):(o.textContent="Hide "+e,s=!0),n(s),id(d),a=g(l,r)}),o}h.addEventListener("click",()=>{id(d),a=g(l,r)}),o.appendChild(h);let c="Atom Labels",u=m(c,io(d,c),l,e=>l=e);o.appendChild(u);let N="Bond Labels",p=m(N,io(d,N),r,e=>r=e);o.appendChild(p);let f=_("Save as PNG",io(d,s8),sQ);f.addEventListener("click",()=>{let e=a.pngURI(),t=document.createElement("a");t.href=e;let i=s.getTitle()?.value;t.download=i.replace(/[^a-z0-9]/gi,"_")+"mol.png",document.body.appendChild(t),t.click(),document.body.removeChild(t),console.log("Save Image")}),o.appendChild(f)}function i5(e,t,s,i,n,a,l,r){let g=new Set,h=n.getElementsByTagName(tB.tagName);if(h.length>0){if(1!=h.length)throw Error("Expecting 1 "+tB.tagName+" but finding "+h.length+"!");let i=O(h[0]),n=new(o(d))(i),r=Y(h[0]),m=new tB(r,n);t.setProperty(m),m.setValue=(function(e){m.value=e,t.dictRef==tk.dictRef&&iA()}).bind(m);let c=iZ(io(a.id,t.dictRef),g,t.dictRef,m.getValue.bind(m),m.setValue,()=>e.removeProperty(t.dictRef),sQ,sZ);i4(s,r,c,c.querySelector(s5),io(a.id,t.dictRef,tB.s_units),t.dictRef,l,l),a.appendChild(c)}else{var c,u,N,p,v,E,w,y;let o=n.getElementsByTagName(tD.tagName);if(o.length>0){if(1!=o.length)throw Error("Expecting 1 "+tD.tagName+" but finding "+o.length+"!");let i=O(o[0]);if(""!=i){let n,d,r,g,h,x,E=m(i.split(/\s+/)),w=Y(o[0]),y=new tD(w,E);t.setProperty(y);let b=(c=io(a.id,t.dictRef),u=t.dictRef,N=y.getValues.bind(y),p=y.setValues,v=()=>e.removeProperty(t.dictRef),n=I(void 0,sZ),d=u+sJ,g=_(r=u+s0,io(c,f),sQ),n.appendChild(g),g.classList.add(s4),g.classList.add(s6),h=io(c,u,s5),void 0==(x=N())?(g.textContent=r,g.classList.toggle(s4)):(iJ(n,h,u,x,y,N,p,sQ),g.textContent=d,g.classList.toggle(s6)),g.addEventListener("click",e=>{null==document.getElementById(h)?(iJ(n,h,u,x,y,N,p,sQ),g.textContent=d):(document.getElementById(h)?.remove(),v(),console.log("Removed "+h),g.textContent=r),g.classList.toggle(s4),g.classList.toggle(s6)}),n);i4(s,w,b,b.querySelector("textarea"),io(a.id,t.dictRef,tD.s_units),t.dictRef,l,l),a.appendChild(b)}}else{let e=n.getElementsByTagName(tA.tagName);if(e.length>0){let n,o,d;if(1!=e.length)throw Error("Expecting 1 "+tA.tagName+" but finding "+e.length+"!");let g=O(e[0]),h=m(g.split(/\s+/)),c=Y(e[0]),u=new tA(c,h);t.setProperty(u);let N=t.dictRef,p=(E=io(a.id,t.dictRef),w=e=>{let t=e.target;i6(u,t)},y=g,n=I(void 0,r),(d=b(E,l)).onchange=w,d.value=y,T(d),(o=P(N,l)).htmlFor=E,n.appendChild(o),n.appendChild(d),n),f=p.querySelector("textarea");f.value=g,T(f),f.addEventListener("change",e=>{g=e.target.value,u=t.getProperty(),h=m(g.split(/\s+/)),u.values=h,console.log("Set "+t.dictRef+" of "+i.getLabel()+" to "+g),T(f)}),i4(s,c,p,f,io(a.id,t.dictRef,x,"Units"),t.dictRef,l,l),a.appendChild(p)}else throw Error("Expecting "+tB.tagName+", "+tD.tagName+" or "+tA.tagName+" but finding none!")}}}function i4(e,t,s,i,n,a,o,d){if(void 0!=e){let l=function(e,t,s,i,n,a){let o=t.get("units");if(void 0!=o){let d=z("units",e,"units",o,s,n,a),l=d.querySelector("select");return l.value=o,S(l),l.addEventListener("change",e=>{let s=e.target;t.set("units",s.value),console.log("Set "+i+" units to "+s.value),S(s)}),d}}(e,t,n,a,o,d);void 0!=l&&s.insertBefore(l,i)}else{let e=t.get("units");if(void 0!=e){let t=P("units "+e,d);s.insertBefore(t,i)}}}function i6(e,t){let s=t.value.trim(),i=h(e.values," ");if(""==s){alert("Empty input resetting..."),t.value=i;return}let n=s.split(/\s+/),a=[],l=!0;if(n.forEach(function(e){c(e)?a.push(new(o(d))(e)):l=!1}),!l){alert("An input is not a number, resetting..."),t.value=i;return}a.length==e.values.length?(e.setValues(a),console.log("Changed "+e.tagName+' from: "'+i+'" to: "'+h(e.values," ")+'"')):(alert("Expecting "+e.values.length+" values for, but finding "+a.length+" resetting..."),t.value=i)}function i8(e,t){try{let s=new(o(d))(t.value);e.value=s}catch(e){alert("Value invalid, resetting...")}t.value=e.value.toString()}function i9(e,t,s){let i=L(iy.addID(t.id,ea.tagName));v(iy.addID(t.id,ea.tagName,s2),t,null,i,ea.tagName,sQ,sZ);let n=_(s1,iy.addID(t.id,ea.tagName,f),sZ);if(i.appendChild(n),n.addEventListener("click",()=>{let s=new ea(new Map,s9),a=e.addBathGas(s),o=I(void 0,sZ),d=iy.addID(t.id,ea.tagName,a.toString()),l=nr(Array.from(iz(iR)),s,!0,d);l.classList.add(ea.tagName),o.appendChild(l),i0(o,sQ,t=>{i.removeChild(o),iy.removeID(d),e.removeBathGas(t)}),i.insertBefore(o,n)}),null!=s){let a=Array.from(s.children).filter(e=>e.tagName===ea.tagName);if(a.length>0)for(let s=0;s<a.length;s++){let o=new ea(Y(a[s]),k(G(a[s]))),d=e.addBathGas(o),l=iy.addID(t.id,ea.tagName,d.toString()),r=I(l,sZ);r.appendChild(nr(Array.from(iz(iR)),o,!1,l)),i0(r,sQ,t=>{i.removeChild(r),iy.removeID(l),e.removeBathGas(t)}),i.insertBefore(r,n)}else{let s=I(void 0,sZ),a=iy.addID(t.id,ea.tagName,0);s.appendChild(nr(Array.from(iz(iR)),void 0,!1,a)),i0(s,sQ,t=>{i.removeChild(s),iy.removeID(a),e.removeBathGas(t)}),i.insertBefore(s,n)}}}function i7(e,t,s){let i,n=iz(iR),a=iy.addID(t.id,eh.tagName),l=L(a);if(v(iy.addID(t.id,a,s2),t,null,l,eh.tagName,sQ,sZ),s){let e=s.getElementsByTagName(eh.tagName);if(e.length>0){if(e.length>1)throw Error("Expecting 1 "+eh.tagName+" but finding "+e.length+"!");let s=Y(e[0]),a=e[0].getElementsByTagName(eg.tagName);if(0==a.length)throw Error("Expecting 1 or more "+eg.tagName+" but finding 0!");i=new eh(s);for(let e=0;e<a.length;e++){let s=new eg(Y(a[e]));i.add(s);let r=a[e].getElementsByTagName(ea.tagName);r.length>0&&(r.length>1&&console.warn("xml_bathGass.length="+r.length),s.setBathGas(new ea(Y(r[0]),k(G(r[0])))));let g=a[e].getElementsByTagName(eo.tagName);g.length>0&&(g.length>1&&console.warn("xml_experimentRates.length="+g.length),s.setExperimentalRate(new eo(Y(g[0]),new(o(d))(k(G(g[0])).trim()))));let h=a[e].getElementsByTagName(ed.tagName);h.length>0&&(h.length>1&&console.warn("xml_experimentalYields.length="+h.length),s.setExperimentalYield(new ed(Y(h[0]),new(o(d))(k(G(h[0])).trim()))));let m=a[e].getElementsByTagName(el.tagName);m.length>0&&(m.length>1&&console.warn("xml_experimentalEigenvalues.length="+m.length),s.setExperimentalEigenvalue(new el(Y(m[0]),new(o(d))(k(G(m[0])).trim())))),l.appendChild(nt(i,l,s,t.id,e,n,sZ))}}else i=new eh(new Map)}else i=new eh(new Map);e.setPTs(i);let r=L(void 0,sZ);l.appendChild(r);let g=_(s1,void 0,sQ);r.appendChild(g),g.addEventListener("click",()=>{let e=new Map;e.set("units","Torr");let s=new eg(e),a=i.add(s);console.log("Added new pTpair pTpairIndex="+a),l.insertBefore(nt(i,l,s,t.id,a,n,sZ),r)});let h=_("Add from spreadsheet ＋",void 0,sQ);r.appendChild(h),h.addEventListener("click",()=>{let e=I(void 0,sZ),s=y("text",io(eh.tagName,"addFromSpreadsheet"),sZ);e.appendChild(s),l.insertBefore(e,r),s.addEventListener("change",()=>{if(console.log("inputElement.value="+s.value),console.log("inputElement.value.length="+s.value.length),s.value.length>0){let a=s.value.split(" "),g=new Map;a[0].split("	").forEach((e,t)=>{g.set(e,t)}),console.log("pTpairsArray.length="+a.length);for(let e=1;e<a.length;e++){let s=a[e].split("	"),h=g.get("P"),m=new(o(d))(s[h]),c=g.get("units"),u=new Map;if(g.has("units")){let e=s[c];u.set("units",e)}let N=new eg(u);i.add(N);let p=g.get("T"),f=new(o(d))(s[p]);if(N.setP(m),N.setT(f),g.has(eg.s_excessReactantConc)){let e=s[g.get(eg.s_excessReactantConc)];u.set(eg.s_excessReactantConc,e)}if(g.has(eg.s_percentExcessReactantConc)){let e=s[g.get(eg.s_percentExcessReactantConc)];u.set(eg.s_percentExcessReactantConc,e)}if(g.has(eg.s_precision)){console.log("index.has(PTpair.s_precision)");let e=s[g.get(eg.s_precision)];u.set(eg.s_precision,e)}if(g.has(ea.tagName)){let e=s[g.get(ea.tagName)];N.setBathGas(new ea(new Map,e))}if(g.has(eo.tagName)){let e=s[g.get(eo.tagName)];if(e.length>0){u.set(eo.tagName,e),N.setExperimentalRate(new eo(new Map,new(o(d))(e)));let t=s[g.get(eo.tagName+"_"+eo.s_ref1)];N.getExperimentalRate()?.setRef1(t);let i=s[g.get(eo.tagName+"_"+eo.s_ref2)];N.getExperimentalRate()?.setRef2(i);let n=s[g.get(eo.tagName+"_"+eo.s_refReaction)];N.getExperimentalRate()?.setRefReaction(n);let a=s[g.get(eo.tagName+"_"+eo.s_error)];N.getExperimentalRate()?.setError(new(o(d))(a))}}if(g.has(ed.tagName)){let e=s[g.get(ed.tagName)];if(e.length>0){N.setExperimentalYield(new ed(new Map,new(o(d))(e)));let t=s[g.get(ed.tagName+"_"+ed.s_ref)];N.getExperimentalYield()?.setRef(t);let i=s[g.get(ed.tagName+"_"+ed.s_yieldTime)];N.getExperimentalYield()?.setYieldTime(new(o(d))(i));let n=s[g.get(ed.tagName+"_"+ed.s_error)];N.getExperimentalYield()?.setError(new(o(d))(n))}}if(g.has(el.tagName)){let e=s[g.get(el.tagName)];if(e.length>0){N.setExperimentalEigenvalue(new el(new Map,new(o(d))(e)));let t=s[g.get(el.tagName+"_"+el.s_EigenvalueID)];N.getExperimentalEigenvalue()?.setEigenvalueID(t);let i=s[g.get(el.tagName+"_"+el.s_error)];N.getExperimentalEigenvalue()?.setError(new(o(d))(i))}}let x=i.ptps.length-1;l.insertBefore(nt(i,l,N,t.id,x,n,sZ),r)}l.removeChild(e)}})});let m=_("Remove All",void 0,sQ);r.appendChild(m),m.addEventListener("click",()=>{i.clear();let e=l.firstChild;for(;null!=e&&e!=r;){let t=e.nextSibling;l.removeChild(e),e=t}})}function ne(e,t){let i=new em(e,t);return s.addConditions(i),i}function nt(e,t,s,i,n,a,o){let d=I(io(t.id,n),o);return ns(d,eg.s_P,s.getP.bind(s),s.setP.bind(s)),i4(tS.pressureUnits,s.attributes,d,null,eg.tagName,eg.tagName,sQ,sZ),ns(d,eg.s_T,s.getT.bind(s),s.setT.bind(s)),nn(d,s,eg.s_excessReactantConc,nd),function(e,t){let s=io(e.id,eg.s_percentExcessReactantConc),i=L(s,sQ);e.appendChild(i);let n=eg.s_percentExcessReactantConc,a=n+sJ,o=n+s0,d=_(o,io(s,f),sQ);i.appendChild(d),d.classList.add(s4),d.classList.add(s6),t.attributes.get(n)?.toLowerCase()=="true"?(d.classList.toggle(s6),d.textContent=a):(d.classList.toggle(s4),d.textContent=o),d.addEventListener("click",e=>{d.classList.toggle(s4),d.classList.toggle(s6),d.textContent===o?(d.textContent=a,t.attributes.set(n,"true")):(d.textContent=o,t.attributes.delete(n))})}(d,s),nn(d,s,eg.s_precision,no),function(e,t,s){let i=io(e.id,ea.tagName),n=L(i,sQ);e.appendChild(n);let a=ea.tagName,o=a+sJ,d=a+s0,l=_(d,io(i,f),sQ);n.appendChild(l),l.classList.add(s4),l.classList.add(s6);let r=io(i,s5),g=t.getBathGas();void 0==g?(l.classList.toggle(s4),l.textContent=d):(l.classList.toggle(s6),l.textContent=o,!1==s.has(g.value)&&console.warn("moleculeKeys does not contain "+g.value),n.appendChild(nl(r,t,g,!1))),l.addEventListener("click",e=>{l.classList.toggle(s4),l.classList.toggle(s6),l.textContent===d?(l.textContent=o,n.appendChild(nl(r,t,g,!1))):(l.textContent=d,id(r))})}(d,s,a),na(d,s,n,eo.tagName,e=>e.getExperimentalRate(),ng),na(d,s,n,ed.tagName,e=>e.getExperimentalYield(),nh),na(d,s,n,el.tagName,e=>e.getExperimentalEigenvalue(),nm),i0(d,sQ,(s,i,n)=>{t.removeChild(s),void 0!==i&&e.remove(i),n.removeBathGas()},d,n,s),d}function ns(e,t,s,i){let n=w("text",eg.tagName+"_"+t,sQ,sK,e=>{let n=e.target;try{i(new(o(d))(n.value)),console.log(`Set ${t} to ${n.value}`)}catch(e){alert("Invalid input, resetting..."),a.value=ni(s)}M(n)},ni(s),t),a=n.querySelector("input");a.value=ni(s),M(a),e.appendChild(n)}function ni(e){let t=e();return void 0!==t?t.toString():""}function nn(e,t,s,i){let n=io(e.id,s),a=L(n,sQ);e.appendChild(a);let o=s+sJ,d=s+s0,l=_(d,io(n,f),sQ);a.appendChild(l),l.classList.add(s4),l.classList.add(s6);let r=io(n,s5);if(t.attributes.has(s)){l.classList.toggle(s6),l.textContent=o;let e=i(r,t);a.insertBefore(e,l.nextSibling)}else l.classList.toggle(s4),l.textContent=d;l.addEventListener("click",e=>{if(l.classList.toggle(s4),l.classList.toggle(s6),l.textContent===d){l.textContent=o;let e=i(r,t);a.insertBefore(e,l.nextSibling)}else l.textContent=d,id(r)})}function na(e,t,s,i,n,a){let o=io(e.id,i),d=L(o,sQ);e.appendChild(d);let l=i+sJ,r=i+s0,g=_(r,io(o,f),sQ);d.appendChild(g),g.classList.add(s4),g.classList.add(s6);let h=io(o,s5);void 0==n(t)?(g.classList.toggle(s4),g.textContent=r):(g.classList.toggle(s6),g.textContent=l,d.appendChild(a(h,t,s))),g.addEventListener("click",e=>{g.classList.toggle(s4),g.classList.toggle(s6),g.textContent===r?(g.textContent=l,d.appendChild(a(h,t,s))):(g.textContent=r,id(h))})}function no(e,t){let s;s=t.attributes.has(eg.s_precision)?t.attributes.get(eg.s_precision):tS.precisionOptions[0];let i=R(tS.precisionOptions,eg.s_precision,s,e,sQ);return i.addEventListener("change",e=>{let s=e.target;t.setPrecision(s.value),console.log("Set "+eg.s_precision+" to "+s.value),S(s)}),S(i),i}function nd(e,t){let s,i=y("number",e,sQ);return s=t.attributes.has(eg.s_excessReactantConc)?t.attributes.get(eg.s_excessReactantConc):NaN.toString(),console.log(eg.s_excessReactantConc+"="+s),i.value=s,i.addEventListener("change",e=>{let s=e.target;t.setExcessReactantConc(s.value),console.log("Set "+eg.s_excessReactantConc+" to "+s.value),M(s)}),M(i),i}function nl(e,t,s,i){let n=nr(Array.from(iz(iR)),s,i,e);return n.addEventListener("change",e=>{let s=e.target;t.setBathGas(new ea(new Map,s.value)),console.log("Set bathGas to "+s.value),S(s)}),S(n),n}function nr(e,t,s,i){let n;if(s)e.push(s9);else{let t=e.indexOf(s9);t>-1&&e.splice(t,1)}void 0==t?(t=new ea(new Map,s9),n=s9):n=t.value;let a=R(e,ea.tagName,n,io(i,x),sQ);return a.classList.add(ea.tagName),nI(e,a),a.addEventListener("change",e=>{let s=e.target;t.value=s.value,console.log("Added "+s.value+" as "+ea.tagName),S(s)}),a.value=n,S(a),a}function ng(e,t){return nc(t,e,e=>e.getExperimentalRate(),(e,t)=>e.setExperimentalRate(t),eo,[{tagName:eo.tagName,type:"number",eventHandler:(e,s)=>i8(t.getExperimentalRate(),s),valueGetter:()=>t.getExperimentalRate().value.toString()},{tagName:eo.tagName+"_"+eo.s_ref1,type:"text",eventHandler:(e,s)=>t.getExperimentalRate()?.setRef1(s.value),valueGetter:()=>t.getExperimentalRate().getRef1()},{tagName:eo.tagName+"_"+eo.s_ref2,type:"text",eventHandler:(e,s)=>t.getExperimentalRate()?.setRef2(s.value),valueGetter:()=>t.getExperimentalRate().getRef2()},{tagName:eo.tagName+"_"+eo.s_refReaction,type:"text",eventHandler:(e,s)=>t.getExperimentalRate()?.setRefReaction(s.value),valueGetter:()=>t.getExperimentalRate().getRefReaction()},{tagName:eo.tagName+"_"+eo.s_error,type:"number",eventHandler:(e,s)=>t.getExperimentalRate()?.setError(new(o(d))(s.value)),valueGetter:()=>t.getExperimentalRate().getError().toString()}])}function nh(e,t){return nc(t,e,e=>e.getExperimentalYield(),(e,t)=>e.setExperimentalYield(t),ed,[{tagName:ed.tagName,type:"number",eventHandler:(e,s)=>i8(t.getExperimentalYield(),s),valueGetter:()=>t.getExperimentalYield().value.toString()},{tagName:ed.tagName+"_"+ed.s_ref,type:"text",eventHandler:(e,s)=>t.getExperimentalYield()?.setRef(s.value),valueGetter:()=>t.getExperimentalYield().getRef()},{tagName:ed.tagName+"_"+ed.s_yieldTime,type:"number",eventHandler:(e,s)=>t.getExperimentalYield()?.setYieldTime(new(o(d))(s.value)),valueGetter:()=>t.getExperimentalYield().getYieldTime().toString()},{tagName:ed.tagName+"_"+ed.s_error,type:"number",eventHandler:(e,s)=>t.getExperimentalYield()?.setError(new(o(d))(s.value)),valueGetter:()=>t.getExperimentalYield().getError().toString()}])}function nm(e,t){return nc(t,e,e=>e.getExperimentalEigenvalue(),(e,t)=>e.setExperimentalEigenvalue(t),el,[{tagName:el.tagName,type:"number",eventHandler:(e,s)=>i8(t.getExperimentalEigenvalue(),s),valueGetter:()=>t.getExperimentalEigenvalue().value.toString()},{tagName:el.tagName+"_"+el.s_EigenvalueID,type:"text",eventHandler:(e,s)=>t.getExperimentalEigenvalue()?.setEigenvalueID(s.value),valueGetter:()=>t.getExperimentalEigenvalue().getEigenvalueID()},{tagName:el.tagName+"_"+el.s_error,type:"number",eventHandler:(e,s)=>t.getExperimentalEigenvalue()?.setError(new(o(d))(s.value)),valueGetter:()=>t.getExperimentalEigenvalue().getError().toString()}])}function nc(e,t,s,i,n,a){let o=L(void 0,sQ);o.id=t;let d=s(e);for(let s of(void 0==d&&i(e,d=new n(new Map,iE)),a)){let e=t+"_"+s.tagName;o.appendChild(w(s.type,e,sQ,sK,e=>{let t=e.target;s.eventHandler(e,t),console.log("Set "+s.tagName+" to "+t.value),M(t)},s.valueGetter(),s.label||""))}return o}function nu(e,t){let i=new tv(e,t);return s.addModelParameters(i),i}function nN(e){let t,s;if(void 0!=iM){let i=iM.values.get(e)??"";t=""==i?iE:new(o(d))(i),s=iM.attributess.get(e)??new Map}else console.log(e+" set using hardcoded default."),t=new(o(d))(101),(s=new Map).set(it,"cm-1");return new tN(s,t)}function np(e,t,s,i,n,a){let l,r,g=i.tagName,h=I(ib.addID(s.id,g),sZ);s.appendChild(h);let m=g+sJ,c=g+s0,u=_(g,ib.addID(s.id,g,f),sQ);u.classList.add(s4),u.classList.add(s6),h.appendChild(u);let N=ib.addID(s.id,g,s5);if(null!=t){let s=t.getElementsByTagName(g);if(1==s.length){r=k(G(s[0]));let t=new(o(d))(r);l=new i(Y(s[0]),t),u.textContent=m,nf(e,h,l,N,r,n,void 0),u.classList.toggle(s6)}else r="",l=new i(new Map,iE),u.textContent=c,u.classList.toggle(s4)}else r="",l=new i(new Map,iE),u.textContent=c,u.classList.toggle(s4);u.addEventListener("click",()=>{e.index.has(g)?(a(),id(N),ib.removeID(N),u.textContent=c):(nf(e,h,l,N,r,n,void 0),u.textContent=m),u.classList.toggle(s4),u.classList.toggle(s6)})}function nf(e,t,s,i,n,a,o){a.call(e,s);let d=y("text",i,sQ);t.appendChild(d),d.addEventListener("change",e=>{let t=e.target;i8(s,t),M(t)}),d.value=n,M(d),i4(o,s.attributes,t,d,r(i,it),s.constructor.tagName,sQ,sQ)}function nx(e){return[{class:ec,setMethod:e.setCalculateRateCoefficientsOnly,removeMethod:e.removeCalculateRateCoefficientsOnly},{class:eu,setMethod:e.setPrintCellDOS,removeMethod:e.removePrintCellDOS},{class:eN,setMethod:e.setPrintCellTransitionStateFlux,removeMethod:e.removePrintCellTransitionStateFlux},{class:ep,setMethod:e.setPrintReactionOperatorColumnSums,removeMethod:e.removePrintReactionOperatorColumnSums},{class:ef,setMethod:e.setPrintGrainBoltzmann,removeMethod:e.removePrintGrainBoltzmann},{class:ex,setMethod:e.setPrintGrainDOS,removeMethod:e.removePrintGrainDOS},{class:ev,setMethod:e.setPrintGrainkbE,removeMethod:e.removePrintGrainkbE},{class:eE,setMethod:e.setPrintGrainkfE,removeMethod:e.removePrintGrainkfE},{class:ew,setMethod:e.setPrintTSsos,removeMethod:e.removePrintTSsos},{class:ey,setMethod:e.setPrintGrainedSpeciesProfile,removeMethod:e.removePrintGrainedSpeciesProfile},{class:eb,setMethod:e.setPrintGrainTransitionStateFlux,removeMethod:e.removePrintGrainTransitionStateFlux},{class:eC,setMethod:e.setPrintReactionOperatorSize,removeMethod:e.removePrintReactionOperatorSize},{class:eM,setMethod:e.setPrintSpeciesProfile,removeMethod:e.removePrintSpeciesProfile},{class:eS,setMethod:e.setPrintPhenomenologicalEvolution,removeMethod:e.removePrintPhenomenologicalEvolution},{class:eT,setMethod:e.setPrintTunnelingCoefficients,removeMethod:e.removePrintTunnelingCoefficients},{class:eR,setMethod:e.setPrintCrossingCoefficients,removeMethod:e.removePrintCrossingCoefficients},{class:ez,setMethod:e.setTestDOS,removeMethod:e.removeTestDOS},{class:e_,setMethod:e.setTestRateConstants,removeMethod:e.removeTestRateConstants},{class:eL,setMethod:e.setUseTheSameCellNumberForAllConditions,removeMethod:e.removeUseTheSameCellNumberForAllConditions},{class:eI,setMethod:e.setForceMacroDetailedBalance,removeMethod:e.removeForceMacroDetailedBalance}]}function nv(e){return[{class:tt,setMethod:e.setEigenvalues,removeMethod:e.removeEigenvalues},{class:ts,setMethod:e.setShortestTimeOfInterest,removeMethod:e.removeShortestTimeOfInterest},{class:ti,setMethod:e.setMaximumEvolutionTime,removeMethod:e.removeMaximumEvolutionTime},{class:tn,setMethod:e.setAutomaticallySetMaxEne,removeMethod:e.removeAutomaticallySetMaxEne},{class:ta,setMethod:e.setDiagramEnergyOffset,removeMethod:e.removeDiagramEnergyOffset}]}function nE(e,t){let i=new td(e,t);return s.addControl(i),i}function nw(e,t,s,i,n,a){i.call(e,s);let o=y("number",n,sQ);o.addEventListener("change",e=>{let t=e.target;i8(s,t),M(t)}),o.value=a,M(o),t.appendChild(o)}function ny(e,t,s,i,n,a,l,r,g=!1){let h,m,c,u=a.tagName,N=u+sJ,p=u+s0,f=_(p,void 0,sQ);if(f.classList.add(s4),f.classList.add(s6),s&&s.set(u,f),n&&(m=I(c=iC.addID(t.id,u),n),t.appendChild(m),m.appendChild(f),c=iC.addID(t.id,c,s5)),i){let t=i.getElementsByTagName(u);if(1==t.length){if(g){let s,i=k(G(t[0]));s=new(o(d))("all"==i?0:i),h=new a(Y(t[0]),s),nw(e,m,h,l,c,i)}else h=new a(Y(t[0])),l.call(e,h);f.textContent=N,f.classList.toggle(s6)}else f.textContent=p,f.classList.toggle(s4)}else h=new a(new Map),f.textContent=p,f.classList.toggle(s4);f.addEventListener("click",t=>{e.index.has(u)?(g&&id(c),r.call(e),f.textContent=p):(g?nw(e,m,h,l,c,""):l.call(e,h),f.textContent=N),f.classList.toggle(s4),f.classList.toggle(s6)})}function nb(e,t,s,i){let n,a=I(void 0,i);t.appendChild(a);let l=eB.tagName,r=l+sJ,g=l+s0,h=_(g,void 0,sQ);a.appendChild(h),h.classList.add(s4),h.classList.add(s6);let m=iC.addID(t.id,l),c=I(m,sQ);a.appendChild(c);let u=eB.options,N=iC.addID(m,"details"),p=iC.addID(N,"select");if(null!=s){let t=s.getElementsByTagName(l);if(t.length>0){if(t.length>1)throw Error("More than one CalcMethod element.");let s=Y(t[0]),i=s.get("xsi:type");n=function e(t,s,i,n,a,l,r,g,h){let m;let c=nP(t,s,n,l,r,g,h);c.value=r,s.appendChild(c);let u=I(g,sQ);if(s.appendChild(u),r==eD.xsi_type||r==eD.xsi_type2)m=new eD(a);else if(r==eA.xsi_type||r==eA.xsi_type2)m=new eA(a);else if(r==ek.xsi_type||r==ek.xsi_type2){let e=new ek(a);m=e;let t=i[0].getElementsByTagName(eG.tagName);if(t.length>0){if(1==t.length){let s=new(o(d))(k(G(t[0]))),i=new eG(Y(t[0]),s);e.setFittingIterations(i)}else throw Error("More than one FittingIterations element.")}nS(u,e)}else if(r==eq.xsi_type||r==eq.xsi_type2){let e=new eq(a);function N(e,t,s){let i=eO.tagName,n=e[0].getElementsByTagName(i);if(n.length>0){if(1==n.length){let e=new(o(d))(k(G(n[0])));s(new t(Y(n[0]),e))}else throw Error(`More than one ${i} element.`)}}m=e,N(i,eO,e.setMarquardtIterations.bind(e)),N(i,eF,e.setMarquardtTolerance.bind(e)),N(i,eH,e.setMarquardtDerivDelta.bind(e)),nT(u,e)}else if(r==e0.xsi_type||r==e0.xsi_type2){let e=new e0(a);function N(e,t,s,i){let n=t.tagName,a=e[0].getElementsByTagName(n);if(a.length>0){if(1==a.length){let e=k(G(a[0]));i&&void 0!=e&&(e=new(o(d))(e)),s(new t(Y(a[0]),e))}else throw Error(`More than one ${n} element.`)}}m=e,N(i,eV,e.setFormat.bind(e),!1),N(i,ej,e.setPrecision.bind(e),!1),N(i,eX,e.setChebNumTemp.bind(e),!0),N(i,eY,e.setChebNumConc.bind(e),!0),N(i,e$,e.setChebMaxTemp.bind(e),!0),N(i,eW,e.setChebMinTemp.bind(e),!0),N(i,eK,e.setChebMaxConc.bind(e),!0),N(i,eZ,e.setChebMinConc.bind(e),!0),N(i,eQ,e.setChebTExSize.bind(e),!0),N(i,eJ,e.setChebPExSize.bind(e),!0),nR(u,e)}else if(r==e4.xsi_type||r==e4.xsi_type2){let e=new e4(a);function N(e,t,s){let i=t.tagName,n=e[0].getElementsByTagName(i);if(n.length>0){if(1==n.length){let e=new(o(d))(k(G(n[0])));s(new t(Y(n[0]),e))}else throw Error(`More than one ${i} element.`)}}m=e,N(i,e1,e.setTmin.bind(e)),N(i,e2,e.setTmid.bind(e)),N(i,e3,e.setTmax.bind(e)),N(i,e5,e.setTstep.bind(e)),nz(u,e)}else if(r==te.xsi_type||r==te.xsi_type2){let e=new te(a);function N(e,t,s){let i=t.tagName,n=e[0].getElementsByTagName(i);if(n.length>0){if(1==n.length){let e=k(G(n[0]));void 0!=e&&(e=new(o(d))(e)),s(new t(Y(n[0]),e))}else throw Error(`More than one ${i} element.`)}}m=e,N(i,e6,e.setSensitivityAnalysisSamples.bind(e)),N(i,e8,e.setSensitivityAnalysisOrder.bind(e)),N(i,e9,e.setSensitivityNumVarRedIters.bind(e)),N(i,e7,e.setSensitivityVarRedMethod.bind(e)),nL(u,e)}else{let o=a.get("name");if(void 0!=o&&o!==r)return a.set("xsi:type",o),console.warn(`Using name attribute as xsi:type: ${o}`),e(t,s,i,n,a,l,o,g,h);throw Error(`Unable to determine calculation method for xsi_type: ${r}`)}return m}(e,c,t,u,s,l,i,N,p),e.setCalcMethod(n),h.classList.toggle(s6),h.textContent=r}else h.classList.toggle(s4),h.textContent=g}else h.classList.toggle(s4),h.textContent=g;h.addEventListener("click",t=>{if(e.index.has(l))null!=e.getCalcMethod()&&(e.removeCalcMethod(),id(N),id(p),h.textContent=g,h.classList.toggle(s4),h.classList.toggle(s6));else{u[u.length-1]!=s9&&u.push(s9),id(N),id(p);let t=nP(e,a,u,l,s9,N,p);c.appendChild(t),h.textContent=r,h.classList.toggle(s4),h.classList.toggle(s6)}})}function nC(e,t,s,i){let n=to.tagName,a=I(iC.addID(t.id,n),i);t.appendChild(a);let o=n+sJ,d=n+s0,l=_(n,iC.addID(t.id,n,f),sQ);a.appendChild(l),l.classList.add(s4),l.classList.add(s6);let r=iC.addID(t.id,n,e3.tagName),g=iC.addID(t.id,n,e1.tagName),h=iC.addID(t.id,n,e5.tagName);if(s){let t=s.getElementsByTagName(n);1==t.length?(nM(e,a,t,r,g,h),l.classList.toggle(s6),l.textContent=o):(l.classList.toggle(s4),l.textContent=d)}else l.classList.toggle(s4),l.textContent=d;l.addEventListener("click",t=>{e.index.has(n)?(e.removeTestMicroRates(),document.getElementById(r)?.remove(),document.getElementById(g)?.remove(),document.getElementById(h)?.remove(),l.textContent=d):(nM(e,a,null,r,g,h),l.textContent=o),l.classList.toggle(s4),l.classList.toggle(s6)})}function nM(e,t,s,i,n,a){let l,r;if(null!=s&&s.length>0){if(s.length>1)throw Error("More than one TestMicroRates element.");r=new to(l=Y(s[0]))}else(l=new Map).set("Tmax","0"),l.set("Tmin","0"),l.set("Tstep","0"),r=new to(l);e.setTestMicroRates(r);let g=r.getTmax(),h=w("text",i+"_input",sQ,sK,e=>{let t=e.target;try{r.setTmax(new(o(d))(t.value)),console.log("Set Tmax to "+t.value)}catch(e){alert("Invalid input, resetting..."),t.value=g.toString()}M(t)},g.toString(),"Tmax");h.id=i,M(h.querySelector("input")),t.appendChild(h);let m=r.getTmin(),u=w("number",n+"_input",sQ,sK,e=>{let t=e.target;c(t.value)?(r.setTmin(new(o(d))(t.value)),console.log("Set Tmin to "+t.value)):(alert("Value is not numeric, resetting..."),t.value=m.toString()),M(t)},m.toString(),"Tmin");u.id=n,M(u.querySelector("input")),t.appendChild(u);let N=r.getTstep(),p=w("text",a+"_input",sQ,sK,e=>{let t=e.target;c(t.value)?(r.setTstep(new(o(d))(t.value)),console.log("Set Tstep to "+t.value)):(alert("Value is not numeric, resetting..."),t.value=N.toString()),M(t)},N.toString(),"Tstep");p.id=a,M(p.querySelector("input")),t.appendChild(p)}function nS(e,t){let s=t.getFittingIterations()||new eG(new Map,iE);t.setFittingIterations(s),e.appendChild(w("number",r(e.id,eG.tagName,s5),sQ,sK,e=>{let t=e.target;c(t.value)?(s.value=new(o(d))(t.value),console.log("Set FittingIterations to "+t.value)):(alert("Value is not numeric, resetting..."),t.value=s.value.toString()),M(t)},s.value.toString(),eG.tagName))}function nT(e,t){function s(e,t,s,i){let n=r(t.id,e.tagName,s5),a=e.value.toString(),l=e.tagName;t.appendChild(w("number",n,s,i,t=>{let s=t.target;c(s.value)?(e.value=new(o(d))(s.value),console.log("Set "+e.tagName+" to "+s.value)):(alert("Value is not numeric, resetting..."),s.value=e.value.toString()),M(s)},a,l))}let i=t.getMarquardtIterations()||new eO(new Map,iE);t.setMarquardtIterations(i),s(i,e,sQ,sK);let n=t.getMarquardtTolerance()||new eF(new Map,iE);t.setMarquardtTolerance(n),s(n,e,sQ,sK);let a=t.getMarquardtDerivDelta()||new eH(new Map,iE);t.setMarquardtDerivDelta(a),s(a,e,sQ,sK)}function nR(e,t){let s=t.getFormat()||new eV(new Map,eV.options[0]);function i(t,s,i,n,a){let o=s()||new t(new Map,a[0]);i(o);let d=z(n,a,n,o.value,e.id,sQ,sQ);d.querySelector("select")?.addEventListener("change",e=>{let t=e.target;o.value=t.value,console.log(`Set ${n} to `+t.value),S(t)}),e.appendChild(d)}function n(t,s,i,n){let a=s()||new t(new Map,NaN);i(a),e.appendChild(w("text",e.id+`_${n}_input`,sQ,sK,n_(a,n),a.value.toString(),n))}i(eV,t.getFormat.bind(t),t.setFormat.bind(t),eV.tagName,eV.options),i(eV,()=>s.getRateUnits(),s.setRateUnits.bind(s),eV.rateUnits,eV.rateUnitsOptions),i(ej,t.getPrecision.bind(t),t.setPrecision.bind(t),ej.tagName,tS.precisionOptions),n(eX,t.getChebNumTemp.bind(t),t.setChebNumTemp.bind(t),eX.tagName),n(eY,t.getChebNumConc.bind(t),t.setChebNumConc.bind(t),eY.tagName),n(e$,t.getChebMaxTemp.bind(t),t.setChebMaxTemp.bind(t),e$.tagName),n(eW,t.getChebMinTemp.bind(t),t.setChebMinTemp.bind(t),eW.tagName),n(eK,t.getChebMaxConc.bind(t),t.setChebMaxConc.bind(t),eK.tagName),n(eZ,t.getChebMinConc.bind(t),t.setChebMinConc.bind(t),eZ.tagName),n(eQ,t.getChebTExSize.bind(t),t.setChebTExSize.bind(t),eQ.tagName),n(eJ,t.getChebPExSize.bind(t),t.setChebPExSize.bind(t),eJ.tagName)}function nz(e,t){function s(t,s,i,n){let a=s()||new t(new Map,NaN);i(a),e.appendChild(w("text",e.id+`_${n}_input`,sQ,sK,n_(a,n),a.value.toString(),n))}s(e1,t.getTmin.bind(t),t.setTmin.bind(t),e1.tagName),s(e2,t.getTmid.bind(t),t.setTmid.bind(t),e2.tagName),s(e3,t.getTmax.bind(t),t.setTmax.bind(t),e3.tagName),s(e5,t.getTstep.bind(t),t.setTstep.bind(t),e5.tagName)}function n_(e,t){return t=>{let s=t.target;try{e.value=new(o(d))(s.value)}catch(t){alert("Invalid input value "+s.value+" , resetting..."),s.value=e.value.toString()}M(s)}}function nL(e,t){function s(t,s,i,n){let a=s()||new t(new Map,NaN);i(a),e.appendChild(w("text",r(e.id,n,s5),sQ,sK,n_(a,n),a.value.toString(),n))}s(e6,t.getSensitivityAnalysisSamples.bind(t),t.setSensitivityAnalysisSamples.bind(t),e6.tagName),s(e8,t.getSensitivityAnalysisOrder.bind(t),t.setSensitivityAnalysisOrder.bind(t),e8.tagName),s(e9,t.getSensitivityNumVarRedIters.bind(t),t.setSensitivityNumVarRedIters.bind(t),e9.tagName);let i=t.getSensitivityVarRedMethod()||new e7(new Map,"");t.setSensitivityVarRedMethod(i);let n=e7.tagName;e.appendChild(z(n,e7.options,n,e7.options[0],r(e.id,n,"select"),sQ,sQ));let a=e.querySelector("select");a?.addEventListener("change",e=>{let t=e.target;i.value=t.value,console.log(n+" set to "+t.value),S(t)})}function nI(e,t){t.addEventListener("click",s=>{e[e.length-1]==s9&&e.pop();let i=t.options.length-1;t.options[i].value==s9&&t.remove(i)})}function nP(e,t,s,i,n,a,o){let d=R(s,i,n,o,sQ);return t.appendChild(d),nI(s,d),d.addEventListener("change",s=>{let i=document.getElementById(a);null!=i&&i.remove(),i=I(a,sQ),t.appendChild(i);let n=s.target,o=n.value,d=new Map;if(d.set("xsi:type",o),o==eD.xsi_type||o==eD.xsi_type2)e.setCalcMethod(new eD(d));else if(o==eA.xsi_type||o==eA.xsi_type2)e.setCalcMethod(new eA(d));else if(o==ek.xsi_type||o==ek.xsi_type2){let t=new ek(d);e.setCalcMethod(t),nS(i,t)}else if(o==eq.xsi_type||o==eq.xsi_type2){let t=new eq(d);e.setCalcMethod(t),nT(i,t)}else if(o==e0.xsi_type||o==e0.xsi_type2){let t=new e0(d);e.setCalcMethod(t),nR(i,t)}else if(o==e4.xsi_type||o==e4.xsi_type2){let t=new e4(d);e.setCalcMethod(t),nz(i,t)}else if(o==te.xsi_type||o==te.xsi_type2){let t=new te(new Map);e.setCalcMethod(t),nL(i,t)}else throw Error("Unknown CalcMethod type.");S(n)}),d}document.addEventListener("DOMContentLoaded",()=>{let l,m,u,N,p,E,b,C,T,R,F,H,q;document.body.className=t?"dark-mode":"light-mode";let U=new Map;U.set("xmlns","http://www.xml-cml.org/schema"),U.set("xmlns:me","http://www.chem.leeds.ac.uk/mesmer"),U.set("xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),s=new tS(U),(l=document.getElementById(il)).style.display="flex",l.style.justifyContent="center",l.style.margin="5px",l.style.padding="5px",l.style.border="1px solid black",l.style.backgroundColor="lightgrey",u=_(m="About",ia(m),sQ),l.appendChild(u),u.addEventListener("click",async e=>{!function(e){if(null==e)return;e.document.title="About MXG";let t=document.createElement("div");e.document.body.appendChild(t);let s=e.document.createElement("p");t.appendChild(s),s.appendChild(e.document.createTextNode("MXG is a free and open source program to assist in creating, editing and         visualising MESMER XML data. The MXG development repository is: ")),s.appendChild(sB),s.appendChild(e.document.createTextNode(". Details of MESMER - the Master Equation Solver for Multi Energy-well Reactions         can be found at: ")),s.appendChild(sk),s.appendChild(e.document.createTextNode("."));let i=document.createElement("p");t.appendChild(i),i.appendChild(e.document.createTextNode("MXG is being developed by a team based at ")),i.appendChild(sF),i.appendChild(e.document.createTextNode(" funded by ")),i.appendChild(sO),i.appendChild(e.document.createTextNode("Like MESMER, MXG development aims to be driven in part by users reporting issues,         submitting feature requests, and getting involved in development."));let n=e.document.createElement("p");t.appendChild(n),n.appendChild(e.document.createTextNode("MXG runs on the latest Firefox, Chrome, Edge or Safari Web browsers. It can         be used offline if installed as a Progressive Web App (PWA). PWA installation varies by Web browser and device, it         should only require user permission and is effectively a form of Web browser bookmark. For guidance please see the         MXG main development repository README: ")),n.appendChild(sB.cloneNode(!0)),n.appendChild(e.document.createTextNode(". MXG may work on small screen devices, but it is recommended to use a device         with at least a standard laptop sized screen."));let a=document.createElement("p");t.appendChild(a),a.appendChild(e.document.createTextNode('The Menu contains 5 buttons. The Load MESMER File button is for loading a         MESMER XML data file with a "me:mesmer" tag containing: "me:title", "moleculeList", "reactionList",         "me:conditions", "me:modelParameters", and "me:control" tags containing further details. A MESMER XML output         data file will also have "me:metadataList" and "me:analysis" tags as children of the "me:mesmer" tag. Additional         output is located in "moleculeList" and "reactionList" tags. The Load Molecules button is for loading molecule         data for selection, modification and for inclusion in saved MESMER files. The Load Defaults button is to load         default values. Whilst not necessary, loading defaults is for convenience, as often similar values and the same         units as defaults are wanted for specified variables. The Save MESMER File button is for saving a new MESMER XML         data file. The file should be saved to the Web browser downloads location. It should contain no comments or extra         white space between XML tags with the exception of new lines, tag values should be trimmed of white space,         numbers should be output in a particular format (decimals - where numbers with more than 8 digits are output in         scientific notation format). There should be: a single "atomArray" tag containing all "atom" tags (each atom         should have a unique id attribute); a single "bondArray" tag containing any "bond" tags (each bond should have a         unique id attribute); and, a single "propertyList" tag containing all "property" tags for each "molecule" tag in         the "moleculeList". The saved file should reflect what is specified via the interface.'));let o=e.document.createElement("p");t.appendChild(o),o.appendChild(e.document.createTextNode('The "me:title" value is presented in an input alongside an associated label.         The input can be used to change the value which is also used to compose filenames for files saved from MXG.         Details are presented via buttons which contain a triangular symbol. A triangle orientated with a point down: ▼ can be actioned to show more details (if there are any). A triangle orientated with a point         up: ▲ can be actioned to hide those details again.'));let d=e.document.createElement("p");t.appendChild(d),d.textContent='The Reaction Diagram button shows/hides a reaction well diagram which is redrawn if molecule "me:ZPE"         property values are changed. The diagram can be opened in a new Window and saved to a PNG format file.';let l=e.document.createElement("p");t.appendChild(l),l.textContent="MXG uses 3DMol.js under a BSD-3-Clause licence to visualise molecules with coordinates. For details         of 3DMol.js please see the GitHub repository: ",l.appendChild(sq),l.appendChild(e.document.createTextNode(". If you use the 3DMol.js visualisations, please cite: Nicholas Rego and         David Koes 3Dmol.js: molecular visualization with WebGL Bioinformatics (2015) 31 (8): 1322-1324 ")),l.appendChild(sU),l.appendChild(e.document.createTextNode("."));let r=e.document.createElement("p");t.appendChild(r),r.textContent="MXG uses Big.js under an MIT licence to handle numbers. For details of Big.js please see the GitHub         repository: ",r.appendChild(sj),r.appendChild(e.document.createTextNode("."))}(window.open("","","width=600,height=400"))}),p=_(N="Load Molecules",ia(N),sQ),l.appendChild(p),E=new sL,p.addEventListener("click",async e=>{(await E.readFile()).forEach((e,t)=>{iT(e,iS)})}),(C=_(b="Load Defaults",ia(b),sQ)).addEventListener("click",e=>{iM.readFile()}),l.appendChild(C),(R=_(T="Load MESMER File",ia(T),sQ)).addEventListener("click",l=>{let m;ii.forEach(e=>{id(e)}),null!=iR&&iR.clear(),null!=i&&i.clear(),n=[],(m=document.createElement("input")).type="file",m.onchange=function(){if(m.files){for(let e=0;e<m.files.length;e++)console.log("inputElement.files["+e+"]="+m.files[e]);let l=m.files[0];console.log(l.name),e=l.name;let u=new FileReader,N=0,p="";u.onload=function(m){if(null==m.target)throw Error("Event target is null");if(p+=m.target.result,null!=l){if(N<l.size){let e=l.slice(N,N+1048576);u.readAsText(e),N+=1048576}else{var E,b;let l,m,u,N,C,T,R,F,H,q,U,V,j,X,W,ea,eo,ed,el,er,eg,eh,ec,eu,eN,ep,ef,ex,ev,eE;E=p=p.trim(),l=document.getElementById(iv),id(m=io(iv,2)),u=L(m,sZ),v(m,l,null,u,e,sQ,sK),(N=document.createElement("pre")).textContent=E,u.appendChild(N),console.log("parse: "+(b=new DOMParser().parseFromString(p,"text/xml"))),R=$(b,tS.tagName),s=new tS(Y(R)),(F=b.getElementsByTagName(tE.tagName)).length>0?(F.length>1&&console.warn("Multiple "+tE.tagName+" tags found, using the first."),C=F[0].childNodes[0].nodeValue.trim(),T=Y(F[0])):(C=e,console.warn("No "+tE.tagName+" tag found, using the filename: "+e+" as the title."),T=new Map),iD(C,T),H=document.getElementById(ig),id(q=io(tw.tagName)),v(q,H,null,function(e){iR=new Map;let t=L(void 0,sQ),s=$(e,tw.tagName),i=new Set;if(s.childNodes.forEach(function(e){i.add(e.nodeName)}),1==i.size||2==i.size&&i.has("#text")||(console.error("moleculeListTagNames:"),i.forEach(e=>console.error(e)),console.warn("Additional tag names in moleculeList:")),!i.has(sm.tagName))return console.warn('Expecting tags with "'+sm.tagName+'" tagName but there are none!'),t;let n=s.getElementsByTagName(sm.tagName),a=n.length;console.log("Number of molecules="+a);for(let e=0;e<a;e++){let s=io(sm.tagName,e),i=L(s),a=Y(n[e]),l=new sm(a,a.get(sm.s_id));iT(l,iR);let r=v(io(s,s2),t,null,i,l.label,sQ,sZ),h=new Set,m=n[e].childNodes;for(let e=0;e<m.length;e++){let t=m[e];h.has(t.nodeName)?"#text"!=t.nodeName&&console.warn("Another ChildNode with nodeName="+t.nodeName):h.add(t.nodeName)}iF(l,r.querySelector(f),i,sZ),i.appendChild(iH(io(s,s3),l.getDescription.bind(l),l.setDescription.bind(l),sQ,sZ));let u=n[e].getElementsByTagName(tu.tagName);if(u.length>0){u.length>1&&console.warn("Expecting 1 or 0 "+tu.tagName+" but finding "+u.length+". Loading the first of these...");let e=io(s,tu.tagName),t=L(e);v(io(e,s2),i,null,t,tu.tagName,sQ,sZ);let n=u[0].getElementsByTagName(tl.tagName),a=new tu(Y(u[0]));l.setMetadataList(a);for(let s=0;s<n.length;s++){let i=new tl(Y(n[s]));t.appendChild(function(e,t,s,i,n,a){s.addMetadata(t);let o=I(i,sZ);return o.appendChild(P(e.getLabel(),sQ)),o}(l,i,a,io(e,s),0,0))}h.delete(tu.tagName)}let N=n[e].getElementsByTagName(t_.tagName),p=io(s,t_.tagName),x=L(p);v(io(p,s2),i,null,x,t_.tagName,sQ,sZ);let E=new t_(new Map);l.setAtoms(E);for(let e=0;e<N.length;e++){let t=Y(N[e]);t.size>0&&console.warn("AtomArray attributes lost/ignored: "+g(t))}let b=n[e].getElementsByTagName(tz.tagName);for(let e=0;e<b.length;e++)x.appendChild(iV(l,p,E,new tz(Y(b[e]),l),sQ,sZ));x.appendChild(iU(l,x,tz.tagName,sQ,sZ)),h.delete(tz.tagName);let C=n[e].getElementsByTagName(tI.tagName),S=io(s,tI.tagName),T=L(S);v(io(S,s2),i,null,T,tI.tagName,sQ,sZ);let R=new tI(new Map);l.setBonds(R);for(let e=0;e<C.length;e++){let t=Y(C[e]);t.size>0&&console.warn("BondArray attributes lost/ignored: "+g(t))}let A=n[e].getElementsByTagName(tL.tagName);for(let e=0;e<A.length;e++)Y(A[e]).has(tL.s_id)&&T.appendChild(iW(l,S,l.getAtoms().atoms,R,new tL(Y(A[e]),l),sQ,sZ));for(let e=0;e<A.length;e++)Y(A[e]).has(tL.s_id)||T.appendChild(iW(l,S,l.getAtoms().atoms,R,new tL(Y(A[e]),l),sQ,sZ));T.appendChild(i$(l,T,tL.tagName,sQ,sZ)),h.delete(tL.tagName);let F=io(s,"viewer"),H=L(F);v(io(F,s2),i,null,H,"viewer",sQ,sZ),i3(l,H,sQ,sZ);let q=n[e].getElementsByTagName(t1.tagName),U=io(s,t1.tagName),V=L(U);v(io(U,s2),i,null,V,t1.tagName,sQ,sZ);let j=new t1(new Map);l.setPropertyList(j);for(let e=0;e<q.length;e++){let t=Y(q[e]);t.size>0&&console.warn("PropertyList attributes lost/ignored: "+g(t))}let X=new Set(tD.propertyDictRefs),$=n[e].getElementsByTagName(tG.tagName);for(let e=0;e<$.length;e++){let t=function(e,t,s,i,n,a,o){let d=new tG(Y(s));return e.delete(d.dictRef),d.dictRef==tk.dictRef?i5(t,d,tS.energyUnits,n,s,i,a,o):d.dictRef==tO.dictRef?i5(t,d,tS.energyUnits,n,s,i,a,o):d.dictRef==tF.dictRef?i5(t,d,tS.energyUnits,n,s,i,a,o):d.dictRef==tH.dictRef?i5(t,d,tS.energyUnits,n,s,i,a,o):d.dictRef==tq.dictRef?i5(t,d,tS.frequencyUnits,n,s,i,a,o):d.dictRef==tU.dictRef?i5(t,d,void 0,n,s,i,a,o):d.dictRef==tV.dictRef?i5(t,d,void 0,n,s,i,a,o):d.dictRef==tj.dictRef?i5(t,d,void 0,n,s,i,a,o):d.dictRef==tX.dictRef?i5(t,d,void 0,n,s,i,a,o):d.dictRef==tY.dictRef?i5(t,d,void 0,n,s,i,a,o):d.dictRef==t$.dictRef?i5(t,d,void 0,n,s,i,a,o):d.dictRef==tW.dictRef?i5(t,d,void 0,n,s,i,a,o):d.dictRef==tK.dictRef?i5(t,d,void 0,n,s,i,a,o):d.dictRef==tZ.dictRef?i5(t,d,void 0,n,s,i,a,o):d.dictRef==tQ.dictRef?i5(t,d,void 0,n,s,i,a,o):d.dictRef==tJ.dictRef?i5(t,d,void 0,n,s,i,a,o):function(e,t,s,i,n,a,o){let d=new Set,l=i.getElementsByTagName(tP.tagName);if(l.length>0){if(1!=l.length)throw Error("Expecting 1 "+tP.tagName+" but finding "+l.length+"!");let s=O(l[0]),i=new tP(Y(l[0]),s);t.setProperty(i),i.setValue=(function(e){i.value=e,t.dictRef==tk.dictRef&&iA()}).bind(i);let a=function(e,t,s,i,n,a,o,d){let l=I(e,d),r=s+sJ,g=s+s0,h=io(e,f);t.add(h);let m=_(g,h,o);l.appendChild(m),m.classList.add(s4),m.classList.add(s6);let c=io(e,s,s5);t.add(c);let u=i();return void 0==u?(m.textContent=g,m.classList.toggle(s4)):(i1(l,c,s,u,n,o),m.textContent=r,m.classList.toggle(s6)),m.addEventListener("click",e=>{null==document.getElementById(c)?(i1(l,c,s,u,n,o),m.textContent=r):(document.getElementById(c)?.remove(),a(),console.log("Removed "+c),m.textContent=g),m.classList.toggle(s4),m.classList.toggle(s6)}),l}(io(n.id,t.dictRef),d,t.dictRef,i.getValue.bind(i),i.setValue,()=>e.removeProperty(t.dictRef),sQ,sZ);n.appendChild(a)}else console.log("Expecting "+tP.tagName+" but finding none!")}(t,d,0,s,i,0,0),d}(X,j,$[e],V,l,sQ,sZ);j.setProperty(t)}let W=n[e].getElementsByTagName(t6.tagName);if(W.length>0){if(W.length>1)throw Error("Expecting 1 or 0 "+t6.tagName+" but finding "+W.length+"!");(function(e,t,s,i){let n=s.getElementsByTagName(t2.tagName);if(n.length>0){let s=io(i.id,t6.tagName),a=document.createElement("div");v(io(s,s2),i,null,a,t6.tagName,sQ,sZ);let l=[];for(let e=0;e<n.length;e++){let t=O(n[e]),i=new(o(d))(t),r=new t2(Y(n[e]),i);l.push(r);let g=t2.tagName,h=io(s,t2.tagName,e),m=w("number",h,sQ,sZ,s=>{let i=s.target;i8(r,i),t=i.value,l[e].setValue(new(o(d))(t)),console.log("Set "+h+" to "+t),M(i)},t,g);a.appendChild(m);let c=document.createElement("label");c.textContent="units cm-1",m.appendChild(c)}e.setDeltaEDowns(l),t.setEnergyTransferModel(e)}})(new t6(Y(W[0])),l,W[0],i),h.delete(t6.tagName)}let K=n[e].getElementsByTagName(t8.tagName);if(K.length>0){if(K.length>1)throw Error("Expecting 1 or 0 "+t8.tagName+" but finding "+K.length+"!");let e=new t8(Y(K[0]));i.appendChild(z(t8.tagName,t8.xsi_typeOptions,t8.tagName,e.getXsiType(),io(s,t8.tagName),sQ,sZ)),h.delete(t8.tagName)}let Z=n[e].getElementsByTagName(se.tagName);if(Z.length>0){if(Z.length>1)throw Error("Expecting 1 or 0 "+se.tagName+" but finding "+Z.length+"!");let e=Y(Z[0]),t=new se(e);l.setDistributionCalcMethod(t);let n=L(io(s,se.tagName));i.appendChild(n),n.appendChild(P(se.tagName+" "+g(e),sZ)),h.delete(se.tagName)}let Q=n[e].getElementsByTagName(sh.tagName);if(Q.length>0){if(Q.length>1)throw Error("Expecting 1 or 0 "+sh.tagName+" but finding "+Q.length+"!");let e=new sh(Y(Q[0]));l.setDensityOfStatesList(e);let t=io(s,sh.tagName),n=L(t);v(io(t,s2),i,null,n,sh.tagName,sQ,sZ);let a=Q[0].getElementsByTagName(sg.tagName),r=Q[0].getElementsByTagName(tT.tagName);if(r.length>0){if(r.length>1)throw Error("Expecting 1 or 0 "+tT.tagName+" but finding "+r.length+"!");let t=new tT(Y(r[0]),k(G(r[0])));e.setDescription(t)}if(0==a.length)throw Error("Expecting 1 or more "+sg.tagName+" but finding 0!");{let s=B(io(t,s7),sZ);D(s,sg.header),n.appendChild(s);for(let i=0;i<a.length;i++){let l=new sg(Y(a[i]));e.addDensityOfStates(l);let r=I(io(t,i),sZ);n.appendChild(r);let g=a[i].getElementsByTagName(tR.tagName);if(1!=g.length)throw Error("Expecting 1 "+tR.tagName+" but finding "+g.length+"!");{let e=new tR(Y(g[0]),new(o(d))(k(G(g[0]))));l.setT(e)}let h=a[i].getElementsByTagName(sd.tagName);if(1!=h.length)throw Error("Expecting 1 "+sd.tagName+" but finding "+h.length+"!");{let e=new sd(Y(h[0]),new(o(d))(k(G(h[0]))));l.setQtot(e)}let m=a[i].getElementsByTagName(sl.tagName);if(1!=m.length)throw Error("Expecting 1 "+sl.tagName+" but finding "+m.length+"!");{let e=new sl(Y(m[0]),new(o(d))(k(G(m[0]))));l.setSumc(e)}let c=a[i].getElementsByTagName(sr.tagName);if(1!=c.length)throw Error("Expecting 1 "+sr.tagName+" but finding "+c.length+"!");{let e=new sr(Y(c[0]),new(o(d))(k(G(c[0]))));l.setSumg(e)}D(s,l.toStringArray())}nH(e.toCSV,n,s,l.getID()+"_"+sh.tagName,sZ)}h.delete(sh.tagName)}let J=ss.tagName,ee=n[e].getElementsByTagName(J);if(ee.length>0){let e;if(ee.length>1)throw Error("Expecting 1 or 0 "+J+" but finding "+ee.length+"!");let t=new ss(Y(ee[0])),n=io(s,ss.tagName),a=L(n);v(io(n,s2),i,null,a,J,sQ,sZ);let o=st.tagName,d=ee[0].getElementsByTagName(o);if(0==d.length)throw Error("Expecting 1 or more "+o+" but finding 0!");{e=[];let s=B(io(n,s7),sZ);D(s,t.getHeader());for(let t=0;t<d.length;t++){let i=new st(Y(d[t]));e.push(i),D(s,i.toStringArray())}a.appendChild(s),t.init(e),nH(t.toCSV.bind(t),a,s,l.getID()+"_"+ss.tagName,sZ)}l.setThermoTable(t),h.delete(o),h.delete(J)}let et=n[e].getElementsByTagName(sa.tagName);if(et.length>0)for(let e=0;e<et.length;e++){let t=new sa(Y(et[e])),n=io(s,sa.tagName,e),a=L(n);v(io(n,s2),i,null,a,sa.tagName,sQ,sZ);let r=et[e].getElementsByTagName(t9.tagName);if(r.length>0){if(1!=r.length)throw Error("Expecting only 1 bondRef, but there are "+r.length);let e=l.getBonds().getBondIds(),t=new t9(Y(r[0]),k(G(r[0]))),s=z(t9.tagName,e,t9.tagName,t.value,io(n,t9.tagName),sQ,sZ);s.getElementsByTagName("select")[0].classList.add(tL.tagName),a.appendChild(s)}let g=et[e].getElementsByTagName(si.tagName);if(g.length>0){if(1!=g.length)throw Error("Expecting only 1 HinderedRotorPotential, but there are "+g.length);let e=Y(g[0]),s=new si(e),l=io(n,si.tagName),r=L(l);v(io(l,s2),a,null,r,si.tagName,sQ,sZ);let h=z(si.s_format,si.formats,si.tagName,s.getFormat(),io(l,si.s_format),sQ,sZ);r.appendChild(h),i4(tS.energyUnits,e,r,h,io(l,si.s_units),si.tagName,sQ,sZ);let m=s.getExpansionSize()??ie;r.appendChild(w("text",io(l,si.s_expansionSize),sQ,sZ,e=>{let t=e.target;try{console.log("Setting "+si.s_expansionSize+" to "+t.value),s.setExpansionSize(new(o(d))(t.value))}catch(e){alert("Invalid value, resetting..."),t.value=s.getExpansionSize()??ie}M(t)},m,si.s_expansionSize)),function(e,t,s){io(e.id,si.s_useSineTerms);let i=si.s_useSineTerms+sJ,n=si.s_useSineTerms+s0,a=_(n,void 0,s);e.appendChild(a),a.classList.add(s4),a.classList.add(s6),!0==t.getUseSineTerms()?(a.textContent=i,a.classList.toggle(s6)):(a.textContent=n,a.classList.toggle(s4)),a.addEventListener("click",e=>{!1==t.getUseSineTerms()?(t.setUseSineTerms(!0),a.textContent=i):(t.setUseSineTerms(!1),a.textContent=n),a.classList.toggle(s4),a.classList.toggle(s6)})}(r,s,sZ);let u=io(l,t7.tagName),N=L(u),p=v(io(u,s2),i,null,N,"PotentialPoints",sQ,sZ);r.appendChild(p);let f=[],x=g[0].getElementsByTagName(t7.tagName);for(let e=0;e<x.length;e++){let t=new t7(Y(x[e]));f.push(t);let s=io(u,e),i=I(s,sZ);N.appendChild(i);let n=P(t7.tagName+" "+e,sQ);i.appendChild(n);let a=t.getAngle()??ie,l=w("text",io(s,t7.s_angle),sQ,sQ,e=>{let s=e.target;if(c(s.value)){let e=new(o(d))(s.value);t.setAngle(e)}else alert("Angle input is not a number, resetting..."),s.value=t.getAngle()??ie;M(s)},a,t7.s_angle);i.appendChild(l);let r=P(t7.s_potential,sQ);i.appendChild(r);let g=y("text",io(s,t7.s_potential),sQ);i.appendChild(g);let h=t.getPotential()??ie;g.addEventListener("change",e=>{let s=e.target;if(c(s.value)){let e=new(o(d))(s.value);t.setPotential(e),console.log("Set "+t7.tagName+" to "+e.toExponential())}else alert("Potential input is not a number, resetting..."),g.value=t.getPotential()??ie;M(g)}),g.value=h,M(g)}s.setPotentialPoints(f),t.setHinderedRotorPotential(s)}let m=et[e].getElementsByTagName(sn.tagName);if(m.length>0){if(1!=m.length)throw Error("Expecting only 1 Periodicity, but there are "+m.length);let e=k(G(m[0])),s=new sn(Y(m[0]),new(o(d))(e));t.setPeriodicity(s);let i=w("text",io(n,sn.tagName),sQ,sZ,i=>{let n=i.target;if(c(e=n.value)){let i=new(o(d))(e);s.value=i,t.getPeriodicity().value=i,console.log("Set "+sn.tagName+" to "+i)}else alert("Periodicity input is not a number, resetting..."),n.value=s.value.toExponential()},e,sn.tagName);a.appendChild(i)}l.setExtraDOSCMethod(e,t),h.delete(sa.tagName)}h.delete(so.tagName);let es=n[e].getElementsByTagName(so.tagName);if(es.length>0){if(1!=es.length)throw Error("Expecting only 1 reservoirSize, but there are "+es.length);let e=k(G(es[0])),t=new(o(d))(e),s=new so(Y(es[0]),t);l.setReservoirSize(s);let n=w("number",l.getID()+"_"+so.tagName,sQ,sZ,e=>{let t=e.target;s.value=new(o(d))(t.value),M(t)},e,so.tagName);i.appendChild(n)}h.delete("#text"),h.size>0&&(console.warn("There are additional unexpected moleculeTagNames:"),h.forEach(e=>console.warn(e)))}let l=iG(t);return ik(t,l),t}(b),tw.tagName,sQ,sK),U=document.getElementById(ih),id(V=io(ty.tagName)),v(V,U,null,function(e){i=new Map;let t=L(void 0,sQ),s=$(e,ty.tagName),n=new Set;if(s.childNodes.forEach(function(e){n.add(e.nodeName)}),1!=n.size&&!(2==n.size&&n.has("#text")))throw console.error("reactionListTagNames:"),n.forEach(e=>console.error(e)),Error("Additional tag names in reactionList:");if(!n.has(s_.tagName))throw Error('Expecting tags with "'+s_.tagName+'" tagName but there are none!');let a=s.getElementsByTagName(s_.tagName);console.log("Number of reactions="+a.length);for(let e=0;e<a.length;e++){let s=new s_(Y(a[e]));i.set(s.id,s);let n=new Set,l=a[e].childNodes,r=io(s_.tagName,e),h=L(r);for(let e=0;e<l.length;e++){let t=l[e];n.has(t.nodeName)?"#text"!=t.nodeName&&console.warn("Another ChildNode with nodeName="+t.nodeName):n.add(t.nodeName)}let m=a[e].getElementsByTagName(su.tagName);if(n.delete(su.tagName),m.length>0){let e=io(r,su.tagName),t=L(e);v(io(e,s2),h,null,t,"Reactants",sQ,sZ);let i=[];for(let s=0;s<m.length;s++){let n=io(e,su.tagName,s),a=new sc(Y(A(m[s],sm.tagName))),o=new su(Y(m[s]),a);i.push(o);let d=z(a.getRef()+" role",su.roleOptions,"Role",a.getRole(),io(n,x),sQ,sZ);d.querySelector("select")?.addEventListener("change",e=>{let t=e.target;a.setRole(t.value),console.log("Set Role to "+t.value),S(t)}),t.appendChild(d)}s.setReactants(i)}let c=a[e].getElementsByTagName(sN.tagName);if(n.delete(sN.tagName),c.length>0){let e=io(r,sN.tagName),t=L(e);v(io(e,s2),h,null,t,"Products",sQ,sZ);let i=[];for(let s=0;s<c.length;s++){let n=new sc(Y(A(c[s],sm.tagName))),a=new sN(Y(c[s]),n);i.push(a);let o=z(n.getRef()+" role",sN.roleOptions,n.getRole(),n.getRef(),io(e,s,"Role"),sQ,sZ),d=o.querySelector("select");d.value=n.getRole(),d.addEventListener("change",e=>{let t=e.target;n.setRole(t.value),console.log("Set Role to "+t.value),S(t)}),S(d),t.appendChild(o)}s.setProducts(i)}v(io(r,s2),t,null,h,s.id+" ("+s.getLabel()+")",sQ,sZ);let u=a[e].getElementsByTagName(sb.tagName);if(u.length>0){if(u.length>1)throw Error("Expecting 1 "+sb.tagName+" but finding "+u.length+"!");let e=new sb(Y(u[0]));s.setTunneling(e);let t=z(sb.tagName,sb.options,"Tunneling",e.getName(),io(r,sb.tagName),sQ,sZ);t.querySelector("select")?.addEventListener("change",t=>{let s=t.target;e.setName(s.value),console.log("Set Tunneling to "+s.value),S(s)}),h.appendChild(t)}let N=a[e].getElementsByTagName(sp.tagName);if(N.length>0){let e=io(r,sp.tagName),t=L(e);v(io(e,s2),h,null,t,"Transition States",sQ,sZ);let i=[];for(let e=0;e<N.length;e++){let s=new sc(Y(A(N[e],sm.tagName))),n=new sp(Y(N[e]),s);i.push(n);let a=P(s.getRef()+" role transitionState",sZ);t.appendChild(a)}s.setTransitionStates(i)}let p=a[e].getElementsByTagName(sw.tagName);if(p.length>0){if(p.length>1)throw Error("Expecting 1 "+sw.tagName+" but finding "+p.length+"!");{let e;let t=Y(p[0]),i=t.get("xsi:type");void 0==i&&(i=t.get("name"));let n=io(r,sw.tagName),a=L(n);if(i==sy.xsiType||i==sy.xsiType2){let s=v(io(n,s2),h,null,a,sw.tagName,sQ,sZ);h.appendChild(s),e=new sy(t);let i=p[0].getElementsByTagName(sf.tagName);if(null!=i&&null!=i[0]){let t=O(i[0]),s=new(o(d))(t),l=Y(i[0]),r=new sf(l,s);e.setPreExponential(r);let g=w("number",io(n,sf.tagName,s5),sQ,sZ,e=>{i8(r,e.target)},t,sf.tagName);a.appendChild(g);let h=g.querySelector("input");h.value=t,M(h),h.addEventListener("change",e=>{t=e.target.value,r.value=new(o(d))(t),console.log(sf.tagName+" changed to "+t),M(h)}),i4(void 0,l,g,null,io(n,sf.tagName),sf.tagName,sQ,sQ),a.appendChild(g)}let l=p[0].getElementsByTagName(sx.tagName);if(null!=l&&null!=l[0]){let t=O(l[0]),s=new(o(d))(t),i=Y(l[0]),r=new sx(i,s);e.setActivationEnergy(r);let g=w("number",io(n,sx.tagName,s5),sQ,sZ,e=>{i8(r,e.target)},t,sx.tagName),h=g.querySelector("input");h.value=t,M(h),h.addEventListener("change",e=>{t=e.target.value,r.value=new(o(d))(t),console.log(sx.tagName+" changed to "+t),M(h)}),i4(void 0,i,g,null,io(n,sx.tagName),sx.tagName,sQ,sQ),a.appendChild(g)}let r=p[0].getElementsByTagName(sv.tagName);if(null!=r&&null!=r[0]){let t=O(r[0]),s=new(o(d))(t),i=Y(r[0]),l=new sv(i,s);e.setTInfinity(l);let g=w("number",io(n,sv.tagName,s5),sQ,sZ,e=>{i8(l,e.target)},t,sv.tagName),h=g.querySelector("input");h.value=t,M(h),h.addEventListener("change",e=>{t=e.target.value,l.value=new(o(d))(t),console.log(sv.tagName+" changed to "+t),M(h)}),i4(void 0,i,g,null,io(n,sv.tagName),sv.tagName,sQ,sQ),a.appendChild(g)}let g=p[0].getElementsByTagName(sE.tagName);if(null!=g&&null!=g[0]){let t=O(g[0]),s=new(o(d))(t),i=Y(g[0]),l=new sE(i,s);e.setNInfinity(l);let r=w("number",io(n,sE.tagName,s5),sQ,sZ,e=>{i8(l,e.target)},t,sE.tagName);a.appendChild(r);let h=r.querySelector("input");h.value=t,M(h),h.addEventListener("change",e=>{t=e.target.value,l.value=new(o(d))(t),console.log(sE.tagName+" set to "+t),M(h)}),i4(void 0,i,r,null,io(n,sE.tagName),sE.tagName,sQ,sQ),a.appendChild(r)}}else{e=new sw(t);let s=document.createElement("label");s.textContent=sw.tagName+": "+i,Object.assign(s.style,sZ),a.appendChild(s),h.appendChild(a)}s.setMCRCMethod(e)}}let f=a[e].getElementsByTagName(sC.tagName);if(f.length>0){if(f.length>1)throw Error("Expecting 1 "+sC.tagName+" but finding "+f.length+"!");let e=new(o(d))(k(G(f[0]))),t=new sC(Y(f[0]),e);s.setExcessReactantConc(t);let i=w("number",io(r,sC.tagName),sQ,sZ,e=>{i8(t,e.target)},e.toExponential(),sC.tagName);h.appendChild(i)}let E=a[e].getElementsByTagName(sz.tagName);if(E.length>0){if(E.length>1)throw Error("Expecting 1 "+sz.tagName+" but finding "+E.length+"!");let e=Y(E[0]),t=new sz(e);s.setCanonicalRateList(t);let i=io(r,sz.tagName),n=L(i),a=v(io(i,s2),h,null,n,sz.tagName,sQ,sZ);h.appendChild(a);let l=E[0].getElementsByTagName(tT.tagName);if(l.length>0){if(l.length>1)throw Error("Expecting 1 "+tT.tagName+" but finding "+l.length+"!");let s=k(G(l[0]));t.setDescription(new tT(Y(l[0]),s));let i=P(s+" ("+g(e)+")",sQ),a=L(void 0,sZ);a.appendChild(i),n.appendChild(a)}let m=E[0].getElementsByTagName(sR.tagName);if(m.length>0){let e=B(io(i,sR.tagName,s7),sZ);n.appendChild(e);for(let s=0;s<m.length;s++){let i=new sR(Y(m[s]));t.addKinf(i);let n=m[s].getElementsByTagName(tR.tagName);if(n.length>0){if(n.length>1)throw Error("Expecting 1 "+tR.tagName+" but finding "+n.length+"!");let e=new(o(d))(k(G(n[0])));i.setT(new tR(Y(n[0]),e))}let a=m[s].getElementsByTagName(sM.tagName);if(a.length>0){if(a.length>1)throw Error("Expecting 1 "+sM.tagName+" but finding "+a.length+"!");let e=new(o(d))(k(G(a[0])));i.setVal(new sM(Y(a[0]),e))}let l=m[s].getElementsByTagName(sS.tagName);if(l.length>0){if(l.length>1)throw Error("Expecting 1 "+sS.tagName+" but finding "+l.length+"!");let e=new(o(d))(k(G(l[0])));i.setRev(new sS(Y(l[0]),e))}let r=m[s].getElementsByTagName(sT.tagName);if(r.length>0){if(r.length>1)throw Error("Expecting 1 "+sT.tagName+" but finding "+r.length+"!");let e=new(o(d))(k(G(r[0])));i.setKeq(new sT(Y(r[0]),e))}0==s&&D(e,i.getHeader()),D(e,i.toStringArray())}nH(t.toCSV.bind(t),n,e,s.id+"_"+sz.tagName,sZ)}}}return t}(b),ty.tagName,sQ,sK),j=document.getElementById(im),X=io(iL),null!=a&&(a.close(),a=null),id(X),v(X,j,null,W=L(void 0,sZ),iL,sQ,sK),eo=L(ea=io(X,f+"s")),W.appendChild(eo),el=_(ed="Pop into a new Window",io(ea,f)),eo.appendChild(el),(er=document.createElement("canvas")).id=iP,W.appendChild(er),er.height=400,er.style.border="1px solid black",nA(er,t,iB,4,2),el.addEventListener("click",()=>{if(null==a){let e=document.createElement("canvas");e.id=iP,(a=window.open("",iL,"width="+er.width+", height="+er.height)).document.body.appendChild(e),nA(e,t,iB,4,2),id(iP),el.textContent="Pop into this Window"}else(er=document.createElement("canvas")).id=iP,W.appendChild(er),nA(er,t,iB,4,2),a.close(),a=null,el.textContent=ed}),nF(er,eo,null,iL),eg=document.getElementById(ic),id(eh=io(em.tagName)),v(eh,eg,null,function(e){let t;console.log(em.tagName);let i=L(void 0,sQ),n=e.getElementsByTagName(em.tagName);for(let e=0;e<n.length;e++){let t=n[e],a=io(em.tagName,e.toString()),o=L(a,sQ),d=io(a,s2);v(d,i,null,o,em.tagName+" "+e.toString(),sQ,sZ);let l=ne(Y(t),e);i9(l,o,t),i7(l,o,t),i0(o,sZ,s.removeConditions.bind(s),e).addEventListener("click",e=>{id(d),iy.removeIDs(a)})}return t=_(s1,void 0,sZ),i.appendChild(t),t.addEventListener("click",e=>{let n,a=s.getNextConditionsID();console.log("Add Conditions "+a.toString());let o=io(em.tagName,a.toString()),d=L(o,sQ),l=io(o,s2);if(a>0){let e=document.getElementById(r(em.tagName,(a-1).toString(),s2)).nextElementSibling;n=null!=e&&e.parentElement==i?e:t}else n=t;v(l,i,n,d,em.tagName+" "+a.toString(),sQ,sZ);let g=ne(new Map,a);i9(g,d,null),i7(g,d,null),i0(d,sZ,s.removeConditions.bind(s),a).addEventListener("click",e=>{id(l),iy.removeIDs(o)})}),i}(b),"ConditionsList",sQ,sK),ec=document.getElementById(iu),id(eu=io(tv.tagName,"list")),v(eu,ec,null,function(e){let t,i;console.log(tv.tagName);let n=L(void 0,sQ),a=e.getElementsByTagName(tv.tagName);for(let e=0;e<a.length;e++){let t=io(tv.tagName,e.toString()),i=L(t,sQ),l=io(t,s2);v(l,n,null,i,tv.tagName+" "+e.toString(),sQ,sZ);let g=nu(Y(a[e]),e);(function(e,t,s){let i,n,a=tN.tagName,l=I(ib.addID(s.id,a),sZ);s.appendChild(l);let g=a+sJ,h=a+s0,m=_(a,ib.addID(s.id,a,f),sQ);m.classList.add(s4),m.classList.add(s6),l.appendChild(m);let c=ib.addID(s.id,a,s5);if(null!=t){let s=t.getElementsByTagName(a);if(1==s.length){n=k(G(s[0]));let t=new(o(d))(n);i=new tN(Y(s[0]),t),m.textContent=g,nf(e,l,i,c,n,e.setGrainSize,tS.energyUnits),m.classList.toggle(s6)}else i=nN(a),m.textContent=h,m.classList.toggle(s4)}else i=nN(a),m.textContent=h,m.classList.toggle(s4);m.addEventListener("click",()=>{e.index.has(tN.tagName)?(e.removeGrainSize(),document.getElementById(c)?.remove(),document.getElementById(r(c,it))?.remove(),m.textContent=h):(nf(e,l,i,c,n,e.setGrainSize,tS.energyUnits),m.textContent=g),m.classList.toggle(s4),m.classList.toggle(s6)})})(g,a[e],i),np(g,a[e],i,tn,g.setAutomaticallySetMaxEne,g.removeAutomaticallySetMaxEne.bind(g)),np(g,a[e],i,tf,g.setEnergyAboveTheTopHill,g.removeEnergyAboveTheTopHill.bind(g)),np(g,a[e],i,tx,g.setMaxTemperature,g.removeMaxTemperature.bind(g)),i0(i,sZ,s.removeModelParameters.bind(s),e).addEventListener("click",e=>{id(l),ib.removeIDs(t)})}return t=_(s1,void 0,sZ),i=tv.tagName,n.appendChild(t),t.addEventListener("click",e=>{let a,o=s.getNextModelParametersID();console.log("Add "+i+o.toString());let d=io(i,o.toString()),l=L(d,sQ),g=io(d,s2);if(o>0){let e=document.getElementById(r(i,(o-1).toString(),s2)).nextElementSibling;a=null!=e&&e.parentElement==n?e:t}else a=t;v(g,n,a,l,i+" "+o.toString(),sQ,sZ);let h=nu(new Map,o);(function(e,t){let s,i=tN.tagName,n=I(ib.addID(t.id,i),sZ);t.appendChild(n);let a=i+sJ,o=i+s0,d=_(i,ib.addID(t.id,i,f),sQ);d.classList.add(s4),d.classList.add(s6),n.appendChild(d);let l=ib.addID(t.id,i,s5);d.textContent=o,d.classList.toggle(s4),d.addEventListener("click",()=>{e.index.has(tN.tagName)?(console.log("Removing GrainSize input"),e.removeGrainSize(),document.getElementById(l)?.remove(),document.getElementById(r(l,it))?.remove(),d.textContent=o):(console.log("Adding GrainSize input"),s=nN(i),e.setGrainSize(s),nf(e,n,s,l,s.value.toString(),e.setGrainSize,tS.energyUnits),d.textContent=a),d.classList.toggle(s4),d.classList.toggle(s6)})})(h,l),np(h,null,l,tn,h.setAutomaticallySetMaxEne,h.removeAutomaticallySetMaxEne),np(h,null,l,tf,h.setEnergyAboveTheTopHill,h.removeEnergyAboveTheTopHill),np(h,null,l,tx,h.setMaxTemperature,h.removeMaxTemperature),i0(l,sZ,s.removeModelParameters.bind(s),o).addEventListener("click",e=>{id(g),ib.removeIDs(d)})}),n}(b),"ModelParametersList",sQ,sK),eN=document.getElementById(iN),id(ep=io(td.tagName)),v(ep,eN,null,function(e){let t;console.log(td.tagName);let i=L(void 0,sQ),n=e.getElementsByTagName(td.tagName);for(let e=0;e<n.length;e++){let t=n[e],a=io(td.tagName,e.toString()),o=L(a,sQ);i.appendChild(o);let d=io(a,s2);v(d,i,null,o,td.tagName+" "+e.toString(),sQ,sZ);let l=nE(Y(t),e),r=new Map;nx(l).forEach(e=>{ny(l,o,r,t,null,e.class,e.setMethod,e.removeMethod)});let h=I(void 0,sZ);new Map([...r.entries()].sort()).forEach(e=>{h.appendChild(e)}),o.appendChild(h),nC(l,o,null,sZ),nb(l,o,t,sZ),nv(l).forEach(e=>{ny(l,o,r,t,sZ,e.class,e.setMethod,e.removeMethod,!0)});let m=t.getElementsByTagName(eI.tagName);if(1==m.length){let e=Y(m[0]),t=k(G(m[0])),s=new eI(e,t);l.setForceMacroDetailedBalance(s);let i=I(iC.addID(a,eI.tagName),sZ);o.appendChild(i);let n=P(eI.tagName+" "+g(e)+" "+t,sQ);i.appendChild(n)}i0(o,sZ,s.removeControl.bind(s),e).addEventListener("click",e=>{id(d),iC.removeIDs(a)})}return t=_(s1,void 0,sZ),i.appendChild(t),t.addEventListener("click",e=>{let n,a=s.getNextControlID();console.log("Add Control "+a.toString());let o=io(td.tagName,a.toString()),d=L(o,sQ);if(a>0){let e=document.getElementById(r(td.tagName,(a-1).toString(),s2)).nextElementSibling;n=null!=e&&e.parentElement==i?e:t}else n=t;let l=io(o,s2);v(l,i,n,d,td.tagName+" "+a.toString(),sQ,sZ);let g=nE(new Map,a),h=new Map;nx(g).forEach(e=>{ny(g,d,h,null,null,e.class,e.setMethod,e.removeMethod)});let m=I(void 0,sZ);new Map([...h.entries()].sort()).forEach(e=>{m.appendChild(e)}),d.appendChild(m),nC(g,d,null,sZ),nb(g,d,null,sZ),nv(g).forEach(e=>{ny(g,d,h,null,sZ,e.class,e.setMethod,e.removeMethod,!0)}),i0(d,sZ,s.removeControl.bind(s),a).addEventListener("click",e=>{id(l),iC.removeIDs(o)})}),i}(b),"ControlList",sQ,sK),ef=document.getElementById(ip),id(ex=io(tu.tagName)),v(ex,ef,null,function(e){console.log(tu.tagName);let t=L(io(tu.tagName,0),sQ),i=e.getElementsByTagName(tu.tagName);if(i.length>0){if(i.length>1)throw Error("More than one MetadataList element.");let e=new tu(Y(i[0]));function n(s,n,a){let o=i[0].getElementsByTagName(s);if(o.length>0){if(1==o.length){let s=G(o[0])?.nodeValue??"",i=new n(Y(o[0]),s),d=L(void 0,sZ);t.appendChild(d),d.appendChild(P(i.tagName+" "+s,sQ)),a.call(e,i)}else throw Error(`More than one ${s} element.`)}}s.setMetadataList(e),n(tg.tagName,tg,e.setSource),n(th.tagName,th,e.setCreator),n(tm.tagName,tm,e.setDate),n(tc.tagName,tc,e.setContributor)}return t}(b),tu.tagName,sQ,sK),ev=document.getElementById(ix),id(eE=io(en.tagName)),v(eE,ev,null,function(e){console.log(en.tagName);let t=io(en.tagName,0),i=L(t,sQ),a=e.getElementsByTagName(en.tagName);if(a.length>0){if(a.length>1)throw Error("More than one Analysis element.");let e=new en(Y(a[0]));s.setAnalysis(e);let l=a[0].getElementsByTagName(tT.tagName);if(l.length>0){if(1==l.length){let s=G(l[0])?.nodeValue??"",n=new tT(Y(l[0]),s),a=L(io(t,tT.tagName),sZ);i.appendChild(a),a.appendChild(P(n.tagName+" "+s,sQ)),e.setDescription(n)}else throw Error("More than one Description element.")}let r=a[0].getElementsByTagName(Z.tagName),m=io(t,Z.tagName),c=L(m,sZ);if(v(m,i,null,c,Z.tagName+"s",sQ,sZ),r.length>0)for(let t=0;t<r.length;t++){let s=Y(r[t]),i=new Z(s),n=i.tagName+" "+t.toString()+" "+g(s),a=io(c.id,t.toString()),l=L(m,sZ);v(a,c,null,l,n,sQ,sK),e.addEigenvalueList(i);let u=[],N=r[t].getElementsByTagName(K.tagName);if(N.length>0)for(let e=0;e<N.length;e++){let t=new(o(d))(G(N[e])?.nodeValue);u.push(t),i.addEigenvalue(new K(Y(N[e]),t))}l.appendChild(P(h(u,", "),sQ))}let u=a[0].getElementsByTagName(ee.tagName),N=io(t,ee.tagName),p=L(N,sZ);if(v(N,i,null,p,ee.tagName+"s",sQ,sZ),u.length>0)for(let t=0;t<u.length;t++){let s=Y(u[t]);void 0!=s.get("T")&&new(o(d))(s.get("T")),void 0!=s.get("conc")&&new(o(d))(s.get("conc"));let a=new ee(s),l=a.tagName+" "+t.toString()+" "+g(s),r=io(i.id,ee.tagName,t.toString()),h=io(r,t.toString()),m=L(r,sZ);v(h,p,null,m,l,sQ,sK),e.addPopulationList(a);let c=new Map,N=[];N.push("time");let f=u[t].getElementsByTagName(J.tagName);if(f.length>0)for(let e=0;e<f.length;e++){let t=Y(f[e]),s=new J(t,[]);a.addPopulation(s);let i=void 0!=t.get("time")?new(o(d))(t.get("time")):iE,n=new Map;c.set(i,n);let l=f[e].getElementsByTagName(Q.tagName);if(l.length>0)for(let t=0;t<l.length;t++){let i=Y(l[t]),a=i.get("ref");0==e&&N.push(a);let r=new(o(d))(G(l[t])?.nodeValue),g=new Q(i,r);s.addPop(g),n.set(a,r)}}let x=L(io(h,"graph"),sQ);m.appendChild(x);let E=document.createElement("canvas");x.appendChild(E);let w=new nB(E,c,"2em SensSerif");n.push(w),nF(E,m,x,l);let y=L(io(h,s7),sQ);m.appendChild(y);let b=B(io(r,s7),sQ);D(b,N),c.forEach((e,t)=>{let s=[];s.push(t.toString()),e.forEach((e,t)=>{s.push(e.toString())}),D(b,s)}),y.appendChild(b),nH(()=>nD(b),m,y,l,sQ)}let f=a[0].getElementsByTagName(ei.tagName),x=io(t,ei.tagName),E=L(x,sZ);if(v(x,i,null,E,ei.tagName+"s",sQ,sZ),f.length>0){let t=L(io(x,s7),sQ);E.appendChild(t);let s=B(io(N,s7),sQ),i=["T","conc"];for(let t=0;t<f.length;t++){let n=Y(f[t]),a=[];a.push(n.get("T")),a.push(n.get("conc"));let l=new ei(n);e.addRateList(l);let r=f[t].getElementsByTagName(es.tagName);if(r.length>0)for(let e=0;e<r.length;e++){let s=Y(r[e]);if(0==t){let e=s.get("fromRef"),t=s.get("toRef");i.push(e+"->"+t)}let n=(G(r[e])?.nodeValue??"").trim();a.push(n);let g=new es(s,new(o(d))(n));l.addFirstOrderRate(g)}let g=f[t].getElementsByTagName(et.tagName);if(g.length>0)for(let e=0;e<g.length;e++){let s=Y(g[e]);0==t&&Array.from(s.values()).forEach(e=>{i.push("loss of "+e)});let n=(G(g[e])?.nodeValue??"").trim();a.push(n);let r=new et(s,new(o(d))(n));l.addFirstOrderLoss(r)}0==t&&D(s,i),D(s,a)}t.appendChild(s),nH(()=>nD(s),E,t,"Bartis-Widom Phenomenological Rate Coefficients",sQ)}}return i}(b),en.tagName,sQ,sK)}}};let E=l.slice(N,N+1048576);u.readAsText(E),N+=1048576}},m.click()}),l.appendChild(R),(H=_(F="Save MESMER File",ia(F),sQ)).addEventListener("click",nk),l.appendChild(H),iD("Replace with a title for the MESMER file you want to create.",new Map);let V=document.getElementById(ig),j=io(tw.tagName),X=L(j);V.appendChild(X),v(j,V,null,X,tw.tagName,sQ,sK);let W=iG(X);ik(X,W);let ea=document.getElementById(ih),eo=io(ty.tagName),ed=L(eo);ea.appendChild(ed),v(eo,ea,null,ed,ty.tagName,sQ,sK),q=_(s1,io(s_.tagName,f)),ed.appendChild(q),q.addEventListener("click",()=>{let e=new Map;e.set(s_.s_id,"R"+i.size);let t=new s_(e);i.set(t.id,t);let s=io(s_.tagName,t.id),n=L(s);ed.appendChild(n);let a=io(s,s2),o=v(a,ed,null,n,t.getLabel(),sQ,sZ);v(io(a,s2),n,null,o,su.tagName,sQ,sZ)})});class nB{constructor(e,t,s){this.canvas=e,this.data=t,this.draw(s)}draw(e){this.canvas.width=800,this.canvas.height=400;let t=this.canvas.getContext("2d");t.font=e,t.clearRect(0,0,this.canvas.width,this.canvas.height);let s=this.canvas.width,i=this.canvas.height,n=Number.MAX_VALUE,a=Number.MIN_VALUE,o=0;this.data.forEach((e,s)=>{let i=Math.log10(s.toNumber());n=Math.min(n,i),a=Math.max(a,i),e.forEach((e,s)=>{o=Math.max(o,t.measureText(s).width)})});let d=0;for(let e=0;e<2;e++){let s=1-1*e;d=Math.max(d,t.measureText(s.toString()).width)}let l=t.measureText("0"),r=l.actualBoundingBoxAscent+l.actualBoundingBoxDescent,g=4*r,h=d+r+20,m=i-(h+3*r),c=s-(g+o+20),u=(c-h)/(a-n),N=(g-m)/1;t.beginPath(),t.moveTo(h,m),t.lineTo(c,m),t.stroke(),t.beginPath(),t.moveTo(h,m),t.lineTo(h,g),t.stroke();let p=["red","green","blue","orange","purple","grey","cyan","magenta","lightblue","lightgreen","pink","yellow","brown","black"],f=new Map;this.data.forEach((e,s)=>{let i=0;e.forEach((e,a)=>{let o=h+(Math.log10(s.toNumber())-n)*u,d=e.toNumber();if(d<1){let e=m+(d-0)*N;if(e>0){t.beginPath(),t.arc(o,e,2,0,2*Math.PI);let s=p[i%p.length];f.set(a,s),t.fillStyle=s,t.fill()}}i++})}),t.textAlign="center",t.textBaseline="top",t.fillStyle="black",t.fillText("log10(time/secs)",h+(c-h)/2,m+g/2),t.save(),t.rotate(-Math.PI/2),t.textAlign="center",t.textBaseline="top",t.fillText("fractional population",-m-(g-m)/2,h-h),t.restore();let x=a-n,v=Math.abs(Math.ceil(x/Math.pow(10,Math.floor(Math.log10(x))))),E=Math.ceil(n/v),w=E*v;for(;w<a;){let e=h+(w-n)*u;t.beginPath(),t.moveTo(e,m),t.lineTo(e,m+5),t.stroke(),t.fillText(w.toString(),e,m+5),w+=v}for(let e=0;e<2;e++){let s=m-1*e;t.beginPath(),t.moveTo(h,s),t.lineTo(h-5,s),t.stroke()}let y=0;f.forEach((e,s)=>{let i=t.measureText(s),n=i.actualBoundingBoxAscent+i.actualBoundingBoxDescent;y=Math.max(y,n)});let b=c+20,C=y;E=0,f.forEach((e,s)=>{let i=g+E*C;t.fillStyle=e,t.fillRect(b,i,y/2,y/2),t.fillStyle="black",t.fillText(s,b+r+t.measureText(s).width/2,i-y/2),E++})}}function nD(e){let t="",s=e.rows;for(let e=0;e<s.length;e++){let i=s[e].cells;for(let e=0;e<i.length;e++)t+=i[e].textContent,e<i.length-1&&(t+=",");t+="\n"}return t}function nA(e,t,s,n,a){if(console.log("drawReactionDiagram"),null!=e){var o,d;let r,g,h,m,c,u,f,x,v;t?(r="lightgrey",g="lightblue",h="orange"):(r="darkgrey",g="blue",h="darkorange");let E=e.getContext("2d");E.clearRect(0,0,e.width,e.height),E.font="bold "+s;let w=(o=E.font,E.font=o,(d=E.measureText("Aj")).actualBoundingBoxAscent+d.actualBoundingBoxDescent),y=[],b=new Set,C=new Set,M=new Set,S=new Map,T=new Map,R=0;i.forEach(function(e,t){let s=e.getTransitionStates(),i=e.getReactantsLabel();if(void 0!=i){y.push(i),b.has(i)&&C.add(i);let t=e.getReactantsEnergy(i_,iR);m=p(m,t),c=N(c,t),T.set(i,t),!S.has(i)&&(S.set(i,R),R++)}let n=e.getProductsLabel();if(void 0!=n){b.add(n);let t=e.getProductsEnergy(i_,iR);if(m=p(m,t),c=N(c,t),T.set(n,t),S.has(n)){R--;let e=l(S,n);S.forEach(function(t,s){t>e&&S.set(s,t-1)}),void 0!=s&&(s.forEach(function(e){let s=e.getMolecule().getRef();M.add(s),S.set(s,R),t=i_(s,iR).getEnergy()??iE,m=p(m,t),c=N(c,t),T.set(s,t),R++}),S.set(n,R),R++)}else void 0!=s&&s.forEach(function(e){let s=e.getMolecule().getRef();M.add(s),S.set(s,R),t=i_(s,iR).getEnergy()??iE,m=p(m,t),c=N(c,t),T.set(s,t),R++}),S.set(n,R),R++}});let z=c.minus(m).toNumber(),_=[];S.forEach(function(e,t){_[e]=t});let L=0,I=0,P=new Map,B=new Map,D=new Map,A=new Map,G=new Map,k=new Map;_.forEach(function(e){let t=l(T,e),i=(t-m.toNumber())*400/(z+0)+0;v=Math.max(sW(E,t.toString(),s),sW(E,e,s)),f=L+v+5,x=u=i+n,P.set(e,[L,u]),B.set(e,[f,x]),b.has(e)&&(D.set(e,[L,u]),A.set(e,[f,x])),M.has(e)&&(G.set(e,[L,u]),k.set(e,[f,x])),L=f+10,I=f}),e.width=I;let O=400+4*w+2*n;e.height=O,E.transform(1,0,0,-1,0,O),i.forEach(function(e,t){let s=e.getTransitionStates(),i=e.getReactantsLabel(),n=e.getProductsLabel(),o=l(B,i),d=l(D,n);s.length>0?s.forEach(function(e){let t=e.getMolecule().getRef(),s=l(G,t);sY(E,r,a,o[0],o[1],s[0],s[1]);let i=l(k,t);sY(E,r,a,i[0],i[1],d[0],d[1])}):sY(E,r,a,o[0],o[1],d[0],d[1])}),y.forEach(function(e){let t=l(T,e),i=(t-m.toNumber())*400/(z+0)+0,a=l(P,e)[0],o=i+n,d=l(B,e)[0],r=t.toString();sX(E,g,n,a,o,d,o,s,w,e,r)}),b.forEach(function(e){let t=l(T,e),i=(t-m.toNumber())*400/(z+0)+0,a=l(D,e)[0],o=i+n,d=l(A,e)[0],r=t.toString();C.has(e)?sX(E,h,n,a,o,d,o,s,w,e,r):sX(E,"green",n,a,o,d,o,s,w,e,r)}),M.forEach(function(e){let t=l(T,e),i=(t-m.toNumber())*400/(z+0)+0,a=l(G,e)[0],o=i+n;sX(E,"red",n,a,o,l(k,e)[0],o,s,w,e,t.toString())})}}function nG(e,t,s,i=!1){let n=document.createElement("a");n.href=i?e:`data:${t};charset=utf-8,`+encodeURIComponent(e),n.download=s,document.body.appendChild(n),n.click(),document.body.removeChild(n)}function nk(){if(null==s){alert("No Mesmer object to save.");return}{let e=new tS(s.attributes);e.setTitle(s.getTitle()),void 0!=iR&&e.setMoleculeList(new tw(new Map,Array.from(iR.values()))),void 0!=i&&e.setReactionList(new ty(new Map,Array.from(i.values()))),void 0!=s.getConditionss()&&e.setConditionss(s.getConditionss()),void 0!=s.getModelParameterss()&&e.setModelParameterss(s.getModelParameterss()),void 0!=s.getControls()&&e.setControls(s.getControls());let t=s.getMetadataList();void 0!=t&&e.setMetadataList(t);let n=s.getAnalysis();void 0!=n&&e.setAnalysis(n),console.log("saveXML"),nG(tS.header+e.toXML("  ",""),"text/xml",nO(e.getTitle()?.value)+".xml")}}function nO(e){return e.replace(/[^a-z0-9]/gi,"_")}function nF(e,t,i,n){let a=_("Save as PNG",io(t.id,"saveButton"),sQ);null!=i?t.insertBefore(a,i):t.appendChild(a),a.addEventListener("click",()=>{nG(e.toDataURL(),"image/png",nO(s.getTitle()?.value+"_"+n)+".png",!0)})}function nH(e,t,i,n,a){let o=_("Save as CSV",io(t.id,f,s8),a);t.insertBefore(o,i),o.addEventListener("click",()=>{let t=e(),i=nO(s.getTitle()?.value+"_"+n)+".csv";nG(t,"text/csv",i),console.log("Saved "+i)})}
//# sourceMappingURL=index.66dc1892.js.map
