let e,t,s,i,n,a,o;function d(e){return e&&e.__esModule?e.default:e}var r={};function l(e,t){if(!e.has(t))throw Error(`Key ${t} not found in map`);return e.get(t)}function g(...e){let t=e.map(e=>e.toString()).join("-").replace(/[^a-zA-Z-_0-9]/g,"_");return/^[0-9]|^--|-^[0-9]/.test(t)&&(t="_"+t),t}function h(e,t){return null==e?"":(void 0==t&&(t=", "),Array.from(e.entries()).map(([e,t])=>`${null==e?"null":e.toString()}(${null==t?"null":t.toString()})`).join(t))}function m(e,t){return void 0==t&&(t=", "),e.map(e=>null==e?"null":e.toString()).join(t)}function c(e){let t=[];for(let s=0;s<e.length;s++)t.push(new(d(r))(e[s]));return t}function u(e){try{return new(d(r))(e),!0}catch(e){return!1}}function N(e,t){return void 0==t&&(t=" "),e.map(e=>e.toString()).join(t)}function p(e,t){return null==e||e.lt(t)?t:e}function f(e,t){return null==e||e.gt(t)?t:e}!function(e){var t,s="[big.js] ",i=s+"Invalid ",n=i+"decimal places",a=i+"rounding mode",o=s+"Division by zero",d={},l=void 0,g=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function h(e,t,s,i){var n=e.c;if(s===l&&(s=e.constructor.RM),0!==s&&1!==s&&2!==s&&3!==s)throw Error(a);if(t<1)i=3===s&&(i||!!n[0])||0===t&&(1===s&&n[0]>=5||2===s&&(n[0]>5||5===n[0]&&(i||n[1]!==l))),n.length=1,i?(e.e=e.e-t+1,n[0]=1):n[0]=e.e=0;else if(t<n.length){if(i=1===s&&n[t]>=5||2===s&&(n[t]>5||5===n[t]&&(i||n[t+1]!==l||1&n[t-1]))||3===s&&(i||!!n[0]),n.length=t,i){for(;++n[--t]>9;)if(n[t]=0,0===t){++e.e,n.unshift(1);break}}for(t=n.length;!n[--t];)n.pop()}return e}function m(e,t,s){var i=e.e,n=e.c.join(""),a=n.length;if(t)n=n.charAt(0)+(a>1?"."+n.slice(1):"")+(i<0?"e":"e+")+i;else if(i<0){for(;++i;)n="0"+n;n="0."+n}else if(i>0){if(++i>a)for(i-=a;i--;)n+="0";else i<a&&(n=n.slice(0,i)+"."+n.slice(i))}else a>1&&(n=n.charAt(0)+"."+n.slice(1));return e.s<0&&s?"-"+n:n}d.abs=function(){var e=new this.constructor(this);return e.s=1,e},d.cmp=function(e){var t,s=this.c,i=(e=new this.constructor(e)).c,n=this.s,a=e.s,o=this.e,d=e.e;if(!s[0]||!i[0])return s[0]?n:i[0]?-a:0;if(n!=a)return n;if(t=n<0,o!=d)return o>d^t?1:-1;for(n=-1,a=(o=s.length)<(d=i.length)?o:d;++n<a;)if(s[n]!=i[n])return s[n]>i[n]^t?1:-1;return o==d?0:o>d^t?1:-1},d.div=function(e){var t=this.constructor,s=this.c,i=(e=new t(e)).c,a=this.s==e.s?1:-1,d=t.DP;if(d!==~~d||d<0||d>1e6)throw Error(n);if(!i[0])throw Error(o);if(!s[0])return e.s=a,e.c=[e.e=0],e;var r,g,m,c,u,N=i.slice(),p=r=i.length,f=s.length,x=s.slice(0,r),v=x.length,E=e,w=E.c=[],y=0,b=d+(E.e=this.e-e.e)+1;for(E.s=a,a=b<0?0:b,N.unshift(0);v++<r;)x.push(0);do{for(m=0;m<10;m++){if(r!=(v=x.length))c=r>v?1:-1;else for(u=-1,c=0;++u<r;)if(i[u]!=x[u]){c=i[u]>x[u]?1:-1;break}if(c<0){for(g=v==r?i:N;v;){if(x[--v]<g[v]){for(u=v;u&&!x[--u];)x[u]=9;--x[u],x[v]+=10}x[v]-=g[v]}for(;!x[0];)x.shift()}else break}w[y++]=c?m:++m,x[0]&&c?x[v]=s[p]||0:x=[s[p]]}while((p++<f||x[0]!==l)&&a--)return!w[0]&&1!=y&&(w.shift(),E.e--,b--),y>b&&h(E,b,t.RM,x[0]!==l),E},d.eq=function(e){return 0===this.cmp(e)},d.gt=function(e){return this.cmp(e)>0},d.gte=function(e){return this.cmp(e)>-1},d.lt=function(e){return 0>this.cmp(e)},d.lte=function(e){return 1>this.cmp(e)},d.minus=d.sub=function(e){var t,s,i,n,a=this.constructor,o=this.s,d=(e=new a(e)).s;if(o!=d)return e.s=-d,this.plus(e);var r=this.c.slice(),l=this.e,g=e.c,h=e.e;if(!r[0]||!g[0])return g[0]?e.s=-d:r[0]?e=new a(this):e.s=1,e;if(o=l-h){for((n=o<0)?(o=-o,i=r):(h=l,i=g),i.reverse(),d=o;d--;)i.push(0);i.reverse()}else for(s=((n=r.length<g.length)?r:g).length,o=d=0;d<s;d++)if(r[d]!=g[d]){n=r[d]<g[d];break}if(n&&(i=r,r=g,g=i,e.s=-e.s),(d=(s=g.length)-(t=r.length))>0)for(;d--;)r[t++]=0;for(d=t;s>o;){if(r[--s]<g[s]){for(t=s;t&&!r[--t];)r[t]=9;--r[t],r[s]+=10}r[s]-=g[s]}for(;0===r[--d];)r.pop();for(;0===r[0];)r.shift(),--h;return r[0]||(e.s=1,r=[h=0]),e.c=r,e.e=h,e},d.mod=function(e){var t,s=this,i=s.constructor,n=s.s,a=(e=new i(e)).s;if(!e.c[0])throw Error(o);return(s.s=e.s=1,t=1==e.cmp(s),s.s=n,e.s=a,t)?new i(s):(n=i.DP,a=i.RM,i.DP=i.RM=0,s=s.div(e),i.DP=n,i.RM=a,this.minus(s.times(e)))},d.neg=function(){var e=new this.constructor(this);return e.s=-e.s,e},d.plus=d.add=function(e){var t,s,i,n=this.constructor;if(e=new n(e),this.s!=e.s)return e.s=-e.s,this.minus(e);var a=this.e,o=this.c,d=e.e,r=e.c;if(!o[0]||!r[0])return r[0]||(o[0]?e=new n(this):e.s=this.s),e;if(o=o.slice(),t=a-d){for(t>0?(d=a,i=r):(t=-t,i=o),i.reverse();t--;)i.push(0);i.reverse()}for(o.length-r.length<0&&(i=r,r=o,o=i),t=r.length,s=0;t;o[t]%=10)s=(o[--t]=o[t]+r[t]+s)/10|0;for(s&&(o.unshift(s),++d),t=o.length;0===o[--t];)o.pop();return e.c=o,e.e=d,e},d.pow=function(e){var t=this,s=new t.constructor("1"),n=s,a=e<0;if(e!==~~e||e<-1e6||e>1e6)throw Error(i+"exponent");for(a&&(e=-e);1&e&&(n=n.times(t)),e>>=1;)t=t.times(t);return a?s.div(n):n},d.prec=function(e,t){if(e!==~~e||e<1||e>1e6)throw Error(i+"precision");return h(new this.constructor(this),e,t)},d.round=function(e,t){if(e===l)e=0;else if(e!==~~e||e<-1e6||e>1e6)throw Error(n);return h(new this.constructor(this),e+this.e+1,t)},d.sqrt=function(){var e,t,i,n=this.constructor,a=this.s,o=this.e,d=new n("0.5");if(!this.c[0])return new n(this);if(a<0)throw Error(s+"No square root");0===(a=Math.sqrt(this+""))||a===1/0?((t=this.c.join("")).length+o&1||(t+="0"),o=((o+1)/2|0)-(o<0||1&o),e=new n(((a=Math.sqrt(t))==1/0?"5e":(a=a.toExponential()).slice(0,a.indexOf("e")+1))+o)):e=new n(a+""),o=e.e+(n.DP+=4);do i=e,e=d.times(i.plus(this.div(i)));while(i.c.slice(0,o).join("")!==e.c.slice(0,o).join(""))return h(e,(n.DP-=4)+e.e+1,n.RM)},d.times=d.mul=function(e){var t,s=this.constructor,i=this.c,n=(e=new s(e)).c,a=i.length,o=n.length,d=this.e,r=e.e;if(e.s=this.s==e.s?1:-1,!i[0]||!n[0])return e.c=[e.e=0],e;for(e.e=d+r,a<o&&(t=i,i=n,n=t,r=a,a=o,o=r),t=Array(r=a+o);r--;)t[r]=0;for(d=o;d--;){for(o=0,r=a+d;r>d;)o=t[r]+n[d]*i[r-d-1]+o,t[r--]=o%10,o=o/10|0;t[r]=o}for(o?++e.e:t.shift(),d=t.length;!t[--d];)t.pop();return e.c=t,e},d.toExponential=function(e,t){var s=this,i=s.c[0];if(e!==l){if(e!==~~e||e<0||e>1e6)throw Error(n);for(s=h(new s.constructor(s),++e,t);s.c.length<e;)s.c.push(0)}return m(s,!0,!!i)},d.toFixed=function(e,t){var s=this,i=s.c[0];if(e!==l){if(e!==~~e||e<0||e>1e6)throw Error(n);for(s=h(new s.constructor(s),e+s.e+1,t),e=e+s.e+1;s.c.length<e;)s.c.push(0)}return m(s,!1,!!i)},d.toJSON=d.toString=function(){var e=this.constructor;return m(this,this.e<=e.NE||this.e>=e.PE,!!this.c[0])},d.toNumber=function(){var e=Number(m(this,!0,!0));if(!0===this.constructor.strict&&!this.eq(e.toString()))throw Error(s+"Imprecise conversion");return e},d.toPrecision=function(e,t){var s=this,n=s.constructor,a=s.c[0];if(e!==l){if(e!==~~e||e<1||e>1e6)throw Error(i+"precision");for(s=h(new n(s),e,t);s.c.length<e;)s.c.push(0)}return m(s,e<=s.e||s.e<=n.NE||s.e>=n.PE,!!a)},d.valueOf=function(){var e=this.constructor;if(!0===e.strict)throw Error(s+"valueOf disallowed");return m(this,this.e<=e.NE||this.e>=e.PE,!0)},(t=function e(){function t(s){if(!(this instanceof t))return s===l?e():new t(s);if(s instanceof t)this.s=s.s,this.e=s.e,this.c=s.c.slice();else{if("string"!=typeof s){if(!0===t.strict&&"bigint"!=typeof s)throw TypeError(i+"value");s=0===s&&1/s<0?"-0":String(s)}(function(e,t){var s,n,a;if(!g.test(t))throw Error(i+"number");for(e.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(s=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(s<0&&(s=n),s+=+t.slice(n+1),t=t.substring(0,n)):s<0&&(s=t.length),a=t.length,n=0;n<a&&"0"==t.charAt(n);)++n;if(n==a)e.c=[e.e=0];else{for(;a>0&&"0"==t.charAt(--a););for(e.e=s-n-1,e.c=[],s=0;n<=a;)e.c[s++]=+t.charAt(n++)}})(this,s)}this.constructor=t}return t.prototype=d,t.DP=20,t.RM=1,t.NE=-7,t.PE=21,t.strict=!1,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}()).default=t.Big=t,"function"==typeof define&&define.amd?define(function(){return t}):r?r=t:e.Big=t}(r);const x="button",v="select";function E(e,t,s,i,n,a,o){let d=P(e,o),r=L(n+" ▼",g(e,x),a);return r.className="collapsible",r.addEventListener("click",function(){let e=r.textContent.split(" ");e[e.length-1]="▼"===e[e.length-1]?"▲":"▼",r.textContent=e.join(" ")}),d.appendChild(r),d.appendChild(i),null!=s?t.insertBefore(d,s):t.appendChild(d),r.removeEventListener("click",w),r.addEventListener("click",w),d}function w(){this.classList.toggle("active");let e=this.nextElementSibling;null!=e?e instanceof HTMLDivElement?"block"===e.style.display?e.style.display="none":e.style.display="block":console.log("toggleCollapsible: nextElementSibling is not an HTMLDivElement"):console.log("toggleCollapsible: nextElementSibling is null")}function y(e,t,s,i,n,a,o){let d;let r=I(void 0,i),l=((d=b(e,t,s)).onchange=n,d.value=a,M(d),d),g=B(o,s);return g.htmlFor=t,r.appendChild(g),r.appendChild(l),r}function b(e,t,s){let i=document.createElement("input");return i.type=e,i.id=t,Object.assign(i.style,s),i.style.fontSize="1em",i.classList.add("auto-width"),i}function C(e,t){let s=document.createElement("textarea");return s.id=e,Object.assign(s.style,t),s.style.fontSize="1em",s.classList.add("auto-width"),s}function S(e,t){let s="<"+t;if(e)for(let[t,i]of e)s+=" "+t+'="'+i+'"';return s+" />"}function M(e,t){void 0==t&&(t=4),e.style.width=e.value.length+t+"ch"}function T(e,t){void 0==t&&(t=6),e.style.width=e.value.length+t+"ch"}function R(e,t){void 0==t&&(t=6),e.style.width=e.value.length+t+"ch"}function z(e,t,s,i,n){let a=document.createElement("select");return e.forEach(e=>{a.name=t,a.id=i;let s=document.createElement("option");s.value=e,s.text=e,a.appendChild(s)}),a.value=s,a.style.fontSize="1em",a.classList.add("auto-width"),T(a),Object.assign(a.style,n),a}function _(e,t,s,i,n,a,o){let d=I(n,o),r=B(e,a);return d.appendChild(r),d.appendChild(z(t,s,i,g(n,v),a)),d}function L(e,t,s){let i=document.createElement("button");return i.textContent=e,void 0!=t&&(i.id=t),void 0!=s&&Object.assign(i.style,s),i.style.fontSize="1em",i}function P(e,t){let s=document.createElement("div");return void 0!=e&&(s.id=e),void 0!=t&&Object.assign(s.style,t),s}function I(e,t){let s=P(e,t);return s.style.display="flex",s.style.flexWrap="wrap",s}function B(e,t){let s=document.createElement("label");return Object.assign(s.style,t),s.textContent=e,s.style.fontSize="1em",s}function D(e,t){let s=document.createElement("table");return s.id=e,Object.assign(s.style,t),s}function A(e,t){let s=e.insertRow();return t.forEach(e=>{s.insertCell().textContent=e}),s}function G(e,t){let s=e.getElementsByTagName(t)[0];if(null==s)throw Error(t+" element not found");return s}function k(e){let t=e.childNodes;if(null==t)throw Error("Element has no childNodes");return t[0]}function O(e){let t=e.nodeValue;if(null==t)throw Error("nodeValue is null");return t}function F(e){let t=k(e);return t?O(t).trim():""}class H{constructor(e){this.tagName=e}toXML(e){let t=S(void 0,this.tagName);return e?"\n"+e+t:t}}class q extends H{constructor(e,t){super(t),this.attributes=e}toString(){let e=this.tagName+"(";return this.attributes&&this.attributes.forEach((t,s)=>{e+=`${s}(${t}), `}),e}toXML(e){let t="";for(let[s,i]of(void 0!=e&&(t+="\n"+e),t+="<"+this.tagName,this.attributes))t+=" "+s+'="'+i.toString()+'"';return t+" />"}}class U extends q{constructor(e,t,s){super(e,t),this.value=s}toString(){return super.toString()+`, ${this.value.toString()})`}toXML(e){return Y(this.value.trim(),this.tagName,this.attributes,e,!1)}}class V extends q{constructor(e,t,s){super(e,t),this.value=s}toString(){return super.toString()+`, ${this.value.toString()})`}toXML(e){return Y(this.value.toString(),this.tagName,this.attributes,e,!1)}}class j extends q{constructor(e,t,s,i){super(e,t),this.delimiter=" ",this.values=s,void 0!=i&&(this.delimiter=i)}getValues(){return this.values}setValues(e){this.values=e}toString(){return super.toString()+`, ${this.values.toString()})`}setDelimiter(e){this.delimiter=e}toXML(e){return Y(N(this.values,this.delimiter),this.tagName,this.attributes,e,!1)}}class X extends q{constructor(e,t){super(e,t),this.nodes=new Map}addNode(e){this.nodes.set(this.nodes.size,e)}toString(){let e=super.toString();return this.nodes.forEach((t,s)=>{e+=`, ${t.toString()}`}),e+")"}toXML(e,t){let s;void 0!=e&&void 0!=t&&(s=t+e);let i="";if(this.nodes.size>0)return this.nodes.forEach(t=>{void 0==t?console.warn("Node 0 is undefined this.nodes.size = "+this.nodes.size):t instanceof X?i+=t.toXML(e,s):i+=t.toXML(s)}),Y(i,this.tagName,this.attributes,t,!0);{let e=S(this.attributes,this.tagName);return void 0!=t?"\n"+t+e:e}}}function Y(e,t,s,i,n){let a;return function(e,t,s){let i="";if(void 0!=s&&(i+="\n"+s),i+="<"+e,t)for(let[e,s]of t)i+=" "+e+'="'+s.toString()+'"';return i+">"}(t,s,i)+e+(a="",n&&void 0!=i&&(a+="\n"+i),a+"</"+t+">")}function $(e){let t=e.getAttributeNames(),s=new Map;return t.forEach(function(t){let i=e.getAttribute(t);null!=i&&s.set(t.trim(),i.trim())}),s}function W(e,t){let s=e.getElementsByTagName(t);if(1!=s.length)throw Error("Expecting 1 "+t+" but finding "+s.length);return s[0]}class K extends V{static{this.s_units="units"}static{this.s_lower="lower"}static{this.s_upper="upper"}static{this.s_stepsize="stepsize"}constructor(e,t,s){super(e,t,s)}setValue(e){this.value=e}getUnits(){return this.attributes.get(K.s_units)}setUnits(e){this.attributes.set(K.s_units,e)}removeUnits(){this.attributes.delete(K.s_units)}getLower(){let e=this.attributes.get(K.s_lower);if(void 0!=e)return new(d(r))(e)}setLower(e){this.attributes.set(K.s_lower,e.toString())}removeLower(){this.attributes.delete(K.s_lower)}getUpper(){let e=this.attributes.get(K.s_upper);if(void 0!=e)return new(d(r))(e)}setUpper(e){this.attributes.set(K.s_upper,e.toString())}removeUpper(){this.attributes.delete(K.s_upper)}getStepsize(){let e=this.attributes.get(K.s_stepsize);if(void 0!=e)return new(d(r))(e)}setStepsize(e){this.attributes.set(K.s_stepsize,e.toString())}removeStepsize(){this.attributes.delete(K.s_stepsize)}}class Z extends V{static{this.tagName="me:eigenvalue"}constructor(e,t){super(e,Z.tagName,t)}}class Q extends X{static{this.tagName="me:eigenvalueList"}constructor(e,t){super(e,Q.tagName),t&&t.forEach(e=>{this.addNode(e)})}addEigenvalue(e){this.addNode(e)}}class J extends V{static{this.tagName="me:pop"}constructor(e,t){super(e,J.tagName,t)}}class ee extends X{static{this.tagName="me:population"}constructor(e,t){super(e,ee.tagName)}addPop(e){this.addNode(e)}}class et extends X{static{this.tagName="me:populationList"}constructor(e,t){super(e,et.tagName),t&&t.forEach(e=>{this.addNode(e)})}addPopulation(e){this.addNode(e)}}class es extends V{static{this.tagName="me:firstOrderLoss"}constructor(e,t){super(e,es.tagName,t)}}class ei extends V{static{this.tagName="me:firstOrderRate"}constructor(e,t){super(e,es.tagName,t)}}class en extends X{static{this.tagName="me:rateList"}constructor(e,t,s){if(super(e,ea.tagName),this.index=new Map,this.folIndex=new Map,t){let e=0;t.forEach(t=>{this.index.set(es.tagName+e.toString(),this.nodes.size),this.folIndex.set(this.folIndex.size,this.nodes.size),this.addNode(t),e++}),this.fols=t}else this.fols=[];if(this.forIndex=new Map,s){let e=0;s.forEach(t=>{this.index.set(ei.tagName+e.toString(),this.nodes.size),this.forIndex.set(this.forIndex.size,this.nodes.size),this.addNode(t),e++}),this.fors=s}else this.fors=[]}addFirstOrderLoss(e){this.folIndex.set(this.folIndex.size,this.nodes.size),this.index.set(es.tagName+this.folIndex.size.toString(),this.nodes.size),this.fols.push(e),this.addNode(e)}addFirstOrderRate(e){this.forIndex.set(this.forIndex.size,this.nodes.size),this.index.set(ei.tagName+this.forIndex.size.toString(),this.nodes.size),this.fors.push(e),this.addNode(e)}}class ea extends X{static{this.tagName="me:analysis"}constructor(e,t,s,i,n){super(e,ea.tagName),this.index=new Map,t&&(this.index.set(tR.tagName,this.nodes.size),this.addNode(t)),this.elIndex=new Map,s?(s.forEach(e=>{this.index.set(Q.tagName,this.nodes.size),this.elIndex.set(this.elIndex.size,this.nodes.size),this.addNode(e)}),this.els=s):this.els=[],this.plIndex=new Map,i?(i.forEach(e=>{this.index.set(et.tagName,this.nodes.size),this.plIndex.set(this.plIndex.size,this.nodes.size),this.addNode(e)}),this.pls=i):this.pls=[],this.rlIndex=new Map,n?(n.forEach(e=>{this.index.set(en.tagName,this.nodes.size),this.rlIndex.set(this.rlIndex.size,this.nodes.size),this.addNode(e)}),this.rls=n):this.rls=[]}getDescription(){if(this.index.has(tR.tagName)){let e=this.index.get(tR.tagName);return this.nodes.get(e)}}setDescription(e){if(this.index.has(tR.tagName)){let t=this.index.get(tR.tagName);this.nodes.set(t,e)}else this.index.set(tR.tagName,this.nodes.size),this.addNode(e)}addEigenvalueList(e){this.elIndex.set(this.elIndex.size,this.nodes.size),this.addNode(e),this.els.push(e)}addPopulationList(e){this.plIndex.set(this.plIndex.size,this.nodes.size),this.addNode(e),this.pls.push(e)}addRateList(e){this.rlIndex.set(this.rlIndex.size,this.nodes.size),this.addNode(e),this.rls.push(e)}}class eo extends U{static{this.tagName="me:bathGas"}constructor(e,t){super(e,eo.tagName,t)}}class ed extends V{static{this.tagName="me:experimentalRate"}static{this.s_ref1="ref1"}static{this.s_ref2="ref2"}static{this.s_refReaction="refReaction"}static{this.s_error="error"}constructor(e,t){super(e,ed.tagName,t)}getRef1(){return this.attributes.get(ed.s_ref1)}setRef1(e){this.attributes.set(ed.s_ref1,e)}getRef2(){return this.attributes.get(ed.s_ref2)}setRef2(e){this.attributes.set(ed.s_ref2,e)}getRefReaction(){return this.attributes.get(ed.s_refReaction)}setRefReaction(e){this.attributes.set(ed.s_refReaction,e)}getError(){return new(d(r))(this.attributes.get(ed.s_error))}setError(e){this.attributes.set(ed.s_error,e.toString())}}class er extends V{static{this.tagName="me:experimentalYield"}static{this.s_ref="ref"}static{this.s_error="error"}static{this.s_yieldTime="yieldTime"}constructor(e,t){super(e,er.tagName,t)}getRef(){return this.attributes.get(er.s_ref)}setRef(e){this.attributes.set(er.s_ref,e)}getError(){return new(d(r))(this.attributes.get(er.s_error))}setError(e){this.attributes.set(er.s_error,e.toString())}getYieldTime(){return new(d(r))(this.attributes.get(er.s_yieldTime))}setYieldTime(e){this.attributes.set(er.s_yieldTime,e.toString())}}class el extends V{static{this.tagName="me:experimentalEigenvalue"}static{this.s_EigenvalueID="EigenvalueID"}static{this.s_error="error"}constructor(e,t){super(e,el.tagName,t)}getEigenvalueID(){return this.attributes.get(el.s_EigenvalueID)}setEigenvalueID(e){this.attributes.set(el.s_EigenvalueID,e)}getError(){return new(d(r))(this.attributes.get(el.s_error))}setError(e){this.attributes.set(el.s_error,e.toString())}}class eg extends V{static{this.tagName="me:excessReactantConc"}static{this.s_percent="percent"}constructor(e,t){super(e,eg.tagName,t)}getPercent(){return this.attributes.get(eg.s_percent)}setPercent(e){this.attributes.set(eg.s_percent,e)}}class eh extends X{static{this.tagName="me:PTpair"}static{this.s_P="P"}static{this.s_T="T"}static{this.s_precision="precision"}static{this.s_excessReactantConc="excessReactantConc"}static{this.s_percentExcessReactantConc="percentExcessReactantConc"}constructor(e,t,s,i,n){super(e,eh.tagName),this.index=new Map,void 0!=t&&(this.index.set(eo.tagName,this.nodes.size),this.addNode(t)),void 0!=s&&(this.index.set(ed.tagName,this.nodes.size),this.addNode(s)),void 0!=i&&(this.index.set(er.tagName,this.nodes.size),this.addNode(i)),void 0!=n&&(this.index.set(el.tagName,this.nodes.size),this.addNode(n))}getP(){let e=this.attributes.get(eh.s_P);if(void 0!==e)return new(d(r))(e)}setP(e){this.attributes.set(eh.s_P,e.toString())}getT(){let e=this.attributes.get(eh.s_T);if(void 0!==e)return new(d(r))(e)}setT(e){this.attributes.set(eh.s_T,e.toString())}getPrecision(){return this.attributes.get(eh.s_precision)}setPrecision(e){this.attributes.set(eh.s_precision,e)}getBathGas(){let e=this.index.get(eo.tagName);return void 0!=e?this.nodes.get(e):void 0}setBathGas(e){let t=this.index.get(eo.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eo.tagName,this.nodes.size),this.addNode(e))}removeBathGas(){let e=this.index.get(eo.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eo.tagName))}getExperimentalRate(){let e=this.index.get(ed.tagName);return void 0!=e?this.nodes.get(e):void 0}setExperimentalRate(e){let t=this.index.get(ed.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ed.tagName,this.nodes.size),this.addNode(e))}removeExperimentalRate(){let e=this.index.get(ed.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ed.tagName))}getExperimentalYield(){let e=this.index.get(er.tagName);return void 0!=e?this.nodes.get(e):void 0}setExperimentalYield(e){let t=this.index.get(er.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(er.tagName,this.nodes.size),this.addNode(e))}removeExperimentalYield(){let e=this.index.get(er.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(er.tagName))}getExperimentalEigenvalue(){let e=this.index.get(el.tagName);return void 0!=e?this.nodes.get(e):void 0}setExperimentalEigenvalue(e){let t=this.index.get(el.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(el.tagName,this.nodes.size),this.addNode(e))}removeExperimentalEigenvalue(){let e=this.index.get(el.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(el.tagName))}getExcessReactantConc(){return this.attributes.get(eh.s_excessReactantConc)}setExcessReactantConc(e){this.attributes.set(eh.s_excessReactantConc,e)}getPercentExcessReactantConc(){return this.attributes.get(eh.s_percentExcessReactantConc)}setPercentExcessReactantConc(e){this.attributes.set(eh.s_percentExcessReactantConc,e)}}class em extends X{static{this.tagName="me:PTs"}constructor(e,t){super(e,em.tagName),void 0!=t?(t.forEach(e=>{this.addNode(e)}),this.ptps=t):this.ptps=[]}get(e){return this.ptps[e]}set(e,t){this.nodes.set(e,t),this.ptps[e]=t}add(e){return this.addNode(e),this.ptps.push(e),this.nodes.size-1}remove(e){this.nodes.delete(e),this.ptps.splice(e,1)}init(e){this.clear(),e.forEach(e=>{this.addNode(e),this.ptps.push(e)})}clear(){this.nodes.clear(),this.ptps=[]}}class ec extends X{static{this.tagName="me:conditions"}constructor(e,t,s,i){super(e,ec.tagName),this.id=t,this.index=new Map,this.bathGasesIndex=new Map,this.bathGases=new Map,void 0!=s&&(this.index.set(eo.tagName,this.nodes.size),s.forEach(e=>{this.bathGasesIndex.set(e.value,this.nodes.size),this.addNode(e),this.bathGases.set(e,s.size)})),void 0!=i&&(this.index.set(em.tagName,this.nodes.size),this.addNode(i))}getBathGases(){return this.bathGases}addBathGas(e){if(this.bathGases.has(e))return this.bathGases.get(e);{let t=this.bathGases.size;return this.bathGases.set(e,t),this.bathGasesIndex.set(e.value,this.nodes.size),this.addNode(e),t}}removeBathGas(e){this.bathGases.has(e)?(this.bathGases.delete(e),this.nodes.delete(this.bathGasesIndex.get(e.value))):console.warn("Conditions.removeBathGas: bathGas not found to remove.")}getPTs(){let e=this.index.get(em.tagName);if(void 0!=e)return this.nodes.get(e)}setPTs(e){let t=this.index.get(em.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(em.tagName,this.nodes.size),this.addNode(e))}}class eu extends H{static{this.tagName="me:calculateRateCoefficientsOnly"}constructor(){super(eu.tagName)}}class eN extends H{static{this.tagName="me:printCellDOS"}constructor(){super(eN.tagName)}}class ep extends H{static{this.tagName="me:printCellTransitionStateFlux"}constructor(){super(ep.tagName)}}class ef extends H{static{this.tagName="me:printReactionOperatorColumnSums"}constructor(){super(ef.tagName)}}class ex extends H{static{this.tagName="me:printGrainBoltzmann"}constructor(){super(ex.tagName)}}class ev extends H{static{this.tagName="me:printGrainDOS"}constructor(){super(ev.tagName)}}class eE extends H{static{this.tagName="me:printGrainkbE"}constructor(){super(eE.tagName)}}class ew extends H{static{this.tagName="me:printGrainkfE"}constructor(){super(ew.tagName)}}class ey extends H{static{this.tagName="me:printTSsos"}constructor(){super(ey.tagName)}}class eb extends H{static{this.tagName="me:printGrainedSpeciesProfile"}constructor(){super(eb.tagName)}}class eC extends H{static{this.tagName="me:printGrainTransitionStateFlux"}constructor(){super(eC.tagName)}}class eS extends H{static{this.tagName="me:printReactionOperatorSize"}constructor(){super(eS.tagName)}}class eM extends H{static{this.tagName="me:printSpeciesProfile"}constructor(){super(eM.tagName)}}class eT extends H{static{this.tagName="me:printPhenomenologicalEvolution"}constructor(){super(eT.tagName)}}class eR extends H{static{this.tagName="me:printTunnelingCoefficients"}constructor(){super(eR.tagName)}}class ez extends H{static{this.tagName="me:printCrossingCoefficients"}constructor(){super(ez.tagName)}}class e_ extends H{static{this.tagName="me:testDOS"}constructor(){super(e_.tagName)}}class eL extends H{static{this.tagName="me:testRateConstant"}constructor(){super(eL.tagName)}}class eP extends H{static{this.tagName="me:useTheSameCellNumberForAllConditions"}constructor(){super(eP.tagName)}}class eI extends U{static{this.tagName="me:ForceMacroDetailedBalance"}constructor(e,t){super(e,eI.tagName,t)}}class eB extends H{static{this.tagName="me:hideInactive"}constructor(){super(eB.tagName)}}class eD extends X{static{this.tagName="me:calcMethod"}static{this.options=["simpleCalc","gridSearch","fitting","marquardt","analyticalRepresentation","ThermodynamicTable","sensitivityAnalysis","me:simpleCalc","me:gridSearch","me:fitting","me:marquardt","me:analyticalRepresentation","me:ThermodynamicTable","me:sensitivityAnalysis"]}constructor(e){super(e,eD.tagName)}}class eA extends eD{static{this.xsi_type="me:simpleCalc"}static{this.xsi_type2="simpleCalc"}constructor(e){super(e)}}class eG extends eD{static{this.xsi_type="me:gridSearch"}static{this.xsi_type2="gridSearch"}constructor(e){super(e)}}class ek extends V{static{this.tagName="me:fittingIterations"}constructor(e,t){super(e,ek.tagName,t)}}class eO extends eD{static{this.xsi_type="me:fitting"}static{this.xsi_type2="fitting"}constructor(e,t){super(e),void 0!=t&&this.addNode(t)}getFittingIterations(){return this.nodes.get(0)}setFittingIterations(e){this.nodes.set(0,e)}removeFittingIterations(){this.nodes.delete(0)}}class eF extends V{static{this.tagName="me:MarquardtIterations"}constructor(e,t){super(e,eF.tagName,t)}}class eH extends V{static{this.tagName="me:MarquardtTolerance"}constructor(e,t){super(e,eH.tagName,t)}}class eq extends V{static{this.tagName="me:MarquardtDerivDelta"}constructor(e,t){super(e,eq.tagName,t)}}class eU extends eD{static{this.xsi_type="me:marquardt"}static{this.xsi_type2="marquardt"}constructor(e,t,s,i){super(e),this.index=new Map,void 0!=t&&(this.index.set(eF.tagName,this.nodes.size),this.addNode(t)),void 0!=s&&(this.index.set(eH.tagName,this.nodes.size),this.addNode(s)),void 0!=i&&(this.index.set(eq.tagName,this.nodes.size),this.addNode(i))}getMarquardtIterations(){let e=this.index.get(eF.tagName);if(void 0!=e)return this.nodes.get(e)}setMarquardtIterations(e){let t=this.index.get(eF.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eF.tagName,this.nodes.size),this.addNode(e))}removeMarquardtIterations(){let e=this.index.get(eF.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eF.tagName))}getMarquardtTolerance(){let e=this.index.get(eH.tagName);if(void 0!=e)return this.nodes.get(e)}setMarquardtTolerance(e){let t=this.index.get(eH.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eH.tagName,this.nodes.size),this.addNode(e))}removeMarquardtTolerance(){let e=this.index.get(eH.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eH.tagName))}getMarquardtDerivDelta(){let e=this.index.get(eq.tagName);if(void 0!=e)return this.nodes.get(e)}setMarquardtDerivDelta(e){let t=this.index.get(eq.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eq.tagName,this.nodes.size),this.addNode(e))}removeMarquardtDerivDelta(){let e=this.index.get(eq.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eq.tagName))}}class eV extends H{static{this.tagName="me:useTraceWeighting"}constructor(){super(eV.tagName)}}class ej extends U{static{this.tagName="me:format"}static{this.options=["cantera","chemkin"]}static{this.rateUnits="rateUnits"}static{this.rateUnitsOptions=["cm3mole-1s-1","cm3molecule-1s-1"]}constructor(e,t){super(e,ej.tagName,t)}getRateUnits(){return this.attributes.get(ej.rateUnits)}setRateUnits(e){this.attributes.set(ej.rateUnits,e)}removeRateUnits(){this.attributes.delete(ej.rateUnits)}}class eX extends U{static{this.tagName="me:precision"}constructor(e,t){super(e,eX.tagName,t)}}class eY extends V{static{this.tagName="me:chebNumTemp"}constructor(e,t){super(e,eY.tagName,t)}}class e$ extends V{static{this.tagName="me:chebNumConc"}constructor(e,t){super(e,e$.tagName,t)}}class eW extends V{static{this.tagName="me:chebMaxTemp"}constructor(e,t){super(e,eW.tagName,t)}}class eK extends V{static{this.tagName="me:chebMinTemp"}constructor(e,t){super(e,eK.tagName,t)}}class eZ extends V{static{this.tagName="me:chebMaxConc"}constructor(e,t){super(e,eZ.tagName,t)}getUnits(){return this.attributes.get("units")}setUnits(e){this.attributes.set("units",e)}}class eQ extends V{static{this.tagName="me:chebMinConc"}constructor(e,t){super(e,eQ.tagName,t)}}class eJ extends V{static{this.tagName="me:chebTExSize"}constructor(e,t){super(e,eJ.tagName,t)}}class e0 extends V{static{this.tagName="me:chebPExSize"}constructor(e,t){super(e,e0.tagName,t)}}class e1 extends eD{static{this.xsi_type="me:analyticalRepresentation"}static{this.xsi_type2="analyticalRepresentation"}constructor(e,t,s,i,n,a,o,d,r,l,g){super(e),this.index=new Map,void 0!=t&&(this.index.set(ej.tagName,this.nodes.size),this.addNode(t)),void 0!=s&&(this.index.set(eX.tagName,this.nodes.size),this.addNode(s)),void 0!=i&&(this.index.set(eY.tagName,this.nodes.size),this.addNode(i)),void 0!=n&&(this.index.set(e$.tagName,this.nodes.size),this.addNode(n)),void 0!=a&&(this.index.set(eW.tagName,this.nodes.size),this.addNode(a)),void 0!=o&&(this.index.set(eK.tagName,this.nodes.size),this.addNode(o)),void 0!=d&&(this.index.set(eZ.tagName,this.nodes.size),this.addNode(d)),void 0!=r&&(this.index.set(eQ.tagName,this.nodes.size),this.addNode(r)),void 0!=l&&(this.index.set(eJ.tagName,this.nodes.size),this.addNode(l)),void 0!=g&&(this.index.set(e0.tagName,this.nodes.size),this.addNode(g))}getFormat(){let e=this.index.get(ej.tagName);if(void 0!=e)return this.nodes.get(e)}setFormat(e){let t=this.index.get(ej.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ej.tagName,this.nodes.size),this.addNode(e))}removeFormat(){let e=this.index.get(ej.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ej.tagName))}getPrecision(){let e=this.index.get(eX.tagName);if(void 0!=e)return this.nodes.get(e)}setPrecision(e){let t=this.index.get(eX.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eX.tagName,this.nodes.size),this.addNode(e))}removePrecision(){let e=this.index.get(eX.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eX.tagName))}getChebNumTemp(){let e=this.index.get(eY.tagName);if(void 0!=e)return this.nodes.get(e)}setChebNumTemp(e){let t=this.index.get(eY.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eY.tagName,this.nodes.size),this.addNode(e))}removeChebNumTemp(){let e=this.index.get(eY.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eY.tagName))}getChebNumConc(){let e=this.index.get(e$.tagName);if(void 0!=e)return this.nodes.get(e)}setChebNumConc(e){let t=this.index.get(e$.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e$.tagName,this.nodes.size),this.addNode(e))}removeChebNumConc(){let e=this.index.get(e$.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e$.tagName))}getChebMaxTemp(){let e=this.index.get(eW.tagName);if(void 0!=e)return this.nodes.get(e)}setChebMaxTemp(e){let t=this.index.get(eW.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eW.tagName,this.nodes.size),this.addNode(e))}removeChebMaxTemp(){let e=this.index.get(eW.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eW.tagName))}getChebMinTemp(){let e=this.index.get(eK.tagName);if(void 0!=e)return this.nodes.get(e)}setChebMinTemp(e){let t=this.index.get(eK.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eK.tagName,this.nodes.size),this.addNode(e))}removeChebMinTemp(){let e=this.index.get(eK.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eK.tagName))}getChebMaxConc(){let e=this.index.get(eZ.tagName);if(void 0!=e)return this.nodes.get(e)}setChebMaxConc(e){let t=this.index.get(eZ.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eZ.tagName,this.nodes.size),this.addNode(e))}removeChebMaxConc(){let e=this.index.get(eZ.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eZ.tagName))}getChebMinConc(){let e=this.index.get(eQ.tagName);if(void 0!=e)return this.nodes.get(e)}setChebMinConc(e){let t=this.index.get(eQ.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eQ.tagName,this.nodes.size),this.addNode(e))}removeChebMinConc(){let e=this.index.get(eQ.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eQ.tagName))}getChebTExSize(){let e=this.index.get(eJ.tagName);if(void 0!=e)return this.nodes.get(e)}setChebTExSize(e){let t=this.index.get(eJ.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eJ.tagName,this.nodes.size),this.addNode(e))}removeChebTExSize(){let e=this.index.get(eJ.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eJ.tagName))}getChebPExSize(){let e=this.index.get(e0.tagName);if(void 0!=e)return this.nodes.get(e)}setChebPExSize(e){let t=this.index.get(e0.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e0.tagName,this.nodes.size),this.addNode(e))}removeChebPExSize(){let e=this.index.get(e0.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e0.tagName))}}class e2 extends V{static{this.tagName="me:Tmin"}constructor(e,t){super(e,e2.tagName,t)}}class e3 extends V{static{this.tagName="me:Tmid"}constructor(e,t){super(e,e3.tagName,t)}}class e5 extends V{static{this.tagName="me:Tmax"}constructor(e,t){super(e,e5.tagName,t)}}class e4 extends V{static{this.tagName="me:Tstep"}constructor(e,t){super(e,e2.tagName,t)}}class e6 extends eD{static{this.xsi_type="me:ThermodynamicTable"}static{this.xsi_type2="ThermodynamicTable"}constructor(e,t,s,i,n){super(e),this.index=new Map,void 0!=t&&(this.index.set(e2.tagName,this.nodes.size),this.addNode(t)),void 0!=s&&(this.index.set(e3.tagName,this.nodes.size),this.addNode(s)),void 0!=i&&(this.index.set(e5.tagName,this.nodes.size),this.addNode(i)),void 0!=n&&(this.index.set(e4.tagName,this.nodes.size),this.addNode(n))}getTmin(){let e=this.index.get(e2.tagName);if(void 0!=e)return this.nodes.get(e)}setTmin(e){let t=this.index.get(e2.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e2.tagName,this.nodes.size),this.addNode(e))}removeTmin(){let e=this.index.get(e2.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e2.tagName))}getTmid(){let e=this.index.get(e3.tagName);if(void 0!=e)return this.nodes.get(e)}setTmid(e){let t=this.index.get(e3.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e3.tagName,this.nodes.size),this.addNode(e))}removeTmid(){let e=this.index.get(e3.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e3.tagName))}getTmax(){let e=this.index.get(e5.tagName);if(void 0!=e)return this.nodes.get(e)}setTmax(e){let t=this.index.get(e5.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e5.tagName,this.nodes.size),this.addNode(e))}removeTmax(){let e=this.index.get(e5.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e5.tagName))}getTstep(){let e=this.index.get(e4.tagName);if(void 0!=e)return this.nodes.get(e)}setTstep(e){let t=this.index.get(e4.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e4.tagName,this.nodes.size),this.addNode(e))}removeTstep(){let e=this.index.get(e4.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e4.tagName))}}class e8 extends V{static{this.tagName="me:sensitivityAnalysisSamples"}constructor(e,t){super(e,e8.tagName,t)}}class e9 extends V{static{this.tagName="me:sensitivityAnalysisOrder"}constructor(e,t){super(e,e9.tagName,t)}}class e7 extends V{static{this.tagName="me:sensitivityNumVarRedIters"}constructor(e,t){super(e,e7.tagName,t)}}class te extends U{static{this.tagName="me:sensitivityVarRedMethod"}static{this.options=["AdditiveControl","RatioControl"]}constructor(e,t){super(e,te.tagName,t)}}class tt extends eD{static{this.xsi_type="me:sensitivityAnalysis"}static{this.xsi_type2="sensitivityAnalysis"}constructor(e,t,s,i,n){super(e),this.index=new Map,void 0!=t&&(this.index.set(e8.tagName,this.nodes.size),this.addNode(t)),void 0!=s&&(this.index.set(e9.tagName,this.nodes.size),this.addNode(s)),void 0!=i&&(this.index.set(e7.tagName,this.nodes.size),this.addNode(i)),void 0!=n&&(this.index.set(te.tagName,this.nodes.size),this.addNode(n))}getSensitivityAnalysisSamples(){let e=this.index.get(e8.tagName);if(void 0!=e)return this.nodes.get(e)}setSensitivityAnalysisSamples(e){let t=this.index.get(e8.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e8.tagName,this.nodes.size),this.addNode(e))}removeSensitivityAnalysisSamples(){let e=this.index.get(e8.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e8.tagName))}getSensitivityAnalysisOrder(){let e=this.index.get(e9.tagName);if(void 0!=e)return this.nodes.get(e)}setSensitivityAnalysisOrder(e){let t=this.index.get(e9.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e9.tagName,this.nodes.size),this.addNode(e))}removeSensitivityAnalysisOrder(){let e=this.index.get(e9.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e9.tagName))}getSensitivityNumVarRedIters(){let e=this.index.get(e7.tagName);if(void 0!=e)return this.nodes.get(e)}setSensitivityNumVarRedIters(e){let t=this.index.get(e7.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e7.tagName,this.nodes.size),this.addNode(e))}removeSensitivityNumVarRedIters(){let e=this.index.get(e7.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e7.tagName))}getSensitivityVarRedMethod(){let e=this.index.get(te.tagName);if(void 0!=e)return this.nodes.get(e)}setSensitivityVarRedMethod(e){let t=this.index.get(te.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(te.tagName,this.nodes.size),this.addNode(e))}removeSensitivityVarRedMethod(){let e=this.index.get(te.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(te.tagName))}}class ts extends V{static{this.tagName="me:eigenvalues"}constructor(e,t){super(e,ts.tagName,t)}}class ti extends V{static{this.tagName="me:shortestTimeOfInterest"}constructor(e,t){super(e,ti.tagName,t)}}class tn extends V{static{this.tagName="me:MaximumEvolutionTime"}constructor(e,t){super(e,tn.tagName,t)}}class ta extends V{static{this.tagName="me:automaticallySetMaxEne"}constructor(e,t){super(e,ta.tagName,t)}}class to extends V{static{this.tagName="me:diagramEnergyOffset"}constructor(e,t){super(e,to.tagName,t)}}class td extends q{static{this.tagName="me:testMicroRates"}constructor(e){super(e,td.tagName),this.tMin=new(d(r))(e.get("Tmin")),this.tMax=new(d(r))(e.get("Tmax")),this.tStep=new(d(r))(e.get("Tstep"))}getTmin(){return this.tMin}setTmin(e){this.tMin=e,this.attributes?.set("Tmin",e.toString())}getTmax(){return this.tMax}setTmax(e){this.tMax=e,this.attributes?.set("Tmax",e.toString())}getTstep(){return this.tStep}setTstep(e){this.tStep=e,this.attributes?.set("Tstep",e.toString())}}class tr extends X{static{this.tagName="me:control"}constructor(e,t){super(e,tr.tagName),this.id=t,this.index=new Map}getCalculateRateCoefficientsOnly(){let e=this.index.get(eu.tagName);if(void 0!=e)return this.nodes.get(e)}setCalculateRateCoefficientsOnly(e){let t=this.index.get(eu.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eu.tagName,this.nodes.size),this.addNode(e))}removeCalculateRateCoefficientsOnly(){let e=this.index.get(eu.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eu.tagName))}getPrintCellDOS(){let e=this.index.get(eN.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintCellDOS(e){let t=this.index.get(eN.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eN.tagName,this.nodes.size),this.addNode(e))}removePrintCellDOS(){let e=this.index.get(eN.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eN.tagName))}getPrintCellTransitionStateFlux(){let e=this.index.get(ep.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintCellTransitionStateFlux(e){let t=this.index.get(ep.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ep.tagName,this.nodes.size),this.addNode(e))}removePrintCellTransitionStateFlux(){let e=this.index.get(ep.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ep.tagName))}getPrintReactionOperatorColumnSums(){let e=this.index.get(ef.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintReactionOperatorColumnSums(e){let t=this.index.get(ef.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ef.tagName,this.nodes.size),this.addNode(e))}removePrintReactionOperatorColumnSums(){let e=this.index.get(ef.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ef.tagName))}getPrintGrainBoltzmann(){let e=this.index.get(ex.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintGrainBoltzmann(e){let t=this.index.get(ex.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ex.tagName,this.nodes.size),this.addNode(e))}removePrintGrainBoltzmann(){let e=this.index.get(ex.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ex.tagName))}getPrintGrainDOS(){let e=this.index.get(ev.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintGrainDOS(e){let t=this.index.get(ev.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ev.tagName,this.nodes.size),this.addNode(e))}removePrintGrainDOS(){let e=this.index.get(ev.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ev.tagName))}getPrintGrainkbE(){let e=this.index.get(eE.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintGrainkbE(e){let t=this.index.get(eE.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eE.tagName,this.nodes.size),this.addNode(e))}removePrintGrainkbE(){let e=this.index.get(eE.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eE.tagName))}getPrintGrainkfE(){let e=this.index.get(ew.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintGrainkfE(e){let t=this.index.get(ew.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ew.tagName,this.nodes.size),this.addNode(e))}removePrintGrainkfE(){let e=this.index.get(ew.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ew.tagName))}getPrintTSsos(){let e=this.index.get(ey.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintTSsos(e){let t=this.index.get(ey.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ey.tagName,this.nodes.size),this.addNode(e))}removePrintTSsos(){let e=this.index.get(ey.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ey.tagName))}getPrintGrainedSpeciesProfile(){let e=this.index.get(eb.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintGrainedSpeciesProfile(e){let t=this.index.get(eb.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eb.tagName,this.nodes.size),this.addNode(e))}removePrintGrainedSpeciesProfile(){let e=this.index.get(eb.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eb.tagName))}getPrintGrainTransitionStateFlux(){let e=this.index.get(eC.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintGrainTransitionStateFlux(e){let t=this.index.get(eC.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eC.tagName,this.nodes.size),this.addNode(e))}removePrintGrainTransitionStateFlux(){let e=this.index.get(eC.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eC.tagName))}getPrintReactionOperatorSize(){let e=this.index.get(eS.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintReactionOperatorSize(e){let t=this.index.get(eS.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eS.tagName,this.nodes.size),this.addNode(e))}removePrintReactionOperatorSize(){let e=this.index.get(eS.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eS.tagName))}getPrintSpeciesProfile(){let e=this.index.get(eM.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintSpeciesProfile(e){let t=this.index.get(eM.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eM.tagName,this.nodes.size),this.addNode(e))}removePrintSpeciesProfile(){let e=this.index.get(eM.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eM.tagName))}getPrintPhenomenologicalEvolution(){let e=this.index.get(eT.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintPhenomenologicalEvolution(e){let t=this.index.get(eT.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eT.tagName,this.nodes.size),this.addNode(e))}removePrintPhenomenologicalEvolution(){let e=this.index.get(eT.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eT.tagName))}getPrintTunnelingCoefficients(){let e=this.index.get(eR.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintTunnelingCoefficients(e){let t=this.index.get(eR.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eR.tagName,this.nodes.size),this.addNode(e))}removePrintTunnelingCoefficients(){let e=this.index.get(eR.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eR.tagName))}getPrintCrossingCoefficients(){let e=this.index.get(ez.tagName);if(void 0!=e)return this.nodes.get(e)}setPrintCrossingCoefficients(e){let t=this.index.get(ez.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ez.tagName,this.nodes.size),this.addNode(e))}removePrintCrossingCoefficients(){let e=this.index.get(ez.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ez.tagName))}getTestDOS(){let e=this.index.get(e_.tagName);if(void 0!=e)return this.nodes.get(e)}setTestDOS(e){let t=this.index.get(e_.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(e_.tagName,this.nodes.size),this.addNode(e))}removeTestDOS(){let e=this.index.get(e_.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(e_.tagName))}getTestRateConstants(){let e=this.index.get(eL.tagName);if(void 0!=e)return this.nodes.get(e)}setTestRateConstants(e){let t=this.index.get(eL.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eL.tagName,this.nodes.size),this.addNode(e))}removeTestRateConstants(){let e=this.index.get(eL.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eL.tagName))}getUseTheSameCellNumberForAllConditions(){let e=this.index.get(eP.tagName);if(void 0!=e)return this.nodes.get(e)}setUseTheSameCellNumberForAllConditions(e){let t=this.index.get(eP.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eP.tagName,this.nodes.size),this.addNode(e))}removeUseTheSameCellNumberForAllConditions(){let e=this.index.get(eP.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eP.tagName))}getHideInactive(){let e=this.index.get(eB.tagName);if(void 0!=e)return this.nodes.get(e)}setHideInactive(e){let t=this.index.get(eB.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eB.tagName,this.nodes.size),this.addNode(e))}removeHideInactive(){let e=this.index.get(eB.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eB.tagName))}getForceMacroDetailedBalance(){let e=this.index.get(eI.tagName);if(void 0!=e)return this.nodes.get(e)}setForceMacroDetailedBalance(e){let t=this.index.get(eI.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eI.tagName,this.nodes.size),this.addNode(e))}removeForceMacroDetailedBalance(){let e=this.index.get(eI.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eI.tagName))}getCalcMethod(){let e=this.index.get(eD.tagName);if(void 0!=e)return this.nodes.get(e)}setCalcMethod(e){let t=this.index.get(eD.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(eD.tagName,this.nodes.size),this.addNode(e))}removeCalcMethod(){let e=this.index.get(eD.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(eD.tagName))}getEigenvalues(){let e=this.index.get(ts.tagName);if(void 0!=e)return this.nodes.get(e)}setEigenvalues(e){let t=this.index.get(ts.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ts.tagName,this.nodes.size),this.addNode(e))}removeEigenvalues(){let e=this.index.get(ts.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ts.tagName))}getShortestTimeOfInterest(){let e=this.index.get(ti.tagName);if(void 0!=e)return this.nodes.get(e)}setShortestTimeOfInterest(e){let t=this.index.get(ti.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ti.tagName,this.nodes.size),this.addNode(e))}removeShortestTimeOfInterest(){let e=this.index.get(ti.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ti.tagName))}getMaximumEvolutionTime(){let e=this.index.get(tn.tagName);if(void 0!=e)return this.nodes.get(e)}setMaximumEvolutionTime(e){let t=this.index.get(tn.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tn.tagName,this.nodes.size),this.addNode(e))}removeMaximumEvolutionTime(){let e=this.index.get(tn.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tn.tagName))}getAutomaticallySetMaxEne(){let e=this.index.get(ta.tagName);if(void 0!=e)return this.nodes.get(e)}setAutomaticallySetMaxEne(e){let t=this.index.get(ta.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ta.tagName,this.nodes.size),this.addNode(e))}removeAutomaticallySetMaxEne(){let e=this.index.get(ta.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(ta.tagName))}getDiagramEnergyOffset(){let e=this.index.get(to.tagName);if(void 0!=e)return this.nodes.get(e)}setDiagramEnergyOffset(e){let t=this.index.get(to.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(to.tagName,this.nodes.size),this.addNode(e))}removeDiagramEnergyOffset(){let e=this.index.get(to.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(to.tagName))}getTestMicroRates(){let e=this.index.get(td.tagName);if(void 0!=e)return this.nodes.get(e)}setTestMicroRates(e){let t=this.index.get(td.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(td.tagName,this.nodes.size),this.addNode(e))}removeTestMicroRates(){let e=this.index.get(td.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(td.tagName))}}class tl extends X{static{this.tagName="metadata"}constructor(e){super(e,tl.tagName)}getLabelText(){let e="";return this.attributes.forEach((t,s)=>{e+=s+": "+t+" "}),e}}class tg extends U{static{this.tagName="dc:title"}constructor(e,t){super(e,tg.tagName,t)}}class th extends U{static{this.tagName="dc:source"}constructor(e,t){super(e,th.tagName,t)}}class tm extends U{static{this.tagName="dc:creator"}constructor(e,t){super(e,tm.tagName,t)}}class tc extends U{static{this.tagName="dc:date"}constructor(e,t){super(e,tc.tagName,t)}}class tu extends U{static{this.tagName="dc:contributor"}constructor(e,t){super(e,tu.tagName,t)}}class tN extends X{static{this.tagName="metadataList"}constructor(e,t,s,i,n,a){super(e,tN.tagName),this.index=new Map,this.metadataIndex=new Map,t&&(this.index.set(tg.tagName,this.nodes.size),this.addNode(t)),s&&(this.index.set(th.tagName,this.nodes.size),this.addNode(s)),i&&(this.index.set(tm.tagName,this.nodes.size),this.addNode(i)),n&&(this.index.set(tc.tagName,this.nodes.size),this.addNode(n)),a&&(this.index.set(tu.tagName,this.nodes.size),this.addNode(a))}getTitle(){if(this.index.has(tg.tagName)){let e=this.index.get(tg.tagName);return this.nodes.get(e)}}setTitle(e){if(this.index.has(tg.tagName)){let t=this.index.get(tg.tagName);this.nodes.set(t,e)}else this.index.set(tg.tagName,this.nodes.size),this.addNode(e)}getSource(){if(this.index.has(th.tagName)){let e=this.index.get(th.tagName);return this.nodes.get(e)}}setSource(e){if(this.index.has(th.tagName)){let t=this.index.get(th.tagName);this.nodes.set(t,e)}else this.index.set(th.tagName,this.nodes.size),this.addNode(e)}getCreator(){if(this.index.has(tm.tagName)){let e=this.index.get(tm.tagName);return this.nodes.get(e)}}setCreator(e){if(this.index.has(tm.tagName)){let t=this.index.get(tm.tagName);this.nodes.set(t,e)}else this.index.set(tm.tagName,this.nodes.size),this.addNode(e)}getDate(){if(this.index.has(tc.tagName)){let e=this.index.get(tc.tagName);return this.nodes.get(e)}}setDate(e){if(this.index.has(tc.tagName)){let t=this.index.get(tc.tagName);this.nodes.set(t,e)}else this.index.set(tc.tagName,this.nodes.size),this.addNode(e)}getContributor(){if(this.index.has(tu.tagName)){let e=this.index.get(tu.tagName);return this.nodes.get(e)}}setContributor(e){if(this.index.has(tu.tagName)){let t=this.index.get(tu.tagName);this.nodes.set(t,e)}else this.index.set(tu.tagName,this.nodes.size),this.addNode(e)}addMetadata(e){this.metadataIndex.set(this.metadataIndex.size,this.nodes.size),this.addNode(e)}getMetadata(){let e=[];for(let t=0;t<this.metadataIndex.size;t++){let s=this.metadataIndex.get(t);e.push(this.nodes.get(s))}return e}}class tp extends V{static{this.tagName="me:grainSize"}constructor(e,t){super(e,tp.tagName,t)}}class tf extends V{static{this.tagName="me:automaticallySetMaxEne"}constructor(e,t){super(e,tf.tagName,t)}}class tx extends V{static{this.tagName="me:energyAboveTheTopHill"}constructor(e,t){super(e,tx.tagName,t)}}class tv extends V{static{this.tagName="me:maxTemperature"}constructor(e,t){super(e,tv.tagName,t)}}class tE extends X{static{this.tagName="me:modelParameters"}constructor(e,t,s,i,n,a){super(e,tE.tagName),this.id=t,this.index=new Map,void 0!=s&&(this.index.set(tp.tagName,this.nodes.size),this.addNode(s)),void 0!=i&&(this.index.set(tf.tagName,this.nodes.size),this.addNode(i)),void 0!=n&&(this.index.set(tx.tagName,this.nodes.size),this.addNode(n)),void 0!=a&&(this.index.set(tv.tagName,this.nodes.size),this.addNode(a))}getGrainSize(){console.log("getGrainSize");let e=this.index.get(tp.tagName);if(void 0!=e)return this.nodes.get(e);console.log("XgetGrainSize")}setGrainSize(e){console.log("setGrainSize");let t=this.index.get(tp.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tp.tagName,this.nodes.size),this.addNode(e))}removeGrainSize(){let e=this.index.get(tp.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tp.tagName))}getAutomaticallySetMaxEne(){let e=this.index.get(tf.tagName);if(e)return this.nodes.get(e)}setAutomaticallySetMaxEne(e){let t=this.index.get(tf.tagName);t?this.nodes.set(t,e):(this.index.set(tf.tagName,this.nodes.size),this.addNode(e))}removeAutomaticallySetMaxEne(){let e=this.index.get(tf.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tf.tagName))}getEnergyAboveTheTopHill(){let e=this.index.get(tx.tagName);if(e)return this.nodes.get(e)}setEnergyAboveTheTopHill(e){let t=this.index.get(tx.tagName);t?this.nodes.set(t,e):(this.index.set(tx.tagName,this.nodes.size),this.addNode(e))}removeEnergyAboveTheTopHill(){let e=this.index.get(tx.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tx.tagName))}getMaxTemperature(){let e=this.index.get(tv.tagName);if(e)return this.nodes.get(e)}setMaxTemperature(e){let t=this.index.get(tv.tagName);t?this.nodes.set(t,e):(this.index.set(tv.tagName,this.nodes.size),this.addNode(e))}removeMaxTemperature(){let e=this.index.get(tv.tagName);void 0!=e&&(this.nodes.delete(e),this.index.delete(tv.tagName))}}class tw extends U{static{this.tagName="me:title"}constructor(e,t){super(e,tw.tagName,t)}}class ty extends X{static{this.tagName="moleculeList"}constructor(e,t){super(e,ty.tagName),this.index=new Map,void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e),this.index.set(e.getID(),this.nodes.size-1)})}getMolecule(e){let t=this.index.get(e);if(void 0!=t)return this.nodes.get(t)}removeMolecule(e){let t=this.index.get(e);void 0!=t&&(this.nodes.delete(t),this.index.delete(e))}addMolecule(e){let t=e.getID(),s=this.index.get(t);void 0!==s?(this.nodes.set(s,e),console.log("Replaced molecule with id "+t)):(this.nodes.set(this.nodes.size,e),this.index.set(t,this.nodes.size-1))}}class tb extends X{static{this.tagName="reactionList"}constructor(e,t){super(e,tb.tagName),this.index=new Map,void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1)})}getReaction(e){let t=this.index.get(e);if(void 0!=t)return this.nodes.get(t)}removeReaction(e){let t=this.index.get(e);void 0!=t&&(this.nodes.delete(t),this.index.delete(e))}addReaction(e){let t=this.index.get(e.id);void 0!==t?(this.nodes.set(t,e),console.log("Replaced reaction with id "+e.id)):(this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1))}}class tC extends X{static{this.tagName="conditionsList"}constructor(e,t){super(e,tM.tagName),this.index=new Map,void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1)})}getConditions(e){let t=this.index.get(e);if(void 0!=t)return this.nodes.get(t)}removeConditions(e){let t=this.index.get(e);void 0!=t&&(this.nodes.delete(t),this.index.delete(e))}addConditions(e){let t=this.index.get(e.id);void 0!=t?(this.nodes.set(t,e),console.log("Replaced conditions with id "+e.id)):(this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1))}}class tS extends X{static{this.tagName="modelParametersList"}constructor(e,t){super(e,tS.tagName),this.index=new Map,void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1)})}getModelParameters(e){let t=this.index.get(e);if(void 0!=t)return this.nodes.get(t)}removeModelParameters(e){let t=this.index.get(e);void 0!=t&&(this.nodes.delete(t),this.index.delete(e))}addModelParameters(e){let t=this.index.get(e.id);void 0!=t?(this.nodes.set(t,e),console.log("Replaced modelParameters with id "+e.id)):(this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1))}}class tM extends X{static{this.tagName="controlList"}constructor(e,t){super(e,tM.tagName),this.index=new Map,void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1)})}getControl(e){let t=this.index.get(e);if(void 0!=t)return this.nodes.get(t)}removeControl(e){let t=this.index.get(e);void 0!=t&&(this.nodes.delete(t),this.index.delete(e))}addControl(e){let t=this.index.get(e.id);void 0!==t?(this.nodes.set(t,e),console.log("Replaced control with id "+e.id)):(this.nodes.set(this.nodes.size,e),this.index.set(e.id,this.nodes.size-1))}}class tT extends X{static{this.tagName="me:mesmer"}static{this.precisionOptions=["d","dd","qd","double","double-double","quad-double"]}static{this.pressureUnits=["Torr","PPCC","atm","mbar","psi","mols/cc"]}static{this.energyUnits=["kJ/mol","kJ per mol","cm-1","wavenumber","kcal/mol","kcal per mol","Hartree","au"]}static{this.frequencyUnits=["cm-1","GHz","amuA^2"]}static{this.elementTypes=["H","He","Li","Be","B","C","N","O","F","Ne","Na","Mg","Al","Si","P","S","Cl","Ar","K","Ca","Sc","Ti","V","Cr","Mn","Fe","Co","Ni","Cu","Zn","Ga","Ge","As","Se","Br","Kr","Rb","Sr","Y","Zr","Nb","Mo","Tc","Ru","Rh","Pd","Ag","Cd","In","Sn","Sb","Te","I","Xe","Cs","Ba","La","Ce","Pr","Nd","Pm","Sm","Eu","Gd","Tb","Dy","Ho","Er","Tm","Yb","Lu","Hf","Ta","W","Re","Os","Ir","Pt","Au","Hg","Tl","Pb","Bi","Po","At","Rn","Fr","Ra","Ac","Th","Pa","U","Np","Pu","Am","Cm","Bk","Cf","Es","Fm","Md","No","Lr","Rf","Db","Sg","Bh","Hs","Mt","Ds","Rg","Cn","Nh","Fl","Mc","Lv","Ts","Og"]}static{this.atomMasses=new Map}static{this.atomRadii=new Map}static{this.atomColors=new Map}static{this.bondColors=new Map}static{this.header=`<?xml version="1.0" encoding="utf-8" ?>
<?xml-stylesheet type='text/xsl' href='../../mesmer2.xsl' media='other'?>
<?xml-stylesheet type='text/xsl' href='../../mesmer1.xsl' media='screen'?>`}constructor(e,t,s,i,n,a,o,d,r){super(e,tT.tagName);let l=["H","O","C","N","Cl","S","Ph","Fe"],g=["White","Red","DarkGrey","Blue","Green","Yellow","Orange","Brown"];for(let e=0;e<l.length;e++)tT.atomColors.set(l[e],g[e]);let h=[1.00784,15.999,12.011,14.007,35.453,32.06,77.845,55.845];for(let e=0;e<l.length;e++)tT.atomMasses.set(l[e],h[e]);let m=[37,66,67,56,99,102,110,124];for(let e=0;e<l.length;e++)tT.atomRadii.set(l[e],m[e]);let c=[1,1.5,2,2.5,3,3.5,4,4.5,5,5.5,6];g=["Black","Red","DarkRed","Blue","DarkBlue","Green","DarkGreen","Yellow","DarkYellow","Orange","DarkOrange"];for(let e=0;e<c.length;e++)tT.bondColors.set(c[e],g[e]);this.index=new Map,void 0!=t&&(this.index.set(tw.tagName,this.nodes.size),this.addNode(t)),void 0!=s&&(this.index.set(ty.tagName,this.nodes.size),this.addNode(s)),void 0!=i&&(this.index.set(tb.tagName,this.nodes.size),this.addNode(i)),this.conditionsIndex=new Map,void 0!=n&&n.forEach(e=>{this.index.set(ec.tagName+e.id,this.nodes.size),this.conditionsIndex.set(e.id,this.nodes.size),this.addNode(e)}),this.modelParametersIndex=new Map,void 0!=a&&a.forEach(e=>{this.index.set(tE.tagName+e.id,this.nodes.size),this.modelParametersIndex.set(e.id,this.nodes.size),this.addNode(e)}),this.controlIndex=new Map,void 0!=o&&o.forEach(e=>{this.index.set(tr.tagName+e.id,this.nodes.size),this.controlIndex.set(e.id,this.nodes.size),this.addNode(e)}),void 0!=d&&(this.index.set(tN.tagName,this.nodes.size),this.addNode(d)),void 0!=r&&(this.index.set(ea.tagName,this.nodes.size),this.addNode(r))}getTitle(){let e=this.index.get(tw.tagName);if(void 0!=e)return this.nodes.get(e)}setTitle(e){let t=this.index.get(tw.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tw.tagName,this.nodes.size),this.addNode(e))}getMoleculeList(){let e=this.index.get(ty.tagName);if(void 0!=e)return this.nodes.get(e)}setMoleculeList(e){let t=this.index.get(ty.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ty.tagName,this.nodes.size),this.addNode(e))}getReactionList(){let e=this.index.get(tb.tagName);if(void 0!=e)return this.nodes.get(e)}setReactionList(e){let t=this.index.get(tb.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tb.tagName,this.nodes.size),this.addNode(e))}addConditions(e){let t=ec.tagName+e.id,s=this.index.get(t);void 0!=s?this.nodes.set(s,e):(this.index.set(t,this.nodes.size),this.conditionsIndex.set(e.id,this.nodes.size),this.addNode(e))}getConditions(e){let t=this.conditionsIndex.get(e);if(void 0!=t)return this.nodes.get(t)}getConditionss(){let e=[];return this.conditionsIndex.forEach((t,s)=>{e.push(this.nodes.get(t))}),e}setConditionss(e){e.forEach(e=>{this.addConditions(e)})}getNextConditionsID(){let e=0;return Array.from(this.conditionsIndex.keys()).sort((e,t)=>e-t).forEach(t=>{if(t>e)return e;e++}),e}removeConditions(e){let t=this.conditionsIndex.get(e);void 0!=t&&(this.nodes.delete(t),this.index.delete(ec.tagName+e),this.conditionsIndex.delete(e))}addModelParameters(e){let t=tE.tagName+e.id,s=this.index.get(t);void 0!=s?this.nodes.set(s,e):(this.index.set(t,this.nodes.size),this.modelParametersIndex.set(e.id,this.nodes.size),this.addNode(e))}getModelParameters(e){let t=this.modelParametersIndex.get(e);if(void 0!=t)return this.nodes.get(t)}getModelParameterss(){let e=[];return this.modelParametersIndex.forEach((t,s)=>{e.push(this.nodes.get(t))}),e}setModelParameterss(e){e.forEach(e=>{this.addModelParameters(e)})}getNextModelParametersID(){let e=0;return Array.from(this.modelParametersIndex.keys()).sort((e,t)=>e-t).forEach(t=>{if(t>e)return e;e++}),e}removeModelParameters(e){let t=this.modelParametersIndex.get(e);void 0!=t&&(this.nodes.delete(t),this.index.delete(tE.tagName+e),this.modelParametersIndex.delete(e))}addControl(e){let t=tr.tagName+e.id,s=this.index.get(t);void 0!=s?this.nodes.set(s,e):(this.index.set(t,this.nodes.size),this.controlIndex.set(e.id,this.nodes.size),this.addNode(e))}getControl(e){let t=this.controlIndex.get(e);if(void 0!=t)return this.nodes.get(t)}getControls(){let e=[];return this.controlIndex.forEach((t,s)=>{e.push(this.nodes.get(t))}),e}setControls(e){e.forEach(e=>{this.addControl(e)})}getNextControlID(){let e=0;return Array.from(this.controlIndex.keys()).sort((e,t)=>e-t).forEach(t=>{if(t>e)return e;e++}),e}removeControl(e){let t=this.controlIndex.get(e);void 0!=t&&(this.nodes.delete(t),this.index.delete(tr.tagName+e),this.controlIndex.delete(e))}getMetadataList(){let e=this.index.get(tN.tagName);if(void 0!=e)return this.nodes.get(e)}setMetadataList(e){let t=this.index.get(tN.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(tN.tagName,this.nodes.size),this.addNode(e))}getAnalysis(){let e=this.index.get(ea.tagName);if(void 0!=e)return this.nodes.get(e)}setAnalysis(e){let t=this.index.get(ea.tagName);void 0!=t?this.nodes.set(t,e):(this.index.set(ea.tagName,this.nodes.size),this.addNode(e))}}class tR extends U{static{this.tagName="me:description"}constructor(e,t){super(e,tR.tagName,t)}}class tz extends V{static{this.tagName="me:T"}constructor(e,t){super(e,tz.tagName,t)}}class t_ extends q{static{this.tagName="atom"}static{this.s_id="id"}static{this.s_elementType="elementType"}static{this.s_x3="x3"}static{this.s_y3="y3"}static{this.s_z3="z3"}constructor(e,t){super(e,t_.tagName),this.molecule=t}hasCoordinates(){return void 0!=this.attributes.get(t_.s_x3)&&void 0!=this.attributes.get(t_.s_y3)&&void 0!=this.attributes.get(t_.s_z3)}getID(){return this.attributes.get(t_.s_id)}setID(e){this.attributes.set(t_.s_id,e)}getElementType(){return this.attributes.get(t_.s_elementType)}setElementType(e){this.attributes.set(t_.s_elementType,e)}getX3(){let e=this.attributes.get(t_.s_x3);if(void 0!=e)return new(d(r))(e)}setX3(e){this.attributes.set(t_.s_x3,e.toString())}removeX3(){this.attributes.delete(t_.s_x3)}getY3(){let e=this.attributes.get(t_.s_y3);if(void 0!=e)return new(d(r))(e)}setY3(e){this.attributes.set(t_.s_y3,e.toString())}removeY3(){this.attributes.delete(t_.s_y3)}getZ3(){let e=this.attributes.get(t_.s_z3);if(void 0!=e)return new(d(r))(e)}setZ3(e){this.attributes.set("z3",e.toString())}removeZ3(){this.attributes.delete("z3")}}class tL extends X{static{this.tagName="atomArray"}constructor(e,t){super(e,tL.tagName),this.index=new Map,this.reverseIndex=new Map,void 0==t?this.atoms=new Map:(this.atoms=t,t.forEach((e,t)=>{this.index.set(t,this.nodes.size),this.reverseIndex.set(this.nodes.size,t),this.nodes.set(this.nodes.size,e)}))}getAtom(e){return this.atoms.get(e)}addAtom(e,t){if(void 0==t){let s=e.getID();if(void 0==s)s=this.getNextAtomID(),e.setID(s);else if(this.atoms.has(s)){let t=this.getNextAtomID();console.warn("Atom with id "+s+" already exists, adding with id "+t),e.setID(t),s=t}t=s}return this.index.set(t,this.nodes.size),this.reverseIndex.set(this.nodes.size,t),this.nodes.set(this.nodes.size,e),this.atoms.set(t,e),t}getNextAtomID(){let e=1,t="a1";if(this.atoms.has(t))for(;this.atoms.has(t);)e++,t="a"+e.toString();return t}removeAtom(e){let t=this.index.get(e);if(void 0==t)throw Error("Atom with id "+e+" does not exist!");console.log("Removing atom with id "+e),this.atoms.delete(e),this.deleteNodeAndReindex(t,e)}deleteNodeAndReindex(e,t){this.nodes.delete(e),this.index.delete(t),this.reverseIndex.delete(e);let s=new Map,i=new Map,n=new Map;this.index.forEach((t,a)=>{t>e?(s.set(t-1,this.nodes.get(t)),i.set(a,t-1),n.set(t-1,a)):(s.set(t,this.nodes.get(t)),i.set(a,t),n.set(t,a))}),this.nodes=s,this.index=i,this.reverseIndex=n}}class tP extends q{static{this.tagName="bond"}static{this.s_atomRefs2="atomRefs2"}static{this.s_id="id"}static{this.s_order="order"}static{this.orderOptions=["1","1.5","2","2.5","3","3.5","4","4.5","5","5.5","6"]}constructor(e,t){super(e,tP.tagName),this.molecule=t}getAtomRefs2(){let e=this.attributes.get(tP.s_atomRefs2);return(e?.split(" "),void 0==e)?"a1 a1":e}setAtomRefs2(e){this.attributes.set(tP.s_atomRefs2,e)}getID(){return this.attributes.get(tP.s_id)}setID(e){this.attributes.set(tP.s_id,e)}getOrder(){let e=this.attributes.get(tP.s_order);if(void 0!=e)return parseFloat(e)}setOrder(e){this.attributes.set(tP.s_order,e.toString())}}class tI extends X{static{this.tagName="bondArray"}constructor(e,t){super(e,tI.tagName),this.index=new Map,this.reverseIndex=new Map,void 0==t?this.bonds=new Map:(this.bonds=t,t.forEach((e,t)=>{this.index.set(t,this.nodes.size),this.reverseIndex.set(this.nodes.size,t),this.nodes.set(this.nodes.size,e)}))}getBondIds(){return Array.from(this.bonds.keys())}getBond(e){return this.bonds.get(e)}addBond(e,t){if(void 0==t){let s=e.getID();if(void 0==s)s=this.getNextBondID(),e.setID(s);else if(this.bonds.has(s)){let t=this.getNextBondID();console.log("Bond with id "+s+" already exists, adding with id "+t),e.setID(t),s=t}t=s}return this.index.set(t,this.nodes.size),this.reverseIndex.set(this.nodes.size,t),this.nodes.set(this.nodes.size,e),this.bonds.set(t,e),t}getNextBondID(){let e=1,t="b1";for(;this.bonds.has(t);)e++,t="b"+e.toString();return t}removeBond(e){let t=this.index.get(e);if(void 0==t)throw Error("Bond with id "+e+" does not exist!");console.log("Removing bond with id "+e),this.bonds.delete(e),this.deleteNodeAndReindex(t,e)}deleteNodeAndReindex(e,t){this.nodes.delete(e),this.index.delete(t),this.reverseIndex.delete(e);let s=new Map,i=new Map,n=new Map;this.index.forEach((t,a)=>{t>e?(s.set(t-1,this.nodes.get(t)),i.set(a,t-1),n.set(t-1,a)):(s.set(t,this.nodes.get(t)),i.set(a,t),n.set(t,a))}),this.nodes=s,this.index=i,this.reverseIndex=n}}class tB extends U{static{this.tagName="scalar"}constructor(e,t){super(e,tB.tagName,t)}getValue(){return this.value}setValue(e){this.value=e}}class tD extends V{static{this.tagName="scalar"}static{this.s_units="units"}constructor(e,t){super(e,tD.tagName,t)}updateUnits(e){if(e){let t=this.attributes.get(tD.s_units);void 0!=t&&t!=e&&this.attributes.set(tD.s_units,e)}}getValue(){return this.value}setValue(e){this.value=e}}class tA extends j{static{this.tagName="array"}static{this.s_units="units"}static{this.propertyDictRefs=new Set(["me:ZPE","me:Hf0","me:HfAT0","me:Hf298","me:rotConsts","me:symmetryNumber","me:TSOpticalSymmetryNumber","me:frequenciesScaleFactor","me:vibFreqs","me:MW","me:spinMultiplicity","me:epsilon","me:sigma","me:hessian","me:EinsteinAij","me:EinsteinBij"])}constructor(e,t,s){super(e,tA.tagName,t,s)}updateUnits(e){if(e){let t=this.attributes.get(tA.s_units);void 0!=t&&t!=e&&(this.attributes.set(tA.s_units,e),console.log("Units changed from "+t+" to "+e))}}}class tG extends j{static{this.tagName="matrix"}static{this.s_rows="rows"}static{this.s_matrixType="matrixType"}static{this.s_units="units"}constructor(e,t,s){super(e,tA.tagName,t,s)}updateUnits(e){if(e){let t=this.attributes.get(tA.s_units);void 0!=t&&t!=e&&(this.attributes.set(tA.s_units,e),console.log("Units changed from "+t+" to "+e))}}}class tk extends X{static{this.tagName="property"}static{this.s_dictRef="dictRef"}constructor(e,t){super(e,tk.tagName);let s=e.get(tk.s_dictRef);if(void 0==s){let t=e.get("title");if(void 0==t)throw Error(tk.s_dictRef+" and title are undefined!");if("MW"==t)s="me:MW";else if("Hf298"==t)s="me:Hf298";else if("Hf0"==t)s="me:Hf0";else if("program"==t)s="program";else if("basis"==t)s="basis";else if("method"==t)s="method";else if("File Format"==t)s="method";else throw Error("Title "+t+"not recognised!")}this.dictRef=s,t&&this.nodes.set(0,t)}getProperty(){return this.nodes.get(0)}setProperty(e){this.nodes.set(0,e)}}class tO extends tk{static{this.dictRef="me:ZPE"}constructor(e,t){super(e,t)}setUnits(e){this.getProperty().updateUnits(e)}}class tF extends tk{static{this.dictRef="me:Hf0"}constructor(e,t){super(e,t)}setUnits(e){this.getProperty().updateUnits(e)}}class tH extends tk{static{this.dictRef="me:HfAT0"}constructor(e,t){super(e,t)}setUnits(e){this.getProperty().updateUnits(e)}}class tq extends tk{static{this.dictRef="me:Hf298"}constructor(e,t){super(e,t)}setUnits(e){this.getProperty().updateUnits(e)}}class tU extends tk{static{this.dictRef="me:rotConsts"}static{this.unitOptions=["cm-1","GHz","amuA^2"]}constructor(e,t){super(e,t)}}class tV extends tk{static{this.dictRef="me:symmetryNumber"}constructor(e,t){super(e,t)}}class tj extends tk{static{this.dictRef="me:TSOpticalSymmetryNumber"}constructor(e,t){super(e,t)}}class tX extends tk{static{this.dictRef="me:frequenciesScaleFactor"}constructor(e,t){super(e,t)}}class tY extends tk{static{this.dictRef="me:vibFreqs"}constructor(e,t){super(e,t)}}class t$ extends tk{static{this.dictRef="me:MW"}constructor(e,t){super(e,t)}}class tW extends tk{static{this.dictRef="me:spinMultiplicity"}constructor(e,t){super(e,t)}}class tK extends tk{static{this.dictRef="me:epsilon"}constructor(e,t){super(e,t)}}class tZ extends tk{static{this.dictRef="me:sigma"}constructor(e,t){super(e,t)}}class tQ extends tk{static{this.dictRef="me:hessian"}static{this.unitOptions=["kJ/mol/Å2","kcal/mol/Å2","Hartree/Å2"]}constructor(e,t){super(e,t)}}class tJ extends tk{static{this.dictRef="me:EinsteinAij"}constructor(e,t){super(e,t)}}class t0 extends tk{static{this.dictRef="me:EinsteinBij"}constructor(e,t){super(e,t)}}class t1 extends tk{static{this.dictRef="me:imFreqs"}constructor(e,t){super(e,t)}}class t2 extends X{static{this.tagName="propertyList"}constructor(e,t){super(e,t2.tagName),this.index=new Map,void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e),this.index.set(e.dictRef,this.nodes.size-1)})}getProperty(e){let t=this.index.get(e);if(void 0!=t)return this.nodes.get(t);throw Error("Property "+e+" does not exist")}setProperty(e){let t=this.index.get(e.dictRef);void 0==t?(this.nodes.set(this.nodes.size,e),this.index.set(e.dictRef,this.nodes.size-1)):(console.log("Property "+e.dictRef+" already exists, updating..."),this.nodes.set(t,e))}removeProperty(e){let t=this.index.get(e);if(void 0!=t){this.nodes.delete(t),this.index.delete(e);let s=new Map;this.index.forEach((e,i)=>{e>t?s.set(i,e-1):s.set(i,e)}),this.index=s}}}class t3 extends K{static{this.tagName="me:deltaEDown"}static{this.s_bathGas="bathGas"}constructor(e,t){super(e,t3.tagName,t)}getBathGas(){return this.attributes.get(t3.s_bathGas)}setBathGas(e){this.attributes.set(t3.s_bathGas,e)}}class t5 extends t3{static{this.tagName="me:deltaEDown2"}constructor(e,t){super(e,t)}}class t4 extends K{static{this.tagName="me:deltaEDownTExponent"}static{this.s_referenceTemperature="referenceTemperature"}constructor(e,t){super(e,t4.tagName,t)}getReferenceTemperature(){return parseFloat(l(this.attributes,t4.s_referenceTemperature))}setReferenceTemperature(e){this.attributes.set(t4.s_referenceTemperature,e.toString())}}class t6 extends K{static{this.tagName="me:deltaEDownLinEne"}constructor(e,t){super(e,t6.tagName,t)}}class t8 extends X{static{this.tagName="me:energyTransferModel"}constructor(e,t){super(e,t8.tagName),void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e)})}getDeltaEDowns(){let e=[];return this.nodes.forEach(t=>{t instanceof t3&&e.push(t)}),e}setDeltaEDowns(e){this.nodes.clear(),e.forEach(e=>{this.nodes.set(this.nodes.size,e)})}getDeltaEDown(e){if(e<0||e>=this.nodes.size)throw Error("index out of range");return this.nodes.get(e)}setDeltaEDown(e,t){this.nodes.set(e,t)}addDeltaEDown(e){return this.nodes.set(this.nodes.size,e),this.nodes.size-1}}class t9 extends q{static{this.tagName="me:DOSCMethod"}static{this.xsi_typeOptions=["ClassicalRotors","QMRotors","me:ClassicalRotors","me:QMRotors"]}static{this.s_xsi_type="xsi:type"}constructor(e){if(super(e,t9.tagName),void 0==e.get(t9.s_xsi_type)){let t=e.get("name");if(void 0==t)throw Error("Neither xsi:type or name are defined.");e.set(t9.s_xsi_type,t)}}getXsiType(){return this.attributes.get(t9.s_xsi_type)}setXsiType(e){this.attributes.set(t9.s_xsi_type,e)}}class t7 extends U{static{this.tagName="me:bondRef"}constructor(e,t){super(e,t7.tagName,t)}}class se extends q{static{this.tagName="me:PotentialPoint"}static{this.s_angle="angle"}static{this.s_potential="potential"}constructor(e){super(e,se.tagName)}getAngle(){return this.attributes.get(se.s_angle)}setAngle(e){this.attributes.set(se.s_angle,e.toString())}getPotential(){return this.attributes.get(se.s_potential)}setPotential(e){this.attributes.set(se.s_potential,e.toString())}}class st extends q{static{this.tagName="me:DistributionCalcMethod"}static{this.s_default="default"}static{this.s_name="name"}constructor(e){super(e,st.tagName)}getDefault(){return this.attributes.get(st.s_default)}getName(){return this.attributes.get(st.s_name)}}class ss extends q{static{this.tagName="me:thermoValue"}static{this.s_T="T"}static{this.s_H="H"}static{this.s_S="S"}static{this.s_G="G"}static{this.s_Cp="Cp"}constructor(e){super(e,t_.tagName)}getT(){return new(d(r))(this.attributes.get(ss.s_T))}getH(){return new(d(r))(this.attributes.get(ss.s_H))}getS(){return new(d(r))(this.attributes.get(ss.s_S))}getG(){return new(d(r))(this.attributes.get(ss.s_G))}getCp(){return new(d(r))(this.attributes.get(ss.s_Cp))}toStringArray(){return[this.getT().toString(),this.getH().toString(),this.getS().toString(),this.getG().toString(),this.getCp().toString()]}toCSV(){return this.toStringArray().join(",")}}class si extends X{static{this.tagName="me:thermoTable"}static{this.s_unitsT="unitsT"}static{this.s_unitsH="unitsH"}static{this.s_unitsS="unitsS"}static{this.s_unitsG="unitsG"}static{this.s_unitsCp="unitsCp"}constructor(e,t){super(e,si.tagName),void 0!=t?(t.forEach(e=>{this.addNode(e)}),this.tvs=t):this.tvs=[]}get(e){return this.tvs[e]}set(e,t){this.nodes.set(e,t),this.tvs[e]=t}add(e){return this.addNode(e),this.tvs.push(e),this.nodes.size-1}remove(e){this.nodes.delete(e),this.tvs.splice(e,1)}init(e){this.clear(),e.forEach(e=>{this.addNode(e),this.tvs.push(e)})}clear(){this.nodes.clear(),this.tvs=[]}getHeader(){return["T ("+this.attributes.get(si.s_unitsT)+")","H(T)-H(0) ("+this.attributes.get(si.s_unitsH)+")","S(T) ("+this.attributes.get(si.s_unitsS)+")","G(T) ("+this.attributes.get(si.s_unitsG)+")","Cp(T) ("+this.attributes.get(si.s_unitsCp)+")"]}toCSV(){let e=this.getHeader().join(",")+"\n";return this.tvs.forEach(t=>{e+=t.toCSV()+"\n"}),e}}class sn extends X{static{this.tagName="me:HinderedRotorPotential"}static{this.formats=new Set(["numerical","analytical"])}static{this.s_format="format"}static{this.s_units="units"}static{this.s_expansionSize="expansionSize"}static{this.s_useSineTerms="useSineTerms"}constructor(e,t){super(e,sn.tagName);let s=e.get(sn.s_format);if(void 0==s)throw Error(sn.s_format+" is undefined!");this.format=s;let i=e.get(sn.s_units);if(void 0==i)throw Error(sn.s_units+" is undefined!");this.units=i,void 0!=t&&t.forEach(e=>{this.nodes.set(this.nodes.size,e)}),void 0==e.get(sn.s_useSineTerms)?this.useSineTerms=!1:this.useSineTerms=!0}getFormat(){return this.format}setFormat(e){this.format=e,this.attributes.set(sn.s_format,e)}getUnits(){return this.units}setUnits(e){this.units=e,this.attributes.set(sn.s_units,e)}getExpansionSize(){return this.attributes.get(sn.s_expansionSize)}setExpansionSize(e){console.log(e.toString()),this.attributes.set(sn.s_expansionSize,e.toString())}getUseSineTerms(){return this.useSineTerms}setUseSineTerms(e){this.useSineTerms=e,this.attributes.set(sn.s_useSineTerms,e?"yes":"no")}getPotentialPoint(e){return this.nodes.get(e)}setPotentialPoint(e,t){this.nodes.set(e,t)}setPotentialPoints(e){this.nodes.clear(),e.forEach(e=>{this.nodes.set(this.nodes.size,e)})}addPotentialPoint(e){return this.nodes.set(this.nodes.size,e),this.nodes.size-1}removePotentialPoint(e){this.nodes.delete(e)}}class sa extends V{static{this.tagName="me:periodicity"}constructor(e,t){super(e,sa.tagName,t)}}class so extends X{static{this.tagName="me:ExtraDOSCMethod"}constructor(e,t,s,i){super(e,so.tagName),this.index=new Map,t&&(this.nodes.set(this.nodes.size,t),this.index.set(t7.tagName,this.nodes.size-1)),s&&(this.nodes.set(this.nodes.size,s),this.index.set(sn.tagName,this.nodes.size-1)),i&&(this.nodes.set(this.nodes.size,i),this.index.set(sa.tagName,this.nodes.size-1))}getBondRef(){let e=this.index.get(t7.tagName);if(void 0!=e)return this.nodes.get(e)}setBondRef(e){let t=this.index.get(t7.tagName);void 0!=t?this.nodes.set(t,e):(this.nodes.set(this.nodes.size,e),this.index.set(t7.tagName,this.nodes.size-1))}getHinderedRotorPotential(){let e=this.index.get(sn.tagName);if(void 0!=e)return this.nodes.get(e)}setHinderedRotorPotential(e){let t=this.index.get(sn.tagName);void 0!=t?this.nodes.set(t,e):(this.nodes.set(this.nodes.size,e),this.index.set(sn.tagName,this.nodes.size-1))}getPeriodicity(){let e=this.index.get(sa.tagName);if(void 0!=e)return this.nodes.get(e)}setPeriodicity(e){let t=this.index.get(sa.tagName);void 0!=t?this.nodes.set(t,e):(this.nodes.set(this.nodes.size,e),this.index.set(sa.tagName,this.nodes.size-1))}}class sd extends V{static{this.tagName="me:reservoirSize"}constructor(e,t){super(e,sd.tagName,t)}}class sr extends V{static{this.tagName="me:qtot"}constructor(e,t){super(e,sr.tagName,t)}}class sl extends V{static{this.tagName="me:sumc"}constructor(e,t){super(e,sl.tagName,t)}}class sg extends V{static{this.tagName="me:sumg"}constructor(e,t){super(e,sg.tagName,t)}}class sh extends X{static{this.tagName="me:densityOfStates"}static{this.header=[tz.tagName,sr.tagName,sl.tagName,sg.tagName]}constructor(e){super(e,sh.tagName),this.index=new Map}getT(){let e=this.index.get(tz.tagName);if(void 0!=e)return this.nodes.get(e)}setT(e){let t=this.index.get(e.tagName);void 0!=t?this.nodes.set(t,e):(this.nodes.set(this.nodes.size,e),this.index.set(e.tagName,this.nodes.size-1))}getQtot(){let e=this.index.get(sr.tagName);if(void 0!=e)return this.nodes.get(e)}setQtot(e){let t=this.index.get(e.tagName);void 0!=t?this.nodes.set(t,e):(this.nodes.set(this.nodes.size,e),this.index.set(e.tagName,this.nodes.size-1))}getSumc(){let e=this.index.get(sl.tagName);if(void 0!=e)return this.nodes.get(e)}setSumc(e){let t=this.index.get(e.tagName);void 0!=t?this.nodes.set(t,e):(this.nodes.set(this.nodes.size,e),this.index.set(e.tagName,this.nodes.size-1))}getSumg(){let e=this.index.get(sg.tagName);if(void 0!=e)return this.nodes.get(e)}setSumg(e){let t=this.index.get(e.tagName);void 0!=t?this.nodes.set(t,e):(this.nodes.set(this.nodes.size,e),this.index.set(e.tagName,this.nodes.size-1))}toStringArray(){return[this.getT().value.toString(),this.getQtot().value.toString(),this.getSumc().value.toString(),this.getSumg().value.toString()]}}class sm extends X{static{this.tagName="me:densityOfStatesList"}constructor(e,t,s){if(super(e,sm.tagName),this.index=new Map,this.dosIndex=new Map,t&&(this.nodes.set(this.nodes.size,t),this.index.set(tR.tagName,this.nodes.size-1)),s){let e=0;s.forEach(t=>{this.dosIndex.set(e,this.nodes.size),this.nodes.set(this.nodes.size,t),e++})}}getDescription(){let e=this.index.get(tR.tagName);if(void 0!=e)return this.nodes.get(e)}setDescription(e){let t=this.index.get(tR.tagName);void 0!=t?this.nodes.set(t,e):(this.nodes.set(this.nodes.size,e),this.index.set(tR.tagName,this.nodes.size-1))}getDensityOfStates(e){let t=this.dosIndex.get(e);if(void 0!=t)return this.nodes.get(t)}setDensityOfStates(e,t){let s=this.dosIndex.get(e);void 0!=s?this.nodes.set(s,t):(this.nodes.set(this.nodes.size,t),this.dosIndex.set(e,this.nodes.size-1))}addDensityOfStates(e){this.nodes.set(this.nodes.size,e);let t=this.nodes.size-1;return this.dosIndex.set(t,this.nodes.size-1),t}removeDensityOfStates(e){let t=this.dosIndex.get(e);void 0!=t&&this.nodes.delete(t)}toCSV(){let e="",t=sh.header;return e+=t.join(",")+"\n",this.nodes.forEach(t=>{e+=t.toStringArray().join(",")+"\n"}),e}}class sc extends X{static{this.tagName="molecule"}static{this.s_id="id"}static{this.s_description="description"}static{this.s_active="active"}constructor(e,t,s,i,n,a,o,d,r,l,g,h){super(e,sc.tagName),this.label=this.getID(),this.index=new Map,this.edmindex=new Map,this.id=t;let m=0;s&&(this.nodes.set(m,s),this.index.set(tN.tagName,m),m++),i&&(this.nodes.set(m,i),this.index.set(tL.tagName,m),m++),n&&(this.nodes.set(m,n),this.index.set(tI.tagName,m),m++),a&&(this.nodes.set(m,a),this.index.set(t2.tagName,m),m++),o&&(this.nodes.set(m,o),this.index.set(t8.tagName,m),m++),d&&(this.nodes.set(m,d),this.index.set(t9.tagName,m),m++),r&&(this.nodes.set(m,r),this.index.set(st.tagName,m),m++),l&&l.forEach(e=>{this.nodes.set(m,e),this.edmindex.set(m,m),m++}),g&&(this.nodes.set(m,g),this.index.set(sd.tagName,m),m++),h&&(this.nodes.set(m,h),this.index.set(si.tagName,m))}getLabel(){return this.getID()+" "+this.id.toString()}getID(){return this.attributes.get(sc.s_id)}setID(e){this.attributes.set(sc.s_id,e)}getDescription(){let e=this.attributes.get(sc.s_description);return void 0!=e?e:this.getID()}setDescription(e){this.attributes.set(sc.s_description,e)}getActive(){let e=this.attributes.get(sc.s_active);if(void 0!=e)return"true"==e}setActive(e){this.attributes.set(sc.s_active,e.toString())}getMetadataList(){let e=this.index.get(tN.tagName);if(void 0!=e)return this.nodes.get(e)}setMetadataList(e){let t=this.index.get(tN.tagName);void 0==t?(this.index.set(tN.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getPropertyList(){let e=this.index.get(t2.tagName);if(void 0!=e)return this.nodes.get(e)}setPropertyList(e){let t=this.index.get(t2.tagName);void 0==t?(this.index.set(t2.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getProperty(e){let t=this.getPropertyList();if(void 0!=t)return t.getProperty(e)}setProperty(e){this.getPropertyList().setProperty(e)}getAtom(e){return this.getAtoms().getAtom(e)}getAtoms(){let e=this.index.get(tL.tagName);return this.nodes.get(e)}setAtoms(e){this.index.set(tL.tagName,this.nodes.size),this.nodes.set(this.nodes.size,e)}getBond(e){return this.getBonds().getBond(e)}getBonds(){let e=this.index.get(tI.tagName);return this.nodes.get(e)}setBonds(e){this.index.set(tI.tagName,this.nodes.size),this.nodes.set(this.nodes.size,e)}getEnergyTransferModel(){let e=this.index.get(t8.tagName);if(void 0!=e)return this.nodes.get(e)}setEnergyTransferModel(e){let t=this.index.get(t8.tagName);void 0==t?(this.index.set(t8.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getDOSCMethod(){let e=this.index.get(t9.tagName);if(void 0!=e)return this.nodes.get(e)}setDOSCMethod(e){let t=this.index.get(t9.tagName);void 0==t?(this.index.set(t9.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getDistributionCalcMethod(){let e=this.index.get(st.tagName);if(void 0!=e)return this.nodes.get(e)}setDistributionCalcMethod(e){let t=this.index.get(st.tagName);void 0==t?(this.index.set(st.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getExtraDOSCMethod(e){let t=this.edmindex.get(e);if(void 0!=t)return this.nodes.get(t)}setExtraDOSCMethod(e,t){let s=this.edmindex.get(e);void 0==s?(this.edmindex.set(e,this.nodes.size),this.nodes.set(this.nodes.size,t)):this.nodes.set(s,t)}getReservoirSize(){let e=this.index.get(sd.tagName);if(void 0!=e)return this.nodes.get(e)}setReservoirSize(e){let t=this.index.get(sd.tagName);void 0==t?(this.index.set(sd.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getDensityOfStatesList(){let e=this.index.get(sm.tagName);if(void 0!=e)return this.nodes.get(e)}setDensityOfStatesList(e){let t=this.index.get(sm.tagName);void 0==t?(this.index.set(sm.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getThermoTable(){let e=this.index.get(si.tagName);if(void 0!=e)return this.nodes.get(e)}setThermoTable(e){let t=this.index.get(si.tagName);void 0==t?(this.index.set(si.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getEnergy(){let e;try{e=this.getProperty(tO.dictRef)}catch(t){try{e=this.getProperty(tF.dictRef)}catch(t){try{e=this.getProperty(tq.dictRef)}catch(t){try{e=this.getProperty(tH.dictRef)}catch(t){e=void 0}}}}return void 0==e?d(r)(0):e.getProperty().value}}class su extends q{static{this.tagName="molecule"}constructor(e){super(e,su.tagName),this.ref=e.get("ref"),this.role=e.get("role")}getRef(){return this.ref}setRef(e){this.ref=e,this.attributes.set("ref",e)}getRole(){return this.role}setRole(e){this.role=e,this.attributes.set("role",e)}}class sN extends X{static{this.tagName="reactant"}static{this.roleOptions=["deficientReactant","excessReactant","modelled"]}constructor(e,t){super(e,sN.tagName),this.addNode(t)}getMolecule(){return this.nodes.get(0)}}class sp extends X{static{this.tagName="product"}static{this.roleOptions=["modelled","sink"]}constructor(e,t){super(e,sp.tagName),this.addNode(t)}getMolecule(){return this.nodes.get(0)}}class sf extends X{static{this.tagName="me:transitionState"}constructor(e,t){super(e,sf.tagName),this.addNode(t)}getMolecule(){return this.nodes.get(0)}}class sx extends V{static{this.tagName="me:preExponential"}constructor(e,t){super(e,sx.tagName,t)}}class sv extends V{static{this.tagName="me:activationEnergy"}constructor(e,t){super(e,sv.tagName,t)}}class sE extends V{static{this.tagName="me:TInfinity"}constructor(e,t){super(e,sE.tagName,t)}}class sw extends V{static{this.tagName="me:nInfinity"}constructor(e,t){super(e,sw.tagName,t)}}class sy extends X{static{this.tagName="me:MCRCMethod"}constructor(e){super(e,sy.tagName)}}class sb extends sy{static{this.xsiType="me:MesmerILT"}static{this.xsiType2="MesmerILT"}constructor(e,t,s,i,n){super(e),this.index=new Map,void 0!=t&&(this.index.set(sx.tagName,this.index.size),this.addNode(t)),void 0!=s&&(this.index.set(sv.tagName,this.index.size),this.addNode(s)),void 0!=i&&(this.index.set(sE.tagName,this.index.size),this.addNode(i)),void 0!=n&&(this.index.set(sw.tagName,this.index.size),this.addNode(n))}getPreExponential(){let e=this.index.get(sx.tagName);if(void 0!=e)return this.nodes.get(e)}setPreExponential(e){let t=this.index.get(sx.tagName);void 0==t?(this.index.set(sx.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getActivationEnergy(){let e=this.index.get(sv.tagName);if(void 0!=e)return this.nodes.get(e)}setActivationEnergy(e){let t=this.index.get(sv.tagName);void 0==t?(this.index.set(sv.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getTInfinity(){let e=this.index.get(sE.tagName);if(void 0!=e)return this.nodes.get(e)}setTInfinity(e){let t=this.index.get(sE.tagName);void 0==t?(this.index.set(sE.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getNInfinity(){let e=this.index.get(sw.tagName);if(void 0!=e)return this.nodes.get(e)}setNInfinity(e){let t=this.index.get(sw.tagName);void 0==t?(this.index.set(sw.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}}class sC extends q{static{this.tagName="me:tunneling"}static{this.options=["Eckart","WKB"]}static{this.s_name="name"}constructor(e){super(e,sC.tagName)}getName(){return this.attributes.get(sC.s_name)}setName(e){this.attributes.set(sC.s_name,e)}}class sS extends V{static{this.tagName="me:excessReactantConc"}constructor(e,t){super(e,sS.tagName,t)}}class sM extends V{static{this.tagName="me:val"}constructor(e,t){super(e,sM.tagName,t)}}class sT extends V{static{this.tagName="me:rev"}constructor(e,t){super(e,sT.tagName,t)}}class sR extends V{static{this.tagName="me:Keq"}constructor(e,t){super(e,sR.tagName,t)}}class sz extends X{static{this.tagName="me:kinf"}constructor(e,t,s,i,n){super(e,sz.tagName),this.index=new Map,void 0!=t&&(this.index.set(tz.tagName,this.nodes.size),this.addNode(t)),void 0!=s&&(this.index.set(sM.tagName,this.nodes.size),this.addNode(s)),void 0!=i&&(this.index.set(sT.tagName,this.nodes.size),this.addNode(i)),void 0!=n&&(this.index.set(sR.tagName,this.nodes.size),this.addNode(n))}getT(){let e=this.index.get(tz.tagName);if(void 0!=e)return this.nodes.get(e)}setT(e){let t=this.index.get(tz.tagName);void 0==t?(this.index.set(tz.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getVal(){let e=this.index.get(sM.tagName);if(void 0!=e)return this.nodes.get(e)}setVal(e){let t=this.index.get(sM.tagName);void 0==t?(this.index.set(sM.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getRev(){let e=this.index.get(sT.tagName);if(void 0!=e)return this.nodes.get(e)}setRev(e){let t=this.index.get(sT.tagName);void 0==t?(this.index.set(sT.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getKeq(){let e=this.index.get(sR.tagName);if(void 0!=e)return this.nodes.get(e)}setKeq(e){let t=this.index.get(sR.tagName);void 0==t?(this.index.set(sR.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getHeader(){let e=[];return e.push("T ("+this.getT()?.attributes.get("units")+")"),e.push("kf ("+this.getVal()?.attributes.get("units")+")"),e.push("krev ("+this.getRev()?.attributes.get("units")+")"),e.push("Keq ("+this.getKeq()?.attributes.get("units")+")"),e}toStringArray(){let e=this.getT(),t=this.getVal(),s=this.getRev(),i=this.getKeq();return[e.value.toString(),t.value.toString(),s.value.toString(),i.value.toString()]}toCSV(){return this.toStringArray().join(",")}}class s_ extends X{static{this.tagName="me:canonicalRateList"}constructor(e,t,s){super(e,s_.tagName),this.index=new Map,this.kinfIndex=new Map,void 0!=t&&(this.index.set(tR.tagName,this.nodes.size),this.addNode(t)),void 0!=s&&s.forEach(e=>{this.kinfIndex.set(this.nodes.size,this.nodes.size),this.addNode(e)})}getDescription(){let e=this.index.get(tR.tagName);if(void 0!=e)return this.nodes.get(e)}setDescription(e){let t=this.index.get(tR.tagName);void 0==t?(this.index.set(tR.tagName,this.nodes.size),this.addNode(e)):this.nodes.set(t,e)}getKinfs(){return Array.from(this.kinfIndex.values()).map(e=>this.nodes.get(e))}addKinf(e){this.kinfIndex.set(this.kinfIndex.size,this.nodes.size),this.addNode(e)}toCSV(){let e="",t=!0;return this.getKinfs().forEach(s=>{t&&(t=!1,e+=s.getHeader().join(",")+"\n"),e+=s.toCSV()+"\n"}),e}}class sL extends X{static{this.tagName="reaction"}static{this.s_id="id"}constructor(e,t,s,i,n,a,o,d){super(e,sL.tagName),this.index=new Map,this.reactantsIndex=new Map,this.productsIndex=new Map,this.transitionStatesIndex=new Map;let r=e.get(sL.s_id);if(void 0==r)throw Error(sL.s_id+" is undefined!");this.id=r,void 0!=t&&(t.forEach(e=>{this.reactantsIndex.set(e.getMolecule().getRef(),this.nodes.size),this.addNode(e)}),this.index.set(sN.tagName,this.reactantsIndex)),void 0!=s&&(s.forEach(e=>{this.productsIndex.set(e.getMolecule().getRef(),this.nodes.size),this.addNode(e)}),this.index.set(sp.tagName,this.productsIndex)),void 0!=i&&(this.index.set(sC.tagName,this.nodes.size),this.addNode(i)),void 0!=n&&(n.forEach(e=>{this.transitionStatesIndex.set(e.getMolecule().getRef(),this.nodes.size),this.addNode(e)}),this.index.set(sf.tagName,this.transitionStatesIndex)),void 0!=a&&(this.index.set(sy.tagName,this.nodes.size),this.addNode(a)),void 0!=o&&(this.index.set(sS.tagName,this.nodes.size),this.addNode(o)),void 0!=d&&(this.index.set(s_.tagName,this.nodes.size),this.addNode(d))}addToIndex(e,t){let s=this.index.get(e);if(void 0==s)this.index.set(e,this.nodes.size);else if(s instanceof Map)s.set(t.tagName,this.nodes.size);else{let i=new Map;i.set(this.nodes.get(s).getRef(),s),i.set(t.tagName,this.nodes.size),this.index.set(e,i)}}getReactants(){let e=this.index.get(sN.tagName);return void 0==e?[]:e instanceof Map?Array.from(e.values()).map(e=>this.nodes.get(e)):[this.nodes.get(e)]}setReactants(e){e.forEach(e=>{this.reactantsIndex.set(e.getMolecule().getRef(),this.nodes.size),this.addNode(e)}),this.index.set(sN.tagName,this.reactantsIndex)}getReactant(e){let t=this.reactantsIndex.get(e);if(void 0==t)throw Error(`Reactant with ref ${e} not found`);return this.nodes.get(t)}addReactant(e){this.reactantsIndex.set(e.getMolecule().getRef(),this.nodes.size),this.addNode(e)}removeReactant(e){let t=this.reactantsIndex.get(e);if(void 0==t)throw Error(`Reactant with ref ${e} not found`);this.nodes.delete(t),this.reactantsIndex.delete(e)}getProducts(){let e=this.index.get(sp.tagName);return void 0==e?[]:e instanceof Map?Array.from(e.values()).map(e=>this.nodes.get(e)):[this.nodes.get(e)]}setProducts(e){e.forEach(e=>{this.productsIndex.set(e.getMolecule().getRef(),this.nodes.size),this.addNode(e)}),this.index.set(sp.tagName,this.productsIndex)}getProduct(e){let t=this.productsIndex.get(e);if(void 0==t)throw Error(`Product with ref ${e} not found`);return this.nodes.get(t)}addProduct(e){this.productsIndex.set(e.getMolecule().getRef(),this.nodes.size),this.addNode(e)}removeProduct(e){let t=this.productsIndex.get(e);if(void 0==t)throw Error(`Product with ref ${e} not found`);this.nodes.delete(t),this.productsIndex.delete(e)}getTunneling(){let e=this.index.get(sC.tagName);if(void 0!=e)return this.nodes.get(e)}setTunneling(e){let t=this.index.get(sC.tagName);if(void 0==t)this.index.set(sC.tagName,this.nodes.size),this.addNode(e);else{if(t instanceof Map)throw Error("Tunneling is a map and it is assumed there would be only 1!");this.nodes.set(t,e)}}getTransitionStates(){let e=this.index.get(sf.tagName);return void 0==e?[]:e instanceof Map?Array.from(e.values()).map(e=>this.nodes.get(e)):[this.nodes.get(e)]}setTransitionStates(e){e.forEach(e=>{this.transitionStatesIndex.set(e.getMolecule().getRef(),this.nodes.size),this.addNode(e)}),this.index.set(sf.tagName,this.transitionStatesIndex)}getTransitionState(e){let t=this.transitionStatesIndex.get(e);if(void 0==t)throw Error(`Transition state with ref ${e} not found`);return this.nodes.get(t)}addTransitionState(e){this.transitionStatesIndex.set(e.getMolecule().getRef(),this.nodes.size),this.addNode(e)}removeTransitionState(e){let t=this.transitionStatesIndex.get(e);if(void 0==t)throw Error(`Transition State with ref ${e} not found`);this.nodes.delete(t),this.transitionStatesIndex.delete(e)}getMCRCMethod(){let e=this.index.get(sy.tagName);if(void 0!=e)return this.nodes.get(e)}setMCRCMethod(e){let t=this.index.get(sy.tagName);if(void 0==t)this.index.set(sy.tagName,this.nodes.size),this.addNode(e);else{if(t instanceof Map)throw Error("MCRCMethod is a map and it is assumed there would be only 1!");this.nodes.set(t,e)}}getExcessReactantConc(){let e=this.index.get(sS.tagName);if(void 0!=e)return this.nodes.get(e)}setExcessReactantConc(e){let t=this.index.get(sS.tagName);if(void 0==t)this.index.set(sS.tagName,this.nodes.size),this.addNode(e);else{if(t instanceof Map)throw Error("ExcessReactantConc is a map and it is assumed there would be only 1!");this.nodes.set(t,e)}}getCanonicalRateList(){let e=this.index.get(s_.tagName);if(void 0!=e)return this.nodes.get(e)}setCanonicalRateList(e){let t=this.index.get(s_.tagName);if(void 0==t)this.index.set(s_.tagName,this.nodes.size),this.addNode(e);else{if(t instanceof Map)throw Error("CanonicalRateList is a map and it is assumed there would be only 1!");this.nodes.set(t,e)}}getReactantsLabel(){return this.getReactants().map(e=>e.getMolecule().getRef()).join(" + ")}getProductsLabel(){return this.getProducts().map(e=>e.getMolecule().getRef()).join(" + ")}getLabel(){return this.getReactantsLabel()+" -> "+this.getProductsLabel()}getReactantsEnergy(e,t){return Array.from(this.getReactants()).map(s=>{console.log('ref="'+s.getMolecule().getRef()+'"');let i=e(s.getMolecule().getRef(),t);if(void 0==i)throw Error(`Molecule with ref ${s.getMolecule().getRef()} not found`);return i.getEnergy()}).reduce((e,t)=>e.add(t),new(d(r))(0))}getProductsEnergy(e,t){return Array.from(this.getProducts()).map(s=>{let i=e(s.getMolecule().getRef(),t);if(void 0==i)throw Error(`Molecule with ref ${s.getMolecule().getRef()} not found`);return i.getEnergy()}).reduce((e,t)=>e.add(t),new(d(r))(0))}get(e,t){if(this.index.has(e)){let s=this.index.get(e);if(void 0!=s){if(!(s instanceof Map))return this.nodes.get(s);{let e=s.get(t);if(void 0!=e)return this.nodes.get(e)}}}}}class sP{constructor(){}readFile(){return new Promise((e,t)=>{let s=document.createElement("input");s.type="file";let i=this;s.onchange=function(){if(s.files){let n=s.files[0];n.name;let a=new FileReader,o=0,d="";a.onload=function(s){if(null==s.target){t(Error("Event target is null"));return}if(d+=s.target.result,null!=n){if(o<n.size){let e=n.slice(o,o+1048576);a.readAsText(e),o+=1048576}else{d=d.trim();let t=new DOMParser().parseFromString(d,"text/xml");e(i.parse(t))}}};let r=n.slice(o,o+1048576);a.readAsText(r),o+=1048576}},s.click()})}parse(e){let t=new Map,s=W(e,ty.tagName),i=new Set;s.childNodes.forEach(function(e){i.add(e.nodeName)});let n=s.getElementsByTagName(sc.tagName),a=n.length;console.log("Number of molecules="+a);let o=0;for(let e=0;e<a;e++){let s=$(n[e]);if(void 0==s.get(sc.s_id))throw Error(sc.s_id+" is undefined");let i=n[e].childNodes;if(0==i.length){if(o++,void 0==s.get("ref"))throw Error("ref is undefined");continue}let a=t.size,l=new sc(s,a);t.set(a,l);let g=new Set;for(let e=0;e<i.length;e++){let t=i[e];g.has(t.nodeName)?"#text"!=t.nodeName&&console.warn("Another ChildNode with nodeName="+t.nodeName):g.add(t.nodeName)}let h=n[e].getElementsByTagName(tN.tagName);if(h.length>0){if(h.length>1)throw Error("Expecting 1 or 0 "+tN.tagName+" but finding "+h.length+"!");let e=new tN($(h[0]));l.setMetadataList(e);let t=h[0].getElementsByTagName(tl.tagName);for(let s=0;s<t.length;s++){let i=new tl($(t[s]));e.addMetadata(i)}g.delete(tN.tagName)}let m=n[e].getElementsByTagName(tL.tagName);if(m.length>1)throw Error("Expecting 1 or 0 "+tL.tagName+" but finding "+m.length+"!");if(1==m.length){let e=m[0],t=e.getElementsByTagName(t_.tagName);if(0==t.length)throw Error("Expecting 1 or more atoms in "+tL.tagName+", but finding 0!");let s=new tL($(e));l.setAtoms(s);for(let e=0;e<t.length;e++)s.addAtom(new t_($(t[e]),l));g.delete(tL.tagName)}else{let t=n[e].getElementsByTagName(t_.tagName);if(1==t.length){let e=new tL(new Map);e.addAtom(new t_($(t[0]),l)),l.setAtoms(e)}else if(t.length>1)throw Error("Expecting 1 "+t_.tagName+" but finding "+t.length+". Should these be in an "+tL.tagName+"?")}g.delete(t_.tagName);let c=n[e].getElementsByTagName(tI.tagName);if(c.length>0){if(c.length>1)throw Error("Expecting 1 or 0 "+tI.tagName+" but finding "+c.length+"!");let e=c[0].getElementsByTagName(tP.tagName),t=new tI($(c[0]));for(let s=0;s<e.length;s++)t.addBond(new tP($(e[s]),l));l.setBonds(t),g.delete(tI.tagName)}else{let t=n[e].getElementsByTagName(tP.tagName);if(t.length>0){if(t.length>1)throw Error("Expecting 1 "+tP.tagName+" but finding "+t.length+". Should these be in a "+tI.tagName+"?");let e=new tI(new Map);e.addBond(new tP($(t[0]),l)),l.setBonds(e)}}g.delete(tP.tagName);let u=n[e].getElementsByTagName(t2.tagName);if(u.length>1)throw Error("Expecting 1 or 0 "+t2.tagName+" but finding "+u.length+"!");if(1==u.length){let e=new t2($(u[0]));l.setPropertyList(e);let t=u[0].getElementsByTagName(tk.tagName);for(let s=0;s<t.length;s++)e.setProperty(new tk($(t[s])));g.delete(t2.tagName)}else{let t=new t2(new Map);l.setPropertyList(t);let s=n[e].getElementsByTagName(tk.tagName);if(1!=s.length)throw Error("Expecting 1 "+tk.tagName+" but finding "+s.length+". Should these be in a "+t2.tagName+"?");t.setProperty(new tk($(s[0]))),g.delete(tk.tagName)}let N=n[e].getElementsByTagName(t8.tagName);if(N.length>0){if(N.length>1)throw Error("Expecting 1 or 0 "+t8.tagName+" but finding "+N.length+"!");let e=new t8($(N[0]));l.setEnergyTransferModel(e),g.delete(t8.tagName)}let p=n[e].getElementsByTagName(t9.tagName);if(p.length>0){if(p.length>1)throw Error("Expecting 1 or 0 "+t9.tagName+" but finding "+p.length+"!");let e=new t9($(p[0]));l.setDOSCMethod(e),g.delete(t9.tagName)}let f=n[e].getElementsByTagName(st.tagName);if(f.length>0){if(f.length>1)throw Error("Expecting 1 or 0 "+st.tagName+" but finding "+f.length+"!");let e=new st($(f[0]));l.setDistributionCalcMethod(e),g.delete(st.tagName)}let x=n[e].getElementsByTagName(sm.tagName);if(x.length>0){if(x.length>1)throw Error("Expecting 1 or 0 "+sm.tagName+" but finding "+x.length+"!");let e=new sm($(x[0]));l.setDensityOfStatesList(e);let t=x[0].getElementsByTagName(sh.tagName),s=x[0].getElementsByTagName(tR.tagName);if(s.length>0){if(s.length>1)throw Error("Expecting 1 or 0 "+tR.tagName+" but finding "+s.length+"!");let t=new tR($(s[0]),O(k(s[0])));e.setDescription(t)}if(0==t.length)throw Error("Expecting 1 or more "+sh.tagName+" but finding 0!");for(let s=0;s<t.length;s++){let i=new sh($(t[s]));e.addDensityOfStates(i);let n=t[s].getElementsByTagName(tz.tagName);if(1!=n.length)throw Error("Expecting 1 "+tz.tagName+" but finding "+n.length+"!");{let e=new tz($(n[0]),new(d(r))(O(k(n[0]))));i.setT(e)}let a=t[s].getElementsByTagName(sr.tagName);if(1!=a.length)throw Error("Expecting 1 "+sr.tagName+" but finding "+a.length+"!");{let e=new sr($(a[0]),new(d(r))(O(k(a[0]))));i.setQtot(e)}let o=t[s].getElementsByTagName(sl.tagName);if(1!=o.length)throw Error("Expecting 1 "+sl.tagName+" but finding "+o.length+"!");{let e=new sl($(o[0]),new(d(r))(O(k(o[0]))));i.setSumc(e)}let l=t[s].getElementsByTagName(sg.tagName);if(1!=l.length)throw Error("Expecting 1 "+sg.tagName+" but finding "+l.length+"!");{let e=new sg($(l[0]),new(d(r))(O(k(l[0]))));i.setSumg(e)}}g.delete(sm.tagName)}g.delete("#text"),g.size>0&&(console.warn("There are additional unexpected moleculeTagNames:"),g.forEach(e=>console.warn(e)))}return console.log("Number of molecules="+t.size),console.log("Number of alias molecules="+o.toString()),t}}let sI="https://github.com/MESMER-kinetics",sB=sI+"/mxg",sD=document.createElement("a");sD.href=sB,sD.textContent=sB;let sA=sB+"/tree/main/data/examples",sG=document.createElement("a");sG.href=sA,sG.textContent=sA;let sk=sI+"/MESMER-code",sO=document.createElement("a");sO.href=sk,sO.textContent=sk;let sF=document.createElement("a");sF.href="https://epsrc.ukri.org/",sF.textContent="The UK Engineering and Physical Sciences Research Council (EPSRC)";let sH=document.createElement("a");sH.href="https://www.leeds.ac.uk/",sH.textContent="The University of Leeds";let sq="https://github.com/3dmol/3Dmol.js",sU=document.createElement("a");sU.href=sq,sU.textContent=sq;let sV=document.createElement("a");sV.href="http://doi.org/10.1093/bioinformatics/btu829",sV.textContent="doi:10.1093/bioinformatics/btu829";let sj="https://mikemcl.github.io/big.js/",sX=document.createElement("a");function sY(e,t,s,i,n,a,o,d,r,l,g){let h=i+(a-i)/2;sW(e,g,d,t,h-sK(e,g,d)/2,o+r),sW(e,l,d,t,h-sK(e,l,d)/2,o+3*r),s$(e,t,s,i,n,a,o)}function s$(e,t,s,i,n,a,o){e.beginPath(),e.strokeStyle=t,e.lineWidth=s,e.moveTo(i,n),e.lineTo(a,o),e.stroke()}function sW(e,t,s,i,n,a){e.save(),e.translate(n,a),e.scale(1,-1),e.font=s,e.fillStyle=i,e.fillText(t,0,0),e.restore()}function sK(e,t,s){return e.font=s,e.measureText(t).width}sX.href=sj,sX.textContent=sj,d(r).PE=7;let sZ={marginLeft:"0px",marginTop:"1px",marginBottom:"1px",marginRight:"0px"},sQ={marginLeft:"25px",marginTop:"1px",marginBottom:"1px",marginRight:"0px"},sJ={marginLeft:"1px",marginTop:"1px",marginBottom:"1px",marginRight:"1px"};const s0=" ✓",s1=" ✗",s2="Add ＋",s3="container",s5="description",s4="input",s6="optionOn",s8="optionOff",s9="save",s7="Select an option (use keys to cycle through options)...",ie="table",it="undefined",is="units",ii=new Set,ia=new Set;function io(...e){let t=g(...e);if(ii.has(t))throw Error(t+" already exists!");return ii.add(t),t}function id(...e){let t=io(...e);return ia.add(t),t}function ir(e){let t=document.getElementById(e);null!=t&&t.remove(),ia.delete(e),ii.delete(e)}const il=io("menu"),ig=io("title"),ih=io("molecules"),im=io("reactions"),ic=io("reactionsDiagram"),iu=io("conditions"),iN=io("modelParameters"),ip=io("control"),ix=io("metadata"),iv=io("analysis"),iE=io("xml");io("welcome");const iw=new(d(r))(0);class iy{addID(e,...t){let s=id(e,...t);return this.ids.has(e)||this.ids.set(e,new Set),this.ids.get(e)?.add(s),s}removeID(e){ia.delete(e),ii.delete(e)}removeIDs(e){this.ids.get(e).forEach(e=>{console.log("remove id "+e),ia.delete(e),ii.delete(e)}),this.ids.delete(e)}constructor(){this.ids=new Map}}let ib=new iy,iC=new iy,iS=new iy,iM=new class{constructor(){this.tagName="defaults",this.values=new Map,this.attributess=new Map}readFile(){let e=document.createElement("input");e.type="file";let t=this;e.onchange=function(){if(e.files){for(let t=0;t<e.files.length;t++)console.log("inputElement.files["+t+"]="+e.files[t]);let s=e.files[0];console.log(s.name),s.name;let i=new FileReader,n=0,a="";i.onload=function(e){if(null==e.target)throw Error("Event target is null");if(a+=e.target.result,null!=s){if(n<s.size){let e=s.slice(n,n+1048576);i.readAsText(e),n+=1048576}else{a=a.trim();let e=new DOMParser().parseFromString(a,"text/xml");t.parse(e)}}};let o=s.slice(n,n+1048576);i.readAsText(o),n+=1048576}},e.click()}parse(e){let t=W(e,this.tagName);console.log("Default attributes: "+h($(t)));let s=t.children;console.log("children.length="+s.length);for(let e=0;e<s.length;e++){let t=s[e],i=t.tagName;console.log("tagName="+i);let n=$(t);if(this.attributess.set(i,n),console.log("Attributes: "+h(n)),"property"==i){let e=t.getAttribute("dictRef");try{let s=W(t,"scalar").innerHTML;null!=s?(console.log("v="+s),this.values.set(e,s)):console.log("v is null")}catch(e){console.log("Error: "+e)}}else{let e=t.innerHTML;null!=e?(console.log("v="+e),this.values.set(i,e)):console.log("v is null")}}console.log("values: "+h(this.values)),this.attributess.forEach((e,t)=>{console.log("key="+t+" value="+h(e))})}},iT=new Map;function iR(e,t){let s=e.getID();for(let[i,n]of t)if(s==n.getID()){s+=" "+n.id.toString(),e.label=s;break}t.set(e.id,e)}function iz(e){let t=new Set;return e.forEach((e,s)=>{let i=e.getID();t.has(i)?t.add(i+"-"+s.toString()):t.add(i)}),t}function i_(e,t){for(let[s,i]of t)if(i.label==e)return i;return null}const iL="Reactions Diagram",iP=id(iL),iI=id(iP,"Canvas");let iB="1em SensSerif";function iD(e,t){let i=new tw(t,e);s.setTitle(i);let n=document.getElementById(ig),a=id("titleDiv");ir(a);let o=y("text",id(a,s4),sJ,sZ,e=>{let t=e.target;i.value=t.value,console.log(i.tagName+" changed to "+i.value),M(t)},e,tw.tagName);o.id=a,n.appendChild(o)}function iA(){null==o?nB(document.getElementById(iI),t,iB,4,2):nB(o.document.getElementById(iI),t,iB,4,2)}function iG(e){let t=L(s2,void 0,sQ);return e.appendChild(t),t.addEventListener("click",()=>{let s=prompt("Please enter a name for the molecule","Kr");null==s&&(s="");let n=i.size,a=new sc(new Map,n);iR(a,i),a.setAtoms(new tL(new Map)),a.setBonds(new tI(new Map));let o=id(sc.tagName,n),d=P(o),r=E(id(o,s3),e,t,d,s+" "+n,sJ,sQ);ij(eo.tagName,s+" "+n),ik(a,r.querySelector(x),d,sQ),d.appendChild(iO(id(o,s5),a.getDescription.bind(a),a.setDescription.bind(a),sJ,sQ));let l=id(o,tL.tagName),g=P(l);E(id(l,s3),d,null,g,tL.tagName,sJ,sQ),g.appendChild(iH(a,g,t_.tagName,sJ,sQ));let h=id(o,tI.tagName),m=P(h);E(id(h,s3),d,null,m,tI.tagName,sJ,sQ),m.appendChild(iX(a,m,tP.tagName,sJ,sQ)),i1(a,d,sJ,sQ);let c=id(o,t2.tagName),u=P(c);E(id(c,s3),d,null,u,t2.tagName,sJ,sQ)}),t}function ik(e,t,s,i){let n="✎ Edit id",a=id(s.id,n,x),o=L(n,a,i);s.appendChild(o),o.addEventListener("click",()=>{let s=prompt("Please edit the molecule ID:",e.getID());null==s&&(s=""),iV(eo.tagName,e.getID()),e.setID(s),ij(eo.tagName,e.getID()),t.textContent=e.getLabel()+" ▲"})}function iO(e,t,s,i,n){let a=I(void 0,n),o=s5+s0,d=s5+s1,r=L(d,id(e,x),i);a.appendChild(r),r.classList.add(s6),r.classList.add(s8);let l=id(e,s5,s4),g=t();return void 0==g?(r.textContent=d,r.classList.toggle(s6)):(iF(a,l,g,s,i),r.textContent=o,r.classList.toggle(s8)),r.addEventListener("click",e=>{null==document.getElementById(l)?(iF(a,l,g,s,i),r.textContent=o):(document.getElementById(l)?.remove(),console.log("Removed "+l),r.textContent=d),r.classList.toggle(s6),r.classList.toggle(s8)}),a}function iF(e,t,s,i,n){let a;a=void 0==s?"":s;let o=b("text",t,n);o.addEventListener("change",e=>{let n=e.target;i(n.value),console.log(t+" changed from "+s+" to "+n.value),M(n)}),o.value=a,M(o),e.appendChild(o)}function iH(e,t,s,i,n){let a=L(s2,id(t.id,"Add"+s+"Button"),n);return a.addEventListener("click",()=>{let s=new t_(new Map,e);t.insertBefore(iq(e,t.id,e.getAtoms(),s,i,n),a)}),a}function iq(e,t,s,i,n,a){let o,d=s.addAtom(i,i.getID()),r=I(id(t,d),a);r.appendChild(B(d,n));let l=new Set;return function(e,t,s,i,n){let a=e.getElementType(),o=tT.elementTypes;void 0==a&&(a=s7,i$(o,i));let d=id(t.id,t_.s_elementType);s.add(d);let r=_(t_.s_elementType,o,t_.s_elementType,a,d,n,n),l=r.querySelector("select");l.addEventListener("change",t=>{let s=t.target;e.setElementType(s.value),T(s)}),l.value=a,T(l),n_(o,l),t.appendChild(r)}(i,r,l,!0,n),o=id(r.id,t_.s_x3),l.add(o),r.appendChild(iW(o,l,t_.s_x3,i.getX3.bind(i),i.setX3.bind(i),i.removeX3,n,n)),o=id(r.id,t_.s_y3),l.add(o),r.appendChild(iW(o,l,t_.s_y3,i.getY3.bind(i),i.setY3.bind(i),i.removeY3,n,n)),o=id(r.id,t_.s_z3),l.add(o),r.appendChild(iW(o,l,t_.s_z3,i.getZ3.bind(i),i.setZ3.bind(i),i.removeZ3,n,n)),iQ(r,n,iU,e,d,l),ij(tP.s_atomRefs2,d),r}function iU(e,t,s){e.getAtoms().removeAtom(t),s.forEach(e=>{console.log("Removing "+e),ir(e)}),iV(tP.s_atomRefs2,t),e.getBonds().bonds.forEach(t=>{let s=t.getAtomRefs2().split(" ");if(s[0]==s[1]){let s=t.getID();e.getBonds().removeBond(s),iV(tP.tagName,s);let i=g(sc.tagName,e.id,tI.tagName,s),n=document.getElementById(i);if(null==n)throw Error("Bond div with id "+i+" not found.");n.remove()}})}function iV(e,t){let s=document.getElementsByClassName(e);for(let e=0;e<s.length;e++)if(s[e]instanceof HTMLSelectElement){let i=s[e].options,n=s[e].value;Array.from(i).forEach(i=>{if(i.value==t&&(i.remove(),n==t)){let t=new Event("change");s[e].dispatchEvent(t)}})}}function ij(e,t){let s=document.getElementsByClassName(e);console.log("n elements with className "+e+"="+s.length);for(let e=0;e<s.length;e++){let i=s[e];if(s[e]instanceof HTMLSelectElement){let e=document.createElement("option");e.value=t,e.text=t,i.add(e)}}}function iX(e,t,s,i,n){let a=L(s2,id(t.id,s,x),n);return a.addEventListener("click",()=>{let s=e.getAtoms().atoms;if(s.size<2){alert("There must be at least 2 atoms to create a bond.");return}let o=new Map,d=Array.from(s.keys()).slice(0,2).join(" ");o.set(tP.s_atomRefs2,d);let r=new tP(o,e);t.insertBefore(iY(e,t.id,s,e.getBonds(),r,i,n),a)}),t.appendChild(a),a}function iY(e,t,s,i,n,a,o){let d,r,l,h,m,c,u,N,p,f=i.addBond(n,n.getID()),x=I(g(t,f),o);return x.appendChild(B(f,a)),d=g(x.id,tP.s_atomRefs2),r=n.getAtomRefs2().split(" "),l=Array.from(e.getAtoms().atoms.keys()),h=g(d,0),(c=(m=_(tP.s_atomRefs2+"[0]",l,t_.tagName,r[0],h,a,a)).querySelector("select")).classList.add(tP.s_atomRefs2),c.addEventListener("change",e=>{let t=e.target,s=t.value+" "+r[1];console.log(tP.s_atomRefs2+" changed to "+s),n.setAtomRefs2(s),T(t)}),c.value=r[0],T(c),x.appendChild(m),u=g(d,1),(p=(N=_(tP.s_atomRefs2+"[1]",l,t_.tagName,r[1],u,a,a)).querySelector("select")).classList.add(tP.s_atomRefs2),p.addEventListener("change",e=>{let t=e.target,s=r[0]+" "+t.value;console.log(tP.s_atomRefs2+" changed to "+s),n.setAtomRefs2(s),T(t)}),p.value=r[1],T(p),x.appendChild(N),function(e,t,s){let i=g(e.id,tP.s_order),n=I(void 0,s);e.appendChild(n);let a=tP.s_order+s0,o=tP.s_order+s1,d=L(o,void 0,s);n.appendChild(d),d.classList.add(s6),d.classList.add(s8);let r=t.getOrder();void 0==r?(d.textContent=o,d.classList.toggle(s6)):(i0(n,t,i,r,s),d.textContent=a,d.classList.toggle(s8)),d.addEventListener("click",e=>{null==document.getElementById(i)?(void 0==r&&(r=1),i0(n,t,i,r,s),d.textContent=a):(document.getElementById(i)?.remove(),console.log("Removed "+i),d.textContent=o),d.classList.toggle(s6),d.classList.toggle(s8)})}(x,n,a),Array.from(s.keys()).forEach(e=>{x.classList.add(e)}),iQ(x,a,t=>e.getBonds().removeBond(t),f),ij(tP.tagName,f),x}function i$(e,t){if(t)e.push(s7);else{let t=e.indexOf(s7);t>-1&&e.splice(t,1)}}function iW(e,t,s,i,n,a,o,d){let r=I(e,d),l=s+s0,g=s+s1,h=id(e,x);t.add(h);let m=L(g,h,o);r.appendChild(m),m.classList.add(s6),m.classList.add(s8);let c=id(e,s,s4);t.add(c);let u=i();return void 0==u?(m.textContent=g,m.classList.toggle(s6)):(iK(r,c,s,u,i,n,o),m.textContent=l,m.classList.toggle(s8)),m.addEventListener("click",e=>{null==document.getElementById(c)?(iK(r,c,s,u,i,n,o),m.textContent=l):(document.getElementById(c)?.remove(),a(),console.log("Removed "+c),m.textContent=g),m.classList.toggle(s6),m.classList.toggle(s8)}),r}function iK(e,t,s,i,n,a,o){let l;l=void 0==i?"":i.toString();let g=b("text",t,o);g.addEventListener("change",e=>{let t=e.target;try{a(new(d(r))(t.value)),console.log(s+" changed from "+i+" to "+t.value)}catch(e){alert("Input invalid, resetting..."),t.value=n().toString()}M(t)}),g.value=l,M(g),e.appendChild(g)}function iZ(e,t,s,i,n,a,o,d){let r;r=void 0==i?"":N(i);let l=C(t,d);l.addEventListener("change",e=>{let t=e.target;i5(n,l),R(t)}),l.value=r,R(l),e.appendChild(l)}function iQ(e,t,s,...i){let n=L("Remove ✕",void 0,t);return e.appendChild(n),n.addEventListener("click",()=>{s(...i),e.remove(),ir(e.id)}),n}function iJ(e,t,s,i,n,a){let o;o=void 0==i?"":i.toString();let d=b("text",t,a);d.addEventListener("change",e=>{let t=e.target;n(t.value),console.log(s+" changed from "+i+" to "+t.value),M(t)}),d.value=o,M(d),e.appendChild(d)}function i0(e,t,s,i,n){let a=i.toString(),o=z(tP.orderOptions,tP.s_order,a,s,n);o.addEventListener("change",e=>{let s=e.target;t.setOrder(parseFloat(s.value)),console.log(tP.s_order+" changed from "+a+" to "+s.value),T(s)}),o.value=a,T(o),o.id=s,e.appendChild(o)}function i1(e,t,i,n){let a;let o=P(id(t.id,"viewerContainer"),n);t.appendChild(o);let d=id(t.id,"viewer"),r=!1,l=!1;function g(t,s){let n=P(d,i);n.className="mol-container",o.appendChild(n);let a=$3Dmol.createViewer(n,{backgroundColor:"grey"});return a.setStyle({stick:{}}),e.getAtoms().atoms.forEach(function(e){let s,i,n=e.getElementType();s=void 0==n?"Purple":tT.atomColors.get(n)||"Purple",i=void 0==n?100:tT.atomRadii.get(e.getElementType())||100;let o=e.getX3()?.toNumber()||0,d=e.getY3()?.toNumber()||0,r=e.getZ3()?.toNumber()||0;a.addSphere({center:{x:o,y:d,z:r},radius:i/110,color:s}),t&&a.addLabel(e.getID(),{position:{x:o,y:d,z:r}})}),e.getBonds().bonds.forEach(function(t){let i=t.getAtomRefs2().split(" "),n=e.getAtoms(),o=n.getAtom(i[0]),d=n.getAtom(i[1]),r=t.getOrder()||1,l=tT.bondColors.get(r)||"Purple",g=o.getX3()?.toNumber()||0,h=o.getY3()?.toNumber()||0,m=o.getZ3()?.toNumber()||0,c=d.getX3()?.toNumber()||0,u=d.getY3()?.toNumber()||0,N=d.getZ3()?.toNumber()||0;a.addCylinder({start:{x:g,y:h,z:m},end:{x:c,y:u,z:N},radius:.06*r,color:l}),s&&a.addLabel(t.getID(),{position:{x:(g+c)/2,y:(h+u)/2,z:(m+N)/2}})}),a.zoomTo(),a.render(),a.zoom(.8,2e3),a}let h=L("Draw/Redraw",void 0);function m(e,t,s,n){let o=L((s?"Hide ":"Show ")+e,t,i);return o.addEventListener("click",()=>{s?(o.textContent="Show "+e,s=!1):(o.textContent="Hide "+e,s=!0),n(s),ir(d),a=g(r,l)}),o}h.addEventListener("click",()=>{ir(d),a=g(r,l)}),o.appendChild(h);let c="Atom Labels",u=m(c,id(d,c),r,e=>r=e);o.appendChild(u);let N="Bond Labels",p=m(N,id(d,N),l,e=>l=e);o.appendChild(p);let f=L("Save as PNG",id(d,s9),sJ);f.addEventListener("click",()=>{let e=a.pngURI(),t=document.createElement("a");t.href=e;let i=s.getTitle()?.value;t.download=i.replace(/[^a-z0-9]/gi,"_")+"mol.png",document.body.appendChild(t),t.click(),document.body.removeChild(t),console.log("Save Image")}),o.appendChild(f)}function i2(e,t,s,i,n,a,o,l){let g=new Set,h=n.getElementsByTagName(tD.tagName);if(h.length>0){if(1!=h.length)throw Error("Expecting 1 "+tD.tagName+" but finding "+h.length+"!");let i=F(h[0]),n=new(d(r))(i),l=$(h[0]),m=new tD(l,n);t.setProperty(m),m.setValue=(function(e){m.value=e,t.dictRef==tO.dictRef&&iA()}).bind(m);let c=iW(id(a.id,t.dictRef),g,t.dictRef,m.getValue.bind(m),m.setValue,()=>e.removeProperty(t.dictRef),sJ,sQ);i3(s,l,c,c.querySelector(s4),id(a.id,t.dictRef,tD.s_units),t.dictRef,o,o),a.appendChild(c)}else{var m,u,N,p,f,E,w,y;let d=n.getElementsByTagName(tA.tagName);if(d.length>0){if(1!=d.length)throw Error("Expecting 1 "+tA.tagName+" but finding "+d.length+"!");let i=F(d[0]);if(""!=i){let n,r,l,g,h,v,E=c(i.split(/\s+/)),w=$(d[0]),y=new tA(w,E);t.setProperty(y);let b=(m=id(a.id,t.dictRef),u=t.dictRef,N=y.getValues.bind(y),p=y.setValues,f=()=>e.removeProperty(t.dictRef),n=I(void 0,sQ),r=u+s0,g=L(l=u+s1,id(m,x),sJ),n.appendChild(g),g.classList.add(s6),g.classList.add(s8),h=id(m,u,s4),void 0==(v=N())?(g.textContent=l,g.classList.toggle(s6)):(iZ(n,h,u,v,y,N,p,sJ),g.textContent=r,g.classList.toggle(s8)),g.addEventListener("click",e=>{null==document.getElementById(h)?(iZ(n,h,u,v,y,N,p,sJ),g.textContent=r):(document.getElementById(h)?.remove(),f(),console.log("Removed "+h),g.textContent=l),g.classList.toggle(s6),g.classList.toggle(s8)}),n);i3(s,w,b,b.querySelector("textarea"),id(a.id,t.dictRef,tA.s_units),t.dictRef,o,o),a.appendChild(b)}}else{let e=n.getElementsByTagName(tG.tagName);if(e.length>0){let n,d,r;if(1!=e.length)throw Error("Expecting 1 "+tG.tagName+" but finding "+e.length+"!");let g=F(e[0]),h=c(g.split(/\s+/)),m=$(e[0]),u=new tG(m,h);t.setProperty(u);let N=t.dictRef,p=(E=id(a.id,t.dictRef),w=e=>{let t=e.target;i5(u,t)},y=g,n=I(void 0,l),(r=C(E,o)).onchange=w,r.value=y,R(r),(d=B(N,o)).htmlFor=E,n.appendChild(d),n.appendChild(r),n),f=p.querySelector("textarea");f.value=g,R(f),f.addEventListener("change",e=>{g=e.target.value,u=t.getProperty(),h=c(g.split(/\s+/)),u.values=h,console.log("Set "+t.dictRef+" of "+i.getLabel()+" to "+g),R(f)}),i3(s,m,p,f,id(a.id,t.dictRef,v,"Units"),t.dictRef,o,o),a.appendChild(p)}else throw Error("Expecting "+tD.tagName+", "+tA.tagName+" or "+tG.tagName+" but finding none!")}}}function i3(e,t,s,i,n,a,o,d){if(void 0!=e){let r=function(e,t,s,i,n,a){let o=t.get("units");if(void 0!=o){let d=_("units",e,"units",o,s,n,a),r=d.querySelector("select");return r.value=o,T(r),r.addEventListener("change",e=>{let s=e.target;t.set("units",s.value),console.log("Set "+i+" units to "+s.value),T(s)}),d}}(e,t,n,a,o,d);void 0!=r&&s.insertBefore(r,i)}else{let e=t.get("units");if(void 0!=e){let t=B("units "+e,d);s.insertBefore(t,i)}}}function i5(e,t){let s=t.value.trim(),i=m(e.values," ");if(""==s){alert("Empty input resetting..."),t.value=i;return}let n=s.split(/\s+/),a=[],o=!0;if(n.forEach(function(e){u(e)?a.push(new(d(r))(e)):o=!1}),!o){alert("An input is not a number, resetting..."),t.value=i;return}a.length==e.values.length?(e.setValues(a),console.log("Changed "+e.tagName+' from: "'+i+'" to: "'+m(e.values," ")+'"')):(alert("Expecting "+e.values.length+" values for, but finding "+a.length+" resetting..."),t.value=i)}function i4(e,t){try{let s=new(d(r))(t.value);e.value=s}catch(e){alert("Value invalid, resetting...")}t.value=e.value.toString()}function i6(e,t,s){let n=P(ib.addID(t.id,eo.tagName));E(ib.addID(t.id,eo.tagName,s3),t,null,n,eo.tagName,sJ,sQ);let a=L(s2,ib.addID(t.id,eo.tagName,x),sQ);if(n.appendChild(a),a.addEventListener("click",()=>{let s=new eo(new Map,s7),o=e.addBathGas(s),d=I(void 0,sQ),r=ib.addID(t.id,eo.tagName,o.toString()),l=nd(Array.from(iz(i)),s,!0,r);l.classList.add(eo.tagName),d.appendChild(l),iQ(d,sJ,t=>{n.removeChild(d),ib.removeID(r),e.removeBathGas(t)}),n.insertBefore(d,a)}),null!=s){let o=Array.from(s.children).filter(e=>e.tagName===eo.tagName);if(o.length>0)for(let s=0;s<o.length;s++){let d=new eo($(o[s]),O(k(o[s]))),r=e.addBathGas(d),l=ib.addID(t.id,eo.tagName,r.toString()),g=I(l,sQ);g.appendChild(nd(Array.from(iz(i)),d,!1,l)),iQ(g,sJ,t=>{n.removeChild(g),ib.removeID(l),e.removeBathGas(t)}),n.insertBefore(g,a)}else{let s=I(void 0,sQ),o=ib.addID(t.id,eo.tagName,0);s.appendChild(nd(Array.from(iz(i)),void 0,!1,o)),iQ(s,sJ,t=>{n.removeChild(s),ib.removeID(o),e.removeBathGas(t)}),n.insertBefore(s,a)}}}function i8(e,t,s){let n,a=iz(i),o=ib.addID(t.id,em.tagName),l=P(o);if(E(ib.addID(t.id,o,s3),t,null,l,em.tagName,sJ,sQ),s){let e=s.getElementsByTagName(em.tagName);if(e.length>0){if(e.length>1)throw Error("Expecting 1 "+em.tagName+" but finding "+e.length+"!");let s=$(e[0]),i=e[0].getElementsByTagName(eh.tagName);if(0==i.length)throw Error("Expecting 1 or more "+eh.tagName+" but finding 0!");n=new em(s);for(let e=0;e<i.length;e++){let s=new eh($(i[e]));n.add(s);let o=i[e].getElementsByTagName(eo.tagName);o.length>0&&(o.length>1&&console.warn("xml_bathGass.length="+o.length),s.setBathGas(new eo($(o[0]),O(k(o[0])))));let g=i[e].getElementsByTagName(ed.tagName);g.length>0&&(g.length>1&&console.warn("xml_experimentRates.length="+g.length),s.setExperimentalRate(new ed($(g[0]),new(d(r))(O(k(g[0])).trim()))));let h=i[e].getElementsByTagName(er.tagName);h.length>0&&(h.length>1&&console.warn("xml_experimentalYields.length="+h.length),s.setExperimentalYield(new er($(h[0]),new(d(r))(O(k(h[0])).trim()))));let m=i[e].getElementsByTagName(el.tagName);m.length>0&&(m.length>1&&console.warn("xml_experimentalEigenvalues.length="+m.length),s.setExperimentalEigenvalue(new el($(m[0]),new(d(r))(O(k(m[0])).trim())))),l.appendChild(i7(n,l,s,t.id,e,a,sQ))}}else n=new em(new Map)}else n=new em(new Map);e.setPTs(n);let g=P(void 0,sQ);l.appendChild(g);let h=L(s2,void 0,sJ);g.appendChild(h),h.addEventListener("click",()=>{let e=new Map;e.set("units","Torr");let s=new eh(e),i=n.add(s);console.log("Added new pTpair pTpairIndex="+i),l.insertBefore(i7(n,l,s,t.id,i,a,sQ),g)});let m=L("Add from spreadsheet ＋",void 0,sJ);g.appendChild(m),m.addEventListener("click",()=>{let e=I(void 0,sQ),s=b("text",id(em.tagName,"addFromSpreadsheet"),sQ);e.appendChild(s),l.insertBefore(e,g),s.addEventListener("change",()=>{if(console.log("inputElement.value="+s.value),console.log("inputElement.value.length="+s.value.length),s.value.length>0){let i=s.value.split(" "),o=new Map;i[0].split("	").forEach((e,t)=>{o.set(e,t)}),console.log("pTpairsArray.length="+i.length);for(let e=1;e<i.length;e++){let s=i[e].split("	"),h=o.get("P"),m=new(d(r))(s[h]),c=o.get("units"),u=new Map;if(o.has("units")){let e=s[c];u.set("units",e)}let N=new eh(u);n.add(N);let p=o.get("T"),f=new(d(r))(s[p]);if(N.setP(m),N.setT(f),o.has(eh.s_excessReactantConc)){let e=s[o.get(eh.s_excessReactantConc)];u.set(eh.s_excessReactantConc,e)}if(o.has(eh.s_percentExcessReactantConc)){let e=s[o.get(eh.s_percentExcessReactantConc)];u.set(eh.s_percentExcessReactantConc,e)}if(o.has(eh.s_precision)){console.log("index.has(PTpair.s_precision)");let e=s[o.get(eh.s_precision)];u.set(eh.s_precision,e)}if(o.has(eo.tagName)){let e=s[o.get(eo.tagName)];N.setBathGas(new eo(new Map,e))}if(o.has(ed.tagName)){let e=s[o.get(ed.tagName)];if(e.length>0){u.set(ed.tagName,e),N.setExperimentalRate(new ed(new Map,new(d(r))(e)));let t=s[o.get(ed.tagName+"_"+ed.s_ref1)];N.getExperimentalRate()?.setRef1(t);let i=s[o.get(ed.tagName+"_"+ed.s_ref2)];N.getExperimentalRate()?.setRef2(i);let n=s[o.get(ed.tagName+"_"+ed.s_refReaction)];N.getExperimentalRate()?.setRefReaction(n);let a=s[o.get(ed.tagName+"_"+ed.s_error)];N.getExperimentalRate()?.setError(new(d(r))(a))}}if(o.has(er.tagName)){let e=s[o.get(er.tagName)];if(e.length>0){N.setExperimentalYield(new er(new Map,new(d(r))(e)));let t=s[o.get(er.tagName+"_"+er.s_ref)];N.getExperimentalYield()?.setRef(t);let i=s[o.get(er.tagName+"_"+er.s_yieldTime)];N.getExperimentalYield()?.setYieldTime(new(d(r))(i));let n=s[o.get(er.tagName+"_"+er.s_error)];N.getExperimentalYield()?.setError(new(d(r))(n))}}if(o.has(el.tagName)){let e=s[o.get(el.tagName)];if(e.length>0){N.setExperimentalEigenvalue(new el(new Map,new(d(r))(e)));let t=s[o.get(el.tagName+"_"+el.s_EigenvalueID)];N.getExperimentalEigenvalue()?.setEigenvalueID(t);let i=s[o.get(el.tagName+"_"+el.s_error)];N.getExperimentalEigenvalue()?.setError(new(d(r))(i))}}let x=n.ptps.length-1;l.insertBefore(i7(n,l,N,t.id,x,a,sQ),g)}l.removeChild(e)}})});let c=L("Remove All",void 0,sJ);g.appendChild(c),c.addEventListener("click",()=>{n.clear();let e=l.firstChild;for(;null!=e&&e!=g;){let t=e.nextSibling;l.removeChild(e),e=t}})}function i9(e,t){let i=new ec(e,t);return s.addConditions(i),i}function i7(e,t,s,i,n,a,o){let d=I(id(t.id,n),o);return ne(d,eh.s_P,s.getP.bind(s),s.setP.bind(s)),i3(tT.pressureUnits,s.attributes,d,null,eh.tagName,eh.tagName,sJ,sQ),ne(d,eh.s_T,s.getT.bind(s),s.setT.bind(s)),ns(d,s,eh.s_excessReactantConc,na),function(e,t){let s=id(e.id,eh.s_percentExcessReactantConc),i=P(s,sJ);e.appendChild(i);let n=eh.s_percentExcessReactantConc,a=n+s0,o=n+s1,d=L(o,id(s,x),sJ);i.appendChild(d),d.classList.add(s6),d.classList.add(s8),t.attributes.get(n)?.toLowerCase()=="true"?(d.classList.toggle(s8),d.textContent=a):(d.classList.toggle(s6),d.textContent=o),d.addEventListener("click",e=>{d.classList.toggle(s6),d.classList.toggle(s8),d.textContent===o?(d.textContent=a,t.attributes.set(n,"true")):(d.textContent=o,t.attributes.delete(n))})}(d,s),ns(d,s,eh.s_precision,nn),function(e,t,s){let i=id(e.id,eo.tagName),n=P(i,sJ);e.appendChild(n);let a=eo.tagName,o=a+s0,d=a+s1,r=L(d,id(i,x),sJ);n.appendChild(r),r.classList.add(s6),r.classList.add(s8);let l=id(i,s4),g=t.getBathGas();void 0==g?(r.classList.toggle(s6),r.textContent=d):(r.classList.toggle(s8),r.textContent=o,!1==s.has(g.value)&&console.warn("moleculeKeys does not contain "+g.value),n.appendChild(no(l,t,g,!1))),r.addEventListener("click",e=>{r.classList.toggle(s6),r.classList.toggle(s8),r.textContent===d?(r.textContent=o,n.appendChild(no(l,t,g,!1))):(r.textContent=d,ir(l))})}(d,s,a),ni(d,s,n,ed.tagName,e=>e.getExperimentalRate(),nr),ni(d,s,n,er.tagName,e=>e.getExperimentalYield(),nl),ni(d,s,n,el.tagName,e=>e.getExperimentalEigenvalue(),ng),iQ(d,sJ,(s,i,n)=>{t.removeChild(s),void 0!==i&&e.remove(i),n.removeBathGas()},d,n,s),d}function ne(e,t,s,i){let n=y("text",eh.tagName+"_"+t,sJ,sZ,e=>{let n=e.target;try{i(new(d(r))(n.value)),console.log(`Set ${t} to ${n.value}`)}catch(e){alert("Invalid input, resetting..."),a.value=nt(s)}M(n)},nt(s),t),a=n.querySelector("input");a.value=nt(s),M(a),e.appendChild(n)}function nt(e){let t=e();return void 0!==t?t.toString():""}function ns(e,t,s,i){let n=id(e.id,s),a=P(n,sJ);e.appendChild(a);let o=s+s0,d=s+s1,r=L(d,id(n,x),sJ);a.appendChild(r),r.classList.add(s6),r.classList.add(s8);let l=id(n,s4);if(t.attributes.has(s)){r.classList.toggle(s8),r.textContent=o;let e=i(l,t);a.insertBefore(e,r.nextSibling)}else r.classList.toggle(s6),r.textContent=d;r.addEventListener("click",e=>{if(r.classList.toggle(s6),r.classList.toggle(s8),r.textContent===d){r.textContent=o;let e=i(l,t);a.insertBefore(e,r.nextSibling)}else r.textContent=d,ir(l)})}function ni(e,t,s,i,n,a){let o=id(e.id,i),d=P(o,sJ);e.appendChild(d);let r=i+s0,l=i+s1,g=L(l,id(o,x),sJ);d.appendChild(g),g.classList.add(s6),g.classList.add(s8);let h=id(o,s4);void 0==n(t)?(g.classList.toggle(s6),g.textContent=l):(g.classList.toggle(s8),g.textContent=r,d.appendChild(a(h,t,s))),g.addEventListener("click",e=>{g.classList.toggle(s6),g.classList.toggle(s8),g.textContent===l?(g.textContent=r,d.appendChild(a(h,t,s))):(g.textContent=l,ir(h))})}function nn(e,t){let s;s=t.attributes.has(eh.s_precision)?t.attributes.get(eh.s_precision):tT.precisionOptions[0];let i=z(tT.precisionOptions,eh.s_precision,s,e,sJ);return i.addEventListener("change",e=>{let s=e.target;t.setPrecision(s.value),console.log("Set "+eh.s_precision+" to "+s.value),T(s)}),T(i),i}function na(e,t){let s,i=b("number",e,sJ);return s=t.attributes.has(eh.s_excessReactantConc)?t.attributes.get(eh.s_excessReactantConc):NaN.toString(),console.log(eh.s_excessReactantConc+"="+s),i.value=s,i.addEventListener("change",e=>{let s=e.target;t.setExcessReactantConc(s.value),console.log("Set "+eh.s_excessReactantConc+" to "+s.value),M(s)}),M(i),i}function no(e,t,s,n){let a=nd(Array.from(iz(i)),s,n,e);return a.addEventListener("change",e=>{let s=e.target;t.setBathGas(new eo(new Map,s.value)),console.log("Set bathGas to "+s.value),T(s)}),T(a),a}function nd(e,t,s,i){let n;if(s)e.push(s7);else{let t=e.indexOf(s7);t>-1&&e.splice(t,1)}void 0==t?(t=new eo(new Map,s7),n=s7):n=t.value;let a=z(e,eo.tagName,n,id(i,v),sJ);return a.classList.add(eo.tagName),n_(e,a),a.addEventListener("change",e=>{let s=e.target;t.value=s.value,console.log("Added "+s.value+" as "+eo.tagName),T(s)}),a.value=n,T(a),a}function nr(e,t){return nh(t,e,e=>e.getExperimentalRate(),(e,t)=>e.setExperimentalRate(t),ed,[{tagName:ed.tagName,type:"number",eventHandler:(e,s)=>i4(t.getExperimentalRate(),s),valueGetter:()=>t.getExperimentalRate().value.toString()},{tagName:ed.tagName+"_"+ed.s_ref1,type:"text",eventHandler:(e,s)=>t.getExperimentalRate()?.setRef1(s.value),valueGetter:()=>t.getExperimentalRate().getRef1()},{tagName:ed.tagName+"_"+ed.s_ref2,type:"text",eventHandler:(e,s)=>t.getExperimentalRate()?.setRef2(s.value),valueGetter:()=>t.getExperimentalRate().getRef2()},{tagName:ed.tagName+"_"+ed.s_refReaction,type:"text",eventHandler:(e,s)=>t.getExperimentalRate()?.setRefReaction(s.value),valueGetter:()=>t.getExperimentalRate().getRefReaction()},{tagName:ed.tagName+"_"+ed.s_error,type:"number",eventHandler:(e,s)=>t.getExperimentalRate()?.setError(new(d(r))(s.value)),valueGetter:()=>t.getExperimentalRate().getError().toString()}])}function nl(e,t){return nh(t,e,e=>e.getExperimentalYield(),(e,t)=>e.setExperimentalYield(t),er,[{tagName:er.tagName,type:"number",eventHandler:(e,s)=>i4(t.getExperimentalYield(),s),valueGetter:()=>t.getExperimentalYield().value.toString()},{tagName:er.tagName+"_"+er.s_ref,type:"text",eventHandler:(e,s)=>t.getExperimentalYield()?.setRef(s.value),valueGetter:()=>t.getExperimentalYield().getRef()},{tagName:er.tagName+"_"+er.s_yieldTime,type:"number",eventHandler:(e,s)=>t.getExperimentalYield()?.setYieldTime(new(d(r))(s.value)),valueGetter:()=>t.getExperimentalYield().getYieldTime().toString()},{tagName:er.tagName+"_"+er.s_error,type:"number",eventHandler:(e,s)=>t.getExperimentalYield()?.setError(new(d(r))(s.value)),valueGetter:()=>t.getExperimentalYield().getError().toString()}])}function ng(e,t){return nh(t,e,e=>e.getExperimentalEigenvalue(),(e,t)=>e.setExperimentalEigenvalue(t),el,[{tagName:el.tagName,type:"number",eventHandler:(e,s)=>i4(t.getExperimentalEigenvalue(),s),valueGetter:()=>t.getExperimentalEigenvalue().value.toString()},{tagName:el.tagName+"_"+el.s_EigenvalueID,type:"text",eventHandler:(e,s)=>t.getExperimentalEigenvalue()?.setEigenvalueID(s.value),valueGetter:()=>t.getExperimentalEigenvalue().getEigenvalueID()},{tagName:el.tagName+"_"+el.s_error,type:"number",eventHandler:(e,s)=>t.getExperimentalEigenvalue()?.setError(new(d(r))(s.value)),valueGetter:()=>t.getExperimentalEigenvalue().getError().toString()}])}function nh(e,t,s,i,n,a){let o=P(void 0,sJ);o.id=t;let d=s(e);for(let s of(void 0==d&&i(e,d=new n(new Map,iw)),a)){let e=t+"_"+s.tagName;o.appendChild(y(s.type,e,sJ,sZ,e=>{let t=e.target;s.eventHandler(e,t),console.log("Set "+s.tagName+" to "+t.value),M(t)},s.valueGetter(),s.label||""))}return o}function nm(e,t){let i=new tE(e,t);return s.addModelParameters(i),i}function nc(e){let t,s;if(void 0!=iM){let i=iM.values.get(e)??"";t=""==i?iw:new(d(r))(i),s=iM.attributess.get(e)??new Map}else console.log(e+" set using hardcoded default."),t=new(d(r))(101),(s=new Map).set(is,"cm-1");return new tp(s,t)}function nu(e,t,s,i,n,a){let o,l,g=i.tagName,h=I(iC.addID(s.id,g),sQ);s.appendChild(h);let m=g+s0,c=g+s1,u=L(g,iC.addID(s.id,g,x),sJ);u.classList.add(s6),u.classList.add(s8),h.appendChild(u);let N=iC.addID(s.id,g,s4);if(null!=t){let s=t.getElementsByTagName(g);if(1==s.length){l=O(k(s[0]));let t=new(d(r))(l);o=new i($(s[0]),t),u.textContent=m,nN(e,h,o,N,l,n,void 0),u.classList.toggle(s8)}else l="",o=new i(new Map,iw),u.textContent=c,u.classList.toggle(s6)}else l="",o=new i(new Map,iw),u.textContent=c,u.classList.toggle(s6);u.addEventListener("click",()=>{e.index.has(g)?(a(),ir(N),iC.removeID(N),u.textContent=c):(nN(e,h,o,N,l,n,void 0),u.textContent=m),u.classList.toggle(s6),u.classList.toggle(s8)})}function nN(e,t,s,i,n,a,o){a.call(e,s);let d=b("text",i,sJ);t.appendChild(d),d.addEventListener("change",e=>{let t=e.target;i4(s,t),M(t)}),d.value=n,M(d),i3(o,s.attributes,t,d,g(i,is),s.constructor.tagName,sJ,sJ)}function np(e){return[{class:eu,setMethod:e.setCalculateRateCoefficientsOnly,removeMethod:e.removeCalculateRateCoefficientsOnly},{class:eN,setMethod:e.setPrintCellDOS,removeMethod:e.removePrintCellDOS},{class:ep,setMethod:e.setPrintCellTransitionStateFlux,removeMethod:e.removePrintCellTransitionStateFlux},{class:ef,setMethod:e.setPrintReactionOperatorColumnSums,removeMethod:e.removePrintReactionOperatorColumnSums},{class:ex,setMethod:e.setPrintGrainBoltzmann,removeMethod:e.removePrintGrainBoltzmann},{class:ev,setMethod:e.setPrintGrainDOS,removeMethod:e.removePrintGrainDOS},{class:eE,setMethod:e.setPrintGrainkbE,removeMethod:e.removePrintGrainkbE},{class:ew,setMethod:e.setPrintGrainkfE,removeMethod:e.removePrintGrainkfE},{class:ey,setMethod:e.setPrintTSsos,removeMethod:e.removePrintTSsos},{class:eb,setMethod:e.setPrintGrainedSpeciesProfile,removeMethod:e.removePrintGrainedSpeciesProfile},{class:eC,setMethod:e.setPrintGrainTransitionStateFlux,removeMethod:e.removePrintGrainTransitionStateFlux},{class:eS,setMethod:e.setPrintReactionOperatorSize,removeMethod:e.removePrintReactionOperatorSize},{class:eM,setMethod:e.setPrintSpeciesProfile,removeMethod:e.removePrintSpeciesProfile},{class:eT,setMethod:e.setPrintPhenomenologicalEvolution,removeMethod:e.removePrintPhenomenologicalEvolution},{class:eR,setMethod:e.setPrintTunnelingCoefficients,removeMethod:e.removePrintTunnelingCoefficients},{class:ez,setMethod:e.setPrintCrossingCoefficients,removeMethod:e.removePrintCrossingCoefficients},{class:e_,setMethod:e.setTestDOS,removeMethod:e.removeTestDOS},{class:eL,setMethod:e.setTestRateConstants,removeMethod:e.removeTestRateConstants},{class:eP,setMethod:e.setUseTheSameCellNumberForAllConditions,removeMethod:e.removeUseTheSameCellNumberForAllConditions},{class:eI,setMethod:e.setForceMacroDetailedBalance,removeMethod:e.removeForceMacroDetailedBalance}]}function nf(e){return[{class:ts,setMethod:e.setEigenvalues,removeMethod:e.removeEigenvalues},{class:ti,setMethod:e.setShortestTimeOfInterest,removeMethod:e.removeShortestTimeOfInterest},{class:tn,setMethod:e.setMaximumEvolutionTime,removeMethod:e.removeMaximumEvolutionTime},{class:ta,setMethod:e.setAutomaticallySetMaxEne,removeMethod:e.removeAutomaticallySetMaxEne},{class:to,setMethod:e.setDiagramEnergyOffset,removeMethod:e.removeDiagramEnergyOffset}]}function nx(e,t){let i=new tr(e,t);return s.addControl(i),i}function nv(e,t,s,i,n,a){i.call(e,s);let o=b("number",n,sJ);o.addEventListener("change",e=>{let t=e.target;i4(s,t),M(t)}),o.value=a,M(o),t.appendChild(o)}function nE(e,t,s,i,n,a,o,l,g=!1){let h,m,c,u=a.tagName,N=u+s0,p=u+s1,f=L(p,void 0,sJ);if(f.classList.add(s6),f.classList.add(s8),s&&s.set(u,f),n&&(m=I(c=iS.addID(t.id,u),n),t.appendChild(m),m.appendChild(f),c=iS.addID(t.id,c,s4)),i){let t=i.getElementsByTagName(u);if(1==t.length){if(g){let s,i=O(k(t[0]));s=new(d(r))("all"==i?0:i),h=new a($(t[0]),s),nv(e,m,h,o,c,i)}else h=new a($(t[0])),o.call(e,h);f.textContent=N,f.classList.toggle(s8)}else f.textContent=p,f.classList.toggle(s6)}else h=new a(new Map),f.textContent=p,f.classList.toggle(s6);f.addEventListener("click",t=>{e.index.has(u)?(g&&ir(c),l.call(e),f.textContent=p):(g?nv(e,m,h,o,c,""):o.call(e,h),f.textContent=N),f.classList.toggle(s6),f.classList.toggle(s8)})}function nw(e,t,s,i){let n,a=I(void 0,i);t.appendChild(a);let o=eD.tagName,l=o+s0,g=o+s1,h=L(g,void 0,sJ);a.appendChild(h),h.classList.add(s6),h.classList.add(s8);let m=iS.addID(t.id,o),c=I(m,sJ);a.appendChild(c);let u=eD.options,N=iS.addID(m,"details"),p=iS.addID(N,"select");if(null!=s){let t=s.getElementsByTagName(o);if(t.length>0){if(t.length>1)throw Error("More than one CalcMethod element.");let s=$(t[0]),i=s.get("xsi:type");n=function e(t,s,i,n,a,o,l,g,h){let m;let c=nL(t,s,n,o,l,g,h);c.value=l,s.appendChild(c);let u=I(g,sJ);if(s.appendChild(u),l==eA.xsi_type||l==eA.xsi_type2)m=new eA(a);else if(l==eG.xsi_type||l==eG.xsi_type2)m=new eG(a);else if(l==eO.xsi_type||l==eO.xsi_type2){let e=new eO(a);m=e;let t=i[0].getElementsByTagName(ek.tagName);if(t.length>0){if(1==t.length){let s=new(d(r))(O(k(t[0]))),i=new ek($(t[0]),s);e.setFittingIterations(i)}else throw Error("More than one FittingIterations element.")}nC(u,e)}else if(l==eU.xsi_type||l==eU.xsi_type2){let e=new eU(a);function N(e,t,s){let i=eF.tagName,n=e[0].getElementsByTagName(i);if(n.length>0){if(1==n.length){let e=new(d(r))(O(k(n[0])));s(new t($(n[0]),e))}else throw Error(`More than one ${i} element.`)}}m=e,N(i,eF,e.setMarquardtIterations.bind(e)),N(i,eH,e.setMarquardtTolerance.bind(e)),N(i,eq,e.setMarquardtDerivDelta.bind(e)),nS(u,e)}else if(l==e1.xsi_type||l==e1.xsi_type2){let e=new e1(a);function N(e,t,s,i){let n=t.tagName,a=e[0].getElementsByTagName(n);if(a.length>0){if(1==a.length){let e=O(k(a[0]));i&&void 0!=e&&(e=new(d(r))(e)),s(new t($(a[0]),e))}else throw Error(`More than one ${n} element.`)}}m=e,N(i,ej,e.setFormat.bind(e),!1),N(i,eX,e.setPrecision.bind(e),!1),N(i,eY,e.setChebNumTemp.bind(e),!0),N(i,e$,e.setChebNumConc.bind(e),!0),N(i,eW,e.setChebMaxTemp.bind(e),!0),N(i,eK,e.setChebMinTemp.bind(e),!0),N(i,eZ,e.setChebMaxConc.bind(e),!0),N(i,eQ,e.setChebMinConc.bind(e),!0),N(i,eJ,e.setChebTExSize.bind(e),!0),N(i,e0,e.setChebPExSize.bind(e),!0),nM(u,e)}else if(l==e6.xsi_type||l==e6.xsi_type2){let e=new e6(a);function N(e,t,s){let i=t.tagName,n=e[0].getElementsByTagName(i);if(n.length>0){if(1==n.length){let e=new(d(r))(O(k(n[0])));s(new t($(n[0]),e))}else throw Error(`More than one ${i} element.`)}}m=e,N(i,e2,e.setTmin.bind(e)),N(i,e3,e.setTmid.bind(e)),N(i,e5,e.setTmax.bind(e)),N(i,e4,e.setTstep.bind(e)),nT(u,e)}else if(l==tt.xsi_type||l==tt.xsi_type2){let e=new tt(a);function N(e,t,s){let i=t.tagName,n=e[0].getElementsByTagName(i);if(n.length>0){if(1==n.length){let e=O(k(n[0]));void 0!=e&&(e=new(d(r))(e)),s(new t($(n[0]),e))}else throw Error(`More than one ${i} element.`)}}m=e,N(i,e8,e.setSensitivityAnalysisSamples.bind(e)),N(i,e9,e.setSensitivityAnalysisOrder.bind(e)),N(i,e7,e.setSensitivityNumVarRedIters.bind(e)),N(i,te,e.setSensitivityVarRedMethod.bind(e)),nz(u,e)}else{let d=a.get("name");if(void 0!=d&&d!==l)return a.set("xsi:type",d),console.warn(`Using name attribute as xsi:type: ${d}`),e(t,s,i,n,a,o,d,g,h);throw Error(`Unable to determine calculation method for xsi_type: ${l}`)}return m}(e,c,t,u,s,o,i,N,p),e.setCalcMethod(n),h.classList.toggle(s8),h.textContent=l}else h.classList.toggle(s6),h.textContent=g}else h.classList.toggle(s6),h.textContent=g;h.addEventListener("click",t=>{if(e.index.has(o))null!=e.getCalcMethod()&&(e.removeCalcMethod(),ir(N),ir(p),h.textContent=g,h.classList.toggle(s6),h.classList.toggle(s8));else{u[u.length-1]!=s7&&u.push(s7),ir(N),ir(p);let t=nL(e,a,u,o,s7,N,p);c.appendChild(t),h.textContent=l,h.classList.toggle(s6),h.classList.toggle(s8)}})}function ny(e,t,s,i){let n=td.tagName,a=I(iS.addID(t.id,n),i);t.appendChild(a);let o=n+s0,d=n+s1,r=L(n,iS.addID(t.id,n,x),sJ);a.appendChild(r),r.classList.add(s6),r.classList.add(s8);let l=iS.addID(t.id,n,e5.tagName),g=iS.addID(t.id,n,e2.tagName),h=iS.addID(t.id,n,e4.tagName);if(s){let t=s.getElementsByTagName(n);1==t.length?(nb(e,a,t,l,g,h),r.classList.toggle(s8),r.textContent=o):(r.classList.toggle(s6),r.textContent=d)}else r.classList.toggle(s6),r.textContent=d;r.addEventListener("click",t=>{e.index.has(n)?(e.removeTestMicroRates(),document.getElementById(l)?.remove(),document.getElementById(g)?.remove(),document.getElementById(h)?.remove(),r.textContent=d):(nb(e,a,null,l,g,h),r.textContent=o),r.classList.toggle(s6),r.classList.toggle(s8)})}function nb(e,t,s,i,n,a){let o,l;if(null!=s&&s.length>0){if(s.length>1)throw Error("More than one TestMicroRates element.");l=new td(o=$(s[0]))}else(o=new Map).set("Tmax","0"),o.set("Tmin","0"),o.set("Tstep","0"),l=new td(o);e.setTestMicroRates(l);let g=l.getTmax(),h=y("text",i+"_input",sJ,sZ,e=>{let t=e.target;try{l.setTmax(new(d(r))(t.value)),console.log("Set Tmax to "+t.value)}catch(e){alert("Invalid input, resetting..."),t.value=g.toString()}M(t)},g.toString(),"Tmax");h.id=i,M(h.querySelector("input")),t.appendChild(h);let m=l.getTmin(),c=y("number",n+"_input",sJ,sZ,e=>{let t=e.target;u(t.value)?(l.setTmin(new(d(r))(t.value)),console.log("Set Tmin to "+t.value)):(alert("Value is not numeric, resetting..."),t.value=m.toString()),M(t)},m.toString(),"Tmin");c.id=n,M(c.querySelector("input")),t.appendChild(c);let N=l.getTstep(),p=y("text",a+"_input",sJ,sZ,e=>{let t=e.target;u(t.value)?(l.setTstep(new(d(r))(t.value)),console.log("Set Tstep to "+t.value)):(alert("Value is not numeric, resetting..."),t.value=N.toString()),M(t)},N.toString(),"Tstep");p.id=a,M(p.querySelector("input")),t.appendChild(p)}function nC(e,t){let s=t.getFittingIterations()||new ek(new Map,iw);t.setFittingIterations(s),e.appendChild(y("number",g(e.id,ek.tagName,s4),sJ,sZ,e=>{let t=e.target;u(t.value)?(s.value=new(d(r))(t.value),console.log("Set FittingIterations to "+t.value)):(alert("Value is not numeric, resetting..."),t.value=s.value.toString()),M(t)},s.value.toString(),ek.tagName))}function nS(e,t){function s(e,t,s,i){let n=g(t.id,e.tagName,s4),a=e.value.toString(),o=e.tagName;t.appendChild(y("number",n,s,i,t=>{let s=t.target;u(s.value)?(e.value=new(d(r))(s.value),console.log("Set "+e.tagName+" to "+s.value)):(alert("Value is not numeric, resetting..."),s.value=e.value.toString()),M(s)},a,o))}let i=t.getMarquardtIterations()||new eF(new Map,iw);t.setMarquardtIterations(i),s(i,e,sJ,sZ);let n=t.getMarquardtTolerance()||new eH(new Map,iw);t.setMarquardtTolerance(n),s(n,e,sJ,sZ);let a=t.getMarquardtDerivDelta()||new eq(new Map,iw);t.setMarquardtDerivDelta(a),s(a,e,sJ,sZ)}function nM(e,t){let s=t.getFormat()||new ej(new Map,ej.options[0]);function i(t,s,i,n,a){let o=s()||new t(new Map,a[0]);i(o);let d=_(n,a,n,o.value,e.id,sJ,sJ);d.querySelector("select")?.addEventListener("change",e=>{let t=e.target;o.value=t.value,console.log(`Set ${n} to `+t.value),T(t)}),e.appendChild(d)}function n(t,s,i,n){let a=s()||new t(new Map,NaN);i(a),e.appendChild(y("text",e.id+`_${n}_input`,sJ,sZ,nR(a,n),a.value.toString(),n))}i(ej,t.getFormat.bind(t),t.setFormat.bind(t),ej.tagName,ej.options),i(ej,()=>s.getRateUnits(),s.setRateUnits.bind(s),ej.rateUnits,ej.rateUnitsOptions),i(eX,t.getPrecision.bind(t),t.setPrecision.bind(t),eX.tagName,tT.precisionOptions),n(eY,t.getChebNumTemp.bind(t),t.setChebNumTemp.bind(t),eY.tagName),n(e$,t.getChebNumConc.bind(t),t.setChebNumConc.bind(t),e$.tagName),n(eW,t.getChebMaxTemp.bind(t),t.setChebMaxTemp.bind(t),eW.tagName),n(eK,t.getChebMinTemp.bind(t),t.setChebMinTemp.bind(t),eK.tagName),n(eZ,t.getChebMaxConc.bind(t),t.setChebMaxConc.bind(t),eZ.tagName),n(eQ,t.getChebMinConc.bind(t),t.setChebMinConc.bind(t),eQ.tagName),n(eJ,t.getChebTExSize.bind(t),t.setChebTExSize.bind(t),eJ.tagName),n(e0,t.getChebPExSize.bind(t),t.setChebPExSize.bind(t),e0.tagName)}function nT(e,t){function s(t,s,i,n){let a=s()||new t(new Map,NaN);i(a),e.appendChild(y("text",e.id+`_${n}_input`,sJ,sZ,nR(a,n),a.value.toString(),n))}s(e2,t.getTmin.bind(t),t.setTmin.bind(t),e2.tagName),s(e3,t.getTmid.bind(t),t.setTmid.bind(t),e3.tagName),s(e5,t.getTmax.bind(t),t.setTmax.bind(t),e5.tagName),s(e4,t.getTstep.bind(t),t.setTstep.bind(t),e4.tagName)}function nR(e,t){return t=>{let s=t.target;try{e.value=new(d(r))(s.value)}catch(t){alert("Invalid input value "+s.value+" , resetting..."),s.value=e.value.toString()}M(s)}}function nz(e,t){function s(t,s,i,n){let a=s()||new t(new Map,NaN);i(a),e.appendChild(y("text",g(e.id,n,s4),sJ,sZ,nR(a,n),a.value.toString(),n))}s(e8,t.getSensitivityAnalysisSamples.bind(t),t.setSensitivityAnalysisSamples.bind(t),e8.tagName),s(e9,t.getSensitivityAnalysisOrder.bind(t),t.setSensitivityAnalysisOrder.bind(t),e9.tagName),s(e7,t.getSensitivityNumVarRedIters.bind(t),t.setSensitivityNumVarRedIters.bind(t),e7.tagName);let i=t.getSensitivityVarRedMethod()||new te(new Map,"");t.setSensitivityVarRedMethod(i);let n=te.tagName;e.appendChild(_(n,te.options,n,te.options[0],g(e.id,n,"select"),sJ,sJ));let a=e.querySelector("select");a?.addEventListener("change",e=>{let t=e.target;i.value=t.value,console.log(n+" set to "+t.value),T(t)})}function n_(e,t){t.addEventListener("click",s=>{e[e.length-1]==s7&&e.pop();let i=t.options.length-1;t.options[i].value==s7&&t.remove(i)})}function nL(e,t,s,i,n,a,o){let d=z(s,i,n,o,sJ);return t.appendChild(d),n_(s,d),d.addEventListener("change",s=>{let i=document.getElementById(a);null!=i&&i.remove(),i=I(a,sJ),t.appendChild(i);let n=s.target,o=n.value,d=new Map;if(d.set("xsi:type",o),o==eA.xsi_type||o==eA.xsi_type2)e.setCalcMethod(new eA(d));else if(o==eG.xsi_type||o==eG.xsi_type2)e.setCalcMethod(new eG(d));else if(o==eO.xsi_type||o==eO.xsi_type2){let t=new eO(d);e.setCalcMethod(t),nC(i,t)}else if(o==eU.xsi_type||o==eU.xsi_type2){let t=new eU(d);e.setCalcMethod(t),nS(i,t)}else if(o==e1.xsi_type||o==e1.xsi_type2){let t=new e1(d);e.setCalcMethod(t),nM(i,t)}else if(o==e6.xsi_type||o==e6.xsi_type2){let t=new e6(d);e.setCalcMethod(t),nT(i,t)}else if(o==tt.xsi_type||o==tt.xsi_type2){let t=new tt(new Map);e.setCalcMethod(t),nz(i,t)}else throw Error("Unknown CalcMethod type.");T(n)}),d}document.addEventListener("DOMContentLoaded",()=>{let l,c,N,p,f,w,C,S,R,H,q,U,V;document.body.className=t?"dark-mode":"light-mode",s=new tT(new Map),(l=document.getElementById(il)).style.display="flex",l.style.justifyContent="center",l.style.margin="5px",l.style.padding="5px",l.style.border="1px solid black",l.style.backgroundColor="lightgrey",N=L(c="About",io(c),sJ),l.appendChild(N),N.addEventListener("click",async e=>{!function(e){if(null==e)return;e.document.title="About MXG";let t=document.createElement("div");e.document.body.appendChild(t);let s=e.document.createElement("p");t.appendChild(s),s.appendChild(e.document.createTextNode("MXG is a free and open source program to assist in creating, editing and         visualising MESMER XML data. The MXG development repository is: ")),s.appendChild(sD),s.appendChild(e.document.createTextNode(". Details of MESMER - the Master Equation Solver for Multi Energy-well Reactions         can be found at: ")),s.appendChild(sO),s.appendChild(e.document.createTextNode("."));let i=document.createElement("p");t.appendChild(i),i.appendChild(e.document.createTextNode("MXG is being developed by a team based at ")),i.appendChild(sH),i.appendChild(e.document.createTextNode(" funded by ")),i.appendChild(sF),i.appendChild(e.document.createTextNode("Like MESMER, MXG development aims to be driven in part by users reporting issues,         submitting feature requests, and getting involved in development."));let n=e.document.createElement("p");t.appendChild(n),n.appendChild(e.document.createTextNode("MXG runs on the latest Firefox, Chrome, Edge or Safari Web browsers. It can         be used offline if installed as a Progressive Web App (PWA). PWA installation varies by Web browser and device, it         should only require user permission and is effectively a form of Web browser bookmark. For guidance please see the         MXG main development repository README: ")),n.appendChild(sD.cloneNode(!0)),n.appendChild(e.document.createTextNode(". MXG may work on small screen devices, but it is recommended to use a device         with at least a standard laptop sized screen."));let a=document.createElement("p");t.appendChild(a),a.appendChild(e.document.createTextNode('The Menu contains 5 buttons. The Load MESMER File button is for loading a         MESMER XML data file with a "me:mesmer" tag containing: "me:title", "moleculeList", "reactionList",         "me:conditions", "me:modelParameters", and "me:control" tags containing further details. A MESMER XML output         data file will also have "me:metadataList" and "me:analysis" tags as children of the "me:mesmer" tag. Additional         output is located in "moleculeList" and "reactionList" tags. The Load Molecules button is for loading molecule         data for selection, modification and for inclusion in saved MESMER files. The Load Defaults button is to load         default values. Whilst not necessary, loading defaults is for convenience, as often similar values and the same         units as defaults are wanted for specified variables. The Save MESMER File button is for saving a new MESMER XML         data file. The file should be saved to the Web browser downloads location. It should contain no comments or extra         white space between XML tags with the exception of new lines, tag values should be trimmed of white space,         numbers should be output in a particular format (decimals - where numbers with more than 8 digits are output in         scientific notation format). There should be: a single "atomArray" tag containing all "atom" tags (each atom         should have a unique id attribute); a single "bondArray" tag containing any "bond" tags (each bond should have a         unique id attribute); and, a single "propertyList" tag containing all "property" tags for each "molecule" tag in         the "moleculeList". The saved file should reflect what is specified via the interface.'));let o=e.document.createElement("p");t.appendChild(o),o.appendChild(e.document.createTextNode('The "me:title" value is presented in an input alongside an associated label.         The input can be used to change the value which is also used to compose filenames for files saved from MXG.         Details are presented via buttons which contain a triangular symbol. A triangle orientated with a point down: ▼ can be actioned to show more details (if there are any). A triangle orientated with a point         up: ▲ can be actioned to hide those details again.'));let d=e.document.createElement("p");t.appendChild(d),d.textContent='The Reaction Diagram button shows/hides a reaction well diagram which is redrawn if molecule "me:ZPE"         property values are changed. The diagram can be opened in a new Window and saved to a PNG format file.';let r=e.document.createElement("p");t.appendChild(r),r.textContent="MXG uses 3DMol.js under a BSD-3-Clause licence to visualise molecules with coordinates. For details         of 3DMol.js please see the GitHub repository: ",r.appendChild(sU),r.appendChild(e.document.createTextNode(". If you use the 3DMol.js visualisations, please cite: Nicholas Rego and         David Koes 3Dmol.js: molecular visualization with WebGL Bioinformatics (2015) 31 (8): 1322-1324 ")),r.appendChild(sV),r.appendChild(e.document.createTextNode("."));let l=e.document.createElement("p");t.appendChild(l),l.textContent="MXG uses Big.js under an MIT licence to handle numbers. For details of Big.js please see the GitHub         repository: ",l.appendChild(sX),l.appendChild(e.document.createTextNode("."))}(window.open("","","width=600,height=400"))}),f=L(p="Load Molecules",io(p),sJ),l.appendChild(f),w=new sP,f.addEventListener("click",async e=>{(await w.readFile()).forEach((e,t)=>{iR(e,iT)})}),(S=L(C="Load Defaults",io(C),sJ)).addEventListener("click",e=>{iM.readFile()}),l.appendChild(S),(H=L(R="Load MESMER File",io(R),sJ)).addEventListener("click",l=>{let c;ia.forEach(e=>{ir(e)}),null!=i&&i.clear(),null!=n&&n.clear(),a=[],(c=document.createElement("input")).type="file",c.onchange=function(){if(c.files){for(let e=0;e<c.files.length;e++)console.log("inputElement.files["+e+"]="+c.files[e]);let l=c.files[0];console.log(l.name),e=l.name;let N=new FileReader,p=0,f="";N.onload=function(c){if(null==c.target)throw Error("Event target is null");if(f+=c.target.result,null!=l){if(p<l.size){let e=l.slice(p,p+1048576);N.readAsText(e),p+=1048576}else{var w,C;let l,c,N,p,S,R,z,H,q,U,V,j,X,Y,K,eo,ed,er,el,eg,eh,em,eu,eN,ep,ef,ex,ev,eE,ew;w=f=f.trim(),l=document.getElementById(iE),ir(c=id(iE,2)),N=P(c,sQ),E(c,l,null,N,e,sJ,sZ),(p=document.createElement("pre")).textContent=w,N.appendChild(p),console.log("parse: "+(C=new DOMParser().parseFromString(f,"text/xml"))),z=W(C,tT.tagName),s=new tT($(z)),(H=C.getElementsByTagName(tw.tagName)).length>0?(H.length>1&&console.warn("Multiple "+tw.tagName+" tags found, using the first."),S=H[0].childNodes[0].nodeValue.trim(),R=$(H[0])):(S=e,console.warn("No "+tw.tagName+" tag found, using the filename: "+e+" as the title."),R=new Map),iD(S,R),q=document.getElementById(ih),ir(U=id(ty.tagName)),E(U,q,null,function(e){i=new Map;let t=P(void 0,sJ),s=W(e,ty.tagName),n=new Set;if(s.childNodes.forEach(function(e){n.add(e.nodeName)}),1==n.size||2==n.size&&n.has("#text")||(console.error("moleculeListTagNames:"),n.forEach(e=>console.error(e)),console.warn("Additional tag names in moleculeList:")),!n.has(sc.tagName))return console.warn('Expecting tags with "'+sc.tagName+'" tagName but there are none!'),t;let a=s.getElementsByTagName(sc.tagName),o=a.length;console.log("Number of molecules="+o);for(let e=0;e<o;e++){let s=id(sc.tagName,e),n=P(s),o=new sc($(a[e]),e);iR(o,i);let l=E(id(s,s3),t,null,n,o.label,sJ,sQ),g=new Set,m=a[e].childNodes;for(let e=0;e<m.length;e++){let t=m[e];g.has(t.nodeName)?"#text"!=t.nodeName&&console.warn("Another ChildNode with nodeName="+t.nodeName):g.add(t.nodeName)}ik(o,l.querySelector(x),n,sQ),n.appendChild(iO(id(s,s5),o.getDescription.bind(o),o.setDescription.bind(o),sJ,sQ));let c=a[e].getElementsByTagName(tN.tagName);if(c.length>0){c.length>1&&console.warn("Expecting 1 or 0 "+tN.tagName+" but finding "+c.length+". Loading the first of these...");let e=id(s,tN.tagName),t=P(e);E(id(e,s3),n,null,t,tN.tagName,sJ,sQ);let i=c[0].getElementsByTagName(tl.tagName),a=new tN($(c[0]));o.setMetadataList(a);for(let s=0;s<i.length;s++){let n=new tl($(i[s]));t.appendChild(function(e,t,s,i,n,a){s.addMetadata(t);let o=I(i,sQ);return o.appendChild(B(e.getLabel(),sJ)),o}(o,n,a,id(e,s),0,0))}g.delete(tN.tagName)}let N=a[e].getElementsByTagName(tL.tagName),p=id(s,tL.tagName),f=P(p);E(id(p,s3),n,null,f,tL.tagName,sJ,sQ);let v=new tL(new Map);o.setAtoms(v);for(let e=0;e<N.length;e++){let t=$(N[e]);t.size>0&&console.warn("AtomArray attributes lost/ignored: "+h(t))}let w=a[e].getElementsByTagName(t_.tagName);for(let e=0;e<w.length;e++)f.appendChild(iq(o,p,v,new t_($(w[e]),o),sJ,sQ));f.appendChild(iH(o,f,t_.tagName,sJ,sQ)),g.delete(t_.tagName);let C=a[e].getElementsByTagName(tI.tagName),S=id(s,tI.tagName),T=P(S);E(id(S,s3),n,null,T,tI.tagName,sJ,sQ);let R=new tI(new Map);o.setBonds(R);for(let e=0;e<C.length;e++){let t=$(C[e]);t.size>0&&console.warn("BondArray attributes lost/ignored: "+h(t))}let z=a[e].getElementsByTagName(tP.tagName);for(let e=0;e<z.length;e++)$(z[e]).has(tP.s_id)&&T.appendChild(iY(o,S,o.getAtoms().atoms,R,new tP($(z[e]),o),sJ,sQ));for(let e=0;e<z.length;e++)$(z[e]).has(tP.s_id)||T.appendChild(iY(o,S,o.getAtoms().atoms,R,new tP($(z[e]),o),sJ,sQ));T.appendChild(iX(o,T,tP.tagName,sJ,sQ)),g.delete(tP.tagName);let G=id(s,"viewer"),H=P(G);E(id(G,s3),n,null,H,"viewer",sJ,sQ),i1(o,H,sJ,sQ);let q=a[e].getElementsByTagName(t2.tagName),U=id(s,t2.tagName),V=P(U);E(id(U,s3),n,null,V,t2.tagName,sJ,sQ);let j=new t2(new Map);o.setPropertyList(j);for(let e=0;e<q.length;e++){let t=$(q[e]);t.size>0&&console.warn("PropertyList attributes lost/ignored: "+h(t))}let X=new Set(tA.propertyDictRefs),Y=a[e].getElementsByTagName(tk.tagName);for(let e=0;e<Y.length;e++){let t=function(e,t,s,i,n,a,o){let d=new tk($(s));return e.delete(d.dictRef),d.dictRef==tO.dictRef?i2(t,d,tT.energyUnits,n,s,i,a,o):d.dictRef==tF.dictRef?i2(t,d,tT.energyUnits,n,s,i,a,o):d.dictRef==tH.dictRef?i2(t,d,tT.energyUnits,n,s,i,a,o):d.dictRef==tq.dictRef?i2(t,d,tT.energyUnits,n,s,i,a,o):d.dictRef==tU.dictRef?i2(t,d,tT.frequencyUnits,n,s,i,a,o):d.dictRef==tV.dictRef?i2(t,d,void 0,n,s,i,a,o):d.dictRef==tj.dictRef?i2(t,d,void 0,n,s,i,a,o):d.dictRef==tX.dictRef?i2(t,d,void 0,n,s,i,a,o):d.dictRef==tY.dictRef?i2(t,d,void 0,n,s,i,a,o):d.dictRef==t$.dictRef?i2(t,d,void 0,n,s,i,a,o):d.dictRef==tW.dictRef?i2(t,d,void 0,n,s,i,a,o):d.dictRef==tK.dictRef?i2(t,d,void 0,n,s,i,a,o):d.dictRef==tZ.dictRef?i2(t,d,void 0,n,s,i,a,o):d.dictRef==tQ.dictRef?i2(t,d,void 0,n,s,i,a,o):d.dictRef==tJ.dictRef?i2(t,d,void 0,n,s,i,a,o):d.dictRef==t0.dictRef?i2(t,d,void 0,n,s,i,a,o):function(e,t,s,i,n,a,o){let d=new Set,r=i.getElementsByTagName(tB.tagName);if(r.length>0){if(1!=r.length)throw Error("Expecting 1 "+tB.tagName+" but finding "+r.length+"!");let s=F(r[0]),i=new tB($(r[0]),s);t.setProperty(i),i.setValue=(function(e){i.value=e,t.dictRef==tO.dictRef&&iA()}).bind(i);let a=function(e,t,s,i,n,a,o,d){let r=I(e,d),l=s+s0,g=s+s1,h=id(e,x);t.add(h);let m=L(g,h,o);r.appendChild(m),m.classList.add(s6),m.classList.add(s8);let c=id(e,s,s4);t.add(c);let u=i();return void 0==u?(m.textContent=g,m.classList.toggle(s6)):(iJ(r,c,s,u,n,o),m.textContent=l,m.classList.toggle(s8)),m.addEventListener("click",e=>{null==document.getElementById(c)?(iJ(r,c,s,u,n,o),m.textContent=l):(document.getElementById(c)?.remove(),a(),console.log("Removed "+c),m.textContent=g),m.classList.toggle(s6),m.classList.toggle(s8)}),r}(id(n.id,t.dictRef),d,t.dictRef,i.getValue.bind(i),i.setValue,()=>e.removeProperty(t.dictRef),sJ,sQ);n.appendChild(a)}else console.log("Expecting "+tB.tagName+" but finding none!")}(t,d,0,s,i,0,0),d}(X,j,Y[e],V,o,sJ,sQ);j.setProperty(t)}let W=a[e].getElementsByTagName(t8.tagName);if(W.length>0){if(W.length>1)throw Error("Expecting 1 or 0 "+t8.tagName+" but finding "+W.length+"!");(function(e,t,s,i){let n=s.getElementsByTagName(t3.tagName);if(n.length>0){let s=id(i.id,t8.tagName),a=document.createElement("div");E(id(s,s3),i,null,a,t8.tagName,sJ,sQ);let o=[];for(let e=0;e<n.length;e++){let t=F(n[e]),i=new(d(r))(t),l=new t3($(n[e]),i);o.push(l);let g=t3.tagName,h=id(s,t3.tagName,e),m=y("number",h,sJ,sQ,s=>{let i=s.target;i4(l,i),t=i.value,o[e].setValue(new(d(r))(t)),console.log("Set "+h+" to "+t),M(i)},t,g);a.appendChild(m);let c=document.createElement("label");c.textContent="units cm-1",m.appendChild(c)}e.setDeltaEDowns(o),t.setEnergyTransferModel(e)}})(new t8($(W[0])),o,W[0],n),g.delete(t8.tagName)}let K=a[e].getElementsByTagName(t9.tagName);if(K.length>0){if(K.length>1)throw Error("Expecting 1 or 0 "+t9.tagName+" but finding "+K.length+"!");let e=new t9($(K[0]));n.appendChild(_(t9.tagName,t9.xsi_typeOptions,t9.tagName,e.getXsiType(),id(s,t9.tagName),sJ,sQ)),g.delete(t9.tagName)}let Z=a[e].getElementsByTagName(st.tagName);if(Z.length>0){if(Z.length>1)throw Error("Expecting 1 or 0 "+st.tagName+" but finding "+Z.length+"!");let e=$(Z[0]),t=new st(e);o.setDistributionCalcMethod(t);let i=P(id(s,st.tagName));n.appendChild(i),i.appendChild(B(st.tagName+" "+h(e),sQ)),g.delete(st.tagName)}let Q=a[e].getElementsByTagName(sm.tagName);if(Q.length>0){if(Q.length>1)throw Error("Expecting 1 or 0 "+sm.tagName+" but finding "+Q.length+"!");let e=new sm($(Q[0]));o.setDensityOfStatesList(e);let t=id(s,sm.tagName),i=P(t);E(id(t,s3),n,null,i,sm.tagName,sJ,sQ);let a=Q[0].getElementsByTagName(sh.tagName),l=Q[0].getElementsByTagName(tR.tagName);if(l.length>0){if(l.length>1)throw Error("Expecting 1 or 0 "+tR.tagName+" but finding "+l.length+"!");let t=new tR($(l[0]),O(k(l[0])));e.setDescription(t)}if(0==a.length)throw Error("Expecting 1 or more "+sh.tagName+" but finding 0!");{let s=D(id(t,ie),sQ);A(s,sh.header),i.appendChild(s);for(let n=0;n<a.length;n++){let o=new sh($(a[n]));e.addDensityOfStates(o);let l=I(id(t,n),sQ);i.appendChild(l);let g=a[n].getElementsByTagName(tz.tagName);if(1!=g.length)throw Error("Expecting 1 "+tz.tagName+" but finding "+g.length+"!");{let e=new tz($(g[0]),new(d(r))(O(k(g[0]))));o.setT(e)}let h=a[n].getElementsByTagName(sr.tagName);if(1!=h.length)throw Error("Expecting 1 "+sr.tagName+" but finding "+h.length+"!");{let e=new sr($(h[0]),new(d(r))(O(k(h[0]))));o.setQtot(e)}let m=a[n].getElementsByTagName(sl.tagName);if(1!=m.length)throw Error("Expecting 1 "+sl.tagName+" but finding "+m.length+"!");{let e=new sl($(m[0]),new(d(r))(O(k(m[0]))));o.setSumc(e)}let c=a[n].getElementsByTagName(sg.tagName);if(1!=c.length)throw Error("Expecting 1 "+sg.tagName+" but finding "+c.length+"!");{let e=new sg($(c[0]),new(d(r))(O(k(c[0]))));o.setSumg(e)}A(s,o.toStringArray())}nO(e.toCSV,i,s,o.getID()+"_"+sm.tagName,sQ)}g.delete(sm.tagName)}let J=si.tagName,ee=a[e].getElementsByTagName(J);if(ee.length>0){let e;if(ee.length>1)throw Error("Expecting 1 or 0 "+J+" but finding "+ee.length+"!");let t=new si($(ee[0])),i=id(s,si.tagName),a=P(i);E(id(i,s3),n,null,a,J,sJ,sQ);let d=ss.tagName,r=ee[0].getElementsByTagName(d);if(0==r.length)throw Error("Expecting 1 or more "+d+" but finding 0!");{e=[];let s=D(id(i,ie),sQ);A(s,t.getHeader());for(let t=0;t<r.length;t++){let i=new ss($(r[t]));e.push(i),A(s,i.toStringArray())}a.appendChild(s),t.init(e),nO(t.toCSV.bind(t),a,s,o.getID()+"_"+si.tagName,sQ)}o.setThermoTable(t),g.delete(d),g.delete(J)}let et=a[e].getElementsByTagName(so.tagName);if(et.length>0)for(let e=0;e<et.length;e++){let t=new so($(et[e])),i=id(s,so.tagName,e),a=P(i);E(id(i,s3),n,null,a,so.tagName,sJ,sQ);let l=et[e].getElementsByTagName(t7.tagName);if(l.length>0){if(1!=l.length)throw Error("Expecting only 1 bondRef, but there are "+l.length);let e=o.getBonds().getBondIds(),t=new t7($(l[0]),O(k(l[0]))),s=_(t7.tagName,e,t7.tagName,t.value,id(i,t7.tagName),sJ,sQ);s.getElementsByTagName("select")[0].classList.add(tP.tagName),a.appendChild(s)}let h=et[e].getElementsByTagName(sn.tagName);if(h.length>0){if(1!=h.length)throw Error("Expecting only 1 HinderedRotorPotential, but there are "+h.length);let e=$(h[0]),s=new sn(e),o=id(i,sn.tagName),l=P(o);E(id(o,s3),a,null,l,sn.tagName,sJ,sQ);let g=_(sn.s_format,sn.formats,sn.tagName,s.getFormat(),id(o,sn.s_format),sJ,sQ);l.appendChild(g),i3(tT.energyUnits,e,l,g,id(o,sn.s_units),sn.tagName,sJ,sQ);let m=s.getExpansionSize()??it;l.appendChild(y("text",id(o,sn.s_expansionSize),sJ,sQ,e=>{let t=e.target;try{console.log("Setting "+sn.s_expansionSize+" to "+t.value),s.setExpansionSize(new(d(r))(t.value))}catch(e){alert("Invalid value, resetting..."),t.value=s.getExpansionSize()??it}M(t)},m,sn.s_expansionSize)),function(e,t,s){id(e.id,sn.s_useSineTerms);let i=sn.s_useSineTerms+s0,n=sn.s_useSineTerms+s1,a=L(n,void 0,s);e.appendChild(a),a.classList.add(s6),a.classList.add(s8),!0==t.getUseSineTerms()?(a.textContent=i,a.classList.toggle(s8)):(a.textContent=n,a.classList.toggle(s6)),a.addEventListener("click",e=>{!1==t.getUseSineTerms()?(t.setUseSineTerms(!0),a.textContent=i):(t.setUseSineTerms(!1),a.textContent=n),a.classList.toggle(s6),a.classList.toggle(s8)})}(l,s,sQ);let c=id(o,se.tagName),N=P(c),p=E(id(c,s3),n,null,N,"PotentialPoints",sJ,sQ);l.appendChild(p);let f=[],x=h[0].getElementsByTagName(se.tagName);for(let e=0;e<x.length;e++){let t=new se($(x[e]));f.push(t);let s=id(c,e),i=I(s,sQ);N.appendChild(i);let n=B(se.tagName+" "+e,sJ);i.appendChild(n);let a=t.getAngle()??it,o=y("text",id(s,se.s_angle),sJ,sJ,e=>{let s=e.target;if(u(s.value)){let e=new(d(r))(s.value);t.setAngle(e)}else alert("Angle input is not a number, resetting..."),s.value=t.getAngle()??it;M(s)},a,se.s_angle);i.appendChild(o);let l=B(se.s_potential,sJ);i.appendChild(l);let g=b("text",id(s,se.s_potential),sJ);i.appendChild(g);let h=t.getPotential()??it;g.addEventListener("change",e=>{let s=e.target;if(u(s.value)){let e=new(d(r))(s.value);t.setPotential(e),console.log("Set "+se.tagName+" to "+e.toExponential())}else alert("Potential input is not a number, resetting..."),g.value=t.getPotential()??it;M(g)}),g.value=h,M(g)}s.setPotentialPoints(f),t.setHinderedRotorPotential(s)}let m=et[e].getElementsByTagName(sa.tagName);if(m.length>0){if(1!=m.length)throw Error("Expecting only 1 Periodicity, but there are "+m.length);let e=O(k(m[0])),s=new sa($(m[0]),new(d(r))(e));t.setPeriodicity(s);let n=y("text",id(i,sa.tagName),sJ,sQ,i=>{let n=i.target;if(u(e=n.value)){let i=new(d(r))(e);s.value=i,t.getPeriodicity().value=i,console.log("Set "+sa.tagName+" to "+i)}else alert("Periodicity input is not a number, resetting..."),n.value=s.value.toExponential()},e,sa.tagName);a.appendChild(n)}o.setExtraDOSCMethod(e,t),g.delete(so.tagName)}g.delete(sd.tagName);let es=a[e].getElementsByTagName(sd.tagName);if(es.length>0){if(1!=es.length)throw Error("Expecting only 1 reservoirSize, but there are "+es.length);let e=O(k(es[0])),t=new(d(r))(e),s=new sd($(es[0]),t);o.setReservoirSize(s);let i=y("number",o.getID()+"_"+sd.tagName,sJ,sQ,e=>{let t=e.target;s.value=new(d(r))(t.value),M(t)},e,sd.tagName);n.appendChild(i)}g.delete("#text"),g.size>0&&(console.warn("There are additional unexpected moleculeTagNames:"),g.forEach(e=>console.warn(e)))}return iG(t),t}(C),ty.tagName,sJ,sZ),V=document.getElementById(im),ir(j=id(tb.tagName)),E(j,V,null,function(e){n=new Map;let t=P(void 0,sJ),s=W(e,tb.tagName),i=new Set;if(s.childNodes.forEach(function(e){i.add(e.nodeName)}),1!=i.size&&!(2==i.size&&i.has("#text")))throw console.error("reactionListTagNames:"),i.forEach(e=>console.error(e)),Error("Additional tag names in reactionList:");if(!i.has(sL.tagName))throw Error('Expecting tags with "'+sL.tagName+'" tagName but there are none!');let a=s.getElementsByTagName(sL.tagName);console.log("Number of reactions="+a.length);for(let e=0;e<a.length;e++){let s=new sL($(a[e]));n.set(s.id,s);let i=new Set,o=a[e].childNodes,l=id(sL.tagName,e),g=P(l);for(let e=0;e<o.length;e++){let t=o[e];i.has(t.nodeName)?"#text"!=t.nodeName&&console.warn("Another ChildNode with nodeName="+t.nodeName):i.add(t.nodeName)}let m=a[e].getElementsByTagName(sN.tagName);if(i.delete(sN.tagName),m.length>0){let e=id(l,sN.tagName),t=P(e);E(id(e,s3),g,null,t,"Reactants",sJ,sQ);let i=[];for(let s=0;s<m.length;s++){let n=id(e,sN.tagName,s),a=new su($(G(m[s],sc.tagName))),o=new sN($(m[s]),a);i.push(o);let d=_(a.getRef()+" role",sN.roleOptions,"Role",a.getRole(),id(n,v),sJ,sQ);d.querySelector("select")?.addEventListener("change",e=>{let t=e.target;a.setRole(t.value),console.log("Set Role to "+t.value),T(t)}),t.appendChild(d)}s.setReactants(i)}let c=a[e].getElementsByTagName(sp.tagName);if(i.delete(sp.tagName),c.length>0){let e=id(l,sp.tagName),t=P(e);E(id(e,s3),g,null,t,"Products",sJ,sQ);let i=[];for(let s=0;s<c.length;s++){let n=new su($(G(c[s],sc.tagName))),a=new sp($(c[s]),n);i.push(a);let o=_(n.getRef()+" role",sp.roleOptions,n.getRole(),n.getRef(),id(e,s,"Role"),sJ,sQ),d=o.querySelector("select");d.value=n.getRole(),d.addEventListener("change",e=>{let t=e.target;n.setRole(t.value),console.log("Set Role to "+t.value),T(t)}),T(d),t.appendChild(o)}s.setProducts(i)}E(id(l,s3),t,null,g,s.id+" ("+s.getLabel()+")",sJ,sQ);let u=a[e].getElementsByTagName(sC.tagName);if(u.length>0){if(u.length>1)throw Error("Expecting 1 "+sC.tagName+" but finding "+u.length+"!");let e=new sC($(u[0]));s.setTunneling(e);let t=_(sC.tagName,sC.options,"Tunneling",e.getName(),id(l,sC.tagName),sJ,sQ);t.querySelector("select")?.addEventListener("change",t=>{let s=t.target;e.setName(s.value),console.log("Set Tunneling to "+s.value),T(s)}),g.appendChild(t)}let N=a[e].getElementsByTagName(sf.tagName);if(N.length>0){let e=id(l,sf.tagName),t=P(e);E(id(e,s3),g,null,t,"Transition States",sJ,sQ);let i=[];for(let e=0;e<N.length;e++){let s=new su($(G(N[e],sc.tagName))),n=new sf($(N[e]),s);i.push(n);let a=B(s.getRef()+" role transitionState",sQ);t.appendChild(a)}s.setTransitionStates(i)}let p=a[e].getElementsByTagName(sy.tagName);if(p.length>0){if(p.length>1)throw Error("Expecting 1 "+sy.tagName+" but finding "+p.length+"!");{let e;let t=$(p[0]),i=t.get("xsi:type");void 0==i&&(i=t.get("name"));let n=id(l,sy.tagName),a=P(n);if(i==sb.xsiType||i==sb.xsiType2){let s=E(id(n,s3),g,null,a,sy.tagName,sJ,sQ);g.appendChild(s),e=new sb(t);let i=p[0].getElementsByTagName(sx.tagName);if(null!=i&&null!=i[0]){let t=F(i[0]),s=new(d(r))(t),o=$(i[0]),l=new sx(o,s);e.setPreExponential(l);let g=y("number",id(n,sx.tagName,s4),sJ,sQ,e=>{i4(l,e.target)},t,sx.tagName);a.appendChild(g);let h=g.querySelector("input");h.value=t,M(h),h.addEventListener("change",e=>{t=e.target.value,l.value=new(d(r))(t),console.log(sx.tagName+" changed to "+t),M(h)}),i3(void 0,o,g,null,id(n,sx.tagName),sx.tagName,sJ,sJ),a.appendChild(g)}let o=p[0].getElementsByTagName(sv.tagName);if(null!=o&&null!=o[0]){let t=F(o[0]),s=new(d(r))(t),i=$(o[0]),l=new sv(i,s);e.setActivationEnergy(l);let g=y("number",id(n,sv.tagName,s4),sJ,sQ,e=>{i4(l,e.target)},t,sv.tagName),h=g.querySelector("input");h.value=t,M(h),h.addEventListener("change",e=>{t=e.target.value,l.value=new(d(r))(t),console.log(sv.tagName+" changed to "+t),M(h)}),i3(void 0,i,g,null,id(n,sv.tagName),sv.tagName,sJ,sJ),a.appendChild(g)}let l=p[0].getElementsByTagName(sE.tagName);if(null!=l&&null!=l[0]){let t=F(l[0]),s=new(d(r))(t),i=$(l[0]),o=new sE(i,s);e.setTInfinity(o);let g=y("number",id(n,sE.tagName,s4),sJ,sQ,e=>{i4(o,e.target)},t,sE.tagName),h=g.querySelector("input");h.value=t,M(h),h.addEventListener("change",e=>{t=e.target.value,o.value=new(d(r))(t),console.log(sE.tagName+" changed to "+t),M(h)}),i3(void 0,i,g,null,id(n,sE.tagName),sE.tagName,sJ,sJ),a.appendChild(g)}let h=p[0].getElementsByTagName(sw.tagName);if(null!=h&&null!=h[0]){let t=F(h[0]),s=new(d(r))(t),i=$(h[0]),o=new sw(i,s);e.setNInfinity(o);let l=y("number",id(n,sw.tagName,s4),sJ,sQ,e=>{i4(o,e.target)},t,sw.tagName);a.appendChild(l);let g=l.querySelector("input");g.value=t,M(g),g.addEventListener("change",e=>{t=e.target.value,o.value=new(d(r))(t),console.log(sw.tagName+" set to "+t),M(g)}),i3(void 0,i,l,null,id(n,sw.tagName),sw.tagName,sJ,sJ),a.appendChild(l)}}else{e=new sy(t);let s=document.createElement("label");s.textContent=sy.tagName+": "+i,Object.assign(s.style,sQ),a.appendChild(s),g.appendChild(a)}s.setMCRCMethod(e)}}let f=a[e].getElementsByTagName(sS.tagName);if(f.length>0){if(f.length>1)throw Error("Expecting 1 "+sS.tagName+" but finding "+f.length+"!");let e=new(d(r))(O(k(f[0]))),t=new sS($(f[0]),e);s.setExcessReactantConc(t);let i=y("number",id(l,sS.tagName),sJ,sQ,e=>{i4(t,e.target)},e.toExponential(),sS.tagName);g.appendChild(i)}let x=a[e].getElementsByTagName(s_.tagName);if(x.length>0){if(x.length>1)throw Error("Expecting 1 "+s_.tagName+" but finding "+x.length+"!");let e=$(x[0]),t=new s_(e);s.setCanonicalRateList(t);let i=id(l,s_.tagName),n=P(i),a=E(id(i,s3),g,null,n,s_.tagName,sJ,sQ);g.appendChild(a);let o=x[0].getElementsByTagName(tR.tagName);if(o.length>0){if(o.length>1)throw Error("Expecting 1 "+tR.tagName+" but finding "+o.length+"!");let s=O(k(o[0]));t.setDescription(new tR($(o[0]),s));let i=B(s+" ("+h(e)+")",sJ),a=P(void 0,sQ);a.appendChild(i),n.appendChild(a)}let m=x[0].getElementsByTagName(sz.tagName);if(m.length>0){let e=D(id(i,sz.tagName,ie),sQ);n.appendChild(e);for(let s=0;s<m.length;s++){let i=new sz($(m[s]));t.addKinf(i);let n=m[s].getElementsByTagName(tz.tagName);if(n.length>0){if(n.length>1)throw Error("Expecting 1 "+tz.tagName+" but finding "+n.length+"!");let e=new(d(r))(O(k(n[0])));i.setT(new tz($(n[0]),e))}let a=m[s].getElementsByTagName(sM.tagName);if(a.length>0){if(a.length>1)throw Error("Expecting 1 "+sM.tagName+" but finding "+a.length+"!");let e=new(d(r))(O(k(a[0])));i.setVal(new sM($(a[0]),e))}let o=m[s].getElementsByTagName(sT.tagName);if(o.length>0){if(o.length>1)throw Error("Expecting 1 "+sT.tagName+" but finding "+o.length+"!");let e=new(d(r))(O(k(o[0])));i.setRev(new sT($(o[0]),e))}let l=m[s].getElementsByTagName(sR.tagName);if(l.length>0){if(l.length>1)throw Error("Expecting 1 "+sR.tagName+" but finding "+l.length+"!");let e=new(d(r))(O(k(l[0])));i.setKeq(new sR($(l[0]),e))}0==s&&A(e,i.getHeader()),A(e,i.toStringArray())}nO(t.toCSV.bind(t),n,e,s.id+"_"+s_.tagName,sQ)}}}return t}(C),tb.tagName,sJ,sZ),X=document.getElementById(ic),Y=id(iL),null!=o&&(o.close(),o=null),ir(Y),E(Y,X,null,K=P(void 0,sQ),iL,sJ,sZ),ed=P(eo=id(Y,x+"s")),K.appendChild(ed),el=L(er="Pop into a new Window",id(eo,x)),ed.appendChild(el),(eg=document.createElement("canvas")).id=iI,K.appendChild(eg),eg.height=400,eg.style.border="1px solid black",nB(eg,t,iB,4,2),el.addEventListener("click",()=>{if(null==o){let e=document.createElement("canvas");e.id=iI,(o=window.open("",iL,"width="+eg.width+", height="+eg.height)).document.body.appendChild(e),nB(e,t,iB,4,2),ir(iI),el.textContent="Pop into this Window"}else(eg=document.createElement("canvas")).id=iI,K.appendChild(eg),nB(eg,t,iB,4,2),o.close(),o=null,el.textContent=er}),nk(eg,ed,null,iL),eh=document.getElementById(iu),ir(em=id(ec.tagName)),E(em,eh,null,function(e){let t;console.log(ec.tagName);let i=P(void 0,sJ),n=e.getElementsByTagName(ec.tagName);for(let e=0;e<n.length;e++){let t=n[e],a=id(ec.tagName,e.toString()),o=P(a,sJ),d=id(a,s3);E(d,i,null,o,ec.tagName+" "+e.toString(),sJ,sQ);let r=i9($(t),e);i6(r,o,t),i8(r,o,t),iQ(o,sQ,s.removeConditions.bind(s),e).addEventListener("click",e=>{ir(d),ib.removeIDs(a)})}return t=L(s2,void 0,sQ),i.appendChild(t),t.addEventListener("click",e=>{let n,a=s.getNextConditionsID();console.log("Add Conditions "+a.toString());let o=id(ec.tagName,a.toString()),d=P(o,sJ),r=id(o,s3);if(a>0){let e=document.getElementById(g(ec.tagName,(a-1).toString(),s3)).nextElementSibling;n=null!=e&&e.parentElement==i?e:t}else n=t;E(r,i,n,d,ec.tagName+" "+a.toString(),sJ,sQ);let l=i9(new Map,a);i6(l,d,null),i8(l,d,null),iQ(d,sQ,s.removeConditions.bind(s),a).addEventListener("click",e=>{ir(r),ib.removeIDs(o)})}),i}(C),"ConditionsList",sJ,sZ),eu=document.getElementById(iN),ir(eN=id(tE.tagName,"list")),E(eN,eu,null,function(e){let t,i;console.log(tE.tagName);let n=P(void 0,sJ),a=e.getElementsByTagName(tE.tagName);for(let e=0;e<a.length;e++){let t=id(tE.tagName,e.toString()),i=P(t,sJ),o=id(t,s3);E(o,n,null,i,tE.tagName+" "+e.toString(),sJ,sQ);let l=nm($(a[e]),e);(function(e,t,s){let i,n,a=tp.tagName,o=I(iC.addID(s.id,a),sQ);s.appendChild(o);let l=a+s0,h=a+s1,m=L(a,iC.addID(s.id,a,x),sJ);m.classList.add(s6),m.classList.add(s8),o.appendChild(m);let c=iC.addID(s.id,a,s4);if(null!=t){let s=t.getElementsByTagName(a);if(1==s.length){n=O(k(s[0]));let t=new(d(r))(n);i=new tp($(s[0]),t),m.textContent=l,nN(e,o,i,c,n,e.setGrainSize,tT.energyUnits),m.classList.toggle(s8)}else i=nc(a),m.textContent=h,m.classList.toggle(s6)}else i=nc(a),m.textContent=h,m.classList.toggle(s6);m.addEventListener("click",()=>{e.index.has(tp.tagName)?(e.removeGrainSize(),document.getElementById(c)?.remove(),document.getElementById(g(c,is))?.remove(),m.textContent=h):(nN(e,o,i,c,n,e.setGrainSize,tT.energyUnits),m.textContent=l),m.classList.toggle(s6),m.classList.toggle(s8)})})(l,a[e],i),nu(l,a[e],i,ta,l.setAutomaticallySetMaxEne,l.removeAutomaticallySetMaxEne.bind(l)),nu(l,a[e],i,tx,l.setEnergyAboveTheTopHill,l.removeEnergyAboveTheTopHill.bind(l)),nu(l,a[e],i,tv,l.setMaxTemperature,l.removeMaxTemperature.bind(l)),iQ(i,sQ,s.removeModelParameters.bind(s),e).addEventListener("click",e=>{ir(o),iC.removeIDs(t)})}return t=L(s2,void 0,sQ),i=tE.tagName,n.appendChild(t),t.addEventListener("click",e=>{let a,o=s.getNextModelParametersID();console.log("Add "+i+o.toString());let d=id(i,o.toString()),r=P(d,sJ),l=id(d,s3);if(o>0){let e=document.getElementById(g(i,(o-1).toString(),s3)).nextElementSibling;a=null!=e&&e.parentElement==n?e:t}else a=t;E(l,n,a,r,i+" "+o.toString(),sJ,sQ);let h=nm(new Map,o);(function(e,t){let s,i=tp.tagName,n=I(iC.addID(t.id,i),sQ);t.appendChild(n);let a=i+s0,o=i+s1,d=L(i,iC.addID(t.id,i,x),sJ);d.classList.add(s6),d.classList.add(s8),n.appendChild(d);let r=iC.addID(t.id,i,s4);d.textContent=o,d.classList.toggle(s6),d.addEventListener("click",()=>{e.index.has(tp.tagName)?(console.log("Removing GrainSize input"),e.removeGrainSize(),document.getElementById(r)?.remove(),document.getElementById(g(r,is))?.remove(),d.textContent=o):(console.log("Adding GrainSize input"),s=nc(i),e.setGrainSize(s),nN(e,n,s,r,s.value.toString(),e.setGrainSize,tT.energyUnits),d.textContent=a),d.classList.toggle(s6),d.classList.toggle(s8)})})(h,r),nu(h,null,r,ta,h.setAutomaticallySetMaxEne,h.removeAutomaticallySetMaxEne),nu(h,null,r,tx,h.setEnergyAboveTheTopHill,h.removeEnergyAboveTheTopHill),nu(h,null,r,tv,h.setMaxTemperature,h.removeMaxTemperature),iQ(r,sQ,s.removeModelParameters.bind(s),o).addEventListener("click",e=>{ir(l),iC.removeIDs(d)})}),n}(C),"ModelParametersList",sJ,sZ),ep=document.getElementById(ip),ir(ef=id(tr.tagName)),E(ef,ep,null,function(e){let t;console.log(tr.tagName);let i=P(void 0,sJ),n=e.getElementsByTagName(tr.tagName);for(let e=0;e<n.length;e++){let t=n[e],a=id(tr.tagName,e.toString()),o=P(a,sJ);i.appendChild(o);let d=id(a,s3);E(d,i,null,o,tr.tagName+" "+e.toString(),sJ,sQ);let r=nx($(t),e),l=new Map;np(r).forEach(e=>{nE(r,o,l,t,null,e.class,e.setMethod,e.removeMethod)});let g=I(void 0,sQ);new Map([...l.entries()].sort()).forEach(e=>{g.appendChild(e)}),o.appendChild(g),ny(r,o,null,sQ),nw(r,o,t,sQ),nf(r).forEach(e=>{nE(r,o,l,t,sQ,e.class,e.setMethod,e.removeMethod,!0)});let m=t.getElementsByTagName(eI.tagName);if(1==m.length){let e=$(m[0]),t=O(k(m[0])),s=new eI(e,t);r.setForceMacroDetailedBalance(s);let i=I(iS.addID(a,eI.tagName),sQ);o.appendChild(i);let n=B(eI.tagName+" "+h(e)+" "+t,sJ);i.appendChild(n)}iQ(o,sQ,s.removeControl.bind(s),e).addEventListener("click",e=>{ir(d),iS.removeIDs(a)})}return t=L(s2,void 0,sQ),i.appendChild(t),t.addEventListener("click",e=>{let n,a=s.getNextControlID();console.log("Add Control "+a.toString());let o=id(tr.tagName,a.toString()),d=P(o,sJ);if(a>0){let e=document.getElementById(g(tr.tagName,(a-1).toString(),s3)).nextElementSibling;n=null!=e&&e.parentElement==i?e:t}else n=t;let r=id(o,s3);E(r,i,n,d,tr.tagName+" "+a.toString(),sJ,sQ);let l=nx(new Map,a),h=new Map;np(l).forEach(e=>{nE(l,d,h,null,null,e.class,e.setMethod,e.removeMethod)});let m=I(void 0,sQ);new Map([...h.entries()].sort()).forEach(e=>{m.appendChild(e)}),d.appendChild(m),ny(l,d,null,sQ),nw(l,d,null,sQ),nf(l).forEach(e=>{nE(l,d,h,null,sQ,e.class,e.setMethod,e.removeMethod,!0)}),iQ(d,sQ,s.removeControl.bind(s),a).addEventListener("click",e=>{ir(r),iS.removeIDs(o)})}),i}(C),"ControlList",sJ,sZ),ex=document.getElementById(ix),ir(ev=id(tN.tagName)),E(ev,ex,null,function(e){console.log(tN.tagName);let t=P(id(tN.tagName,0),sJ),i=e.getElementsByTagName(tN.tagName);if(i.length>0){if(i.length>1)throw Error("More than one MetadataList element.");let e=new tN($(i[0]));function n(s,n,a){let o=i[0].getElementsByTagName(s);if(o.length>0){if(1==o.length){let s=k(o[0])?.nodeValue??"",i=new n($(o[0]),s),d=P(void 0,sQ);t.appendChild(d),d.appendChild(B(i.tagName+" "+s,sJ)),a.call(e,i)}else throw Error(`More than one ${s} element.`)}}s.setMetadataList(e),n(th.tagName,th,e.setSource),n(tm.tagName,tm,e.setCreator),n(tc.tagName,tc,e.setDate),n(tu.tagName,tu,e.setContributor)}return t}(C),tN.tagName,sJ,sZ),eE=document.getElementById(iv),ir(ew=id(ea.tagName)),E(ew,eE,null,function(e){console.log(ea.tagName);let t=id(ea.tagName,0),i=P(t,sJ),n=e.getElementsByTagName(ea.tagName);if(n.length>0){if(n.length>1)throw Error("More than one Analysis element.");let e=new ea($(n[0]));s.setAnalysis(e);let o=n[0].getElementsByTagName(tR.tagName);if(o.length>0){if(1==o.length){let s=k(o[0])?.nodeValue??"",n=new tR($(o[0]),s),a=P(id(t,tR.tagName),sQ);i.appendChild(a),a.appendChild(B(n.tagName+" "+s,sJ)),e.setDescription(n)}else throw Error("More than one Description element.")}let l=n[0].getElementsByTagName(Q.tagName),g=id(t,Q.tagName),c=P(g,sQ);if(E(g,i,null,c,Q.tagName+"s",sJ,sQ),l.length>0)for(let t=0;t<l.length;t++){let s=$(l[t]),i=new Q(s),n=i.tagName+" "+t.toString()+" "+h(s),a=id(c.id,t.toString()),o=P(g,sQ);E(a,c,null,o,n,sJ,sZ),e.addEigenvalueList(i);let u=[],N=l[t].getElementsByTagName(Z.tagName);if(N.length>0)for(let e=0;e<N.length;e++){let t=new(d(r))(k(N[e])?.nodeValue);u.push(t),i.addEigenvalue(new Z($(N[e]),t))}o.appendChild(B(m(u,", "),sJ))}let u=n[0].getElementsByTagName(et.tagName),N=id(t,et.tagName),p=P(N,sQ);if(E(N,i,null,p,et.tagName+"s",sJ,sQ),u.length>0)for(let t=0;t<u.length;t++){let s=$(u[t]);void 0!=s.get("T")&&new(d(r))(s.get("T")),void 0!=s.get("conc")&&new(d(r))(s.get("conc"));let n=new et(s),o=n.tagName+" "+t.toString()+" "+h(s),l=id(i.id,et.tagName,t.toString()),g=id(l,t.toString()),m=P(l,sQ);E(g,p,null,m,o,sJ,sZ),e.addPopulationList(n);let c=new Map,N=[];N.push("time");let f=u[t].getElementsByTagName(ee.tagName);if(f.length>0)for(let e=0;e<f.length;e++){let t=$(f[e]),s=new ee(t,[]);n.addPopulation(s);let i=void 0!=t.get("time")?new(d(r))(t.get("time")):iw,a=new Map;c.set(i,a);let o=f[e].getElementsByTagName(J.tagName);if(o.length>0)for(let t=0;t<o.length;t++){let i=$(o[t]),n=i.get("ref");0==e&&N.push(n);let l=new(d(r))(k(o[t])?.nodeValue),g=new J(i,l);s.addPop(g),a.set(n,l)}}let x=P(id(g,"graph"),sJ);m.appendChild(x);let v=document.createElement("canvas");x.appendChild(v);let w=new nP(v,c,"2em SensSerif");a.push(w),nk(v,m,x,o);let y=P(id(g,ie),sJ);m.appendChild(y);let b=D(id(l,ie),sJ);A(b,N),c.forEach((e,t)=>{let s=[];s.push(t.toString()),e.forEach((e,t)=>{s.push(e.toString())}),A(b,s)}),y.appendChild(b),nO(()=>nI(b),m,y,o,sJ)}let f=n[0].getElementsByTagName(en.tagName),x=id(t,en.tagName),v=P(x,sQ);if(E(x,i,null,v,en.tagName+"s",sJ,sQ),f.length>0){let t=P(id(x,ie),sJ);v.appendChild(t);let s=D(id(N,ie),sJ),i=["T","conc"];for(let t=0;t<f.length;t++){let n=$(f[t]),a=[];a.push(n.get("T")),a.push(n.get("conc"));let o=new en(n);e.addRateList(o);let l=f[t].getElementsByTagName(ei.tagName);if(l.length>0)for(let e=0;e<l.length;e++){let s=$(l[e]);if(0==t){let e=s.get("fromRef"),t=s.get("toRef");i.push(e+"->"+t)}let n=(k(l[e])?.nodeValue??"").trim();a.push(n);let g=new ei(s,new(d(r))(n));o.addFirstOrderRate(g)}let g=f[t].getElementsByTagName(es.tagName);if(g.length>0)for(let e=0;e<g.length;e++){let s=$(g[e]);0==t&&Array.from(s.values()).forEach(e=>{i.push("loss of "+e)});let n=(k(g[e])?.nodeValue??"").trim();a.push(n);let l=new es(s,new(d(r))(n));o.addFirstOrderLoss(l)}0==t&&A(s,i),A(s,a)}t.appendChild(s),nO(()=>nI(s),v,t,"Bartis-Widom Phenomenological Rate Coefficients",sJ)}}return i}(C),ea.tagName,sJ,sZ)}}};let w=l.slice(p,p+1048576);N.readAsText(w),p+=1048576}},c.click()}),l.appendChild(H),(U=L(q="Save MESMER File",io(q),sJ)).addEventListener("click",nA),l.appendChild(U),iD("Replace with a title for the MESMER file you want to create.",new Map);let j=document.getElementById(ih),X=id(ty.tagName);ir(X);let Y=iG(j);E(X,j,null,Y,ty.tagName,sJ,sZ),V=L("Add from library ＋",void 0,sJ),j.appendChild(V),V.addEventListener("click",()=>{let e=g(sc.tagName,"div");ir(e);let t=P(id(e),sQ),s=Array.from(iz(iT));if(0==s.length){alert("There are no additional molecules to add, please load data...");return}console.log("options.length="+s.length),i$(s,!0);let n=g(e,v);ir(n);let a=z(s,"Select molecule",s7,id(n),sJ);a.classList.add(sc.tagName),t.appendChild(a),j.insertBefore(t,Y),n_(s,a),a.addEventListener("change",e=>{let s=e.target,n=i_(s.options[s.selectedIndex].value,iT);i.set(i.size,n);let a=id(sc.tagName,i.size),o=P(a),d=E(id(a,s3),j,Y,o,n.getLabel(),sJ,sQ);ij(eo.tagName,n.getID()),ik(n,d.querySelector(x),o,sQ),o.appendChild(iO(id(a,s5),n.getDescription.bind(n),n.setDescription.bind(n),sJ,sQ));let r=id(a,tN.tagName),l=P(r,sQ);E(id(r,s3),o,null,l,tN.tagName,sJ,sQ);let g=n.getMetadataList();void 0!=g&&g.getMetadata().forEach(e=>{let t=P();l.appendChild(t),t.appendChild(B(e.getLabelText(),sJ))});let h=id(a,tL.tagName),m=P(h);E(id(h,s3),o,null,m,tL.tagName,sJ,sQ);let c=n.getAtoms();void 0!=c&&c.atoms.forEach(e=>{m.appendChild(iq(n,h,n.getAtoms(),e,sJ,sQ))}),m.appendChild(iH(n,m,t_.tagName,sJ,sQ));let u=id(a,tI.tagName),N=P(u);E(id(u,s3),o,null,N,tI.tagName,sJ,sQ),void 0!=n.getBonds()&&n.getBonds().bonds.forEach(e=>{if(void 0==c)throw Error("Atoms are not defined for molecule "+n.getLabel());N.appendChild(iY(n,u,c.atoms,n.getBonds(),e,sJ,sQ))}),N.appendChild(iX(n,N,tP.tagName,sJ,sQ)),i1(n,o,sJ,sQ);let p=id(a,t2.tagName),f=P(p);E(id(p,s3),o,null,f,t2.tagName,sJ,sQ),t.remove()})})});class nP{constructor(e,t,s){this.canvas=e,this.data=t,this.draw(s)}draw(e){this.canvas.width=800,this.canvas.height=400;let t=this.canvas.getContext("2d");t.font=e,t.clearRect(0,0,this.canvas.width,this.canvas.height);let s=this.canvas.width,i=this.canvas.height,n=Number.MAX_VALUE,a=Number.MIN_VALUE,o=0;this.data.forEach((e,s)=>{let i=Math.log10(s.toNumber());n=Math.min(n,i),a=Math.max(a,i),e.forEach((e,s)=>{o=Math.max(o,t.measureText(s).width)})});let d=0;for(let e=0;e<2;e++){let s=1-1*e;d=Math.max(d,t.measureText(s.toString()).width)}let r=t.measureText("0"),l=r.actualBoundingBoxAscent+r.actualBoundingBoxDescent,g=4*l,h=d+l+20,m=i-(h+3*l),c=s-(g+o+20),u=(c-h)/(a-n),N=(g-m)/1;t.beginPath(),t.moveTo(h,m),t.lineTo(c,m),t.stroke(),t.beginPath(),t.moveTo(h,m),t.lineTo(h,g),t.stroke();let p=["red","green","blue","orange","purple","grey","cyan","magenta","lightblue","lightgreen","pink","yellow","brown","black"],f=new Map;this.data.forEach((e,s)=>{let i=0;e.forEach((e,a)=>{let o=h+(Math.log10(s.toNumber())-n)*u,d=e.toNumber();if(d<1){let e=m+(d-0)*N;if(e>0){t.beginPath(),t.arc(o,e,2,0,2*Math.PI);let s=p[i%p.length];f.set(a,s),t.fillStyle=s,t.fill()}}i++})}),t.textAlign="center",t.textBaseline="top",t.fillStyle="black",t.fillText("log10(time/secs)",h+(c-h)/2,m+g/2),t.save(),t.rotate(-Math.PI/2),t.textAlign="center",t.textBaseline="top",t.fillText("fractional population",-m-(g-m)/2,h-h),t.restore();let x=a-n,v=Math.abs(Math.ceil(x/Math.pow(10,Math.floor(Math.log10(x))))),E=Math.ceil(n/v),w=E*v;for(;w<a;){let e=h+(w-n)*u;t.beginPath(),t.moveTo(e,m),t.lineTo(e,m+5),t.stroke(),t.fillText(w.toString(),e,m+5),w+=v}for(let e=0;e<2;e++){let s=m-1*e;t.beginPath(),t.moveTo(h,s),t.lineTo(h-5,s),t.stroke()}let y=0;f.forEach((e,s)=>{let i=t.measureText(s),n=i.actualBoundingBoxAscent+i.actualBoundingBoxDescent;y=Math.max(y,n)});let b=c+20,C=y;E=0,f.forEach((e,s)=>{let i=g+E*C;t.fillStyle=e,t.fillRect(b,i,y/2,y/2),t.fillStyle="black",t.fillText(s,b+l+t.measureText(s).width/2,i-y/2),E++})}}function nI(e){let t="",s=e.rows;for(let e=0;e<s.length;e++){let i=s[e].cells;for(let e=0;e<i.length;e++)t+=i[e].textContent,e<i.length-1&&(t+=",");t+="\n"}return t}function nB(e,t,s,a,o){if(console.log("drawReactionDiagram"),null!=e){var d,r;let g,h,m,c,u,N,x,v,E;t?(g="lightgrey",h="lightblue",m="orange"):(g="darkgrey",h="blue",m="darkorange");let w=e.getContext("2d");w.clearRect(0,0,e.width,e.height),w.font="bold "+s;let y=(d=w.font,w.font=d,(r=w.measureText("Aj")).actualBoundingBoxAscent+r.actualBoundingBoxDescent),b=[],C=new Set,S=new Set,M=new Set,T=new Map,R=new Map,z=0;n.forEach(function(e,t){let s=e.getTransitionStates(),n=e.getReactantsLabel();if(void 0!=n){b.push(n),C.has(n)&&S.add(n);let t=e.getReactantsEnergy(i_,i);c=f(c,t),u=p(u,t),R.set(n,t),!T.has(n)&&(T.set(n,z),z++)}let a=e.getProductsLabel();if(void 0!=a){C.add(a);let t=e.getProductsEnergy(i_,i);if(c=f(c,t),u=p(u,t),R.set(a,t),T.has(a)){z--;let e=l(T,a);T.forEach(function(t,s){t>e&&T.set(s,t-1)}),void 0!=s&&(s.forEach(function(e){let s=e.getMolecule().getRef();M.add(s),T.set(s,z),t=i_(s,i).getEnergy()??iw,c=f(c,t),u=p(u,t),R.set(s,t),z++}),T.set(a,z),z++)}else void 0!=s&&s.forEach(function(e){let s=e.getMolecule().getRef();M.add(s),T.set(s,z),t=i_(s,i).getEnergy()??iw,c=f(c,t),u=p(u,t),R.set(s,t),z++}),T.set(a,z),z++}});let _=u.minus(c).toNumber(),L=[];T.forEach(function(e,t){L[e]=t});let P=0,I=0,B=new Map,D=new Map,A=new Map,G=new Map,k=new Map,O=new Map;L.forEach(function(e){let t=l(R,e),i=(t-c.toNumber())*400/(_+0)+0;E=Math.max(sK(w,t.toString(),s),sK(w,e,s)),x=P+E+5,v=N=i+a,B.set(e,[P,N]),D.set(e,[x,v]),C.has(e)&&(A.set(e,[P,N]),G.set(e,[x,v])),M.has(e)&&(k.set(e,[P,N]),O.set(e,[x,v])),P=x+10,I=x}),e.width=I;let F=400+4*y+2*a;e.height=F,w.transform(1,0,0,-1,0,F),n.forEach(function(e,t){let s=e.getTransitionStates(),i=e.getReactantsLabel(),n=e.getProductsLabel(),a=l(D,i),d=l(A,n);s.length>0?s.forEach(function(e){let t=e.getMolecule().getRef(),s=l(k,t);s$(w,g,o,a[0],a[1],s[0],s[1]);let i=l(O,t);s$(w,g,o,i[0],i[1],d[0],d[1])}):s$(w,g,o,a[0],a[1],d[0],d[1])}),b.forEach(function(e){let t=l(R,e),i=(t-c.toNumber())*400/(_+0)+0,n=l(B,e)[0],o=i+a,d=l(D,e)[0],r=t.toString();sY(w,h,a,n,o,d,o,s,y,e,r)}),C.forEach(function(e){let t=l(R,e),i=(t-c.toNumber())*400/(_+0)+0,n=l(A,e)[0],o=i+a,d=l(G,e)[0],r=t.toString();S.has(e)?sY(w,m,a,n,o,d,o,s,y,e,r):sY(w,"green",a,n,o,d,o,s,y,e,r)}),M.forEach(function(e){let t=l(R,e),i=(t-c.toNumber())*400/(_+0)+0,n=l(k,e)[0],o=i+a;sY(w,"red",a,n,o,l(O,e)[0],o,s,y,e,t.toString())})}}function nD(e,t,s,i=!1){let n=document.createElement("a");n.href=i?e:`data:${t};charset=utf-8,`+encodeURIComponent(e),n.download=s,document.body.appendChild(n),n.click(),document.body.removeChild(n)}function nA(){if(null==s){alert("No Mesmer object to save.");return}{let e=new tT(s.attributes);e.setTitle(s.getTitle()),e.setMoleculeList(new ty(new Map,Array.from(i.values()))),e.setReactionList(new tb(new Map,Array.from(n.values()))),e.setConditionss(s.getConditionss()),e.setModelParameterss(s.getModelParameterss()),e.setControls(s.getControls());let t=s.getMetadataList();void 0!=t&&e.setMetadataList(t);let a=s.getAnalysis();void 0!=a&&e.setAnalysis(a),console.log("saveXML"),nD(tT.header+e.toXML("  ",""),"text/xml",nG(e.getTitle()?.value)+".xml")}}function nG(e){return e.replace(/[^a-z0-9]/gi,"_")}function nk(e,t,i,n){let a=L("Save as PNG",id(t.id,"saveButton"),sJ);null!=i?t.insertBefore(a,i):t.appendChild(a),a.addEventListener("click",()=>{nD(e.toDataURL(),"image/png",nG(s.getTitle()?.value+"_"+n)+".png",!0)})}function nO(e,t,i,n,a){let o=L("Save as CSV",id(t.id,x,s9),a);t.insertBefore(o,i),o.addEventListener("click",()=>{let t=e(),i=nG(s.getTitle()?.value+"_"+n)+".csv";nD(t,"text/csv",i),console.log("Saved "+i)})}
//# sourceMappingURL=index.c60628a8.js.map
